C:/Users/dj/AppData/Local/Temp/zcc00000598F1112.asm:
     1                          MODULE main_c
     2                          LINE 0, "main.c"
main.c:
                                
     1                          ;--------------------------------------------------------
     2                          ; File Created by SDCC : free open source ANSI-C Compiler
     3                          ; Version 4.2.0 #13081 (MINGW64)
     4                          ;--------------------------------------------------------
     5                          ; Processed by Z88DK
     6                          ;--------------------------------------------------------
     7                          
     8                          	EXTERN __divschar
     9                          	EXTERN __divschar_callee
    10                          	EXTERN __divsint
    11                          	EXTERN __divsint_callee
    12                          	EXTERN __divslong
    13                          	EXTERN __divslong_callee
    14                          	EXTERN __divslonglong
    15                          	EXTERN __divslonglong_callee
    16                          	EXTERN __divsuchar
    17                          	EXTERN __divsuchar_callee
    18                          	EXTERN __divuchar
    19                          	EXTERN __divuchar_callee
    20                          	EXTERN __divuint
    21                          	EXTERN __divuint_callee
    22                          	EXTERN __divulong
    23                          	EXTERN __divulong_callee
    24                          	EXTERN __divulonglong
    25                          	EXTERN __divulonglong_callee
    26                          	EXTERN __divuschar
    27                          	EXTERN __divuschar_callee
    28                          	EXTERN __modschar
    29                          	EXTERN __modschar_callee
    30                          	EXTERN __modsint
    31                          	EXTERN __modsint_callee
    32                          	EXTERN __modslong
    33                          	EXTERN __modslong_callee
    34                          	EXTERN __modslonglong
    35                          	EXTERN __modslonglong_callee
    36                          	EXTERN __modsuchar
    37                          	EXTERN __modsuchar_callee
    38                          	EXTERN __moduchar
    39                          	EXTERN __moduchar_callee
    40                          	EXTERN __moduint
    41                          	EXTERN __moduint_callee
    42                          	EXTERN __modulong
    43                          	EXTERN __modulong_callee
    44                          	EXTERN __modulonglong
    45                          	EXTERN __modulonglong_callee
    46                          	EXTERN __moduschar
    47                          	EXTERN __moduschar_callee
    48                          	EXTERN __mulint
    49                          	EXTERN __mulint_callee
    50                          	EXTERN __mullong
    51                          	EXTERN __mullong_callee
    52                          	EXTERN __mullonglong
    53                          	EXTERN __mullonglong_callee
    54                          	EXTERN __mulschar
    55                          	EXTERN __mulschar_callee
    56                          	EXTERN __mulsuchar
    57                          	EXTERN __mulsuchar_callee
    58                          	EXTERN __muluchar
    59                          	EXTERN __muluchar_callee
    60                          	EXTERN __muluschar
    61                          	EXTERN __muluschar_callee
    62                          	EXTERN __rlslonglong
    63                          	EXTERN __rlslonglong_callee
    64                          	EXTERN __rlulonglong
    65                          	EXTERN __rlulonglong_callee
    66                          	EXTERN __rrslonglong
    67                          	EXTERN __rrslonglong_callee
    68                          	EXTERN __rrulonglong
    69                          	EXTERN __rrulonglong_callee
    70                          	EXTERN ___mulsint2slong
    71                          	EXTERN ___mulsint2slong_callee
    72                          	EXTERN ___muluint2ulong
    73                          	EXTERN ___muluint2ulong_callee
    74                          	EXTERN ___sdcc_call_hl
    75                          	EXTERN ___sdcc_call_iy
    76                          	EXTERN ___sdcc_enter_ix
    77                          	EXTERN banked_call
    78                          	EXTERN _banked_ret
    79                          	EXTERN ___fs2schar
    80                          	EXTERN ___fs2schar_callee
    81                          	EXTERN ___fs2sint
    82                          	EXTERN ___fs2sint_callee
    83                          	EXTERN ___fs2slong
    84                          	EXTERN ___fs2slong_callee
    85                          	EXTERN ___fs2slonglong
    86                          	EXTERN ___fs2slonglong_callee
    87                          	EXTERN ___fs2uchar
    88                          	EXTERN ___fs2uchar_callee
    89                          	EXTERN ___fs2uint
    90                          	EXTERN ___fs2uint_callee
    91                          	EXTERN ___fs2ulong
    92                          	EXTERN ___fs2ulong_callee
    93                          	EXTERN ___fs2ulonglong
    94                          	EXTERN ___fs2ulonglong_callee
    95                          	EXTERN ___fsadd
    96                          	EXTERN ___fsadd_callee
    97                          	EXTERN ___fsdiv
    98                          	EXTERN ___fsdiv_callee
    99                          	EXTERN ___fseq
   100                          	EXTERN ___fseq_callee
   101                          	EXTERN ___fsgt
   102                          	EXTERN ___fsgt_callee
   103                          	EXTERN ___fslt
   104                          	EXTERN ___fslt_callee
   105                          	EXTERN ___fsmul
   106                          	EXTERN ___fsmul_callee
   107                          	EXTERN ___fsneq
   108                          	EXTERN ___fsneq_callee
   109                          	EXTERN ___fssub
   110                          	EXTERN ___fssub_callee
   111                          	EXTERN ___schar2fs
   112                          	EXTERN ___schar2fs_callee
   113                          	EXTERN ___sint2fs
   114                          	EXTERN ___sint2fs_callee
   115                          	EXTERN ___slong2fs
   116                          	EXTERN ___slong2fs_callee
   117                          	EXTERN ___slonglong2fs
   118                          	EXTERN ___slonglong2fs_callee
   119                          	EXTERN ___uchar2fs
   120                          	EXTERN ___uchar2fs_callee
   121                          	EXTERN ___uint2fs
   122                          	EXTERN ___uint2fs_callee
   123                          	EXTERN ___ulong2fs
   124                          	EXTERN ___ulong2fs_callee
   125                          	EXTERN ___ulonglong2fs
   126                          	EXTERN ___ulonglong2fs_callee
   127                          	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
   128                          	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
   129                          	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
   130                          	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
   131                          	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
   132                          	EXTERN ____sdcc_4_ldi_nosave_bc
   133                          	EXTERN ____sdcc_4_ldi_save_bc
   134                          	EXTERN ____sdcc_4_push_hlix
   135                          	EXTERN ____sdcc_4_push_mhl
   136                          	EXTERN ____sdcc_lib_setmem_hl
   137                          	EXTERN ____sdcc_ll_add_de_bc_hl
   138                          	EXTERN ____sdcc_ll_add_de_bc_hlix
   139                          	EXTERN ____sdcc_ll_add_de_hlix_bc
   140                          	EXTERN ____sdcc_ll_add_de_hlix_bcix
   141                          	EXTERN ____sdcc_ll_add_deix_bc_hl
   142                          	EXTERN ____sdcc_ll_add_deix_hlix
   143                          	EXTERN ____sdcc_ll_add_hlix_bc_deix
   144                          	EXTERN ____sdcc_ll_add_hlix_deix_bc
   145                          	EXTERN ____sdcc_ll_add_hlix_deix_bcix
   146                          	EXTERN ____sdcc_ll_asr_hlix_a
   147                          	EXTERN ____sdcc_ll_asr_mbc_a
   148                          	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
   149                          	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
   150                          	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
   151                          	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
   152                          	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
   153                          	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
   154                          	EXTERN ____sdcc_ll_copy_src_hl_dst_de
   155                          	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
   156                          	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
   157                          	EXTERN ____sdcc_ll_lsl_hlix_a
   158                          	EXTERN ____sdcc_ll_lsl_mbc_a
   159                          	EXTERN ____sdcc_ll_lsr_hlix_a
   160                          	EXTERN ____sdcc_ll_lsr_mbc_a
   161                          	EXTERN ____sdcc_ll_push_hlix
   162                          	EXTERN ____sdcc_ll_push_mhl
   163                          	EXTERN ____sdcc_ll_sub_de_bc_hl
   164                          	EXTERN ____sdcc_ll_sub_de_bc_hlix
   165                          	EXTERN ____sdcc_ll_sub_de_hlix_bc
   166                          	EXTERN ____sdcc_ll_sub_de_hlix_bcix
   167                          	EXTERN ____sdcc_ll_sub_deix_bc_hl
   168                          	EXTERN ____sdcc_ll_sub_deix_hlix
   169                          	EXTERN ____sdcc_ll_sub_hlix_bc_deix
   170                          	EXTERN ____sdcc_ll_sub_hlix_deix_bc
   171                          	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
   172                          	EXTERN ____sdcc_load_debc_deix
   173                          	EXTERN ____sdcc_load_dehl_deix
   174                          	EXTERN ____sdcc_load_debc_mhl
   175                          	EXTERN ____sdcc_load_hlde_mhl
   176                          	EXTERN ____sdcc_store_dehl_bcix
   177                          	EXTERN ____sdcc_store_debc_hlix
   178                          	EXTERN ____sdcc_store_debc_mhl
   179                          	EXTERN ____sdcc_cpu_pop_ei
   180                          	EXTERN ____sdcc_cpu_pop_ei_jp
   181                          	EXTERN ____sdcc_cpu_push_di
   182                          	EXTERN ____sdcc_outi
   183                          	EXTERN ____sdcc_outi_128
   184                          	EXTERN ____sdcc_outi_256
   185                          	EXTERN ____sdcc_ldi
   186                          	EXTERN ____sdcc_ldi_128
   187                          	EXTERN ____sdcc_ldi_256
   188                          	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
   189                          	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
   190                          	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
   191                          	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
   192                          	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
   193                          	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
   194                          	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
   195                          	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
   196                          	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
   197                          	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
   198                          	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
   199                          	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
   200                          	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
   201                          	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
   202                          	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
   203                          	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
   204                          	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
   205                          
   206                          ;--------------------------------------------------------
   207                          ; Public variables in this module
   208                          ;--------------------------------------------------------
   209                          	GLOBAL _main
   210                          	GLOBAL _waitVdpISR
   211                          	GLOBAL _isrKeyboard
   212                          	GLOBAL _vdpIsReady
   213                          	GLOBAL _vdpStatusRegVal
   214                          	GLOBAL __vdpInterruptEnabled
   215                          	GLOBAL __vdpColorTableSize
   216                          	GLOBAL __vdpReg1Val
   217                          	GLOBAL _vdp_cursor
   218                          	GLOBAL _RETRONET_BRIDGE_EXIT_CODE
   219                          	GLOBAL __ORIGINAL_INT_MASK
   220                          	GLOBAL __joyStatus
   221                          	GLOBAL __lastKeyboardIntVal
   222                          	GLOBAL __kbdBufferWritePos
   223                          	GLOBAL __kbdBufferReadPos
   224                          	GLOBAL __randomSeed
   225                          	GLOBAL __autoScroll
   226                          	GLOBAL __vdpMode
   227                          	GLOBAL __vdpCursorMaxX
   228                          	GLOBAL __vdpPatternGeneratorTableAddr
   229                          	GLOBAL __vdpColorTableAddr
   230                          	GLOBAL __vdpPatternNameTableAddr
   231                          	GLOBAL __vdpSpriteSizeSelected
   232                          	GLOBAL __vdpSpriteGeneratorTableAddr
   233                          	GLOBAL __vdpSpriteAttributeTableAddr
   234                          	GLOBAL __vdp_ISR
   235                          	GLOBAL __vdp_textBuffer
   236                          	GLOBAL __kbdBuffer
   237                          	GLOBAL _ASCII
   238                          	GLOBAL __NOTES_FINE
   239                          	GLOBAL __NOTES_COURSE
   240                          	GLOBAL __vdpCursorMaxY
   241                          	GLOBAL _initNABULib
   242                          	GLOBAL _initNABULIBAudio
   243                          	GLOBAL _nop
   244                          	GLOBAL _NABU_DisableInterrupts
   245                          	GLOBAL _NABU_EnableInterrupts
   246                          	GLOBAL _ayWrite
   247                          	GLOBAL _ayRead
   248                          	GLOBAL _playNoteDelay
   249                          	GLOBAL _isKeyPressed
   250                          	GLOBAL _getChar
   251                          	GLOBAL _getJoyStatus
   252                          	GLOBAL _readLine
   253                          	GLOBAL _vdp_setRegister
   254                          	GLOBAL _vdp_setWriteAddress
   255                          	GLOBAL _vdp_setReadAddress
   256                          	GLOBAL _vdp_enableVDPReadyInt
   257                          	GLOBAL _vdp_waitVDPReadyInt
   258                          	GLOBAL _vdp_disableVDPReadyInt
   259                          	GLOBAL _vdp_addISR
   260                          	GLOBAL _vdp_removeISR
   261                          	GLOBAL _vdp_init
   262                          	GLOBAL _vdp_clearVRAM
   263                          	GLOBAL _vdp_initMSXMode
   264                          	GLOBAL _vdp_initTextMode
   265                          	GLOBAL _vdp_initG2Mode
   266                          	GLOBAL _vdp_initMultiColorMode
   267                          	GLOBAL _vdp_clearScreen
   268                          	GLOBAL _vdp_fillScreen
   269                          	GLOBAL _vdp_clearRows
   270                          	GLOBAL _vdp_loadASCIIFont
   271                          	GLOBAL _vdp_putPattern
   272                          	GLOBAL _vdp_loadPatternTable
   273                          	GLOBAL _vdp_loadColorTable
   274                          	GLOBAL _vdp_colorizePattern
   275                          	GLOBAL _vdp_plotHires
   276                          	GLOBAL _vdp_plotColor
   277                          	GLOBAL _vdp_disableSprite
   278                          	GLOBAL _vdp_loadSpritePatternNameTable
   279                          	GLOBAL _vdp_spriteInit
   280                          	GLOBAL _vdp_setSpriteColor
   281                          	GLOBAL _vdp_setSpritePosition
   282                          	GLOBAL _vdp_setSpritePositionAndColor
   283                          	GLOBAL _vdp_getSpritePosition
   284                          	GLOBAL _vdp_print
   285                          	GLOBAL _vdp_printColorized
   286                          	GLOBAL _vdp_printPart
   287                          	GLOBAL _vdp_newLine
   288                          	GLOBAL _vdp_setBackDropColor
   289                          	GLOBAL _vdp_setCursor2
   290                          	GLOBAL _vdp_setCursor
   291                          	GLOBAL _vdp_setTextColor
   292                          	GLOBAL _vdp_write
   293                          	GLOBAL _vdp_writeCharAtLocation
   294                          	GLOBAL _vdp_getCharAtLocationVRAM
   295                          	GLOBAL _vdp_getCharAtLocationBuf
   296                          	GLOBAL _vdp_setCharAtLocationBuf
   297                          	GLOBAL _vdp_scrollTextUp
   298                          	GLOBAL _vdp_writeUInt32
   299                          	GLOBAL _vdp_writeInt32
   300                          	GLOBAL _vdp_writeUInt16
   301                          	GLOBAL _vdp_writeInt16
   302                          	GLOBAL _vdp_writeUInt8
   303                          	GLOBAL _vdp_writeInt8
   304                          	GLOBAL _vdp_writeUInt8ToBinary
   305                          	GLOBAL _vdp_writeUInt16ToBinary
   306                          ;--------------------------------------------------------
   307                          ; Externals used
   308                          ;--------------------------------------------------------
   309                          	GLOBAL _z80_otdr_callee
   310                          	GLOBAL _z80_otdr
   311                          	GLOBAL _z80_otir_callee
   312                          	GLOBAL _z80_otir
   313                          	GLOBAL _z80_outp_callee
   314                          	GLOBAL _z80_outp
   315                          	GLOBAL _z80_indr_callee
   316                          	GLOBAL _z80_indr
   317                          	GLOBAL _z80_inir_callee
   318                          	GLOBAL _z80_inir
   319                          	GLOBAL _z80_inp
   320                          	GLOBAL _z80_set_int_state
   321                          	GLOBAL _z80_get_int_state
   322                          	GLOBAL _z80_delay_tstate
   323                          	GLOBAL _z80_delay_ms
   324                          	GLOBAL _AsmCall
   325                          	GLOBAL _unbcd
   326                          	GLOBAL _wcmatch
   327                          	GLOBAL _extract_bits_callee
   328                          	GLOBAL _extract_bits
   329                          	GLOBAL _msleep
   330                          	GLOBAL _sleep
   331                          	GLOBAL _t_delay
   332                          	GLOBAL _wpeek
   333                          	GLOBAL _bpeek
   334                          	GLOBAL _wpoke_callee
   335                          	GLOBAL _wpoke
   336                          	GLOBAL _bpoke_callee
   337                          	GLOBAL _bpoke
   338                          	GLOBAL _swapendian
   339                          	GLOBAL _outp_callee
   340                          	GLOBAL _outp
   341                          	GLOBAL _inp
   342                          	GLOBAL _isqrt
   343                          	GLOBAL _labs
   344                          	GLOBAL _abs
   345                          	GLOBAL __ldivu__callee
   346                          	GLOBAL __ldivu_
   347                          	GLOBAL __ldiv__callee
   348                          	GLOBAL __ldiv_
   349                          	GLOBAL __divu__callee
   350                          	GLOBAL __divu_
   351                          	GLOBAL __div__callee
   352                          	GLOBAL __div_
   353                          	GLOBAL _qsort_sdcc_callee
   354                          	GLOBAL _qsort_sdcc
   355                          	GLOBAL _qsort_sccz80_callee
   356                          	GLOBAL _qsort_sccz80
   357                          	GLOBAL _l_qsort_callee
   358                          	GLOBAL _l_qsort
   359                          	GLOBAL _l_bsearch_callee
   360                          	GLOBAL _l_bsearch
   361                          	GLOBAL _getopt
   362                          	GLOBAL _unsetenv
   363                          	GLOBAL _setenv
   364                          	GLOBAL _getenv_r
   365                          	GLOBAL _getenv
   366                          	GLOBAL _atexit
   367                          	GLOBAL _exit
   368                          	GLOBAL _HeapInfo_callee
   369                          	GLOBAL _HeapInfo
   370                          	GLOBAL _HeapRealloc_callee
   371                          	GLOBAL _HeapRealloc
   372                          	GLOBAL _HeapAlloc_callee
   373                          	GLOBAL _HeapAlloc
   374                          	GLOBAL _HeapFree_callee
   375                          	GLOBAL _HeapFree
   376                          	GLOBAL _HeapCalloc_callee
   377                          	GLOBAL _HeapCalloc
   378                          	GLOBAL _HeapSbrk_callee
   379                          	GLOBAL _HeapSbrk
   380                          	GLOBAL _HeapCreate
   381                          	GLOBAL _mallinfo_callee
   382                          	GLOBAL _mallinfo
   383                          	GLOBAL _realloc_callee
   384                          	GLOBAL _realloc
   385                          	GLOBAL _malloc
   386                          	GLOBAL _free
   387                          	GLOBAL _calloc_callee
   388                          	GLOBAL _calloc
   389                          	GLOBAL _sbrk_callee
   390                          	GLOBAL _sbrk
   391                          	GLOBAL _mallinit
   392                          	GLOBAL _srand
   393                          	GLOBAL _rand
   394                          	GLOBAL _ulltoa_callee
   395                          	GLOBAL _ulltoa
   396                          	GLOBAL _strtoull_callee
   397                          	GLOBAL _strtoull
   398                          	GLOBAL _strtoll_callee
   399                          	GLOBAL _strtoll
   400                          	GLOBAL _lltoa_callee
   401                          	GLOBAL _lltoa
   402                          	GLOBAL _atoll_callee
   403                          	GLOBAL _atoll
   404                          	GLOBAL _utoa_callee
   405                          	GLOBAL _utoa
   406                          	GLOBAL _ultoa_callee
   407                          	GLOBAL _ultoa
   408                          	GLOBAL _strtoul_callee
   409                          	GLOBAL _strtoul
   410                          	GLOBAL _strtol_callee
   411                          	GLOBAL _strtol
   412                          	GLOBAL _ltoa_callee
   413                          	GLOBAL _ltoa
   414                          	GLOBAL _itoa_callee
   415                          	GLOBAL _itoa
   416                          	GLOBAL _atol
   417                          	GLOBAL _atoi
   418                          	GLOBAL _optreset
   419                          	GLOBAL _optopt
   420                          	GLOBAL _optind
   421                          	GLOBAL _opterr
   422                          	GLOBAL _optarg
   423                          ;--------------------------------------------------------
   424                          ; special function registers
   425                          ;--------------------------------------------------------
   426                          defc _IO_VDPDATA	=	0x00a0
   427                          defc _IO_VDPLATCH	=	0x00a1
   428                          defc _IO_AYDATA	=	0x0040
   429                          defc _IO_AYLATCH	=	0x0041
   430                          defc _IO_HCCA	=	0x0080
   431                          defc _IO_KEYBOARD	=	0x0090
   432                          defc _IO_KEYBOARD_STATUS	=	0x0091
   433                          defc _IO_CONTROL	=	0x0000
   434                          ;--------------------------------------------------------
   435                          ; ram data
   436                          ;--------------------------------------------------------
   437                          	SECTION bss_compiler
   438                          __kbdBuffer:
   439  0000  0000000000000000  	DEFS 256
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   440                          __vdp_textBuffer:
   441  0100  0000000000000000  	DEFS 960
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   442                          __vdp_ISR:
   443  04c0  0000              	DEFS 2
   444                          __vdpSpriteAttributeTableAddr:
   445  04c2  0000              	DEFS 2
   446                          __vdpSpriteGeneratorTableAddr:
   447  04c4  0000              	DEFS 2
   448                          __vdpSpriteSizeSelected:
   449  04c6  00                	DEFS 1
   450                          __vdpPatternNameTableAddr:
   451  04c7  0000              	DEFS 2
   452                          __vdpColorTableAddr:
   453  04c9  0000              	DEFS 2
   454                          __vdpPatternGeneratorTableAddr:
   455  04cb  0000              	DEFS 2
   456                          __vdpCursorMaxX:
   457  04cd  00                	DEFS 1
   458                          __vdpMode:
   459  04ce  00                	DEFS 1
   460                          __autoScroll:
   461  04cf  00                	DEFS 1
   462                          ;--------------------------------------------------------
   463                          ; ram data
   464                          ;--------------------------------------------------------
   465                          
   466                          IF 0
   467                          
   468                          ; .area _INITIALIZED removed by z88dk
   469                          
   470                          __randomSeed:
   471                          	DEFS 1
   472                          __kbdBufferReadPos:
   473                          	DEFS 1
   474                          __kbdBufferWritePos:
   475                          	DEFS 1
   476                          __lastKeyboardIntVal:
   477                          	DEFS 1
   478                          __joyStatus:
   479                          	DEFS 4
   480                          __ORIGINAL_INT_MASK:
   481                          	DEFS 1
   482                          _RETRONET_BRIDGE_EXIT_CODE:
   483                          	DEFS 21
   484                          _vdp_cursor:
   485                          	DEFS 2
   486                          __vdpReg1Val:
   487                          	DEFS 1
   488                          __vdpColorTableSize:
   489                          	DEFS 2
   490                          __vdpInterruptEnabled:
   491                          	DEFS 1
   492                          _vdpStatusRegVal:
   493                          	DEFS 1
   494                          _vdpIsReady:
   495                          	DEFS 1
   496                          
   497                          ENDIF
   498                          
   499                          ;--------------------------------------------------------
   500                          ; absolute external ram data
   501                          ;--------------------------------------------------------
   502                          	SECTION IGNORE
   503                          ;--------------------------------------------------------
   504                          ; global & static initialisations
   505                          ;--------------------------------------------------------
   506                          	SECTION code_crt_init
   507                          ;--------------------------------------------------------
   508                          ; Home
   509                          ;--------------------------------------------------------
   510                          	SECTION IGNORE
   511                          ;--------------------------------------------------------
   512                          ; code
   513                          ;--------------------------------------------------------
   514                          	SECTION code_compiler
   515                          ;	---------------------------------
   516                          ; Function initNABULib
   517                          ; ---------------------------------
   518                          _initNABULib:
   519  0000  3e00              	ld	a,0x03
   520  0002  d300              	out	(_IO_CONTROL), a
   521  0004  cd0000            	call	_NABU_DisableInterrupts
   522  0007  f5                	push	af
   523  0008  ed5f              	ld	a, r
   524  000a  320000            	ld	(__randomSeed), a
   525  000d  f1                	pop	af
   526  000e  3a0000            	ld	a, (__randomSeed+0)
   527  0011  6f                	ld	l, a
   528  0012  2600              	ld	h,0x00
   529  0014  cd0000            	call	_srand
   530  0017  ed5e              	IM	2
   531  0019  3e00              	ld	a, 0xff
   532  001b  ed47              	ld	i, a
   533  001d  210000            	ld	hl, _isrKeyboard
   534  0020  220000            	ld	(0xff00 + 4), hl
   535  0023  210000            	ld	hl,__ORIGINAL_INT_MASK + 0
   536  0026  3600              	ld	(hl),0x20
   537  0028  110000            	ld	de,0x200e
   538  002b  d5                	push	de
   539  002c  cd0000            	call	_ayWrite
   540  002f  f1                	pop	af
   541  0030  cd0000            	call	_NABU_EnableInterrupts
   542  0033  c30000            	jp	_initNABULIBAudio
   543                          	SECTION rodata_compiler
   544                          __vdpCursorMaxY:
   545  0000  00                	DEFB +0x17
   546                          __NOTES_COURSE:
   547  0001  00                	DEFB +0x0d
   548  0002  00                	DEFB +0x0c
   549  0003  00                	DEFB +0x0b
   550  0004  00                	DEFB +0x0b
   551  0005  00                	DEFB +0x0a
   552  0006  00                	DEFB +0x0a
   553  0007  00                	DEFB +0x09
   554  0008  00                	DEFB +0x08
   555  0009  00                	DEFB +0x08
   556  000a  00                	DEFB +0x07
   557  000b  00                	DEFB +0x07
   558  000c  00                	DEFB +0x07
   559  000d  00                	DEFB +0x06
   560  000e  00                	DEFB +0x06
   561  000f  00                	DEFB +0x05
   562  0010  00                	DEFB +0x05
   563  0011  00                	DEFB +0x05
   564  0012  00                	DEFB +0x05
   565  0013  00                	DEFB +0x04
   566  0014  00                	DEFB +0x04
   567  0015  00                	DEFB +0x04
   568  0016  00                	DEFB +0x03
   569  0017  00                	DEFB +0x03
   570  0018  00                	DEFB +0x03
   571  0019  00                	DEFB +0x03
   572  001a  00                	DEFB +0x03
   573  001b  00                	DEFB +0x02
   574  001c  00                	DEFB +0x02
   575  001d  00                	DEFB +0x02
   576  001e  00                	DEFB +0x02
   577  001f  00                	DEFB +0x02
   578  0020  00                	DEFB +0x02
   579  0021  00                	DEFB +0x02
   580  0022  00                	DEFB +0x01
   581  0023  00                	DEFB +0x01
   582  0024  00                	DEFB +0x01
   583  0025  00                	DEFB +0x01
   584  0026  01                	DEFB +0x01
   585  0027  01                	DEFB +0x01
   586  0028  01                	DEFB +0x01
   587  0029  01                	DEFB +0x01
   588  002a  01                	DEFB +0x01
   589  002b  01                	DEFB +0x01
   590  002c  01                	DEFB +0x01
   591  002d  01                	DEFB +0x01
   592  002e  00                	DEFB +0x00
   593  002f  00                	DEFB +0x00
   594  0030  00                	DEFB +0x00
   595  0031  00                	DEFB +0x00
   596  0032  00                	DEFB +0x00
   597  0033  00                	DEFB +0x00
   598  0034  00                	DEFB +0x00
   599  0035  00                	DEFB +0x00
   600  0036  00                	DEFB +0x00
   601  0037  00                	DEFB +0x00
   602  0038  00                	DEFB +0x00
   603  0039  00                	DEFB +0x00
   604  003a  00                	DEFB +0x00
   605  003b  00                	DEFB +0x00
   606  003c  00                	DEFB +0x00
   607  003d  00                	DEFB +0x00
   608  003e  00                	DEFB +0x00
   609  003f  00                	DEFB +0x00
   610  0040  00                	DEFB +0x00
   611  0041  00                	DEFB +0x00
   612  0042  00                	DEFB +0x00
   613  0043  00                	DEFB +0x00
   614  0044  00                	DEFB +0x00
   615  0045  00                	DEFB +0x00
   616  0046  00                	DEFB +0x00
   617  0047  00                	DEFB +0x00
   618  0048  00                	DEFB +0x00
   619                          __NOTES_FINE:
   620  0049  00                	DEFB +0x5c
   621  004a  00                	DEFB +0x9c
   622  004b  00                	DEFB +0xe7
   623  004c  00                	DEFB +0x3c
   624  004d  00                	DEFB +0x9b
   625  004e  00                	DEFB +0x02
   626  004f  00                	DEFB +0x72
   627  0050  00                	DEFB +0xeb
   628  0051  00                	DEFB +0x6a
   629  0052  00                	DEFB +0xf2
   630  0053  00                	DEFB +0x7f
   631  0054  00                	DEFB +0x14
   632  0055  00                	DEFB +0xae
   633  0056  00                	DEFB +0x4e
   634  0057  00                	DEFB +0xf3
   635  0058  00                	DEFB +0x9e
   636  0059  00                	DEFB +0x4d
   637  005a  00                	DEFB +0x01
   638  005b  00                	DEFB +0xb9
   639  005c  00                	DEFB +0x75
   640  005d  00                	DEFB +0x35
   641  005e  00                	DEFB +0xf9
   642  005f  00                	DEFB +0xbf
   643  0060  00                	DEFB +0x8a
   644  0061  00                	DEFB +0x57
   645  0062  00                	DEFB +0x27
   646  0063  00                	DEFB +0xf9
   647  0064  00                	DEFB +0xcf
   648  0065  00                	DEFB +0xa6
   649  0066  00                	DEFB +0x80
   650  0067  00                	DEFB +0x5c
   651  0068  00                	DEFB +0x3a
   652  0069  00                	DEFB +0x1a
   653  006a  00                	DEFB +0xfc
   654  006b  00                	DEFB +0xdf
   655  006c  00                	DEFB +0xc5
   656  006d  00                	DEFB +0xab
   657  006e  00                	DEFB +0x93
   658  006f  00                	DEFB +0x7c
   659  0070  00                	DEFB +0x67
   660  0071  00                	DEFB +0x53
   661  0072  00                	DEFB +0x40
   662  0073  00                	DEFB +0x2e
   663  0074  00                	DEFB +0x1d
   664  0075  00                	DEFB +0x0d
   665  0076  00                	DEFB +0xfe
   666  0077  00                	DEFB +0xef
   667  0078  00                	DEFB +0xe2
   668  0079  00                	DEFB +0xd5
   669  007a  00                	DEFB +0xc9
   670  007b  00                	DEFB +0xbe
   671  007c  00                	DEFB +0xb3
   672  007d  00                	DEFB +0xa9
   673  007e  00                	DEFB +0xa0
   674  007f  00                	DEFB +0x97
   675  0080  00                	DEFB +0x8e
   676  0081  00                	DEFB +0x86
   677  0082  00                	DEFB +0x7f
   678  0083  00                	DEFB +0x77
   679  0084  00                	DEFB +0x71
   680  0085  00                	DEFB +0x6a
   681  0086  00                	DEFB +0x64
   682  0087  00                	DEFB +0x5f
   683  0088  00                	DEFB +0x59
   684  0089  00                	DEFB +0x54
   685  008a  00                	DEFB +0x50
   686  008b  00                	DEFB +0x4b
   687  008c  00                	DEFB +0x47
   688  008d  00                	DEFB +0x43
   689  008e  00                	DEFB +0x3f
   690  008f  00                	DEFB +0x3b
   691  0090  00                	DEFB +0x38
   692                          	SECTION code_compiler
   693                          ;	---------------------------------
   694                          ; Function initNABULIBAudio
   695                          ; ---------------------------------
   696                          _initNABULIBAudio:
   697  0036  00                	xor	a, a
   698  0037  00                	ld	d,a
   699  0038  0006              	ld	e,0x06
   700  003a  00                	push	de
   701  003b  00f300            	call	_ayWrite
   702  003e  00                	pop	af
   703  003f  000810            	ld	de,0x1008
   704  0042  00                	push	de
   705  0043  00f300            	call	_ayWrite
   706  0046  00                	pop	af
   707  0047  000910            	ld	de,0x1009
   708  004a  9c                	push	de
   709  004b  e7f300            	call	_ayWrite
   710  004e  02                	pop	af
   711  004f  720a10            	ld	de,0x100a
   712  0052  f2                	push	de
   713  0053  7ff300            	call	_ayWrite
   714  0056  4e                	pop	af
   715  0057  f30778            	ld	de,0x7807
   716  005a  01                	push	de
   717  005b  b9f300            	call	_ayWrite
   718  005e  f9                	pop	af
   719  005f  bf                	ret
   720                          	SECTION code_compiler
   721                          ;	---------------------------------
   722                          ; Function nop
   723                          ; ---------------------------------
   724                          _nop:
   725  0060  8a                	NOP
   726  0061  57                	ret
   727                          	SECTION code_compiler
   728                          ;	---------------------------------
   729                          ; Function NABU_DisableInterrupts
   730                          ; ---------------------------------
   731                          _NABU_DisableInterrupts:
   732  0062  27                	di
   733  0063  f9                	ret
   734                          	SECTION code_compiler
   735                          ;	---------------------------------
   736                          ; Function NABU_EnableInterrupts
   737                          ; ---------------------------------
   738                          _NABU_EnableInterrupts:
   739  0064  cf                	ei
   740  0065  a6                	ret
   741                          	SECTION code_compiler
   742                          ;	---------------------------------
   743                          ; Function isrKeyboard
   744                          ; ---------------------------------
   745                          _isrKeyboard:
   746  0066  80                	push	af
   747  0067  5c                	push	bc
   748  0068  3a                	push	de
   749  0069  1a                	push	hl
   750  006a  fcdf              	push	iy
   751  006c  c590              	in	a, (_IO_KEYBOARD)
   752  006e  93                	ld	c,a
   753  006f  7c80              	sub	a,0x80
   754  0071  530e              	jr	C,l_isrKeyboard_00111
   755  0073  2e83              	ld	a,0x83
   756  0075  0d                	sub	a, c
   757  0076  fe09              	jr	C,l_isrKeyboard_00111
   758  0078  e2d50300          	ld	iy,__lastKeyboardIntVal
   759  007c  b3a900            	ld	(iy+0),c
   760  007f  9769              	jr	l_isrKeyboard_00112
   761                          l_isrKeyboard_00111:
   762  0081  86                	ld	a, c
   763  0082  7f90              	sub	a,0x90
   764  0084  7105              	jr	C,l_isrKeyboard_00107
   765  0086  6495              	ld	a,0x95
   766  0088  59                	sub	a, c
   767  0089  545f              	jr	NC,l_isrKeyboard_00112
   768                          l_isrKeyboard_00107:
   769  008b  4b0300            	ld	a, (__lastKeyboardIntVal+0)
   770  008e  3f80              	cp	a,0x80
   771  0090  3800              	jr	Z,l_isrKeyboard_00101
   772  0092  fe00              	cp	a,0x81
   773  0094  2800              	jr	Z,l_isrKeyboard_00102
   774  0096  fe00              	cp	a,0x82
   775  0098  2800              	jr	Z,l_isrKeyboard_00103
   776  009a  d600              	sub	a,0x83
   777  009c  2800              	jr	Z,l_isrKeyboard_00104
   778  009e  1800              	jr	l_isrKeyboard_00105
   779                          l_isrKeyboard_00101:
   780  00a0  fd210000          	ld	iy,__lastKeyboardIntVal
   781  00a4  fd360000          	ld	(iy+0),0x00
   782  00a8  210000            	ld	hl,__joyStatus
   783  00ab  71                	ld	(hl), c
   784  00ac  1800              	jr	l_isrKeyboard_00112
   785                          l_isrKeyboard_00102:
   786  00ae  fd210000          	ld	iy,__lastKeyboardIntVal
   787  00b2  fd360000          	ld	(iy+0),0x00
   788  00b6  210000            	ld	hl, +(__joyStatus + 1)
   789  00b9  71                	ld	(hl), c
   790  00ba  1800              	jr	l_isrKeyboard_00112
   791                          l_isrKeyboard_00103:
   792  00bc  fd210000          	ld	iy,__lastKeyboardIntVal
   793  00c0  fd360000          	ld	(iy+0),0x00
   794  00c4  210000            	ld	hl, +(__joyStatus + 2)
   795  00c7  71                	ld	(hl), c
   796  00c8  1800              	jr	l_isrKeyboard_00112
   797                          l_isrKeyboard_00104:
   798  00ca  fd210000          	ld	iy,__lastKeyboardIntVal
   799  00ce  fd360000          	ld	(iy+0),0x00
   800  00d2  210000            	ld	hl, +(__joyStatus + 3)
   801  00d5  71                	ld	(hl), c
   802  00d6  1800              	jr	l_isrKeyboard_00112
   803                          l_isrKeyboard_00105:
   804  00d8  210000            	ld	hl,__kbdBuffer+0
   805  00db  ed5b0000          	ld	de, (__kbdBufferWritePos)
   806  00df  1600              	ld	d,0x00
   807  00e1  19                	add	hl, de
   808  00e2  71                	ld	(hl), c
   809  00e3  3a0000            	ld	a, (__kbdBufferWritePos+0)
   810  00e6  3c                	inc	a
   811  00e7  320000            	ld	(__kbdBufferWritePos+0), a
   812                          l_isrKeyboard_00112:
   813  00ea  fde1              	pop	iy
   814  00ec  e1                	pop	hl
   815  00ed  d1                	pop	de
   816  00ee  c1                	pop	bc
   817  00ef  f1                	pop	af
   818  00f0  fb                	ei
   819  00f1  ed4d              	reti
   820                          ;	---------------------------------
   821                          ; Function ayWrite
   822                          ; ---------------------------------
   823                          _ayWrite:
   824  00f3  fd210000          	ld	iy,2
   825  00f7  fd39              	add	iy, sp
   826  00f9  fd7e00            	ld	a,(iy+0)
   827  00fc  d300              	out	(_IO_AYLATCH), a
   828  00fe  fd7e00            	ld	a,(iy+0+1)
   829  0101  d300              	out	(_IO_AYDATA), a
   830  0103  c9                	ret
   831                          	SECTION code_compiler
   832                          ;	---------------------------------
   833                          ; Function ayRead
   834                          ; ---------------------------------
   835                          _ayRead:
   836  0104  210000            	ld	hl,2+0
   837  0107  39                	add	hl, sp
   838  0108  7e                	ld	a, (hl)
   839  0109  d300              	out	(_IO_AYLATCH), a
   840  010b  db00              	in	a, (_IO_AYDATA)
   841  010d  6f                	ld	l, a
   842  010e  c9                	ret
   843                          	SECTION code_compiler
   844                          ;	---------------------------------
   845                          ; Function playNoteDelay
   846                          ; ---------------------------------
   847                          _playNoteDelay:
   848  010f  dde5              	push	ix
   849  0111  dd210000          	ld	ix,0
   850  0115  dd39              	add	ix,sp
   851  0117  dd4e00            	ld	c,(ix+7)
   852  011a  3e00              	ld	a,0x0b
   853  011c  d300              	out	(_IO_AYLATCH), a
   854  011e  79                	ld	a, c
   855  011f  d300              	out	(_IO_AYDATA), a
   856  0121  dd4e00            	ld	c,(ix+6)
   857  0124  3e00              	ld	a,0x0c
   858  0126  d300              	out	(_IO_AYLATCH), a
   859  0128  79                	ld	a, c
   860  0129  d300              	out	(_IO_AYDATA), a
   861  012b  dd7e00            	ld	a,(ix+4)
   862  012e  b7                	or	a, a
   863  012f  2800              	jr	Z,l_playNoteDelay_00101
   864  0131  dd7e00            	ld	a,(ix+4)
   865  0134  3d                	dec	a
   866  0135  2800              	jr	Z,l_playNoteDelay_00102
   867  0137  dd7e00            	ld	a,(ix+4)
   868  013a  d600              	sub	a,0x02
   869  013c  ca0000            	jp	Z,l_playNoteDelay_00103
   870  013f  c30000            	jp	l_playNoteDelay_00125
   871                          l_playNoteDelay_00101:
   872  0142  3e00              	ld	a,0x08
   873  0144  d300              	out	(_IO_AYLATCH), a
   874  0146  3e00              	ld	a,0x10
   875  0148  d300              	out	(_IO_AYDATA), a
   876  014a  3e00              	ld	a,0x09
   877  014c  d300              	out	(_IO_AYLATCH), a
   878  014e  3e00              	ld	a,0x00
   879  0150  d300              	out	(_IO_AYDATA), a
   880  0152  3e00              	ld	a,0x0a
   881  0154  d300              	out	(_IO_AYLATCH), a
   882  0156  3e00              	ld	a,0x00
   883  0158  d300              	out	(_IO_AYDATA), a
   884  015a  010000            	ld	bc,__NOTES_FINE+0
   885  015d  dd6e00            	ld	l,(ix+5)
   886  0160  2600              	ld	h,0x00
   887  0162  09                	add	hl, bc
   888  0163  4e                	ld	c, (hl)
   889  0164  3e00              	ld	a,0x00
   890  0166  d300              	out	(_IO_AYLATCH), a
   891  0168  79                	ld	a, c
   892  0169  d300              	out	(_IO_AYDATA), a
   893  016b  010000            	ld	bc,__NOTES_COURSE+0
   894  016e  dd6e00            	ld	l,(ix+5)
   895  0171  2600              	ld	h,0x00
   896  0173  09                	add	hl, bc
   897  0174  4e                	ld	c, (hl)
   898  0175  3e00              	ld	a,0x01
   899  0177  d300              	out	(_IO_AYLATCH), a
   900  0179  79                	ld	a, c
   901  017a  d300              	out	(_IO_AYDATA), a
   902  017c  3e00              	ld	a,0x0d
   903  017e  d300              	out	(_IO_AYLATCH), a
   904  0180  3e00              	ld	a,0x00
   905  0182  d300              	out	(_IO_AYDATA), a
   906  0184  c30000            	jp	l_playNoteDelay_00125
   907                          l_playNoteDelay_00102:
   908  0187  3e00              	ld	a,0x08
   909  0189  d300              	out	(_IO_AYLATCH), a
   910  018b  3e00              	ld	a,0x00
   911  018d  d300              	out	(_IO_AYDATA), a
   912  018f  3e00              	ld	a,0x09
   913  0191  d300              	out	(_IO_AYLATCH), a
   914  0193  3e00              	ld	a,0x10
   915  0195  d300              	out	(_IO_AYDATA), a
   916  0197  3e00              	ld	a,0x0a
   917  0199  d300              	out	(_IO_AYLATCH), a
   918  019b  3e00              	ld	a,0x00
   919  019d  d300              	out	(_IO_AYDATA), a
   920  019f  010000            	ld	bc,__NOTES_FINE+0
   921  01a2  dd6e00            	ld	l,(ix+5)
   922  01a5  2600              	ld	h,0x00
   923  01a7  09                	add	hl, bc
   924  01a8  4e                	ld	c, (hl)
   925  01a9  3e00              	ld	a,0x02
   926  01ab  d300              	out	(_IO_AYLATCH), a
   927  01ad  79                	ld	a, c
   928  01ae  d300              	out	(_IO_AYDATA), a
   929  01b0  010000            	ld	bc,__NOTES_COURSE+0
   930  01b3  dd6e00            	ld	l,(ix+5)
   931  01b6  2600              	ld	h,0x00
   932  01b8  09                	add	hl, bc
   933  01b9  4e                	ld	c, (hl)
   934  01ba  3e00              	ld	a,0x03
   935  01bc  d300              	out	(_IO_AYLATCH), a
   936  01be  79                	ld	a, c
   937  01bf  d300              	out	(_IO_AYDATA), a
   938  01c1  3e00              	ld	a,0x0d
   939  01c3  d300              	out	(_IO_AYLATCH), a
   940  01c5  3e00              	ld	a,0x00
   941  01c7  d300              	out	(_IO_AYDATA), a
   942  01c9  1800              	jr	l_playNoteDelay_00125
   943                          l_playNoteDelay_00103:
   944  01cb  3e00              	ld	a,0x08
   945  01cd  d300              	out	(_IO_AYLATCH), a
   946  01cf  3e00              	ld	a,0x00
   947  01d1  d300              	out	(_IO_AYDATA), a
   948  01d3  3e00              	ld	a,0x09
   949  01d5  d300              	out	(_IO_AYLATCH), a
   950  01d7  3e00              	ld	a,0x00
   951  01d9  d300              	out	(_IO_AYDATA), a
   952  01db  3e00              	ld	a,0x0a
   953  01dd  d300              	out	(_IO_AYLATCH), a
   954  01df  3e00              	ld	a,0x10
   955  01e1  d300              	out	(_IO_AYDATA), a
   956  01e3  010000            	ld	bc,__NOTES_FINE+0
   957  01e6  dd6e00            	ld	l,(ix+5)
   958  01e9  2600              	ld	h,0x00
   959  01eb  09                	add	hl, bc
   960  01ec  4e                	ld	c, (hl)
   961  01ed  3e00              	ld	a,0x04
   962  01ef  d300              	out	(_IO_AYLATCH), a
   963  01f1  79                	ld	a, c
   964  01f2  d300              	out	(_IO_AYDATA), a
   965  01f4  010000            	ld	bc,__NOTES_COURSE+0
   966  01f7  dd6e00            	ld	l,(ix+5)
   967  01fa  2600              	ld	h,0x00
   968  01fc  09                	add	hl, bc
   969  01fd  4e                	ld	c, (hl)
   970  01fe  3e00              	ld	a,0x05
   971  0200  d300              	out	(_IO_AYLATCH), a
   972  0202  79                	ld	a, c
   973  0203  d300              	out	(_IO_AYDATA), a
   974  0205  3e00              	ld	a,0x0d
   975  0207  d300              	out	(_IO_AYLATCH), a
   976  0209  3e00              	ld	a,0x00
   977  020b  d300              	out	(_IO_AYDATA), a
   978                          l_playNoteDelay_00125:
   979  020d  dde1              	pop	ix
   980  020f  c9                	ret
   981                          	SECTION code_compiler
   982                          ;	---------------------------------
   983                          ; Function isKeyPressed
   984                          ; ---------------------------------
   985                          _isKeyPressed:
   986  0210  3a0000            	ld	a, (__kbdBufferWritePos+0)
   987  0213  fd210000          	ld	iy,__kbdBufferReadPos
   988  0217  fd9600            	sub	a,(iy+0)
   989  021a  2000              	jr	NZ,l_isKeyPressed_00103
   990  021c  3e00              	ld	a,0x01
   991  021e  1800              	jr	l_isKeyPressed_00104
   992                          l_isKeyPressed_00103:
   993  0220  af                	xor	a,a
   994                          l_isKeyPressed_00104:
   995  0221  ee00              	xor	a,0x01
   996  0223  6f                	ld	l, a
   997  0224  c9                	ret
   998                          	SECTION code_compiler
   999                          ;	---------------------------------
  1000                          ; Function getChar
  1001                          ; ---------------------------------
  1002                          _getChar:
  1003  0225  010000            	ld	bc,0x0000
  1004                          l_getChar_00111:
  1005  0228  3a0000            	ld	a, (__kbdBufferWritePos+0)
  1006  022b  fd210000          	ld	iy,__kbdBufferReadPos
  1007  022f  fd9600            	sub	a,(iy+0)
  1008  0232  2000              	jr	NZ,l_getChar_00114
  1009  0234  79                	ld	a, c
  1010  0235  3d                	dec	a
  1011  0236  b0                	or	a, b
  1012  0237  2000              	jr	NZ,l_getChar_00107
  1013  0239  3a0000            	ld	a, ((_vdp_cursor + 1) + 0)
  1014  023c  210000            	ld	hl,_vdp_cursor + 0
  1015  023f  56                	ld	d, (hl)
  1016  0240  c5                	push	bc
  1017  0241  2600              	ld	h,0x5f
  1018  0243  e5                	push	hl
  1019  0244  33                	inc	sp
  1020  0245  f5                	push	af
  1021  0246  33                	inc	sp
  1022  0247  d5                	push	de
  1023  0248  33                	inc	sp
  1024  0249  cd0000            	call	_vdp_writeCharAtLocation
  1025  024c  f1                	pop	af
  1026  024d  33                	inc	sp
  1027  024e  c1                	pop	bc
  1028  024f  1800              	jr	l_getChar_00108
  1029                          l_getChar_00107:
  1030  0251  79                	ld	a, c
  1031  0252  d600              	sub	a,0x98
  1032  0254  2000              	jr	NZ,l_getChar_00104
  1033  0256  78                	ld	a, b
  1034  0257  d600              	sub	a,0x3a
  1035  0259  2000              	jr	NZ,l_getChar_00104
  1036  025b  210000            	ld	hl, +(_vdp_cursor + 1) + 0
  1037  025e  56                	ld	d, (hl)
  1038  025f  3a0000            	ld	a, (_vdp_cursor + 0)
  1039  0262  c5                	push	bc
  1040  0263  2600              	ld	h,0x20
  1041  0265  e5                	push	hl
  1042  0266  33                	inc	sp
  1043  0267  d5                	push	de
  1044  0268  33                	inc	sp
  1045  0269  f5                	push	af
  1046  026a  33                	inc	sp
  1047  026b  cd0000            	call	_vdp_writeCharAtLocation
  1048  026e  f1                	pop	af
  1049  026f  33                	inc	sp
  1050  0270  c1                	pop	bc
  1051  0271  1800              	jr	l_getChar_00108
  1052                          l_getChar_00104:
  1053  0273  3e00              	ld	a,0x30
  1054  0275  b9                	cp	a, c
  1055  0276  3e00              	ld	a,0x75
  1056  0278  98                	sbc	a, b
  1057  0279  3000              	jr	NC,l_getChar_00108
  1058  027b  010000            	ld	bc,0x0000
  1059                          l_getChar_00108:
  1060  027e  03                	inc	bc
  1061  027f  1800              	jr	l_getChar_00111
  1062                          l_getChar_00114:
  1063  0281  3a0000            	ld	a, ((_vdp_cursor + 1) + 0)
  1064  0284  210000            	ld	hl,_vdp_cursor + 0
  1065  0287  46                	ld	b, (hl)
  1066  0288  2600              	ld	h,0x20
  1067  028a  e5                	push	hl
  1068  028b  33                	inc	sp
  1069  028c  f5                	push	af
  1070  028d  33                	inc	sp
  1071  028e  c5                	push	bc
  1072  028f  33                	inc	sp
  1073  0290  cd0000            	call	_vdp_writeCharAtLocation
  1074  0293  f1                	pop	af
  1075  0294  33                	inc	sp
  1076  0295  010000            	ld	bc,__kbdBuffer+0
  1077  0298  2a0000            	ld	hl, (__kbdBufferReadPos)
  1078  029b  2600              	ld	h,0x00
  1079  029d  09                	add	hl, bc
  1080  029e  4e                	ld	c, (hl)
  1081  029f  3a0000            	ld	a, (__kbdBufferReadPos+0)
  1082  02a2  3c                	inc	a
  1083  02a3  320000            	ld	(__kbdBufferReadPos+0), a
  1084  02a6  69                	ld	l, c
  1085  02a7  c9                	ret
  1086                          	SECTION code_compiler
  1087                          ;	---------------------------------
  1088                          ; Function getJoyStatus
  1089                          ; ---------------------------------
  1090                          _getJoyStatus:
  1091  02a8  3e00              	ld	a, +((__joyStatus) & 0xFF)
  1092  02aa  210000            	ld	hl,2
  1093  02ad  39                	add	hl, sp
  1094  02ae  86                	add	a, (hl)
  1095  02af  6f                	ld	l, a
  1096  02b0  3e00              	ld	a, +((__joyStatus) / 256)
  1097  02b2  ce00              	adc	a,0x00
  1098  02b4  67                	ld	h, a
  1099  02b5  6e                	ld	l, (hl)
  1100  02b6  c9                	ret
  1101                          	SECTION code_compiler
  1102                          ;	---------------------------------
  1103                          ; Function readLine
  1104                          ; ---------------------------------
  1105                          _readLine:
  1106  02b7  dde5              	push	ix
  1107  02b9  dd210000          	ld	ix,0
  1108  02bd  dd39              	add	ix,sp
  1109  02bf  0e00              	ld	c,0x00
  1110                          l_readLine_00120:
  1111  02c1  c5                	push	bc
  1112  02c2  cd0000            	call	_getChar
  1113  02c5  5d                	ld	e, l
  1114  02c6  c1                	pop	bc
  1115  02c7  7b                	ld	a, e
  1116  02c8  d600              	sub	a,0x0d
  1117  02ca  ca0000            	jp	Z,l_readLine_00121
  1118  02cd  79                	ld	a, c
  1119  02ce  dd9600            	sub	a,(ix+6)
  1120  02d1  3000              	jr	NC,l_readLine_00112
  1121  02d3  7b                	ld	a, e
  1122  02d4  d600              	sub	a,0x20
  1123  02d6  3800              	jr	C,l_readLine_00112
  1124  02d8  3e00              	ld	a,0x7e
  1125  02da  93                	sub	a, e
  1126  02db  3800              	jr	C,l_readLine_00112
  1127  02dd  dd6e00            	ld	l,(ix+4)
  1128  02e0  dd6600            	ld	h,(ix+5)
  1129  02e3  0600              	ld	b,0x00
  1130  02e5  09                	add	hl, bc
  1131  02e6  73                	ld	(hl), e
  1132  02e7  c5                	push	bc
  1133  02e8  7b                	ld	a, e
  1134  02e9  f5                	push	af
  1135  02ea  33                	inc	sp
  1136  02eb  cd0000            	call	_vdp_write
  1137  02ee  33                	inc	sp
  1138  02ef  c1                	pop	bc
  1139  02f0  0c                	inc	c
  1140  02f1  1800              	jr	l_readLine_00120
  1141                          l_readLine_00112:
  1142  02f3  7b                	ld	a, e
  1143  02f4  d600              	sub	a,0x7f
  1144  02f6  2000              	jr	NZ,l_readLine_00175
  1145  02f8  3e00              	ld	a,0x01
  1146  02fa  1800              	jr	l_readLine_00176
  1147                          l_readLine_00175:
  1148  02fc  af                	xor	a,a
  1149                          l_readLine_00176:
  1150  02fd  47                	ld	b, a
  1151  02fe  dd7e00            	ld	a,(ix+6)
  1152  0301  91                	sub	a, c
  1153  0302  2000              	jr	NZ,l_readLine_00108
  1154  0304  cb40              	bit	0, b
  1155  0306  2000              	jr	NZ,l_readLine_00108
  1156  0308  c5                	push	bc
  1157  0309  210000            	ld	hl,0x000a
  1158  030c  e5                	push	hl
  1159  030d  3e00              	ld	a,0x3c
  1160  030f  f5                	push	af
  1161  0310  33                	inc	sp
  1162  0311  af                	xor	a, a
  1163  0312  f5                	push	af
  1164  0313  33                	inc	sp
  1165  0314  cd0000            	call	_playNoteDelay
  1166  0317  f1                	pop	af
  1167  0318  f1                	pop	af
  1168  0319  c1                	pop	bc
  1169  031a  1800              	jr	l_readLine_00120
  1170                          l_readLine_00108:
  1171  031c  78                	ld	a, b
  1172  031d  b7                	or	a, a
  1173  031e  2800              	jr	Z,l_readLine_00120
  1174  0320  79                	ld	a, c
  1175  0321  b7                	or	a, a
  1176  0322  2800              	jr	Z,l_readLine_00120
  1177  0324  110000            	ld	de,_vdp_cursor+0
  1178  0327  1a                	ld	a, (de)
  1179  0328  b7                	or	a, a
  1180  0329  2000              	jr	NZ,l_readLine_00102
  1181  032b  3e00              	ld	a,0x27
  1182  032d  12                	ld	(de), a
  1183  032e  3a0000            	ld	a, ((_vdp_cursor + 1) + 0)
  1184  0331  3d                	dec	a
  1185  0332  320000            	ld	((_vdp_cursor + 1)),a
  1186  0335  1800              	jr	l_readLine_00103
  1187                          l_readLine_00102:
  1188  0337  3d                	dec	a
  1189  0338  12                	ld	(de), a
  1190                          l_readLine_00103:
  1191  0339  0d                	dec	c
  1192  033a  3a0000            	ld	a, ((_vdp_cursor + 1) + 0)
  1193  033d  210000            	ld	hl,_vdp_cursor + 0
  1194  0340  46                	ld	b, (hl)
  1195  0341  c5                	push	bc
  1196  0342  2600              	ld	h,0x20
  1197  0344  e5                	push	hl
  1198  0345  33                	inc	sp
  1199  0346  f5                	push	af
  1200  0347  33                	inc	sp
  1201  0348  c5                	push	bc
  1202  0349  33                	inc	sp
  1203  034a  cd0000            	call	_vdp_writeCharAtLocation
  1204  034d  f1                	pop	af
  1205  034e  33                	inc	sp
  1206  034f  c1                	pop	bc
  1207  0350  c30000            	jp	l_readLine_00120
  1208                          l_readLine_00121:
  1209  0353  69                	ld	l, c
  1210  0354  dde1              	pop	ix
  1211  0356  c9                	ret
  1212                          	SECTION code_compiler
  1213                          ;	---------------------------------
  1214                          ; Function vdp_setRegister
  1215                          ; ---------------------------------
  1216                          _vdp_setRegister:
  1217  0357  fd210000          	ld	iy,3
  1218  035b  fd39              	add	iy, sp
  1219  035d  fd7e00            	ld	a,(iy+0)
  1220  0360  d300              	out	(_IO_VDPLATCH), a
  1221  0362  fd2b              	dec	iy
  1222  0364  fd7e00            	ld	a,(iy+0)
  1223  0367  f600              	or	a,0x80
  1224  0369  d300              	out	(_IO_VDPLATCH), a
  1225  036b  c9                	ret
  1226                          	SECTION code_compiler
  1227                          ;	---------------------------------
  1228                          ; Function vdp_setWriteAddress
  1229                          ; ---------------------------------
  1230                          _vdp_setWriteAddress:
  1231  036c  fd210000          	ld	iy,2
  1232  0370  fd39              	add	iy, sp
  1233  0372  fd7e00            	ld	a,(iy+0)
  1234  0375  d300              	out	(_IO_VDPLATCH), a
  1235  0377  fd7e00            	ld	a,(iy+1)
  1236  037a  e600              	and	a,0x3f
  1237  037c  f600              	or	a,0x40
  1238  037e  d300              	out	(_IO_VDPLATCH), a
  1239  0380  c9                	ret
  1240                          	SECTION code_compiler
  1241                          ;	---------------------------------
  1242                          ; Function vdp_setReadAddress
  1243                          ; ---------------------------------
  1244                          _vdp_setReadAddress:
  1245  0381  fd210000          	ld	iy,2
  1246  0385  fd39              	add	iy, sp
  1247  0387  fd7e00            	ld	a,(iy+0)
  1248  038a  d300              	out	(_IO_VDPLATCH), a
  1249  038c  fd7e00            	ld	a,(iy+1)
  1250  038f  e600              	and	a,0x3f
  1251  0391  d300              	out	(_IO_VDPLATCH), a
  1252  0393  c9                	ret
  1253                          	SECTION code_compiler
  1254                          ;	---------------------------------
  1255                          ; Function waitVdpISR
  1256                          ; ---------------------------------
  1257                          _waitVdpISR:
  1258  0394  f5                	push	af
  1259  0395  db00              	in	a, (_IO_VDPLATCH)
  1260  0397  320000            	ld	(_vdpStatusRegVal), a
  1261  039a  3e00              	ld	a, 0x01
  1262  039c  320000            	ld	(_vdpIsReady), a
  1263  039f  f1                	pop	af
  1264  03a0  fb                	ei
  1265  03a1  ed4d              	reti
  1266                          ;	---------------------------------
  1267                          ; Function vdp_enableVDPReadyInt
  1268                          ; ---------------------------------
  1269                          _vdp_enableVDPReadyInt:
  1270  03a3  f3                	di
  1271  03a4  210000            	ld	hl, _waitVdpISR
  1272  03a7  2206ff            	ld	(0xff00 + 6), hl
  1273  03aa  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1274  03ad  f610              	or	a,0x10
  1275  03af  320800            	ld	(__ORIGINAL_INT_MASK+0), a
  1276  03b2  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1277  03b5  f5                	push	af
  1278  03b6  3e0e              	ld	a,0x0e
  1279  03b8  d341              	out	(_IO_AYLATCH), a
  1280  03ba  f1                	pop	af
  1281  03bb  d340              	out	(_IO_AYDATA), a
  1282  03bd  fb                	ei
  1283  03be  212300            	ld	hl,__vdpInterruptEnabled + 0
  1284  03c1  3601              	ld	(hl),0x01
  1285  03c3  3a2000            	ld	a, (__vdpReg1Val+0)
  1286  03c6  f620              	or	a,0x20
  1287  03c8  d3a1              	out	(_IO_VDPLATCH), a
  1288  03ca  3e81              	ld	a,0x81
  1289  03cc  d3a1              	out	(_IO_VDPLATCH), a
  1290  03ce  c9                	ret
  1291                          	SECTION code_compiler
  1292                          ;	---------------------------------
  1293                          ; Function vdp_waitVDPReadyInt
  1294                          ; ---------------------------------
  1295                          _vdp_waitVDPReadyInt:
  1296  03cf  3a2500            	ld	a, (_vdpIsReady+0)
  1297  03d2  b7                	or	a, a
  1298  03d3  2806              	jr	Z,l_vdp_waitVDPReadyInt_00102
  1299  03d5  3e23              	ld	a,0x23
  1300  03d7  d300              	out	(_IO_CONTROL), a
  1301  03d9  1804              	jr	l_vdp_waitVDPReadyInt_00104
  1302                          l_vdp_waitVDPReadyInt_00102:
  1303  03db  3e03              	ld	a,0x03
  1304  03dd  d300              	out	(_IO_CONTROL), a
  1305                          l_vdp_waitVDPReadyInt_00104:
  1306  03df  3a2500            	ld	a, (_vdpIsReady+0)
  1307  03e2  b7                	or	a, a
  1308  03e3  28fa              	jr	Z,l_vdp_waitVDPReadyInt_00104
  1309  03e5  212500            	ld	hl,_vdpIsReady + 0
  1310  03e8  3600              	ld	(hl),0x00
  1311  03ea  c9                	ret
  1312                          	SECTION code_compiler
  1313                          ;	---------------------------------
  1314                          ; Function vdp_disableVDPReadyInt
  1315                          ; ---------------------------------
  1316                          _vdp_disableVDPReadyInt:
  1317  03eb  3a2000            	ld	a, (__vdpReg1Val+0)
  1318  03ee  d3a1              	out	(_IO_VDPLATCH), a
  1319  03f0  3e81              	ld	a,0x81
  1320  03f2  d3a1              	out	(_IO_VDPLATCH), a
  1321  03f4  f3                	di
  1322  03f5  fd212300          	ld	iy,__vdpInterruptEnabled
  1323  03f9  fd360000          	ld	(iy+0),0x00
  1324  03fd  db41              	in	a, (_IO_AYLATCH)
  1325  03ff  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1326  0402  cb67              	bit	4, a
  1327  0404  2808              	jr	Z,l_vdp_disableVDPReadyInt_00102
  1328  0406  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1329  0409  ee10              	xor	a,0x10
  1330  040b  320800            	ld	(__ORIGINAL_INT_MASK+0), a
  1331                          l_vdp_disableVDPReadyInt_00102:
  1332  040e  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1333  0411  f5                	push	af
  1334  0412  3e0e              	ld	a,0x0e
  1335  0414  d341              	out	(_IO_AYLATCH), a
  1336  0416  f1                	pop	af
  1337  0417  d340              	out	(_IO_AYDATA), a
  1338  0419  fb                	ei
  1339  041a  c9                	ret
  1340                          	SECTION code_compiler
  1341                          ;	---------------------------------
  1342                          ; Function vdp_addISR
  1343                          ; ---------------------------------
  1344                          _vdp_addISR:
  1345  041b  f3                	di
  1346  041c  fd210200          	ld	iy,2
  1347  0420  fd39              	add	iy, sp
  1348  0422  fd7e00            	ld	a,(iy+0)
  1349  0425  32c004            	ld	(__vdp_ISR+0), a
  1350  0428  fd7e01            	ld	a,(iy+1)
  1351  042b  32c104            	ld	(__vdp_ISR+1), a
  1352  042e  2ac004            	ld	hl, (__vdp_ISR)
  1353  0431  2206ff            	ld	(0xff00 + 6), hl
  1354  0434  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1355  0437  f610              	or	a,0x10
  1356  0439  320800            	ld	(__ORIGINAL_INT_MASK+0), a
  1357  043c  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1358  043f  f5                	push	af
  1359  0440  3e0e              	ld	a,0x0e
  1360  0442  d341              	out	(_IO_AYLATCH), a
  1361  0444  f1                	pop	af
  1362  0445  d340              	out	(_IO_AYDATA), a
  1363  0447  fb                	ei
  1364  0448  212300            	ld	hl,__vdpInterruptEnabled + 0
  1365  044b  3601              	ld	(hl),0x01
  1366  044d  3a2000            	ld	a, (__vdpReg1Val+0)
  1367  0450  f620              	or	a,0x20
  1368  0452  d3a1              	out	(_IO_VDPLATCH), a
  1369  0454  3e81              	ld	a,0x81
  1370  0456  d3a1              	out	(_IO_VDPLATCH), a
  1371  0458  c9                	ret
  1372                          	SECTION code_compiler
  1373                          ;	---------------------------------
  1374                          ; Function vdp_removeISR
  1375                          ; ---------------------------------
  1376                          _vdp_removeISR:
  1377  0459  3a2000            	ld	a, (__vdpReg1Val+0)
  1378  045c  d3a1              	out	(_IO_VDPLATCH), a
  1379  045e  3e81              	ld	a,0x81
  1380  0460  d3a1              	out	(_IO_VDPLATCH), a
  1381  0462  f3                	di
  1382  0463  fd212300          	ld	iy,__vdpInterruptEnabled
  1383  0467  fd360000          	ld	(iy+0),0x00
  1384  046b  db41              	in	a, (_IO_AYLATCH)
  1385  046d  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1386  0470  cb67              	bit	4, a
  1387  0472  2808              	jr	Z,l_vdp_removeISR_00102
  1388  0474  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1389  0477  ee10              	xor	a,0x10
  1390  0479  320800            	ld	(__ORIGINAL_INT_MASK+0), a
  1391                          l_vdp_removeISR_00102:
  1392  047c  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1393  047f  f5                	push	af
  1394  0480  3e0e              	ld	a,0x0e
  1395  0482  d341              	out	(_IO_AYLATCH), a
  1396  0484  f1                	pop	af
  1397  0485  d340              	out	(_IO_AYDATA), a
  1398  0487  fb                	ei
  1399  0488  c9                	ret
  1400                          	SECTION code_compiler
  1401                          ;	---------------------------------
  1402                          ; Function vdp_init
  1403                          ; ---------------------------------
  1404                          _vdp_init:
  1405  0489  dde5              	push	ix
  1406  048b  dd210000          	ld	ix,0
  1407  048f  dd39              	add	ix,sp
  1408  0491  dd4e04            	ld	c,(ix+4)
  1409  0494  fd21ce04          	ld	iy,__vdpMode
  1410  0498  fd7100            	ld	(iy+0),c
  1411  049b  dd7e07            	ld	a,(ix+7)
  1412  049e  32c604            	ld	(__vdpSpriteSizeSelected+0), a
  1413  04a1  dd7e09            	ld	a,(ix+9)
  1414  04a4  32cf04            	ld	(__autoScroll+0), a
  1415  04a7  212300            	ld	hl,__vdpInterruptEnabled + 0
  1416  04aa  3600              	ld	(hl),0x00
  1417  04ac  211e00            	ld	hl,_vdp_cursor
  1418  04af  3600              	ld	(hl),0x00
  1419  04b1  211f00            	ld	hl, +(_vdp_cursor + 1)
  1420  04b4  3600              	ld	(hl),0x00
  1421  04b6  dd7e07            	ld	a,(ix+7)
  1422  04b9  87                	add	a, a
  1423  04ba  47                	ld	b, a
  1424  04bb  79                	ld	a, c
  1425  04bc  3d                	dec	a
  1426  04bd  280b              	jr	Z,l_vdp_init_00101
  1427  04bf  79                	ld	a,c
  1428  04c0  fe02              	cp	a,0x02
  1429  04c2  2848              	jr	Z,l_vdp_init_00103
  1430  04c4  d603              	sub	a,0x03
  1431  04c6  2827              	jr	Z,l_vdp_init_00102
  1432  04c8  1865              	jr	l_vdp_init_00104
  1433                          l_vdp_init_00101:
  1434  04ca  3e02              	ld	a,0x02
  1435  04cc  d3a1              	out	(_IO_VDPLATCH), a
  1436  04ce  3e80              	ld	a,0x80
  1437  04d0  d3a1              	out	(_IO_VDPLATCH), a
  1438  04d2  78                	ld	a, b
  1439  04d3  f6c0              	or	a,0xc0
  1440  04d5  ddb608            	or	a,(ix+8)
  1441  04d8  322000            	ld	(__vdpReg1Val+0), a
  1442  04db  3a2000            	ld	a, (__vdpReg1Val+0)
  1443  04de  d3a1              	out	(_IO_VDPLATCH), a
  1444  04e0  3e81              	ld	a,0x81
  1445  04e2  d3a1              	out	(_IO_VDPLATCH), a
  1446  04e4  dd360500          	ld	(ix+5),0x00
  1447  04e8  21cd04            	ld	hl,__vdpCursorMaxX + 0
  1448  04eb  361f              	ld	(hl),0x1f
  1449  04ed  1840              	jr	l_vdp_init_00104
  1450                          l_vdp_init_00102:
  1451  04ef  3e00              	ld	a,0x00
  1452  04f1  d3a1              	out	(_IO_VDPLATCH), a
  1453  04f3  3e80              	ld	a,0x80
  1454  04f5  d3a1              	out	(_IO_VDPLATCH), a
  1455  04f7  212000            	ld	hl,__vdpReg1Val + 0
  1456  04fa  36d2              	ld	(hl),0xd2
  1457  04fc  3a2000            	ld	a, (__vdpReg1Val+0)
  1458  04ff  d3a1              	out	(_IO_VDPLATCH), a
  1459  0501  3e81              	ld	a,0x81
  1460  0503  d3a1              	out	(_IO_VDPLATCH), a
  1461  0505  21cd04            	ld	hl,__vdpCursorMaxX + 0
  1462  0508  3627              	ld	(hl),0x27
  1463  050a  1823              	jr	l_vdp_init_00104
  1464                          l_vdp_init_00103:
  1465  050c  3e00              	ld	a,0x00
  1466  050e  d3a1              	out	(_IO_VDPLATCH), a
  1467  0510  3e80              	ld	a,0x80
  1468  0512  d3a1              	out	(_IO_VDPLATCH), a
  1469  0514  78                	ld	a, b
  1470  0515  f6c8              	or	a,0xc8
  1471  0517  ddb608            	or	a,(ix+8)
  1472  051a  322000            	ld	(__vdpReg1Val+0), a
  1473  051d  3a2000            	ld	a, (__vdpReg1Val+0)
  1474  0520  d3a1              	out	(_IO_VDPLATCH), a
  1475  0522  3e81              	ld	a,0x81
  1476  0524  d3a1              	out	(_IO_VDPLATCH), a
  1477  0526  dd360500          	ld	(ix+5),0x00
  1478  052a  21cd04            	ld	hl,__vdpCursorMaxX + 0
  1479  052d  361f              	ld	(hl),0x1f
  1480                          l_vdp_init_00104:
  1481  052f  3e06              	ld	a,0x06
  1482  0531  d3a1              	out	(_IO_VDPLATCH), a
  1483  0533  3e82              	ld	a,0x82
  1484  0535  d3a1              	out	(_IO_VDPLATCH), a
  1485  0537  210018            	ld	hl,0x1800
  1486  053a  22c704            	ld	(__vdpPatternNameTableAddr), hl
  1487  053d  3eff              	ld	a,0xff
  1488  053f  d3a1              	out	(_IO_VDPLATCH), a
  1489  0541  3e83              	ld	a,0x83
  1490  0543  d3a1              	out	(_IO_VDPLATCH), a
  1491  0545  2620              	ld	h,0x20
  1492  0547  22c904            	ld	(__vdpColorTableAddr), hl
  1493  054a  2618              	ld	h,0x18
  1494  054c  222100            	ld	(__vdpColorTableSize), hl
  1495  054f  3e00              	ld	a,0x00
  1496  0551  d3a1              	out	(_IO_VDPLATCH), a
  1497  0553  3e84              	ld	a,0x84
  1498  0555  d3a1              	out	(_IO_VDPLATCH), a
  1499  0557  65                	ld	h, l
  1500  0558  22cb04            	ld	(__vdpPatternGeneratorTableAddr), hl
  1501  055b  3e36              	ld	a,0x36
  1502  055d  d3a1              	out	(_IO_VDPLATCH), a
  1503  055f  3e85              	ld	a,0x85
  1504  0561  d3a1              	out	(_IO_VDPLATCH), a
  1505  0563  261b              	ld	h,0x1b
  1506  0565  22c204            	ld	(__vdpSpriteAttributeTableAddr), hl
  1507  0568  3e07              	ld	a,0x07
  1508  056a  d3a1              	out	(_IO_VDPLATCH), a
  1509  056c  3e86              	ld	a,0x86
  1510  056e  d3a1              	out	(_IO_VDPLATCH), a
  1511  0570  2638              	ld	h,0x38
  1512  0572  22c404            	ld	(__vdpSpriteGeneratorTableAddr), hl
  1513  0575  dd7e05            	ld	a,(ix+5)
  1514  0578  87                	add	a, a
  1515  0579  87                	add	a, a
  1516  057a  87                	add	a, a
  1517  057b  87                	add	a, a
  1518  057c  4f                	ld	c, a
  1519  057d  dd7e06            	ld	a,(ix+6)
  1520  0580  e60f              	and	a,0x0f
  1521  0582  b1                	or	a, c
  1522  0583  d3a1              	out	(_IO_VDPLATCH), a
  1523  0585  3e87              	ld	a,0x87
  1524  0587  d3a1              	out	(_IO_VDPLATCH), a
  1525  0589  dde1              	pop	ix
  1526  058b  c35806            	jp	_vdp_clearScreen
  1527                          	SECTION code_compiler
  1528                          ;	---------------------------------
  1529                          ; Function vdp_clearVRAM
  1530                          ; ---------------------------------
  1531                          _vdp_clearVRAM:
  1532  058e  3e00              	ld	a,0x00
  1533  0590  d3a1              	out	(_IO_VDPLATCH), a
  1534  0592  3e40              	ld	a,0x40
  1535  0594  d3a1              	out	(_IO_VDPLATCH), a
  1536  0596  010000            	ld	bc,0x0000
  1537                          l_vdp_clearVRAM_00104:
  1538  0599  79                	ld	a, c
  1539  059a  d6ff              	sub	a,0xff
  1540  059c  78                	ld	a, b
  1541  059d  de3f              	sbc	a,0x3f
  1542  059f  d0                	ret	NC
  1543  05a0  3e00              	ld	a,0x00
  1544  05a2  d3a0              	out	(_IO_VDPDATA), a
  1545  05a4  03                	inc	bc
  1546  05a5  18f2              	jr	l_vdp_clearVRAM_00104
  1547                          	SECTION code_compiler
  1548                          ;	---------------------------------
  1549                          ; Function vdp_initMSXMode
  1550                          ; ---------------------------------
  1551                          _vdp_initMSXMode:
  1552  05a7  3e02              	ld	a,0x02
  1553  05a9  d3a1              	out	(_IO_VDPLATCH), a
  1554  05ab  3e80              	ld	a,0x80
  1555  05ad  d3a1              	out	(_IO_VDPLATCH), a
  1556  05af  3ec0              	ld	a,0xc0
  1557  05b1  d3a1              	out	(_IO_VDPLATCH), a
  1558  05b3  3e81              	ld	a,0x81
  1559  05b5  d3a1              	out	(_IO_VDPLATCH), a
  1560  05b7  3e06              	ld	a,0x06
  1561  05b9  d3a1              	out	(_IO_VDPLATCH), a
  1562  05bb  3e82              	ld	a,0x82
  1563  05bd  d3a1              	out	(_IO_VDPLATCH), a
  1564  05bf  3eff              	ld	a,0xff
  1565  05c1  d3a1              	out	(_IO_VDPLATCH), a
  1566  05c3  3e83              	ld	a,0x83
  1567  05c5  d3a1              	out	(_IO_VDPLATCH), a
  1568  05c7  3e03              	ld	a,0x03
  1569  05c9  d3a1              	out	(_IO_VDPLATCH), a
  1570  05cb  3e84              	ld	a,0x84
  1571  05cd  d3a1              	out	(_IO_VDPLATCH), a
  1572  05cf  3e36              	ld	a,0x36
  1573  05d1  d3a1              	out	(_IO_VDPLATCH), a
  1574  05d3  3e85              	ld	a,0x85
  1575  05d5  d3a1              	out	(_IO_VDPLATCH), a
  1576  05d7  3e07              	ld	a,0x07
  1577  05d9  d3a1              	out	(_IO_VDPLATCH), a
  1578  05db  3e86              	ld	a,0x86
  1579  05dd  d3a1              	out	(_IO_VDPLATCH), a
  1580  05df  210200            	ld	hl,2+0
  1581  05e2  39                	add	hl, sp
  1582  05e3  7e                	ld	a, (hl)
  1583  05e4  e60f              	and	a,0x0f
  1584  05e6  d3a1              	out	(_IO_VDPLATCH), a
  1585  05e8  3e87              	ld	a,0x87
  1586  05ea  d3a1              	out	(_IO_VDPLATCH), a
  1587  05ec  c9                	ret
  1588                          	SECTION code_compiler
  1589                          ;	---------------------------------
  1590                          ; Function vdp_initTextMode
  1591                          ; ---------------------------------
  1592                          _vdp_initTextMode:
  1593  05ed  fd210400          	ld	iy,4
  1594  05f1  fd39              	add	iy, sp
  1595  05f3  fd7e00            	ld	a,(iy+0)
  1596  05f6  f5                	push	af
  1597  05f7  33                	inc	sp
  1598  05f8  af                	xor	a, a
  1599  05f9  f5                	push	af
  1600  05fa  33                	inc	sp
  1601  05fb  af                	xor	a, a
  1602  05fc  f5                	push	af
  1603  05fd  33                	inc	sp
  1604  05fe  fd2b              	dec	iy
  1605  0600  fd7e00            	ld	a,(iy+0)
  1606  0603  f5                	push	af
  1607  0604  33                	inc	sp
  1608  0605  fd2b              	dec	iy
  1609  0607  fd5600            	ld	d,(iy+0)
  1610  060a  1e03              	ld	e,0x03
  1611  060c  d5                	push	de
  1612  060d  cd8904            	call	_vdp_init
  1613  0610  f1                	pop	af
  1614  0611  f1                	pop	af
  1615  0612  f1                	pop	af
  1616  0613  c9                	ret
  1617                          	SECTION code_compiler
  1618                          ;	---------------------------------
  1619                          ; Function vdp_initG2Mode
  1620                          ; ---------------------------------
  1621                          _vdp_initG2Mode:
  1622  0614  fd210500          	ld	iy,5
  1623  0618  fd39              	add	iy, sp
  1624  061a  fd7e00            	ld	a,(iy+0)
  1625  061d  f5                	push	af
  1626  061e  33                	inc	sp
  1627  061f  fd2b              	dec	iy
  1628  0621  fd7e00            	ld	a,(iy+0)
  1629  0624  f5                	push	af
  1630  0625  33                	inc	sp
  1631  0626  fd2b              	dec	iy
  1632  0628  fd7e00            	ld	a,(iy+0)
  1633  062b  f5                	push	af
  1634  062c  33                	inc	sp
  1635  062d  fd2b              	dec	iy
  1636  062f  fd7e00            	ld	a,(iy+0)
  1637  0632  f5                	push	af
  1638  0633  33                	inc	sp
  1639  0634  af                	xor	a, a
  1640  0635  57                	ld	d,a
  1641  0636  1e01              	ld	e,0x01
  1642  0638  d5                	push	de
  1643  0639  cd8904            	call	_vdp_init
  1644  063c  f1                	pop	af
  1645  063d  f1                	pop	af
  1646  063e  f1                	pop	af
  1647  063f  c9                	ret
  1648                          	SECTION code_compiler
  1649                          ;	---------------------------------
  1650                          ; Function vdp_initMultiColorMode
  1651                          ; ---------------------------------
  1652                          _vdp_initMultiColorMode:
  1653  0640  af                	xor	a, a
  1654  0641  f5                	push	af
  1655  0642  33                	inc	sp
  1656  0643  af                	xor	a, a
  1657  0644  f5                	push	af
  1658  0645  33                	inc	sp
  1659  0646  af                	xor	a, a
  1660  0647  f5                	push	af
  1661  0648  33                	inc	sp
  1662  0649  af                	xor	a, a
  1663  064a  f5                	push	af
  1664  064b  33                	inc	sp
  1665  064c  af                	xor	a, a
  1666  064d  57                	ld	d,a
  1667  064e  1e02              	ld	e,0x02
  1668  0650  d5                	push	de
  1669  0651  cd8904            	call	_vdp_init
  1670  0654  f1                	pop	af
  1671  0655  f1                	pop	af
  1672  0656  f1                	pop	af
  1673  0657  c9                	ret
  1674                          	SECTION code_compiler
  1675                          ;	---------------------------------
  1676                          ; Function vdp_clearScreen
  1677                          ; ---------------------------------
  1678                          _vdp_clearScreen:
  1679  0658  dde5              	push	ix
  1680  065a  dd210000          	ld	ix,0
  1681  065e  dd39              	add	ix,sp
  1682  0660  3b                	dec	sp
  1683  0661  2ac704            	ld	hl, (__vdpPatternNameTableAddr)
  1684  0664  7d                	ld	a, l
  1685  0665  d3a1              	out	(_IO_VDPLATCH), a
  1686  0667  7c                	ld	a, h
  1687  0668  e63f              	and	a,0x3f
  1688  066a  f640              	or	a,0x40
  1689  066c  d3a1              	out	(_IO_VDPLATCH), a
  1690  066e  3acd04            	ld	a, (__vdpCursorMaxX+0)
  1691  0671  0600              	ld	b,0x00
  1692  0673  4f                	ld	c, a
  1693  0674  03                	inc	bc
  1694  0675  69                	ld	l, c
  1695  0676  60                	ld	h, b
  1696  0677  29                	add	hl, hl
  1697  0678  09                	add	hl, bc
  1698  0679  29                	add	hl, hl
  1699  067a  29                	add	hl, hl
  1700  067b  29                	add	hl, hl
  1701  067c  eb                	ex	de, hl
  1702  067d  dd36ff00          	ld	(ix-1),0x00
  1703  0681  3ace04            	ld	a, (__vdpMode+0)
  1704  0684  d603              	sub	a,0x03
  1705  0686  2004              	jr	NZ,l_vdp_clearScreen_00112
  1706  0688  dd36ff20          	ld	(ix-1),0x20
  1707                          l_vdp_clearScreen_00112:
  1708  068c  010000            	ld	bc,0x0000
  1709                          l_vdp_clearScreen_00106:
  1710  068f  79                	ld	a, c
  1711  0690  93                	sub	a, e
  1712  0691  78                	ld	a, b
  1713  0692  9a                	sbc	a, d
  1714  0693  300e              	jr	NC,l_vdp_clearScreen_00108
  1715  0695  dd7eff            	ld	a,(ix-1)
  1716  0698  d3a0              	out	(_IO_VDPDATA), a
  1717  069a  210001            	ld	hl,__vdp_textBuffer
  1718  069d  09                	add	hl, bc
  1719  069e  3620              	ld	(hl),0x20
  1720  06a0  03                	inc	bc
  1721  06a1  18ec              	jr	l_vdp_clearScreen_00106
  1722                          l_vdp_clearScreen_00108:
  1723  06a3  33                	inc	sp
  1724  06a4  dde1              	pop	ix
  1725  06a6  c9                	ret
  1726                          	SECTION code_compiler
  1727                          ;	---------------------------------
  1728                          ; Function vdp_fillScreen
  1729                          ; ---------------------------------
  1730                          _vdp_fillScreen:
  1731  06a7  dde5              	push	ix
  1732  06a9  dd210000          	ld	ix,0
  1733  06ad  dd39              	add	ix,sp
  1734  06af  2ac704            	ld	hl, (__vdpPatternNameTableAddr)
  1735  06b2  7d                	ld	a, l
  1736  06b3  d3a1              	out	(_IO_VDPLATCH), a
  1737  06b5  7c                	ld	a, h
  1738  06b6  e63f              	and	a,0x3f
  1739  06b8  f640              	or	a,0x40
  1740  06ba  d3a1              	out	(_IO_VDPLATCH), a
  1741  06bc  3acd04            	ld	a, (__vdpCursorMaxX+0)
  1742  06bf  0600              	ld	b,0x00
  1743  06c1  4f                	ld	c, a
  1744  06c2  03                	inc	bc
  1745  06c3  69                	ld	l, c
  1746  06c4  60                	ld	h, b
  1747  06c5  29                	add	hl, hl
  1748  06c6  09                	add	hl, bc
  1749  06c7  29                	add	hl, hl
  1750  06c8  29                	add	hl, hl
  1751  06c9  29                	add	hl, hl
  1752  06ca  eb                	ex	de, hl
  1753  06cb  010000            	ld	bc,0x0000
  1754                          l_vdp_fillScreen_00104:
  1755  06ce  79                	ld	a, c
  1756  06cf  93                	sub	a, e
  1757  06d0  78                	ld	a, b
  1758  06d1  9a                	sbc	a, d
  1759  06d2  3010              	jr	NC,l_vdp_fillScreen_00106
  1760  06d4  dd7e04            	ld	a,(ix+4)
  1761  06d7  d3a0              	out	(_IO_VDPDATA), a
  1762  06d9  210001            	ld	hl,__vdp_textBuffer
  1763  06dc  09                	add	hl, bc
  1764  06dd  dd7e04            	ld	a,(ix+4)
  1765  06e0  77                	ld	(hl), a
  1766  06e1  03                	inc	bc
  1767  06e2  18ea              	jr	l_vdp_fillScreen_00104
  1768                          l_vdp_fillScreen_00106:
  1769  06e4  dde1              	pop	ix
  1770  06e6  c9                	ret
  1771                          	SECTION code_compiler
  1772                          ;	---------------------------------
  1773                          ; Function vdp_clearRows
  1774                          ; ---------------------------------
  1775                          _vdp_clearRows:
  1776  06e7  dde5              	push	ix
  1777  06e9  dd210000          	ld	ix,0
  1778  06ed  dd39              	add	ix,sp
  1779  06ef  f5                	push	af
  1780  06f0  3acd04            	ld	a, (__vdpCursorMaxX+0)
  1781  06f3  0600              	ld	b,0x00
  1782  06f5  4f                	ld	c, a
  1783  06f6  03                	inc	bc
  1784  06f7  dd5e04            	ld	e,(ix+4)
  1785  06fa  1600              	ld	d,0x00
  1786  06fc  c5                	push	bc
  1787  06fd  c5                	push	bc
  1788  06fe  d5                	push	de
  1789  06ff  cd0000            	call	__mulint_callee
  1790  0702  eb                	ex	de, hl
  1791  0703  c1                	pop	bc
  1792  0704  fd2ac704          	ld	iy, (__vdpPatternNameTableAddr)
  1793  0708  fd19              	add	iy, de
  1794  070a  fde5              	push	iy
  1795  070c  e1                	pop	hl
  1796  070d  7d                	ld	a, l
  1797  070e  d3a1              	out	(_IO_VDPLATCH), a
  1798  0710  7c                	ld	a, h
  1799  0711  e63f              	and	a,0x3f
  1800  0713  f640              	or	a,0x40
  1801  0715  d3a1              	out	(_IO_VDPLATCH), a
  1802  0717  dd7e04            	ld	a,(ix+4)
  1803  071a  dd77fe            	ld	(ix-2),a
  1804                          l_vdp_clearRows_00108:
  1805  071d  dd7efe            	ld	a,(ix-2)
  1806  0720  dd9605            	sub	a,(ix+5)
  1807  0723  3023              	jr	NC,l_vdp_clearRows_00110
  1808  0725  dd36ff00          	ld	(ix-1),0x00
  1809                          l_vdp_clearRows_00105:
  1810  0729  dd6eff            	ld	l,(ix-1)
  1811  072c  2600              	ld	h,0x00
  1812  072e  af                	xor	a, a
  1813  072f  ed42              	sbc	hl, bc
  1814  0731  3010              	jr	NC,l_vdp_clearRows_00116
  1815  0733  210001            	ld	hl,__vdp_textBuffer
  1816  0736  19                	add	hl, de
  1817  0737  3620              	ld	(hl),0x20
  1818  0739  3e20              	ld	a,0x20
  1819  073b  d3a0              	out	(_IO_VDPDATA), a
  1820  073d  13                	inc	de
  1821  073e  dd34ff            	inc	(ix-1)
  1822  0741  18e6              	jr	l_vdp_clearRows_00105
  1823                          l_vdp_clearRows_00116:
  1824  0743  dd34fe            	inc	(ix-2)
  1825  0746  18d5              	jr	l_vdp_clearRows_00108
  1826                          l_vdp_clearRows_00110:
  1827  0748  ddf9              	ld	sp, ix
  1828  074a  dde1              	pop	ix
  1829  074c  c9                	ret
  1830                          	SECTION code_compiler
  1831                          ;	---------------------------------
  1832                          ; Function vdp_loadASCIIFont
  1833                          ; ---------------------------------
  1834                          _vdp_loadASCIIFont:
  1835  074d  2acb04            	ld	hl, (__vdpPatternGeneratorTableAddr)
  1836  0750  110001            	ld	de,0x0100
  1837  0753  19                	add	hl, de
  1838  0754  7d                	ld	a, l
  1839  0755  d3a1              	out	(_IO_VDPLATCH), a
  1840  0757  7c                	ld	a, h
  1841  0758  e63f              	and	a,0x3f
  1842  075a  f640              	or	a,0x40
  1843  075c  d3a1              	out	(_IO_VDPLATCH), a
  1844  075e  010000            	ld	bc,0x0000
  1845                          l_vdp_loadASCIIFont_00104:
  1846  0761  78                	ld	a, b
  1847  0762  d603              	sub	a,0x03
  1848  0764  d0                	ret	NC
  1849  0765  210200            	ld	hl,2
  1850  0768  39                	add	hl, sp
  1851  0769  7e                	ld	a, (hl)
  1852  076a  23                	inc	hl
  1853  076b  66                	ld	h, (hl)
  1854  076c  6f                	ld	l, a
  1855  076d  09                	add	hl, bc
  1856  076e  7e                	ld	a, (hl)
  1857  076f  d3a0              	out	(_IO_VDPDATA), a
  1858  0771  03                	inc	bc
  1859  0772  18ed              	jr	l_vdp_loadASCIIFont_00104
  1860                          	SECTION code_compiler
  1861                          ;	---------------------------------
  1862                          ; Function vdp_putPattern
  1863                          ; ---------------------------------
  1864                          _vdp_putPattern:
  1865  0774  dde5              	push	ix
  1866  0776  dd210000          	ld	ix,0
  1867  077a  dd39              	add	ix,sp
  1868  077c  3acd04            	ld	a, (__vdpCursorMaxX+0)
  1869  077f  1600              	ld	d,0x00
  1870  0781  5f                	ld	e, a
  1871  0782  13                	inc	de
  1872  0783  dd4e05            	ld	c,(ix+5)
  1873  0786  0600              	ld	b,0x00
  1874  0788  d5                	push	de
  1875  0789  c5                	push	bc
  1876  078a  cd0000            	call	__mulint_callee
  1877  078d  dd4e04            	ld	c,(ix+4)
  1878  0790  0600              	ld	b,0x00
  1879  0792  09                	add	hl, bc
  1880  0793  eb                	ex	de, hl
  1881  0794  2ac704            	ld	hl, (__vdpPatternNameTableAddr)
  1882  0797  19                	add	hl, de
  1883  0798  7d                	ld	a, l
  1884  0799  d3a1              	out	(_IO_VDPLATCH), a
  1885  079b  7c                	ld	a, h
  1886  079c  e63f              	and	a,0x3f
  1887  079e  f640              	or	a,0x40
  1888  07a0  d3a1              	out	(_IO_VDPLATCH), a
  1889  07a2  210001            	ld	hl,__vdp_textBuffer+0
  1890  07a5  19                	add	hl, de
  1891  07a6  dd7e06            	ld	a,(ix+6)
  1892  07a9  77                	ld	(hl), a
  1893  07aa  dd7e06            	ld	a,(ix+6)
  1894  07ad  d3a0              	out	(_IO_VDPDATA), a
  1895  07af  dde1              	pop	ix
  1896  07b1  c9                	ret
  1897                          	SECTION code_compiler
  1898                          ;	---------------------------------
  1899                          ; Function vdp_loadPatternTable
  1900                          ; ---------------------------------
  1901                          _vdp_loadPatternTable:
  1902  07b2  dde5              	push	ix
  1903  07b4  dd210000          	ld	ix,0
  1904  07b8  dd39              	add	ix,sp
  1905  07ba  2acb04            	ld	hl, (__vdpPatternGeneratorTableAddr)
  1906  07bd  7d                	ld	a, l
  1907  07be  d3a1              	out	(_IO_VDPLATCH), a
  1908  07c0  7c                	ld	a, h
  1909  07c1  e63f              	and	a,0x3f
  1910  07c3  f640              	or	a,0x40
  1911  07c5  d3a1              	out	(_IO_VDPLATCH), a
  1912  07c7  010000            	ld	bc,0x0000
  1913                          l_vdp_loadPatternTable_00106:
  1914  07ca  79                	ld	a, c
  1915  07cb  dd9606            	sub	a,(ix+6)
  1916  07ce  78                	ld	a, b
  1917  07cf  dd9e07            	sbc	a,(ix+7)
  1918  07d2  300d              	jr	NC,l_vdp_loadPatternTable_00101
  1919  07d4  dd6e04            	ld	l,(ix+4)
  1920  07d7  dd6605            	ld	h,(ix+5)
  1921  07da  09                	add	hl, bc
  1922  07db  7e                	ld	a, (hl)
  1923  07dc  d3a0              	out	(_IO_VDPDATA), a
  1924  07de  03                	inc	bc
  1925  07df  18e9              	jr	l_vdp_loadPatternTable_00106
  1926                          l_vdp_loadPatternTable_00101:
  1927  07e1  010000            	ld	bc,0x0000
  1928                          l_vdp_loadPatternTable_00109:
  1929  07e4  79                	ld	a, c
  1930  07e5  dd9606            	sub	a,(ix+6)
  1931  07e8  78                	ld	a, b
  1932  07e9  dd9e07            	sbc	a,(ix+7)
  1933  07ec  300d              	jr	NC,l_vdp_loadPatternTable_00102
  1934  07ee  dd6e04            	ld	l,(ix+4)
  1935  07f1  dd6605            	ld	h,(ix+5)
  1936  07f4  09                	add	hl, bc
  1937  07f5  7e                	ld	a, (hl)
  1938  07f6  d3a0              	out	(_IO_VDPDATA), a
  1939  07f8  03                	inc	bc
  1940  07f9  18e9              	jr	l_vdp_loadPatternTable_00109
  1941                          l_vdp_loadPatternTable_00102:
  1942  07fb  010000            	ld	bc,0x0000
  1943                          l_vdp_loadPatternTable_00112:
  1944  07fe  79                	ld	a, c
  1945  07ff  dd9606            	sub	a,(ix+6)
  1946  0802  78                	ld	a, b
  1947  0803  dd9e07            	sbc	a,(ix+7)
  1948  0806  300d              	jr	NC,l_vdp_loadPatternTable_00114
  1949  0808  dd6e04            	ld	l,(ix+4)
  1950  080b  dd6605            	ld	h,(ix+5)
  1951  080e  09                	add	hl, bc
  1952  080f  7e                	ld	a, (hl)
  1953  0810  d3a0              	out	(_IO_VDPDATA), a
  1954  0812  03                	inc	bc
  1955  0813  18e9              	jr	l_vdp_loadPatternTable_00112
  1956                          l_vdp_loadPatternTable_00114:
  1957  0815  dde1              	pop	ix
  1958  0817  c9                	ret
  1959                          	SECTION code_compiler
  1960                          ;	---------------------------------
  1961                          ; Function vdp_loadColorTable
  1962                          ; ---------------------------------
  1963                          _vdp_loadColorTable:
  1964  0818  dde5              	push	ix
  1965  081a  dd210000          	ld	ix,0
  1966  081e  dd39              	add	ix,sp
  1967  0820  2ac904            	ld	hl, (__vdpColorTableAddr)
  1968  0823  7d                	ld	a, l
  1969  0824  d3a1              	out	(_IO_VDPLATCH), a
  1970  0826  7c                	ld	a, h
  1971  0827  e63f              	and	a,0x3f
  1972  0829  f640              	or	a,0x40
  1973  082b  d3a1              	out	(_IO_VDPLATCH), a
  1974  082d  010000            	ld	bc,0x0000
  1975                          l_vdp_loadColorTable_00106:
  1976  0830  79                	ld	a, c
  1977  0831  dd9606            	sub	a,(ix+6)
  1978  0834  78                	ld	a, b
  1979  0835  dd9e07            	sbc	a,(ix+7)
  1980  0838  300d              	jr	NC,l_vdp_loadColorTable_00101
  1981  083a  dd6e04            	ld	l,(ix+4)
  1982  083d  dd6605            	ld	h,(ix+5)
  1983  0840  09                	add	hl, bc
  1984  0841  7e                	ld	a, (hl)
  1985  0842  d3a0              	out	(_IO_VDPDATA), a
  1986  0844  03                	inc	bc
  1987  0845  18e9              	jr	l_vdp_loadColorTable_00106
  1988                          l_vdp_loadColorTable_00101:
  1989  0847  010000            	ld	bc,0x0000
  1990                          l_vdp_loadColorTable_00109:
  1991  084a  79                	ld	a, c
  1992  084b  dd9606            	sub	a,(ix+6)
  1993  084e  78                	ld	a, b
  1994  084f  dd9e07            	sbc	a,(ix+7)
  1995  0852  300d              	jr	NC,l_vdp_loadColorTable_00102
  1996  0854  dd6e04            	ld	l,(ix+4)
  1997  0857  dd6605            	ld	h,(ix+5)
  1998  085a  09                	add	hl, bc
  1999  085b  7e                	ld	a, (hl)
  2000  085c  d3a0              	out	(_IO_VDPDATA), a
  2001  085e  03                	inc	bc
  2002  085f  18e9              	jr	l_vdp_loadColorTable_00109
  2003                          l_vdp_loadColorTable_00102:
  2004  0861  010000            	ld	bc,0x0000
  2005                          l_vdp_loadColorTable_00112:
  2006  0864  79                	ld	a, c
  2007  0865  dd9606            	sub	a,(ix+6)
  2008  0868  78                	ld	a, b
  2009  0869  dd9e07            	sbc	a,(ix+7)
  2010  086c  300d              	jr	NC,l_vdp_loadColorTable_00114
  2011  086e  dd6e04            	ld	l,(ix+4)
  2012  0871  dd6605            	ld	h,(ix+5)
  2013  0874  09                	add	hl, bc
  2014  0875  7e                	ld	a, (hl)
  2015  0876  d3a0              	out	(_IO_VDPDATA), a
  2016  0878  03                	inc	bc
  2017  0879  18e9              	jr	l_vdp_loadColorTable_00112
  2018                          l_vdp_loadColorTable_00114:
  2019  087b  dde1              	pop	ix
  2020  087d  c9                	ret
  2021                          	SECTION code_compiler
  2022                          ;	---------------------------------
  2023                          ; Function vdp_colorizePattern
  2024                          ; ---------------------------------
  2025                          _vdp_colorizePattern:
  2026  087e  dde5              	push	ix
  2027  0880  dd210000          	ld	ix,0
  2028  0884  dd39              	add	ix,sp
  2029  0886  3b                	dec	sp
  2030  0887  dd6e04            	ld	l,(ix+4)
  2031  088a  2600              	ld	h,0x00
  2032  088c  29                	add	hl, hl
  2033  088d  29                	add	hl, hl
  2034  088e  29                	add	hl, hl
  2035  088f  4d                	ld	c, l
  2036  0890  44                	ld	b, h
  2037  0891  dd7e05            	ld	a,(ix+5)
  2038  0894  87                	add	a, a
  2039  0895  87                	add	a, a
  2040  0896  87                	add	a, a
  2041  0897  87                	add	a, a
  2042  0898  dd5e06            	ld	e,(ix+6)
  2043  089b  83                	add	a, e
  2044  089c  dd77ff            	ld	(ix-1),a
  2045  089f  2ac904            	ld	hl, (__vdpColorTableAddr)
  2046  08a2  09                	add	hl, bc
  2047  08a3  7d                	ld	a, l
  2048  08a4  d3a1              	out	(_IO_VDPLATCH), a
  2049  08a6  7c                	ld	a, h
  2050  08a7  e63f              	and	a,0x3f
  2051  08a9  f640              	or	a,0x40
  2052  08ab  d3a1              	out	(_IO_VDPLATCH), a
  2053  08ad  1e00              	ld	e,0x00
  2054                          l_vdp_colorizePattern_00108:
  2055  08af  7b                	ld	a, e
  2056  08b0  d608              	sub	a,0x08
  2057  08b2  3008              	jr	NC,l_vdp_colorizePattern_00101
  2058  08b4  dd7eff            	ld	a,(ix-1)
  2059  08b7  d3a0              	out	(_IO_VDPDATA), a
  2060  08b9  1c                	inc	e
  2061  08ba  18f3              	jr	l_vdp_colorizePattern_00108
  2062                          l_vdp_colorizePattern_00101:
  2063  08bc  2ac904            	ld	hl, (__vdpColorTableAddr)
  2064  08bf  110008            	ld	de,0x0800
  2065  08c2  19                	add	hl, de
  2066  08c3  09                	add	hl, bc
  2067  08c4  7d                	ld	a, l
  2068  08c5  d3a1              	out	(_IO_VDPLATCH), a
  2069  08c7  7c                	ld	a, h
  2070  08c8  e63f              	and	a,0x3f
  2071  08ca  f640              	or	a,0x40
  2072  08cc  d3a1              	out	(_IO_VDPLATCH), a
  2073  08ce  1e00              	ld	e,0x00
  2074                          l_vdp_colorizePattern_00111:
  2075  08d0  7b                	ld	a, e
  2076  08d1  d608              	sub	a,0x08
  2077  08d3  3008              	jr	NC,l_vdp_colorizePattern_00102
  2078  08d5  dd7eff            	ld	a,(ix-1)
  2079  08d8  d3a0              	out	(_IO_VDPDATA), a
  2080  08da  1c                	inc	e
  2081  08db  18f3              	jr	l_vdp_colorizePattern_00111
  2082                          l_vdp_colorizePattern_00102:
  2083  08dd  2ac904            	ld	hl, (__vdpColorTableAddr)
  2084  08e0  110010            	ld	de,0x1000
  2085  08e3  19                	add	hl, de
  2086  08e4  09                	add	hl, bc
  2087  08e5  7d                	ld	a, l
  2088  08e6  d3a1              	out	(_IO_VDPLATCH), a
  2089  08e8  7c                	ld	a, h
  2090  08e9  e63f              	and	a,0x3f
  2091  08eb  f640              	or	a,0x40
  2092  08ed  d3a1              	out	(_IO_VDPLATCH), a
  2093  08ef  0e00              	ld	c,0x00
  2094                          l_vdp_colorizePattern_00114:
  2095  08f1  79                	ld	a, c
  2096  08f2  d608              	sub	a,0x08
  2097  08f4  3008              	jr	NC,l_vdp_colorizePattern_00116
  2098  08f6  dd7eff            	ld	a,(ix-1)
  2099  08f9  d3a0              	out	(_IO_VDPDATA), a
  2100  08fb  0c                	inc	c
  2101  08fc  18f3              	jr	l_vdp_colorizePattern_00114
  2102                          l_vdp_colorizePattern_00116:
  2103  08fe  33                	inc	sp
  2104  08ff  dde1              	pop	ix
  2105  0901  c9                	ret
  2106                          	SECTION code_compiler
  2107                          ;	---------------------------------
  2108                          ; Function vdp_plotHires
  2109                          ; ---------------------------------
  2110                          _vdp_plotHires:
  2111  0902  dde5              	push	ix
  2112  0904  dd210000          	ld	ix,0
  2113  0908  dd39              	add	ix,sp
  2114  090a  21fbff            	ld	hl, -5
  2115  090d  39                	add	hl, sp
  2116  090e  f9                	ld	sp, hl
  2117  090f  dd7e04            	ld	a,(ix+4)
  2118  0912  dd77fb            	ld	(ix-5),a
  2119  0915  dd36fc00          	ld	(ix-4),0x00
  2120  0919  e1                	pop	hl
  2121  091a  e5                	push	hl
  2122  091b  ddcbfc7e          	bit	7,(ix-4)
  2123  091f  2806              	jr	Z,l_vdp_plotHires_00110
  2124  0921  e1                	pop	hl
  2125  0922  e5                	push	hl
  2126  0923  110700            	ld	de,0x0007
  2127  0926  19                	add	hl, de
  2128                          l_vdp_plotHires_00110:
  2129  0927  cb2c              	sra	h
  2130  0929  cb1d              	rr	l
  2131  092b  cb2c              	sra	h
  2132  092d  cb1d              	rr	l
  2133  092f  cb2c              	sra	h
  2134  0931  cb1d              	rr	l
  2135  0933  29                	add	hl, hl
  2136  0934  29                	add	hl, hl
  2137  0935  29                	add	hl, hl
  2138  0936  dd4e05            	ld	c,(ix+5)
  2139  0939  0600              	ld	b,0x00
  2140  093b  79                	ld	a, c
  2141  093c  e607              	and	a,0x07
  2142  093e  5f                	ld	e, a
  2143  093f  1600              	ld	d,0x00
  2144  0941  19                	add	hl, de
  2145  0942  eb                	ex	de, hl
  2146  0943  69                	ld	l, c
  2147  0944  60                	ld	h, b
  2148  0945  cb78              	bit	7, b
  2149  0947  2804              	jr	Z,l_vdp_plotHires_00111
  2150  0949  210700            	ld	hl,0x0007
  2151  094c  09                	add	hl, bc
  2152                          l_vdp_plotHires_00111:
  2153  094d  cb2c              	sra	h
  2154  094f  cb1d              	rr	l
  2155  0951  cb2c              	sra	h
  2156  0953  cb1d              	rr	l
  2157  0955  cb2c              	sra	h
  2158  0957  cb1d              	rr	l
  2159  0959  65                	ld	h, l
  2160  095a  2e00              	ld	l,0x00
  2161  095c  19                	add	hl, de
  2162  095d  eb                	ex	de, hl
  2163  095e  3acb04            	ld	a, (__vdpPatternGeneratorTableAddr+0)
  2164  0961  83                	add	a, e
  2165  0962  4f                	ld	c, a
  2166  0963  3acc04            	ld	a, (__vdpPatternGeneratorTableAddr+1)
  2167  0966  8a                	adc	a, d
  2168  0967  47                	ld	b, a
  2169  0968  79                	ld	a, c
  2170  0969  68                	ld	l, b
  2171  096a  d3a1              	out	(_IO_VDPLATCH), a
  2172  096c  7d                	ld	a, l
  2173  096d  e63f              	and	a,0x3f
  2174  096f  d3a1              	out	(_IO_VDPLATCH), a
  2175  0971  dba0              	in	a, (_IO_VDPDATA)
  2176  0973  dd77fd            	ld	(ix-3),a
  2177  0976  3ac904            	ld	a, (__vdpColorTableAddr+0)
  2178  0979  83                	add	a, e
  2179  097a  dd77fe            	ld	(ix-2),a
  2180  097d  3aca04            	ld	a, (__vdpColorTableAddr+1)
  2181  0980  8a                	adc	a, d
  2182  0981  dd77ff            	ld	(ix-1),a
  2183  0984  dd7efe            	ld	a,(ix-2)
  2184  0987  dd5eff            	ld	e,(ix-1)
  2185  098a  d3a1              	out	(_IO_VDPLATCH), a
  2186  098c  7b                	ld	a, e
  2187  098d  e63f              	and	a,0x3f
  2188  098f  d3a1              	out	(_IO_VDPLATCH), a
  2189  0991  dba0              	in	a, (_IO_VDPDATA)
  2190  0993  6f                	ld	l, a
  2191  0994  dd7efb            	ld	a,(ix-5)
  2192  0997  e607              	and	a,0x07
  2193  0999  f5                	push	af
  2194  099a  118000            	ld	de,0x0080
  2195  099d  f1                	pop	af
  2196  099e  3c                	inc	a
  2197  099f  1804              	jr	l_vdp_plotHires_00128
  2198                          l_vdp_plotHires_00127:
  2199  09a1  cb2a              	sra	d
  2200  09a3  cb1b              	rr	e
  2201                          l_vdp_plotHires_00128:
  2202  09a5  3d                	dec	a
  2203  09a6  20f9              	jr	NZ, l_vdp_plotHires_00127
  2204  09a8  dd7e06            	ld	a,(ix+6)
  2205  09ab  b7                	or	a, a
  2206  09ac  2814              	jr	Z,l_vdp_plotHires_00102
  2207  09ae  7b                	ld	a, e
  2208  09af  ddb6fd            	or	a,(ix-3)
  2209  09b2  5f                	ld	e, a
  2210  09b3  7d                	ld	a, l
  2211  09b4  e60f              	and	a,0x0f
  2212  09b6  6f                	ld	l, a
  2213  09b7  dd7e06            	ld	a,(ix+6)
  2214  09ba  87                	add	a, a
  2215  09bb  87                	add	a, a
  2216  09bc  87                	add	a, a
  2217  09bd  87                	add	a, a
  2218  09be  b5                	or	a, l
  2219  09bf  6f                	ld	l, a
  2220  09c0  1811              	jr	l_vdp_plotHires_00103
  2221                          l_vdp_plotHires_00102:
  2222  09c2  7b                	ld	a, e
  2223  09c3  2f                	cpl
  2224  09c4  dda6fd            	and	a,(ix-3)
  2225  09c7  5f                	ld	e, a
  2226  09c8  7d                	ld	a, l
  2227  09c9  e6f0              	and	a,0xf0
  2228  09cb  57                	ld	d, a
  2229  09cc  dd7e07            	ld	a,(ix+7)
  2230  09cf  e60f              	and	a,0x0f
  2231  09d1  b2                	or	a, d
  2232  09d2  6f                	ld	l, a
  2233                          l_vdp_plotHires_00103:
  2234  09d3  79                	ld	a, c
  2235  09d4  d3a1              	out	(_IO_VDPLATCH), a
  2236  09d6  78                	ld	a, b
  2237  09d7  e63f              	and	a,0x3f
  2238  09d9  f640              	or	a,0x40
  2239  09db  d3a1              	out	(_IO_VDPLATCH), a
  2240  09dd  7b                	ld	a, e
  2241  09de  d3a0              	out	(_IO_VDPDATA), a
  2242  09e0  dd7efe            	ld	a,(ix-2)
  2243  09e3  d3a1              	out	(_IO_VDPLATCH), a
  2244  09e5  dd7eff            	ld	a,(ix-1)
  2245  09e8  e63f              	and	a,0x3f
  2246  09ea  f640              	or	a,0x40
  2247  09ec  d3a1              	out	(_IO_VDPLATCH), a
  2248  09ee  7d                	ld	a, l
  2249  09ef  d3a0              	out	(_IO_VDPDATA), a
  2250  09f1  ddf9              	ld	sp, ix
  2251  09f3  dde1              	pop	ix
  2252  09f5  c9                	ret
  2253                          	SECTION code_compiler
  2254                          ;	---------------------------------
  2255                          ; Function vdp_plotColor
  2256                          ; ---------------------------------
  2257                          _vdp_plotColor:
  2258  09f6  dde5              	push	ix
  2259  09f8  dd210000          	ld	ix,0
  2260  09fc  dd39              	add	ix,sp
  2261  09fe  21f4ff            	ld	hl, -12
  2262  0a01  39                	add	hl, sp
  2263  0a02  f9                	ld	sp, hl
  2264  0a03  dd7e04            	ld	a,(ix+4)
  2265  0a06  dd77f4            	ld	(ix-12),a
  2266  0a09  dd36f500          	ld	(ix-11),0x00
  2267  0a0d  dd7e05            	ld	a,(ix+5)
  2268  0a10  dd77f6            	ld	(ix-10),a
  2269  0a13  dd36f700          	ld	(ix-9),0x00
  2270  0a17  dd7ef5            	ld	a,(ix-11)
  2271  0a1a  07                	rlca
  2272  0a1b  e601              	and	a,0x01
  2273  0a1d  dd77f8            	ld	(ix-8),a
  2274  0a20  dd7ef4            	ld	a,(ix-12)
  2275  0a23  c601              	add	a,0x01
  2276  0a25  dd77f9            	ld	(ix-7),a
  2277  0a28  dd7ef5            	ld	a,(ix-11)
  2278  0a2b  ce00              	adc	a,0x00
  2279  0a2d  dd77fa            	ld	(ix-6),a
  2280  0a30  dd7ef6            	ld	a,(ix-10)
  2281  0a33  e607              	and	a,0x07
  2282  0a35  dd77fb            	ld	(ix-5),a
  2283  0a38  dd36fc00          	ld	(ix-4),0x00
  2284  0a3c  dd7ef7            	ld	a,(ix-9)
  2285  0a3f  07                	rlca
  2286  0a40  e601              	and	a,0x01
  2287  0a42  dd77fd            	ld	(ix-3),a
  2288  0a45  dd7ef6            	ld	a,(ix-10)
  2289  0a48  c607              	add	a,0x07
  2290  0a4a  dd77fe            	ld	(ix-2),a
  2291  0a4d  dd7ef7            	ld	a,(ix-9)
  2292  0a50  ce00              	adc	a,0x00
  2293  0a52  dd77ff            	ld	(ix-1),a
  2294  0a55  3ace04            	ld	a, (__vdpMode+0)
  2295  0a58  d602              	sub	a,0x02
  2296  0a5a  207c              	jr	NZ,l_vdp_plotColor_00110
  2297  0a5c  e1                	pop	hl
  2298  0a5d  e5                	push	hl
  2299  0a5e  dd7ef8            	ld	a,(ix-8)
  2300  0a61  b7                	or	a, a
  2301  0a62  2806              	jr	Z,l_vdp_plotColor_00119
  2302  0a64  dd6ef9            	ld	l,(ix-7)
  2303  0a67  dd66fa            	ld	h,(ix-6)
  2304                          l_vdp_plotColor_00119:
  2305  0a6a  cb2c              	sra	h
  2306  0a6c  cb1d              	rr	l
  2307  0a6e  29                	add	hl, hl
  2308  0a6f  29                	add	hl, hl
  2309  0a70  29                	add	hl, hl
  2310  0a71  eb                	ex	de, hl
  2311  0a72  2acb04            	ld	hl, (__vdpPatternGeneratorTableAddr)
  2312  0a75  19                	add	hl, de
  2313  0a76  dd4efb            	ld	c,(ix-5)
  2314  0a79  dd46fc            	ld	b,(ix-4)
  2315  0a7c  09                	add	hl, bc
  2316  0a7d  d1                	pop	de
  2317  0a7e  c1                	pop	bc
  2318  0a7f  c5                	push	bc
  2319  0a80  d5                	push	de
  2320  0a81  dd7efd            	ld	a,(ix-3)
  2321  0a84  b7                	or	a, a
  2322  0a85  2806              	jr	Z,l_vdp_plotColor_00120
  2323  0a87  dd4efe            	ld	c,(ix-2)
  2324  0a8a  dd46ff            	ld	b,(ix-1)
  2325                          l_vdp_plotColor_00120:
  2326  0a8d  cb28              	sra	b
  2327  0a8f  cb19              	rr	c
  2328  0a91  cb28              	sra	b
  2329  0a93  cb19              	rr	c
  2330  0a95  cb28              	sra	b
  2331  0a97  cb19              	rr	c
  2332  0a99  41                	ld	b, c
  2333  0a9a  0e00              	ld	c,0x00
  2334  0a9c  09                	add	hl, bc
  2335  0a9d  5d                	ld	e, l
  2336  0a9e  7b                	ld	a, e
  2337  0a9f  d3a1              	out	(_IO_VDPLATCH), a
  2338  0aa1  7c                	ld	a, h
  2339  0aa2  e63f              	and	a,0x3f
  2340  0aa4  4f                	ld	c,a
  2341  0aa5  d3a1              	out	(_IO_VDPLATCH), a
  2342  0aa7  dba0              	in	a, (_IO_VDPDATA)
  2343  0aa9  47                	ld	b, a
  2344  0aaa  7b                	ld	a, e
  2345  0aab  d3a1              	out	(_IO_VDPLATCH), a
  2346  0aad  79                	ld	a, c
  2347  0aae  f640              	or	a,0x40
  2348  0ab0  d3a1              	out	(_IO_VDPLATCH), a
  2349  0ab2  dd4e04            	ld	c,(ix+4)
  2350  0ab5  78                	ld	a, b
  2351  0ab6  cb41              	bit	0, c
  2352  0ab8  280e              	jr	Z,l_vdp_plotColor_00102
  2353  0aba  e6f0              	and	a,0xf0
  2354  0abc  4f                	ld	c, a
  2355  0abd  dd7e06            	ld	a,(ix+6)
  2356  0ac0  e60f              	and	a,0x0f
  2357  0ac2  81                	add	a, c
  2358  0ac3  d3a0              	out	(_IO_VDPDATA), a
  2359  0ac5  c3a80b            	jp	l_vdp_plotColor_00117
  2360                          l_vdp_plotColor_00102:
  2361  0ac8  e60f              	and	a,0x0f
  2362  0aca  4f                	ld	c, a
  2363  0acb  dd7e06            	ld	a,(ix+6)
  2364  0ace  87                	add	a, a
  2365  0acf  87                	add	a, a
  2366  0ad0  87                	add	a, a
  2367  0ad1  87                	add	a, a
  2368  0ad2  81                	add	a, c
  2369  0ad3  d3a0              	out	(_IO_VDPDATA), a
  2370  0ad5  c3a80b            	jp	l_vdp_plotColor_00117
  2371                          l_vdp_plotColor_00110:
  2372  0ad8  3ace04            	ld	a, (__vdpMode+0)
  2373  0adb  3d                	dec	a
  2374  0adc  c2a80b            	jp	NZ,l_vdp_plotColor_00117
  2375  0adf  e1                	pop	hl
  2376  0ae0  e5                	push	hl
  2377  0ae1  dd7ef8            	ld	a,(ix-8)
  2378  0ae4  b7                	or	a, a
  2379  0ae5  2806              	jr	Z,l_vdp_plotColor_00121
  2380  0ae7  dd6ef9            	ld	l,(ix-7)
  2381  0aea  dd66fa            	ld	h,(ix-6)
  2382                          l_vdp_plotColor_00121:
  2383  0aed  cb2c              	sra	h
  2384  0aef  cb1d              	rr	l
  2385  0af1  29                	add	hl, hl
  2386  0af2  29                	add	hl, hl
  2387  0af3  29                	add	hl, hl
  2388  0af4  dd5efb            	ld	e,(ix-5)
  2389  0af7  dd56fc            	ld	d,(ix-4)
  2390  0afa  19                	add	hl, de
  2391  0afb  dd5ef6            	ld	e,(ix-10)
  2392  0afe  dd56f7            	ld	d,(ix-9)
  2393  0b01  dd7efd            	ld	a,(ix-3)
  2394  0b04  b7                	or	a, a
  2395  0b05  2806              	jr	Z,l_vdp_plotColor_00122
  2396  0b07  dd5efe            	ld	e,(ix-2)
  2397  0b0a  dd56ff            	ld	d,(ix-1)
  2398                          l_vdp_plotColor_00122:
  2399  0b0d  cb2a              	sra	d
  2400  0b0f  cb1b              	rr	e
  2401  0b11  cb2a              	sra	d
  2402  0b13  cb1b              	rr	e
  2403  0b15  cb2a              	sra	d
  2404  0b17  cb1b              	rr	e
  2405  0b19  43                	ld	b, e
  2406  0b1a  0e00              	ld	c,0x00
  2407  0b1c  09                	add	hl, bc
  2408  0b1d  dd75fa            	ld	(ix-6),l
  2409  0b20  dd74fb            	ld	(ix-5),h
  2410  0b23  3ac904            	ld	a, (__vdpColorTableAddr+0)
  2411  0b26  dd86fa            	add	a,(ix-6)
  2412  0b29  dd77fc            	ld	(ix-4),a
  2413  0b2c  3aca04            	ld	a, (__vdpColorTableAddr+1)
  2414  0b2f  dd8efb            	adc	a,(ix-5)
  2415  0b32  dd77fd            	ld	(ix-3),a
  2416  0b35  dd7efc            	ld	a,(ix-4)
  2417  0b38  dd4efd            	ld	c,(ix-3)
  2418  0b3b  d3a1              	out	(_IO_VDPLATCH), a
  2419  0b3d  79                	ld	a, c
  2420  0b3e  e63f              	and	a,0x3f
  2421  0b40  d3a1              	out	(_IO_VDPLATCH), a
  2422  0b42  dba0              	in	a, (_IO_VDPDATA)
  2423  0b44  dd77ff            	ld	(ix-1),a
  2424  0b47  dd7e04            	ld	a,(ix+4)
  2425  0b4a  0f                	rrca
  2426  0b4b  3813              	jr	C,l_vdp_plotColor_00105
  2427  0b4d  dd7eff            	ld	a,(ix-1)
  2428  0b50  e60f              	and	a,0x0f
  2429  0b52  4f                	ld	c, a
  2430  0b53  dd7e06            	ld	a,(ix+6)
  2431  0b56  87                	add	a, a
  2432  0b57  87                	add	a, a
  2433  0b58  87                	add	a, a
  2434  0b59  87                	add	a, a
  2435  0b5a  b1                	or	a, c
  2436  0b5b  dd77ff            	ld	(ix-1),a
  2437  0b5e  1819              	jr	l_vdp_plotColor_00106
  2438                          l_vdp_plotColor_00105:
  2439  0b60  dd7eff            	ld	a,(ix-1)
  2440  0b63  e6f0              	and	a,0xf0
  2441  0b65  dd77fe            	ld	(ix-2),a
  2442  0b68  dd7e06            	ld	a,(ix+6)
  2443  0b6b  dd77ff            	ld	(ix-1),a
  2444  0b6e  e60f              	and	a,0x0f
  2445  0b70  dd77ff            	ld	(ix-1),a
  2446  0b73  ddb6fe            	or	a,(ix-2)
  2447  0b76  dd77ff            	ld	(ix-1),a
  2448                          l_vdp_plotColor_00106:
  2449  0b79  3acb04            	ld	a, (__vdpPatternGeneratorTableAddr+0)
  2450  0b7c  dd86fa            	add	a,(ix-6)
  2451  0b7f  47                	ld	b, a
  2452  0b80  3acc04            	ld	a, (__vdpPatternGeneratorTableAddr+1)
  2453  0b83  dd8efb            	adc	a,(ix-5)
  2454  0b86  4f                	ld	c, a
  2455  0b87  78                	ld	a, b
  2456  0b88  d3a1              	out	(_IO_VDPLATCH), a
  2457  0b8a  79                	ld	a, c
  2458  0b8b  e63f              	and	a,0x3f
  2459  0b8d  f640              	or	a,0x40
  2460  0b8f  d3a1              	out	(_IO_VDPLATCH), a
  2461  0b91  3ef0              	ld	a,0xf0
  2462  0b93  d3a0              	out	(_IO_VDPDATA), a
  2463  0b95  dd7efc            	ld	a,(ix-4)
  2464  0b98  d3a1              	out	(_IO_VDPLATCH), a
  2465  0b9a  dd7efd            	ld	a,(ix-3)
  2466  0b9d  e63f              	and	a,0x3f
  2467  0b9f  f640              	or	a,0x40
  2468  0ba1  d3a1              	out	(_IO_VDPLATCH), a
  2469  0ba3  dd7eff            	ld	a,(ix-1)
  2470  0ba6  d3a0              	out	(_IO_VDPDATA), a
  2471                          l_vdp_plotColor_00117:
  2472  0ba8  ddf9              	ld	sp, ix
  2473  0baa  dde1              	pop	ix
  2474  0bac  c9                	ret
  2475                          	SECTION code_compiler
  2476                          ;	---------------------------------
  2477                          ; Function vdp_disableSprite
  2478                          ; ---------------------------------
  2479                          _vdp_disableSprite:
  2480  0bad  fd210200          	ld	iy,2
  2481  0bb1  fd39              	add	iy, sp
  2482  0bb3  fd6e00            	ld	l,(iy+0)
  2483  0bb6  2600              	ld	h,0x00
  2484  0bb8  29                	add	hl, hl
  2485  0bb9  29                	add	hl, hl
  2486  0bba  eb                	ex	de, hl
  2487  0bbb  2ac204            	ld	hl, (__vdpSpriteAttributeTableAddr)
  2488  0bbe  19                	add	hl, de
  2489  0bbf  7d                	ld	a, l
  2490  0bc0  d3a1              	out	(_IO_VDPLATCH), a
  2491  0bc2  7c                	ld	a, h
  2492  0bc3  e63f              	and	a,0x3f
  2493  0bc5  f640              	or	a,0x40
  2494  0bc7  d3a1              	out	(_IO_VDPLATCH), a
  2495  0bc9  3ec0              	ld	a,0xc0
  2496  0bcb  d3a0              	out	(_IO_VDPDATA), a
  2497  0bcd  3e00              	ld	a,0x00
  2498  0bcf  d3a0              	out	(_IO_VDPDATA), a
  2499  0bd1  3e00              	ld	a,0x00
  2500  0bd3  d3a0              	out	(_IO_VDPDATA), a
  2501  0bd5  3e80              	ld	a,0x80
  2502  0bd7  d3a0              	out	(_IO_VDPDATA), a
  2503  0bd9  c9                	ret
  2504                          	SECTION code_compiler
  2505                          ;	---------------------------------
  2506                          ; Function vdp_loadSpritePatternNameTable
  2507                          ; ---------------------------------
  2508                          _vdp_loadSpritePatternNameTable:
  2509  0bda  dde5              	push	ix
  2510  0bdc  dd210000          	ld	ix,0
  2511  0be0  dd39              	add	ix,sp
  2512  0be2  0600              	ld	b,0x00
  2513                          l_vdp_loadSpritePatternNameTable_00110:
  2514  0be4  78                	ld	a, b
  2515  0be5  d620              	sub	a,0x20
  2516  0be7  300b              	jr	NC,l_vdp_loadSpritePatternNameTable_00101
  2517  0be9  c5                	push	bc
  2518  0bea  c5                	push	bc
  2519  0beb  33                	inc	sp
  2520  0bec  cdad0b            	call	_vdp_disableSprite
  2521  0bef  33                	inc	sp
  2522  0bf0  c1                	pop	bc
  2523  0bf1  04                	inc	b
  2524  0bf2  18f0              	jr	l_vdp_loadSpritePatternNameTable_00110
  2525                          l_vdp_loadSpritePatternNameTable_00101:
  2526  0bf4  ed4bc404          	ld	bc, (__vdpSpriteGeneratorTableAddr)
  2527  0bf8  59                	ld	e, c
  2528  0bf9  3ac604            	ld	a, (__vdpSpriteSizeSelected+0)
  2529  0bfc  b7                	or	a, a
  2530  0bfd  282c              	jr	Z,l_vdp_loadSpritePatternNameTable_00105
  2531  0bff  7b                	ld	a, e
  2532  0c00  d3a1              	out	(_IO_VDPLATCH), a
  2533  0c02  78                	ld	a, b
  2534  0c03  e63f              	and	a,0x3f
  2535  0c05  f640              	or	a,0x40
  2536  0c07  d3a1              	out	(_IO_VDPLATCH), a
  2537  0c09  dd6e04            	ld	l,(ix+4)
  2538  0c0c  dd6605            	ld	h,(ix+5)
  2539  0c0f  29                	add	hl, hl
  2540  0c10  29                	add	hl, hl
  2541  0c11  29                	add	hl, hl
  2542  0c12  29                	add	hl, hl
  2543  0c13  29                	add	hl, hl
  2544  0c14  eb                	ex	de,hl
  2545  0c15  010000            	ld	bc,0x0000
  2546                          l_vdp_loadSpritePatternNameTable_00113:
  2547  0c18  79                	ld	a, c
  2548  0c19  93                	sub	a, e
  2549  0c1a  78                	ld	a, b
  2550  0c1b  9a                	sbc	a, d
  2551  0c1c  3037              	jr	NC,l_vdp_loadSpritePatternNameTable_00118
  2552  0c1e  dd6e06            	ld	l,(ix+6)
  2553  0c21  dd6607            	ld	h,(ix+7)
  2554  0c24  09                	add	hl, bc
  2555  0c25  7e                	ld	a, (hl)
  2556  0c26  d3a0              	out	(_IO_VDPDATA), a
  2557  0c28  03                	inc	bc
  2558  0c29  18ed              	jr	l_vdp_loadSpritePatternNameTable_00113
  2559                          l_vdp_loadSpritePatternNameTable_00105:
  2560  0c2b  7b                	ld	a, e
  2561  0c2c  d3a1              	out	(_IO_VDPLATCH), a
  2562  0c2e  78                	ld	a, b
  2563  0c2f  e63f              	and	a,0x3f
  2564  0c31  f640              	or	a,0x40
  2565  0c33  d3a1              	out	(_IO_VDPLATCH), a
  2566  0c35  dd6e04            	ld	l,(ix+4)
  2567  0c38  dd6605            	ld	h,(ix+5)
  2568  0c3b  29                	add	hl, hl
  2569  0c3c  29                	add	hl, hl
  2570  0c3d  29                	add	hl, hl
  2571  0c3e  eb                	ex	de,hl
  2572  0c3f  010000            	ld	bc,0x0000
  2573                          l_vdp_loadSpritePatternNameTable_00116:
  2574  0c42  79                	ld	a, c
  2575  0c43  93                	sub	a, e
  2576  0c44  78                	ld	a, b
  2577  0c45  9a                	sbc	a, d
  2578  0c46  300d              	jr	NC,l_vdp_loadSpritePatternNameTable_00118
  2579  0c48  dd6e06            	ld	l,(ix+6)
  2580  0c4b  dd6607            	ld	h,(ix+7)
  2581  0c4e  09                	add	hl, bc
  2582  0c4f  7e                	ld	a, (hl)
  2583  0c50  d3a0              	out	(_IO_VDPDATA), a
  2584  0c52  03                	inc	bc
  2585  0c53  18ed              	jr	l_vdp_loadSpritePatternNameTable_00116
  2586                          l_vdp_loadSpritePatternNameTable_00118:
  2587  0c55  dde1              	pop	ix
  2588  0c57  c9                	ret
  2589                          	SECTION code_compiler
  2590                          ;	---------------------------------
  2591                          ; Function vdp_spriteInit
  2592                          ; ---------------------------------
  2593                          _vdp_spriteInit:
  2594  0c58  dde5              	push	ix
  2595  0c5a  dd210000          	ld	ix,0
  2596  0c5e  dd39              	add	ix,sp
  2597  0c60  dd6e04            	ld	l,(ix+4)
  2598  0c63  2600              	ld	h,0x00
  2599  0c65  29                	add	hl, hl
  2600  0c66  29                	add	hl, hl
  2601  0c67  eb                	ex	de, hl
  2602  0c68  2ac204            	ld	hl, (__vdpSpriteAttributeTableAddr)
  2603  0c6b  19                	add	hl, de
  2604  0c6c  7d                	ld	a, l
  2605  0c6d  d3a1              	out	(_IO_VDPLATCH), a
  2606  0c6f  7c                	ld	a, h
  2607  0c70  e63f              	and	a,0x3f
  2608  0c72  f640              	or	a,0x40
  2609  0c74  d3a1              	out	(_IO_VDPLATCH), a
  2610  0c76  dd7e07            	ld	a,(ix+7)
  2611  0c79  d3a0              	out	(_IO_VDPDATA), a
  2612  0c7b  dd7e06            	ld	a,(ix+6)
  2613  0c7e  d3a0              	out	(_IO_VDPDATA), a
  2614  0c80  dd4e05            	ld	c,(ix+5)
  2615  0c83  3ac604            	ld	a, (__vdpSpriteSizeSelected+0)
  2616  0c86  b7                	or	a, a
  2617  0c87  2807              	jr	Z,l_vdp_spriteInit_00102
  2618  0c89  79                	ld	a, c
  2619  0c8a  87                	add	a, a
  2620  0c8b  87                	add	a, a
  2621  0c8c  d3a0              	out	(_IO_VDPDATA), a
  2622  0c8e  1803              	jr	l_vdp_spriteInit_00103
  2623                          l_vdp_spriteInit_00102:
  2624  0c90  79                	ld	a, c
  2625  0c91  d3a0              	out	(_IO_VDPDATA), a
  2626                          l_vdp_spriteInit_00103:
  2627  0c93  dd7e08            	ld	a,(ix+8)
  2628  0c96  e60f              	and	a,0x0f
  2629  0c98  d3a0              	out	(_IO_VDPDATA), a
  2630  0c9a  dd6e04            	ld	l,(ix+4)
  2631  0c9d  dde1              	pop	ix
  2632  0c9f  c9                	ret
  2633                          	SECTION code_compiler
  2634                          ;	---------------------------------
  2635                          ; Function vdp_setSpriteColor
  2636                          ; ---------------------------------
  2637                          _vdp_setSpriteColor:
  2638  0ca0  fd210200          	ld	iy,2
  2639  0ca4  fd39              	add	iy, sp
  2640  0ca6  fd6e00            	ld	l,(iy+0)
  2641  0ca9  2600              	ld	h,0x00
  2642  0cab  29                	add	hl, hl
  2643  0cac  29                	add	hl, hl
  2644  0cad  eb                	ex	de, hl
  2645  0cae  2ac204            	ld	hl, (__vdpSpriteAttributeTableAddr)
  2646  0cb1  19                	add	hl, de
  2647  0cb2  23                	inc	hl
  2648  0cb3  23                	inc	hl
  2649  0cb4  23                	inc	hl
  2650  0cb5  7d                	ld	a, l
  2651  0cb6  d3a1              	out	(_IO_VDPLATCH), a
  2652  0cb8  7c                	ld	a, h
  2653  0cb9  e63f              	and	a,0x3f
  2654  0cbb  f640              	or	a,0x40
  2655  0cbd  d3a1              	out	(_IO_VDPLATCH), a
  2656  0cbf  fd7e01            	ld	a,(iy+0+1)
  2657  0cc2  e60f              	and	a,0x0f
  2658  0cc4  d3a0              	out	(_IO_VDPDATA), a
  2659  0cc6  c9                	ret
  2660                          	SECTION code_compiler
  2661                          ;	---------------------------------
  2662                          ; Function vdp_setSpritePosition
  2663                          ; ---------------------------------
  2664                          _vdp_setSpritePosition:
  2665  0cc7  fd210200          	ld	iy,2
  2666  0ccb  fd39              	add	iy, sp
  2667  0ccd  fd6e00            	ld	l,(iy+0)
  2668  0cd0  2600              	ld	h,0x00
  2669  0cd2  29                	add	hl, hl
  2670  0cd3  29                	add	hl, hl
  2671  0cd4  eb                	ex	de, hl
  2672  0cd5  2ac204            	ld	hl, (__vdpSpriteAttributeTableAddr)
  2673  0cd8  19                	add	hl, de
  2674  0cd9  7d                	ld	a, l
  2675  0cda  d3a1              	out	(_IO_VDPLATCH), a
  2676  0cdc  7c                	ld	a, h
  2677  0cdd  e63f              	and	a,0x3f
  2678  0cdf  f640              	or	a,0x40
  2679  0ce1  d3a1              	out	(_IO_VDPLATCH), a
  2680  0ce3  fd23              	inc	iy
  2681  0ce5  fd23              	inc	iy
  2682  0ce7  fd7e00            	ld	a,(iy+0)
  2683  0cea  d3a0              	out	(_IO_VDPDATA), a
  2684  0cec  fd2b              	dec	iy
  2685  0cee  fd7e00            	ld	a,(iy+0)
  2686  0cf1  d3a0              	out	(_IO_VDPDATA), a
  2687  0cf3  c9                	ret
  2688                          	SECTION code_compiler
  2689                          ;	---------------------------------
  2690                          ; Function vdp_setSpritePositionAndColor
  2691                          ; ---------------------------------
  2692                          _vdp_setSpritePositionAndColor:
  2693  0cf4  fd210200          	ld	iy,2
  2694  0cf8  fd39              	add	iy, sp
  2695  0cfa  fd6e00            	ld	l,(iy+0)
  2696  0cfd  2600              	ld	h,0x00
  2697  0cff  29                	add	hl, hl
  2698  0d00  29                	add	hl, hl
  2699  0d01  eb                	ex	de, hl
  2700  0d02  2ac204            	ld	hl, (__vdpSpriteAttributeTableAddr)
  2701  0d05  19                	add	hl, de
  2702  0d06  7d                	ld	a, l
  2703  0d07  d3a1              	out	(_IO_VDPLATCH), a
  2704  0d09  7c                	ld	a, h
  2705  0d0a  e63f              	and	a,0x3f
  2706  0d0c  f640              	or	a,0x40
  2707  0d0e  d3a1              	out	(_IO_VDPLATCH), a
  2708  0d10  fd23              	inc	iy
  2709  0d12  fd23              	inc	iy
  2710  0d14  fd7e00            	ld	a,(iy+0)
  2711  0d17  d3a0              	out	(_IO_VDPDATA), a
  2712  0d19  fd2b              	dec	iy
  2713  0d1b  fd7e00            	ld	a,(iy+0)
  2714  0d1e  d3a0              	out	(_IO_VDPDATA), a
  2715  0d20  fd2b              	dec	iy
  2716  0d22  fd7e00            	ld	a,(iy+0)
  2717  0d25  d3a0              	out	(_IO_VDPDATA), a
  2718  0d27  fd7e03            	ld	a,(iy+0+1+1+1)
  2719  0d2a  e60f              	and	a,0x0f
  2720  0d2c  d3a0              	out	(_IO_VDPDATA), a
  2721  0d2e  c9                	ret
  2722                          	SECTION code_compiler
  2723                          ;	---------------------------------
  2724                          ; Function vdp_getSpritePosition
  2725                          ; ---------------------------------
  2726                          _vdp_getSpritePosition:
  2727  0d2f  fd210200          	ld	iy,2
  2728  0d33  fd39              	add	iy, sp
  2729  0d35  fd6e00            	ld	l,(iy+0)
  2730  0d38  2600              	ld	h,0x00
  2731  0d3a  29                	add	hl, hl
  2732  0d3b  29                	add	hl, hl
  2733  0d3c  eb                	ex	de, hl
  2734  0d3d  2ac204            	ld	hl, (__vdpSpriteAttributeTableAddr)
  2735  0d40  19                	add	hl, de
  2736  0d41  7d                	ld	a, l
  2737  0d42  d3a1              	out	(_IO_VDPLATCH), a
  2738  0d44  7c                	ld	a, h
  2739  0d45  e63f              	and	a,0x3f
  2740  0d47  d3a1              	out	(_IO_VDPLATCH), a
  2741  0d49  fd23              	inc	iy
  2742  0d4b  fd23              	inc	iy
  2743  0d4d  fd23              	inc	iy
  2744  0d4f  fd4e00            	ld	c,(iy+0)
  2745  0d52  fd4601            	ld	b,(iy+1)
  2746  0d55  dba0              	in	a, (_IO_VDPDATA)
  2747  0d57  02                	ld	(bc), a
  2748  0d58  fd2b              	dec	iy
  2749  0d5a  fd2b              	dec	iy
  2750  0d5c  fd4e00            	ld	c,(iy+0)
  2751  0d5f  fd4601            	ld	b,(iy+1)
  2752  0d62  dba0              	in	a, (_IO_VDPDATA)
  2753  0d64  02                	ld	(bc), a
  2754  0d65  c9                	ret
  2755                          	SECTION code_compiler
  2756                          ;	---------------------------------
  2757                          ; Function vdp_print
  2758                          ; ---------------------------------
  2759                          _vdp_print:
  2760  0d66  010000            	ld	bc,0x0000
  2761                          l_vdp_print_00103:
  2762  0d69  210200            	ld	hl,2
  2763  0d6c  39                	add	hl, sp
  2764  0d6d  7e                	ld	a, (hl)
  2765  0d6e  23                	inc	hl
  2766  0d6f  66                	ld	h, (hl)
  2767  0d70  6f                	ld	l, a
  2768  0d71  09                	add	hl, bc
  2769  0d72  7e                	ld	a, (hl)
  2770  0d73  b7                	or	a, a
  2771  0d74  c8                	ret	Z
  2772  0d75  c5                	push	bc
  2773  0d76  f5                	push	af
  2774  0d77  33                	inc	sp
  2775  0d78  cdd80e            	call	_vdp_write
  2776  0d7b  33                	inc	sp
  2777  0d7c  c1                	pop	bc
  2778  0d7d  03                	inc	bc
  2779  0d7e  18e9              	jr	l_vdp_print_00103
  2780                          	SECTION code_compiler
  2781                          ;	---------------------------------
  2782                          ; Function vdp_printColorized
  2783                          ; ---------------------------------
  2784                          _vdp_printColorized:
  2785  0d80  010000            	ld	bc,0x0000
  2786                          l_vdp_printColorized_00103:
  2787  0d83  fd210200          	ld	iy,2
  2788  0d87  fd39              	add	iy, sp
  2789  0d89  fd6e00            	ld	l,(iy+0)
  2790  0d8c  fd6601            	ld	h,(iy+1)
  2791  0d8f  09                	add	hl, bc
  2792  0d90  7e                	ld	a, (hl)
  2793  0d91  b7                	or	a, a
  2794  0d92  c8                	ret	Z
  2795  0d93  e5                	push	hl
  2796  0d94  c5                	push	bc
  2797  0d95  fd23              	inc	iy
  2798  0d97  fd23              	inc	iy
  2799  0d99  fd23              	inc	iy
  2800  0d9b  fd5600            	ld	d,(iy+0)
  2801  0d9e  d5                	push	de
  2802  0d9f  33                	inc	sp
  2803  0da0  fd2b              	dec	iy
  2804  0da2  fd5600            	ld	d,(iy+0)
  2805  0da5  d5                	push	de
  2806  0da6  33                	inc	sp
  2807  0da7  f5                	push	af
  2808  0da8  33                	inc	sp
  2809  0da9  cd7e08            	call	_vdp_colorizePattern
  2810  0dac  f1                	pop	af
  2811  0dad  33                	inc	sp
  2812  0dae  c1                	pop	bc
  2813  0daf  e1                	pop	hl
  2814  0db0  7e                	ld	a, (hl)
  2815  0db1  c5                	push	bc
  2816  0db2  f5                	push	af
  2817  0db3  33                	inc	sp
  2818  0db4  cdd80e            	call	_vdp_write
  2819  0db7  33                	inc	sp
  2820  0db8  c1                	pop	bc
  2821  0db9  03                	inc	bc
  2822  0dba  18c7              	jr	l_vdp_printColorized_00103
  2823                          	SECTION code_compiler
  2824                          ;	---------------------------------
  2825                          ; Function vdp_printPart
  2826                          ; ---------------------------------
  2827                          _vdp_printPart:
  2828  0dbc  dde5              	push	ix
  2829  0dbe  dd210000          	ld	ix,0
  2830  0dc2  dd39              	add	ix,sp
  2831  0dc4  010000            	ld	bc,0x0000
  2832                          l_vdp_printPart_00103:
  2833  0dc7  79                	ld	a, c
  2834  0dc8  dd9606            	sub	a,(ix+6)
  2835  0dcb  78                	ld	a, b
  2836  0dcc  dd9e07            	sbc	a,(ix+7)
  2837  0dcf  301d              	jr	NC,l_vdp_printPart_00105
  2838  0dd1  dd7e04            	ld	a,(ix+4)
  2839  0dd4  81                	add	a, c
  2840  0dd5  5f                	ld	e, a
  2841  0dd6  dd7e05            	ld	a,(ix+5)
  2842  0dd9  88                	adc	a, b
  2843  0dda  57                	ld	d, a
  2844  0ddb  dd6e08            	ld	l,(ix+8)
  2845  0dde  dd6609            	ld	h,(ix+9)
  2846  0de1  19                	add	hl, de
  2847  0de2  7e                	ld	a, (hl)
  2848  0de3  c5                	push	bc
  2849  0de4  f5                	push	af
  2850  0de5  33                	inc	sp
  2851  0de6  cdd80e            	call	_vdp_write
  2852  0de9  33                	inc	sp
  2853  0dea  c1                	pop	bc
  2854  0deb  03                	inc	bc
  2855  0dec  18d9              	jr	l_vdp_printPart_00103
  2856                          l_vdp_printPart_00105:
  2857  0dee  dde1              	pop	ix
  2858  0df0  c9                	ret
  2859                          	SECTION code_compiler
  2860                          ;	---------------------------------
  2861                          ; Function vdp_newLine
  2862                          ; ---------------------------------
  2863                          _vdp_newLine:
  2864  0df1  011f00            	ld	bc,_vdp_cursor + 1
  2865  0df4  0a                	ld	a, (bc)
  2866  0df5  fe17              	cp	a,0x17
  2867  0df7  2012              	jr	NZ,l_vdp_newLine_00102
  2868  0df9  3e17              	ld	a,0x17
  2869  0dfb  f5                	push	af
  2870  0dfc  33                	inc	sp
  2871  0dfd  af                	xor	a, a
  2872  0dfe  f5                	push	af
  2873  0dff  33                	inc	sp
  2874  0e00  cd0910            	call	_vdp_scrollTextUp
  2875  0e03  f1                	pop	af
  2876  0e04  211e00            	ld	hl,_vdp_cursor
  2877  0e07  3600              	ld	(hl),0x00
  2878  0e09  180b              	jr	l_vdp_newLine_00104
  2879                          l_vdp_newLine_00102:
  2880  0e0b  3c                	inc	a
  2881  0e0c  02                	ld	(bc), a
  2882  0e0d  f5                	push	af
  2883  0e0e  33                	inc	sp
  2884  0e0f  af                	xor	a, a
  2885  0e10  f5                	push	af
  2886  0e11  33                	inc	sp
  2887  0e12  cd230e            	call	_vdp_setCursor2
  2888  0e15  f1                	pop	af
  2889                          l_vdp_newLine_00104:
  2890  0e16  c9                	ret
  2891                          	SECTION code_compiler
  2892                          ;	---------------------------------
  2893                          ; Function vdp_setBackDropColor
  2894                          ; ---------------------------------
  2895                          _vdp_setBackDropColor:
  2896  0e17  210200            	ld	hl,2+0
  2897  0e1a  39                	add	hl, sp
  2898  0e1b  7e                	ld	a, (hl)
  2899  0e1c  d3a1              	out	(_IO_VDPLATCH), a
  2900  0e1e  3e87              	ld	a,0x87
  2901  0e20  d3a1              	out	(_IO_VDPLATCH), a
  2902  0e22  c9                	ret
  2903                          	SECTION code_compiler
  2904                          ;	---------------------------------
  2905                          ; Function vdp_setCursor2
  2906                          ; ---------------------------------
  2907                          _vdp_setCursor2:
  2908  0e23  dde5              	push	ix
  2909  0e25  dd210000          	ld	ix,0
  2910  0e29  dd39              	add	ix,sp
  2911  0e2b  3acd04            	ld	a,(__vdpCursorMaxX)
  2912  0e2e  dd9604            	sub	a,(ix+4)
  2913  0e31  3007              	jr	NC,l_vdp_setCursor2_00102
  2914  0e33  dd360400          	ld	(ix+4),0x00
  2915  0e37  dd3405            	inc	(ix+5)
  2916                          l_vdp_setCursor2_00102:
  2917  0e3a  3a0000            	ld	a, (__vdpCursorMaxY+0)
  2918  0e3d  dd9605            	sub	a,(ix+5)
  2919  0e40  3004              	jr	NC,l_vdp_setCursor2_00104
  2920  0e42  dd360500          	ld	(ix+5),0x00
  2921                          l_vdp_setCursor2_00104:
  2922  0e46  211e00            	ld	hl,_vdp_cursor
  2923  0e49  dd7e04            	ld	a,(ix+4)
  2924  0e4c  77                	ld	(hl), a
  2925  0e4d  211f00            	ld	hl, +(_vdp_cursor + 1)
  2926  0e50  dd7e05            	ld	a,(ix+5)
  2927  0e53  77                	ld	(hl), a
  2928  0e54  dde1              	pop	ix
  2929  0e56  c9                	ret
  2930                          	SECTION code_compiler
  2931                          ;	---------------------------------
  2932                          ; Function vdp_setCursor
  2933                          ; ---------------------------------
  2934                          _vdp_setCursor:
  2935  0e57  fd210200          	ld	iy,2
  2936  0e5b  fd39              	add	iy, sp
  2937  0e5d  fd7e00            	ld	a,(iy+0)
  2938  0e60  b7                	or	a, a
  2939  0e61  2816              	jr	Z,l_vdp_setCursor_00101
  2940  0e63  fd7e00            	ld	a,(iy+0)
  2941  0e66  3d                	dec	a
  2942  0e67  2822              	jr	Z,l_vdp_setCursor_00102
  2943  0e69  fd7e00            	ld	a,(iy+0)
  2944  0e6c  d602              	sub	a,0x02
  2945  0e6e  282d              	jr	Z,l_vdp_setCursor_00103
  2946  0e70  fd7e00            	ld	a,(iy+0)
  2947  0e73  d603              	sub	a,0x03
  2948  0e75  2838              	jr	Z,l_vdp_setCursor_00104
  2949  0e77  1846              	jr	l_vdp_setCursor_00106
  2950                          l_vdp_setCursor_00101:
  2951  0e79  3a1f00            	ld	a, (_vdp_cursor + 1)
  2952  0e7c  3d                	dec	a
  2953  0e7d  211e00            	ld	hl,_vdp_cursor + 0
  2954  0e80  46                	ld	b, (hl)
  2955  0e81  f5                	push	af
  2956  0e82  33                	inc	sp
  2957  0e83  c5                	push	bc
  2958  0e84  33                	inc	sp
  2959  0e85  cd230e            	call	_vdp_setCursor2
  2960  0e88  f1                	pop	af
  2961  0e89  1834              	jr	l_vdp_setCursor_00106
  2962                          l_vdp_setCursor_00102:
  2963  0e8b  3a1f00            	ld	a, (_vdp_cursor + 1)
  2964  0e8e  3c                	inc	a
  2965  0e8f  211e00            	ld	hl,_vdp_cursor + 0
  2966  0e92  46                	ld	b, (hl)
  2967  0e93  f5                	push	af
  2968  0e94  33                	inc	sp
  2969  0e95  c5                	push	bc
  2970  0e96  33                	inc	sp
  2971  0e97  cd230e            	call	_vdp_setCursor2
  2972  0e9a  f1                	pop	af
  2973  0e9b  1822              	jr	l_vdp_setCursor_00106
  2974                          l_vdp_setCursor_00103:
  2975  0e9d  211f00            	ld	hl,_vdp_cursor + 1
  2976  0ea0  46                	ld	b, (hl)
  2977  0ea1  3a1e00            	ld	a, (_vdp_cursor + 0)
  2978  0ea4  3d                	dec	a
  2979  0ea5  c5                	push	bc
  2980  0ea6  33                	inc	sp
  2981  0ea7  f5                	push	af
  2982  0ea8  33                	inc	sp
  2983  0ea9  cd230e            	call	_vdp_setCursor2
  2984  0eac  f1                	pop	af
  2985  0ead  1810              	jr	l_vdp_setCursor_00106
  2986                          l_vdp_setCursor_00104:
  2987  0eaf  211f00            	ld	hl,_vdp_cursor + 1
  2988  0eb2  46                	ld	b, (hl)
  2989  0eb3  3a1e00            	ld	a, (_vdp_cursor + 0)
  2990  0eb6  3c                	inc	a
  2991  0eb7  c5                	push	bc
  2992  0eb8  33                	inc	sp
  2993  0eb9  f5                	push	af
  2994  0eba  33                	inc	sp
  2995  0ebb  cd230e            	call	_vdp_setCursor2
  2996  0ebe  f1                	pop	af
  2997                          l_vdp_setCursor_00106:
  2998  0ebf  c9                	ret
  2999                          	SECTION code_compiler
  3000                          ;	---------------------------------
  3001                          ; Function vdp_setTextColor
  3002                          ; ---------------------------------
  3003                          _vdp_setTextColor:
  3004  0ec0  fd210200          	ld	iy,2
  3005  0ec4  fd39              	add	iy, sp
  3006  0ec6  fd7e00            	ld	a,(iy+0)
  3007  0ec9  87                	add	a, a
  3008  0eca  87                	add	a, a
  3009  0ecb  87                	add	a, a
  3010  0ecc  87                	add	a, a
  3011  0ecd  fd4e01            	ld	c,(iy+0+1)
  3012  0ed0  81                	add	a, c
  3013  0ed1  d3a1              	out	(_IO_VDPLATCH), a
  3014  0ed3  3e87              	ld	a,0x87
  3015  0ed5  d3a1              	out	(_IO_VDPLATCH), a
  3016  0ed7  c9                	ret
  3017                          	SECTION code_compiler
  3018                          ;	---------------------------------
  3019                          ; Function vdp_write
  3020                          ; ---------------------------------
  3021                          _vdp_write:
  3022  0ed8  dde5              	push	ix
  3023  0eda  dd210000          	ld	ix,0
  3024  0ede  dd39              	add	ix,sp
  3025  0ee0  211f00            	ld	hl, +(_vdp_cursor + 1) + 0
  3026  0ee3  4e                	ld	c, (hl)
  3027  0ee4  3acd04            	ld	a, (__vdpCursorMaxX+0)
  3028  0ee7  5f                	ld	e, a
  3029  0ee8  1600              	ld	d,0x00
  3030  0eea  13                	inc	de
  3031  0eeb  0600              	ld	b,0x00
  3032  0eed  d5                	push	de
  3033  0eee  c5                	push	bc
  3034  0eef  cd0000            	call	__mulint_callee
  3035  0ef2  eb                	ex	de, hl
  3036  0ef3  3a1e00            	ld	a, (_vdp_cursor + 0)
  3037  0ef6  6f                	ld	l, a
  3038  0ef7  2600              	ld	h,0x00
  3039  0ef9  19                	add	hl, de
  3040  0efa  eb                	ex	de, hl
  3041  0efb  2ac704            	ld	hl, (__vdpPatternNameTableAddr)
  3042  0efe  19                	add	hl, de
  3043  0eff  7d                	ld	a, l
  3044  0f00  d3a1              	out	(_IO_VDPLATCH), a
  3045  0f02  7c                	ld	a, h
  3046  0f03  e63f              	and	a,0x3f
  3047  0f05  f640              	or	a,0x40
  3048  0f07  d3a1              	out	(_IO_VDPLATCH), a
  3049  0f09  dd7e04            	ld	a,(ix+4)
  3050  0f0c  d3a0              	out	(_IO_VDPDATA), a
  3051  0f0e  210001            	ld	hl,__vdp_textBuffer+0
  3052  0f11  19                	add	hl, de
  3053  0f12  dd7e04            	ld	a,(ix+4)
  3054  0f15  77                	ld	(hl), a
  3055  0f16  3acf04            	ld	a, (__autoScroll+0)
  3056  0f19  b7                	or	a, a
  3057  0f1a  2821              	jr	Z,l_vdp_write_00102
  3058  0f1c  211e00            	ld	hl,_vdp_cursor + 0
  3059  0f1f  46                	ld	b, (hl)
  3060  0f20  3acd04            	ld	a, (__vdpCursorMaxX+0)
  3061  0f23  90                	sub	a, b
  3062  0f24  2017              	jr	NZ,l_vdp_write_00102
  3063  0f26  3a1f00            	ld	a, ((_vdp_cursor + 1) + 0)
  3064  0f29  d617              	sub	a,0x17
  3065  0f2b  2010              	jr	NZ,l_vdp_write_00102
  3066  0f2d  3e17              	ld	a,0x17
  3067  0f2f  f5                	push	af
  3068  0f30  33                	inc	sp
  3069  0f31  af                	xor	a, a
  3070  0f32  f5                	push	af
  3071  0f33  33                	inc	sp
  3072  0f34  cd0910            	call	_vdp_scrollTextUp
  3073  0f37  f1                	pop	af
  3074  0f38  211e00            	ld	hl,_vdp_cursor
  3075  0f3b  3600              	ld	(hl),0x00
  3076                          l_vdp_write_00102:
  3077  0f3d  3e03              	ld	a,0x03
  3078  0f3f  f5                	push	af
  3079  0f40  33                	inc	sp
  3080  0f41  cd570e            	call	_vdp_setCursor
  3081  0f44  33                	inc	sp
  3082  0f45  dde1              	pop	ix
  3083  0f47  c9                	ret
  3084                          	SECTION code_compiler
  3085                          ;	---------------------------------
  3086                          ; Function vdp_writeCharAtLocation
  3087                          ; ---------------------------------
  3088                          _vdp_writeCharAtLocation:
  3089  0f48  dde5              	push	ix
  3090  0f4a  dd210000          	ld	ix,0
  3091  0f4e  dd39              	add	ix,sp
  3092  0f50  3acd04            	ld	a, (__vdpCursorMaxX+0)
  3093  0f53  0600              	ld	b,0x00
  3094  0f55  4f                	ld	c, a
  3095  0f56  03                	inc	bc
  3096  0f57  dd5e05            	ld	e,(ix+5)
  3097  0f5a  1600              	ld	d,0x00
  3098  0f5c  c5                	push	bc
  3099  0f5d  d5                	push	de
  3100  0f5e  cd0000            	call	__mulint_callee
  3101  0f61  dd4e04            	ld	c,(ix+4)
  3102  0f64  0600              	ld	b,0x00
  3103  0f66  09                	add	hl, bc
  3104  0f67  eb                	ex	de, hl
  3105  0f68  210001            	ld	hl,__vdp_textBuffer
  3106  0f6b  19                	add	hl, de
  3107  0f6c  dd7e06            	ld	a,(ix+6)
  3108  0f6f  77                	ld	(hl), a
  3109  0f70  2ac704            	ld	hl, (__vdpPatternNameTableAddr)
  3110  0f73  19                	add	hl, de
  3111  0f74  7d                	ld	a, l
  3112  0f75  d3a1              	out	(_IO_VDPLATCH), a
  3113  0f77  7c                	ld	a, h
  3114  0f78  e63f              	and	a,0x3f
  3115  0f7a  f640              	or	a,0x40
  3116  0f7c  d3a1              	out	(_IO_VDPLATCH), a
  3117  0f7e  dd7e06            	ld	a,(ix+6)
  3118  0f81  d3a0              	out	(_IO_VDPDATA), a
  3119  0f83  dde1              	pop	ix
  3120  0f85  c9                	ret
  3121                          	SECTION code_compiler
  3122                          ;	---------------------------------
  3123                          ; Function vdp_getCharAtLocationVRAM
  3124                          ; ---------------------------------
  3125                          _vdp_getCharAtLocationVRAM:
  3126  0f86  dde5              	push	ix
  3127  0f88  dd210000          	ld	ix,0
  3128  0f8c  dd39              	add	ix,sp
  3129  0f8e  3acd04            	ld	a, (__vdpCursorMaxX+0)
  3130  0f91  0600              	ld	b,0x00
  3131  0f93  4f                	ld	c, a
  3132  0f94  03                	inc	bc
  3133  0f95  dd5e05            	ld	e,(ix+5)
  3134  0f98  1600              	ld	d,0x00
  3135  0f9a  c5                	push	bc
  3136  0f9b  d5                	push	de
  3137  0f9c  cd0000            	call	__mulint_callee
  3138  0f9f  dd4e04            	ld	c,(ix+4)
  3139  0fa2  0600              	ld	b,0x00
  3140  0fa4  09                	add	hl, bc
  3141  0fa5  eb                	ex	de, hl
  3142  0fa6  2ac704            	ld	hl, (__vdpPatternNameTableAddr)
  3143  0fa9  19                	add	hl, de
  3144  0faa  7d                	ld	a, l
  3145  0fab  d3a1              	out	(_IO_VDPLATCH), a
  3146  0fad  7c                	ld	a, h
  3147  0fae  e63f              	and	a,0x3f
  3148  0fb0  d3a1              	out	(_IO_VDPLATCH), a
  3149  0fb2  dba0              	in	a, (_IO_VDPDATA)
  3150  0fb4  6f                	ld	l, a
  3151  0fb5  dde1              	pop	ix
  3152  0fb7  c9                	ret
  3153                          	SECTION code_compiler
  3154                          ;	---------------------------------
  3155                          ; Function vdp_getCharAtLocationBuf
  3156                          ; ---------------------------------
  3157                          _vdp_getCharAtLocationBuf:
  3158  0fb8  dde5              	push	ix
  3159  0fba  dd210000          	ld	ix,0
  3160  0fbe  dd39              	add	ix,sp
  3161  0fc0  3acd04            	ld	a, (__vdpCursorMaxX+0)
  3162  0fc3  0600              	ld	b,0x00
  3163  0fc5  4f                	ld	c, a
  3164  0fc6  03                	inc	bc
  3165  0fc7  dd5e05            	ld	e,(ix+5)
  3166  0fca  1600              	ld	d,0x00
  3167  0fcc  c5                	push	bc
  3168  0fcd  d5                	push	de
  3169  0fce  cd0000            	call	__mulint_callee
  3170  0fd1  dd4e04            	ld	c,(ix+4)
  3171  0fd4  0600              	ld	b,0x00
  3172  0fd6  09                	add	hl, bc
  3173  0fd7  110001            	ld	de,__vdp_textBuffer
  3174  0fda  19                	add	hl, de
  3175  0fdb  6e                	ld	l, (hl)
  3176  0fdc  dde1              	pop	ix
  3177  0fde  c9                	ret
  3178                          	SECTION code_compiler
  3179                          ;	---------------------------------
  3180                          ; Function vdp_setCharAtLocationBuf
  3181                          ; ---------------------------------
  3182                          _vdp_setCharAtLocationBuf:
  3183  0fdf  dde5              	push	ix
  3184  0fe1  dd210000          	ld	ix,0
  3185  0fe5  dd39              	add	ix,sp
  3186  0fe7  3acd04            	ld	a, (__vdpCursorMaxX+0)
  3187  0fea  1600              	ld	d,0x00
  3188  0fec  5f                	ld	e, a
  3189  0fed  13                	inc	de
  3190  0fee  dd4e05            	ld	c,(ix+5)
  3191  0ff1  0600              	ld	b,0x00
  3192  0ff3  d5                	push	de
  3193  0ff4  c5                	push	bc
  3194  0ff5  cd0000            	call	__mulint_callee
  3195  0ff8  dd4e04            	ld	c,(ix+4)
  3196  0ffb  0600              	ld	b,0x00
  3197  0ffd  09                	add	hl, bc
  3198  0ffe  110001            	ld	de,__vdp_textBuffer
  3199  1001  19                	add	hl, de
  3200  1002  dd7e06            	ld	a,(ix+6)
  3201  1005  77                	ld	(hl), a
  3202  1006  dde1              	pop	ix
  3203  1008  c9                	ret
  3204                          	SECTION code_compiler
  3205                          ;	---------------------------------
  3206                          ; Function vdp_scrollTextUp
  3207                          ; ---------------------------------
  3208                          _vdp_scrollTextUp:
  3209  1009  dde5              	push	ix
  3210  100b  dd210000          	ld	ix,0
  3211  100f  dd39              	add	ix,sp
  3212  1011  f5                	push	af
  3213  1012  f5                	push	af
  3214  1013  3acd04            	ld	a, (__vdpCursorMaxX+0)
  3215  1016  0600              	ld	b,0x00
  3216  1018  4f                	ld	c, a
  3217  1019  03                	inc	bc
  3218  101a  dd5e04            	ld	e,(ix+4)
  3219  101d  1600              	ld	d,0x00
  3220  101f  c5                	push	bc
  3221  1020  c5                	push	bc
  3222  1021  d5                	push	de
  3223  1022  cd0000            	call	__mulint_callee
  3224  1025  eb                	ex	de, hl
  3225  1026  c1                	pop	bc
  3226  1027  fd2ac704          	ld	iy, (__vdpPatternNameTableAddr)
  3227  102b  fd19              	add	iy, de
  3228  102d  fde5              	push	iy
  3229  102f  e1                	pop	hl
  3230  1030  7d                	ld	a, l
  3231  1031  d3a1              	out	(_IO_VDPLATCH), a
  3232  1033  7c                	ld	a, h
  3233  1034  e63f              	and	a,0x3f
  3234  1036  f640              	or	a,0x40
  3235  1038  d3a1              	out	(_IO_VDPLATCH), a
  3236  103a  dd7e04            	ld	a,(ix+4)
  3237  103d  dd77fe            	ld	(ix-2),a
  3238                          l_vdp_scrollTextUp_00111:
  3239  1040  dd7efe            	ld	a,(ix-2)
  3240  1043  dd9605            	sub	a,(ix+5)
  3241  1046  302d              	jr	NC,l_vdp_scrollTextUp_00102
  3242  1048  dd36ff00          	ld	(ix-1),0x00
  3243                          l_vdp_scrollTextUp_00108:
  3244  104c  dd6eff            	ld	l,(ix-1)
  3245  104f  2600              	ld	h,0x00
  3246  1051  af                	xor	a, a
  3247  1052  ed42              	sbc	hl, bc
  3248  1054  301a              	jr	NC,l_vdp_scrollTextUp_00125
  3249  1056  210001            	ld	hl,__vdp_textBuffer
  3250  1059  19                	add	hl, de
  3251  105a  e3                	ex	(sp), hl
  3252  105b  6b                	ld	l, e
  3253  105c  62                	ld	h, d
  3254  105d  09                	add	hl, bc
  3255  105e  d5                	push	de
  3256  105f  110001            	ld	de,__vdp_textBuffer
  3257  1062  19                	add	hl, de
  3258  1063  d1                	pop	de
  3259  1064  7e                	ld	a, (hl)
  3260  1065  e1                	pop	hl
  3261  1066  e5                	push	hl
  3262  1067  77                	ld	(hl), a
  3263  1068  d3a0              	out	(_IO_VDPDATA), a
  3264  106a  13                	inc	de
  3265  106b  dd34ff            	inc	(ix-1)
  3266  106e  18dc              	jr	l_vdp_scrollTextUp_00108
  3267                          l_vdp_scrollTextUp_00125:
  3268  1070  dd34fe            	inc	(ix-2)
  3269  1073  18cb              	jr	l_vdp_scrollTextUp_00111
  3270                          l_vdp_scrollTextUp_00102:
  3271  1075  3a0000            	ld	a, (__vdpCursorMaxY+0)
  3272  1078  dd9605            	sub	a,(ix+5)
  3273  107b  381e              	jr	C,l_vdp_scrollTextUp_00116
  3274  107d  dd36ff00          	ld	(ix-1),0x00
  3275                          l_vdp_scrollTextUp_00114:
  3276  1081  dd6eff            	ld	l,(ix-1)
  3277  1084  2600              	ld	h,0x00
  3278  1086  af                	xor	a, a
  3279  1087  ed42              	sbc	hl, bc
  3280  1089  3010              	jr	NC,l_vdp_scrollTextUp_00116
  3281  108b  210001            	ld	hl,__vdp_textBuffer
  3282  108e  19                	add	hl, de
  3283  108f  3620              	ld	(hl),0x20
  3284  1091  3e20              	ld	a,0x20
  3285  1093  d3a0              	out	(_IO_VDPDATA), a
  3286  1095  13                	inc	de
  3287  1096  dd34ff            	inc	(ix-1)
  3288  1099  18e6              	jr	l_vdp_scrollTextUp_00114
  3289                          l_vdp_scrollTextUp_00116:
  3290  109b  ddf9              	ld	sp, ix
  3291  109d  dde1              	pop	ix
  3292  109f  c9                	ret
  3293                          	SECTION code_compiler
  3294                          ;	---------------------------------
  3295                          ; Function vdp_writeUInt32
  3296                          ; ---------------------------------
  3297                          _vdp_writeUInt32:
  3298  10a0  dde5              	push	ix
  3299  10a2  dd210000          	ld	ix,0
  3300  10a6  dd39              	add	ix,sp
  3301  10a8  21dfff            	ld	hl, -33
  3302  10ab  39                	add	hl, sp
  3303  10ac  f9                	ld	sp, hl
  3304  10ad  dd4e04            	ld	c,(ix+4)
  3305  10b0  dd4605            	ld	b,(ix+5)
  3306  10b3  c5                	push	bc
  3307  10b4  210200            	ld	hl,2
  3308  10b7  39                	add	hl, sp
  3309  10b8  e5                	push	hl
  3310  10b9  210a00            	ld	hl,0x000a
  3311  10bc  e5                	push	hl
  3312  10bd  cd0000            	call	_utoa_callee
  3313  10c0  dd36e900          	ld	(ix-23),0x00
  3314  10c4  210000            	ld	hl,0
  3315  10c7  39                	add	hl, sp
  3316  10c8  e5                	push	hl
  3317  10c9  cd660d            	call	_vdp_print
  3318  10cc  ddf9              	ld	sp,ix
  3319  10ce  dde1              	pop	ix
  3320  10d0  c9                	ret
  3321                          	SECTION code_compiler
  3322                          ;	---------------------------------
  3323                          ; Function vdp_writeInt32
  3324                          ; ---------------------------------
  3325                          _vdp_writeInt32:
  3326  10d1  dde5              	push	ix
  3327  10d3  dd210000          	ld	ix,0
  3328  10d7  dd39              	add	ix,sp
  3329  10d9  21dfff            	ld	hl, -33
  3330  10dc  39                	add	hl, sp
  3331  10dd  f9                	ld	sp, hl
  3332  10de  dd4e04            	ld	c,(ix+4)
  3333  10e1  dd4605            	ld	b,(ix+5)
  3334  10e4  c5                	push	bc
  3335  10e5  210200            	ld	hl,2
  3336  10e8  39                	add	hl, sp
  3337  10e9  e5                	push	hl
  3338  10ea  210a00            	ld	hl,0x000a
  3339  10ed  e5                	push	hl
  3340  10ee  cd0000            	call	_itoa_callee
  3341  10f1  dd36ea00          	ld	(ix-22),0x00
  3342  10f5  210000            	ld	hl,0
  3343  10f8  39                	add	hl, sp
  3344  10f9  e5                	push	hl
  3345  10fa  cd660d            	call	_vdp_print
  3346  10fd  ddf9              	ld	sp,ix
  3347  10ff  dde1              	pop	ix
  3348  1101  c9                	ret
  3349                          	SECTION code_compiler
  3350                          ;	---------------------------------
  3351                          ; Function vdp_writeUInt16
  3352                          ; ---------------------------------
  3353                          _vdp_writeUInt16:
  3354  1102  21efff            	ld	hl, -17
  3355  1105  39                	add	hl, sp
  3356  1106  f9                	ld	sp, hl
  3357  1107  211300            	ld	hl,19
  3358  110a  39                	add	hl, sp
  3359  110b  4e                	ld	c, (hl)
  3360  110c  23                	inc	hl
  3361  110d  46                	ld	b, (hl)
  3362  110e  c5                	push	bc
  3363  110f  210200            	ld	hl,2
  3364  1112  39                	add	hl, sp
  3365  1113  e5                	push	hl
  3366  1114  210a00            	ld	hl,0x000a
  3367  1117  e5                	push	hl
  3368  1118  cd0000            	call	_utoa_callee
  3369  111b  210500            	ld	hl,5
  3370  111e  39                	add	hl, sp
  3371  111f  eb                	ex	de, hl
  3372  1120  af                	xor	a, a
  3373  1121  12                	ld	(de), a
  3374  1122  210000            	ld	hl,0
  3375  1125  39                	add	hl, sp
  3376  1126  e5                	push	hl
  3377  1127  cd660d            	call	_vdp_print
  3378  112a  f1                	pop	af
  3379  112b  211100            	ld	hl,17
  3380  112e  39                	add	hl, sp
  3381  112f  f9                	ld	sp, hl
  3382  1130  c9                	ret
  3383                          	SECTION code_compiler
  3384                          ;	---------------------------------
  3385                          ; Function vdp_writeInt16
  3386                          ; ---------------------------------
  3387                          _vdp_writeInt16:
  3388  1131  21efff            	ld	hl, -17
  3389  1134  39                	add	hl, sp
  3390  1135  f9                	ld	sp, hl
  3391  1136  211300            	ld	hl,19
  3392  1139  39                	add	hl, sp
  3393  113a  4e                	ld	c, (hl)
  3394  113b  23                	inc	hl
  3395  113c  46                	ld	b, (hl)
  3396  113d  c5                	push	bc
  3397  113e  210200            	ld	hl,2
  3398  1141  39                	add	hl, sp
  3399  1142  e5                	push	hl
  3400  1143  210a00            	ld	hl,0x000a
  3401  1146  e5                	push	hl
  3402  1147  cd0000            	call	_itoa_callee
  3403  114a  210600            	ld	hl,6
  3404  114d  39                	add	hl, sp
  3405  114e  eb                	ex	de, hl
  3406  114f  af                	xor	a, a
  3407  1150  12                	ld	(de), a
  3408  1151  210000            	ld	hl,0
  3409  1154  39                	add	hl, sp
  3410  1155  e5                	push	hl
  3411  1156  cd660d            	call	_vdp_print
  3412  1159  f1                	pop	af
  3413  115a  211100            	ld	hl,17
  3414  115d  39                	add	hl, sp
  3415  115e  f9                	ld	sp, hl
  3416  115f  c9                	ret
  3417                          	SECTION code_compiler
  3418                          ;	---------------------------------
  3419                          ; Function vdp_writeUInt8
  3420                          ; ---------------------------------
  3421                          _vdp_writeUInt8:
  3422  1160  dde5              	push	ix
  3423  1162  dd210000          	ld	ix,0
  3424  1166  dd39              	add	ix,sp
  3425  1168  21f7ff            	ld	hl, -9
  3426  116b  39                	add	hl, sp
  3427  116c  f9                	ld	sp, hl
  3428  116d  210000            	ld	hl,0
  3429  1170  39                	add	hl, sp
  3430  1171  eb                	ex	de, hl
  3431  1172  af                	xor	a, a
  3432  1173  12                	ld	(de), a
  3433  1174  dd36f800          	ld	(ix-8),0x00
  3434  1178  dd36f900          	ld	(ix-7),0x00
  3435  117c  dd36fa00          	ld	(ix-6),0x00
  3436  1180  dd36fb00          	ld	(ix-5),0x00
  3437  1184  dd36fc00          	ld	(ix-4),0x00
  3438  1188  dd36fd00          	ld	(ix-3),0x00
  3439  118c  dd36fe00          	ld	(ix-2),0x00
  3440  1190  dd36ff00          	ld	(ix-1),0x00
  3441  1194  4b                	ld	c, e
  3442  1195  42                	ld	b, d
  3443  1196  dd6e04            	ld	l,(ix+4)
  3444  1199  2600              	ld	h,0x00
  3445  119b  d5                	push	de
  3446  119c  e5                	push	hl
  3447  119d  c5                	push	bc
  3448  119e  210a00            	ld	hl,0x000a
  3449  11a1  e5                	push	hl
  3450  11a2  cd0000            	call	_utoa_callee
  3451  11a5  cd660d            	call	_vdp_print
  3452  11a8  ddf9              	ld	sp,ix
  3453  11aa  dde1              	pop	ix
  3454  11ac  c9                	ret
  3455                          	SECTION code_compiler
  3456                          ;	---------------------------------
  3457                          ; Function vdp_writeInt8
  3458                          ; ---------------------------------
  3459                          _vdp_writeInt8:
  3460  11ad  dde5              	push	ix
  3461  11af  dd210000          	ld	ix,0
  3462  11b3  dd39              	add	ix,sp
  3463  11b5  21f7ff            	ld	hl, -9
  3464  11b8  39                	add	hl, sp
  3465  11b9  f9                	ld	sp, hl
  3466  11ba  dd7e04            	ld	a,(ix+4)
  3467  11bd  4f                	ld	c, a
  3468  11be  07                	rlca
  3469  11bf  9f                	sbc	a, a
  3470  11c0  47                	ld	b, a
  3471  11c1  c5                	push	bc
  3472  11c2  210200            	ld	hl,2
  3473  11c5  39                	add	hl, sp
  3474  11c6  e5                	push	hl
  3475  11c7  210a00            	ld	hl,0x000a
  3476  11ca  e5                	push	hl
  3477  11cb  cd0000            	call	_itoa_callee
  3478  11ce  dd36fb00          	ld	(ix-5),0x00
  3479  11d2  210000            	ld	hl,0
  3480  11d5  39                	add	hl, sp
  3481  11d6  e5                	push	hl
  3482  11d7  cd660d            	call	_vdp_print
  3483  11da  ddf9              	ld	sp,ix
  3484  11dc  dde1              	pop	ix
  3485  11de  c9                	ret
  3486                          	SECTION code_compiler
  3487                          ;	---------------------------------
  3488                          ; Function vdp_writeUInt8ToBinary
  3489                          ; ---------------------------------
  3490                          _vdp_writeUInt8ToBinary:
  3491  11df  dde5              	push	ix
  3492  11e1  dd210000          	ld	ix,0
  3493  11e5  dd39              	add	ix,sp
  3494  11e7  21f7ff            	ld	hl, -9
  3495  11ea  39                	add	hl, sp
  3496  11eb  f9                	ld	sp, hl
  3497  11ec  0e00              	ld	c,0x00
  3498                          l_vdp_writeUInt8ToBinary_00106:
  3499  11ee  79                	ld	a, c
  3500  11ef  d608              	sub	a,0x08
  3501  11f1  302a              	jr	NC,l_vdp_writeUInt8ToBinary_00104
  3502  11f3  41                	ld	b, c
  3503  11f4  dd6e04            	ld	l,(ix+4)
  3504  11f7  04                	inc	b
  3505  11f8  1802              	jr	l_vdp_writeUInt8ToBinary_00127
  3506                          l_vdp_writeUInt8ToBinary_00126:
  3507  11fa  cb3d              	srl	l
  3508                          l_vdp_writeUInt8ToBinary_00127:
  3509  11fc  10fc              	djnz	l_vdp_writeUInt8ToBinary_00126
  3510  11fe  59                	ld	e, c
  3511  11ff  3e07              	ld	a,0x07
  3512  1201  93                	sub	a, e
  3513  1202  5f                	ld	e, a
  3514  1203  07                	rlca
  3515  1204  9f                	sbc	a, a
  3516  1205  57                	ld	d, a
  3517  1206  cb45              	bit	0, l
  3518  1208  2809              	jr	Z,l_vdp_writeUInt8ToBinary_00102
  3519  120a  210000            	ld	hl,0
  3520  120d  39                	add	hl, sp
  3521  120e  19                	add	hl, de
  3522  120f  3631              	ld	(hl),0x31
  3523  1211  1807              	jr	l_vdp_writeUInt8ToBinary_00107
  3524                          l_vdp_writeUInt8ToBinary_00102:
  3525  1213  210000            	ld	hl,0
  3526  1216  39                	add	hl, sp
  3527  1217  19                	add	hl, de
  3528  1218  3630              	ld	(hl),0x30
  3529                          l_vdp_writeUInt8ToBinary_00107:
  3530  121a  0c                	inc	c
  3531  121b  18d1              	jr	l_vdp_writeUInt8ToBinary_00106
  3532                          l_vdp_writeUInt8ToBinary_00104:
  3533  121d  dd36ff00          	ld	(ix-1),0x00
  3534  1221  210000            	ld	hl,0
  3535  1224  39                	add	hl, sp
  3536  1225  e5                	push	hl
  3537  1226  cd660d            	call	_vdp_print
  3538  1229  ddf9              	ld	sp,ix
  3539  122b  dde1              	pop	ix
  3540  122d  c9                	ret
  3541                          	SECTION code_compiler
  3542                          ;	---------------------------------
  3543                          ; Function vdp_writeUInt16ToBinary
  3544                          ; ---------------------------------
  3545                          _vdp_writeUInt16ToBinary:
  3546  122e  dde5              	push	ix
  3547  1230  dd210000          	ld	ix,0
  3548  1234  dd39              	add	ix,sp
  3549  1236  21edff            	ld	hl, -19
  3550  1239  39                	add	hl, sp
  3551  123a  f9                	ld	sp, hl
  3552  123b  0e00              	ld	c,0x00
  3553                          l_vdp_writeUInt16ToBinary_00106:
  3554  123d  79                	ld	a, c
  3555  123e  d610              	sub	a,0x10
  3556  1240  303f              	jr	NC,l_vdp_writeUInt16ToBinary_00104
  3557  1242  41                	ld	b, c
  3558  1243  dd5e04            	ld	e,(ix+4)
  3559  1246  dd5605            	ld	d,(ix+5)
  3560  1249  04                	inc	b
  3561  124a  1804              	jr	l_vdp_writeUInt16ToBinary_00127
  3562                          l_vdp_writeUInt16ToBinary_00126:
  3563  124c  cb3a              	srl	d
  3564  124e  cb1b              	rr	e
  3565                          l_vdp_writeUInt16ToBinary_00127:
  3566  1250  10fa              	djnz	l_vdp_writeUInt16ToBinary_00126
  3567  1252  41                	ld	b, c
  3568  1253  3e0f              	ld	a,0x0f
  3569  1255  90                	sub	a, b
  3570  1256  dd77fe            	ld	(ix-2),a
  3571  1259  07                	rlca
  3572  125a  9f                	sbc	a, a
  3573  125b  dd77ff            	ld	(ix-1),a
  3574  125e  cb43              	bit	0, e
  3575  1260  280f              	jr	Z,l_vdp_writeUInt16ToBinary_00102
  3576  1262  dd5efe            	ld	e,(ix-2)
  3577  1265  dd56ff            	ld	d,(ix-1)
  3578  1268  210000            	ld	hl,0
  3579  126b  39                	add	hl, sp
  3580  126c  19                	add	hl, de
  3581  126d  3631              	ld	(hl),0x31
  3582  126f  180d              	jr	l_vdp_writeUInt16ToBinary_00107
  3583                          l_vdp_writeUInt16ToBinary_00102:
  3584  1271  dd5efe            	ld	e,(ix-2)
  3585  1274  dd56ff            	ld	d,(ix-1)
  3586  1277  210000            	ld	hl,0
  3587  127a  39                	add	hl, sp
  3588  127b  19                	add	hl, de
  3589  127c  3630              	ld	(hl),0x30
  3590                          l_vdp_writeUInt16ToBinary_00107:
  3591  127e  0c                	inc	c
  3592  127f  18bc              	jr	l_vdp_writeUInt16ToBinary_00106
  3593                          l_vdp_writeUInt16ToBinary_00104:
  3594  1281  dd36fd00          	ld	(ix-3),0x00
  3595  1285  210000            	ld	hl,0
  3596  1288  39                	add	hl, sp
  3597  1289  e5                	push	hl
  3598  128a  cd660d            	call	_vdp_print
  3599  128d  ddf9              	ld	sp,ix
  3600  128f  dde1              	pop	ix
  3601  1291  c9                	ret
  3602                          	SECTION code_compiler
  3603                          ;	---------------------------------
  3604                          ; Function main
  3605                          ; ---------------------------------
  3606                          _main:
  3607  1292  dde5              	push	ix
  3608  1294  dd210000          	ld	ix,0
  3609  1298  dd39              	add	ix,sp
  3610  129a  21e2ff            	ld	hl, -30
  3611  129d  39                	add	hl, sp
  3612  129e  f9                	ld	sp, hl
  3613  129f  af                	xor	a, a
  3614  12a0  57                	ld	d,a
  3615  12a1  1e03              	ld	e,0x03
  3616  12a3  d5                	push	de
  3617  12a4  3e01              	ld	a,0x01
  3618  12a6  f5                	push	af
  3619  12a7  33                	inc	sp
  3620  12a8  cded05            	call	_vdp_initTextMode
  3621  12ab  33                	inc	sp
  3622  12ac  219100            	ld	hl,_ASCII
  3623  12af  e3                	ex	(sp),hl
  3624  12b0  cd4d07            	call	_vdp_loadASCIIFont
  3625  12b3  f1                	pop	af
  3626  12b4  cd0000            	call	_initNABULib
  3627  12b7  dd36e214          	ld	(ix-30),0x14
  3628  12bb  dd36e30a          	ld	(ix-29),0x0a
  3629  12bf  dd36e432          	ld	(ix-28),0x32
  3630  12c3  dd36e50a          	ld	(ix-27),0x0a
  3631  12c7  dd36e60f          	ld	(ix-26),0x0f
  3632  12cb  dd36e714          	ld	(ix-25),0x14
  3633  12cf  dd36e80a          	ld	(ix-24),0x0a
  3634  12d3  dd36e91e          	ld	(ix-23),0x1e
  3635  12d7  dd36ea17          	ld	(ix-22),0x17
  3636  12db  dd36eb09          	ld	(ix-21),0x09
  3637  12df  dd36ec02          	ld	(ix-20),0x02
  3638  12e3  dd36ed08          	ld	(ix-19),0x08
  3639  12e7  dd36ee14          	ld	(ix-18),0x14
  3640  12eb  dd36ef02          	ld	(ix-17),0x02
  3641  12ef  dd36f014          	ld	(ix-16),0x14
  3642  12f3  dd36f108          	ld	(ix-15),0x08
  3643  12f7  dd36f21e          	ld	(ix-14),0x1e
  3644  12fb  dd36f30a          	ld	(ix-13),0x0a
  3645  12ff  dd36f414          	ld	(ix-12),0x14
  3646  1303  dd36f508          	ld	(ix-11),0x08
  3647  1307  dd36f614          	ld	(ix-10),0x14
  3648  130b  dd36f708          	ld	(ix-9),0x08
  3649  130f  dd36f80a          	ld	(ix-8),0x0a
  3650  1313  dd36f90a          	ld	(ix-7),0x0a
  3651  1317  dd36fa0a          	ld	(ix-6),0x0a
  3652  131b  dd36fb0a          	ld	(ix-5),0x0a
  3653  131f  dd36fc01          	ld	(ix-4),0x01
  3654  1323  dd36fd01          	ld	(ix-3),0x01
  3655  1327  dd36ff00          	ld	(ix-1),0x00
  3656                          l_main_00120:
  3657  132b  dd7efa            	ld	a,(ix-6)
  3658  132e  fe1d              	cp	a,0x1d
  3659  1330  3806              	jr	C,l_main_00104
  3660  1332  dd36fc00          	ld	(ix-4),0x00
  3661  1336  1807              	jr	l_main_00105
  3662                          l_main_00104:
  3663  1338  b7                	or	a, a
  3664  1339  2004              	jr	NZ,l_main_00105
  3665  133b  dd36fc01          	ld	(ix-4),0x01
  3666                          l_main_00105:
  3667  133f  dd77fe            	ld	(ix-2),a
  3668  1342  dd7efc            	ld	a,(ix-4)
  3669  1345  b7                	or	a, a
  3670  1346  2809              	jr	Z,l_main_00107
  3671  1348  dd7efe            	ld	a,(ix-2)
  3672  134b  3c                	inc	a
  3673  134c  dd77f8            	ld	(ix-8),a
  3674  134f  1807              	jr	l_main_00108
  3675                          l_main_00107:
  3676  1351  dd7efe            	ld	a,(ix-2)
  3677  1354  3d                	dec	a
  3678  1355  dd77f8            	ld	(ix-8),a
  3679                          l_main_00108:
  3680  1358  dd7efb            	ld	a,(ix-5)
  3681  135b  fe17              	cp	a,0x17
  3682  135d  3806              	jr	C,l_main_00112
  3683  135f  dd36fd00          	ld	(ix-3),0x00
  3684  1363  1807              	jr	l_main_00113
  3685                          l_main_00112:
  3686  1365  b7                	or	a, a
  3687  1366  2004              	jr	NZ,l_main_00113
  3688  1368  dd36fd01          	ld	(ix-3),0x01
  3689                          l_main_00113:
  3690  136c  4f                	ld	c, a
  3691  136d  dd7efd            	ld	a,(ix-3)
  3692  1370  b7                	or	a, a
  3693  1371  2806              	jr	Z,l_main_00115
  3694  1373  0c                	inc	c
  3695  1374  dd71f9            	ld	(ix-7),c
  3696  1377  1804              	jr	l_main_00116
  3697                          l_main_00115:
  3698  1379  0d                	dec	c
  3699  137a  dd71f9            	ld	(ix-7),c
  3700                          l_main_00116:
  3701  137d  dd7efb            	ld	a,(ix-5)
  3702  1380  dd46fa            	ld	b,(ix-6)
  3703  1383  f5                	push	af
  3704  1384  33                	inc	sp
  3705  1385  c5                	push	bc
  3706  1386  33                	inc	sp
  3707  1387  cd230e            	call	_vdp_setCursor2
  3708  138a  219103            	ld	hl,___str_0
  3709  138d  e3                	ex	(sp),hl
  3710  138e  cd660d            	call	_vdp_print
  3711  1391  f1                	pop	af
  3712  1392  dd7ef9            	ld	a,(ix-7)
  3713  1395  dd46f8            	ld	b,(ix-8)
  3714  1398  f5                	push	af
  3715  1399  33                	inc	sp
  3716  139a  c5                	push	bc
  3717  139b  33                	inc	sp
  3718  139c  cd230e            	call	_vdp_setCursor2
  3719  139f  219c03            	ld	hl,___str_1
  3720  13a2  e3                	ex	(sp),hl
  3721  13a3  cd660d            	call	_vdp_print
  3722  13a6  f1                	pop	af
  3723  13a7  dd7ef8            	ld	a,(ix-8)
  3724  13aa  dd77fa            	ld	(ix-6),a
  3725  13ad  dd7ef9            	ld	a,(ix-7)
  3726  13b0  dd77fb            	ld	(ix-5),a
  3727  13b3  3e16              	ld	a,0x16
  3728  13b5  f5                	push	af
  3729  13b6  33                	inc	sp
  3730  13b7  dd7eff            	ld	a,(ix-1)
  3731  13ba  f5                	push	af
  3732  13bb  33                	inc	sp
  3733  13bc  cd0000            	call	__moduchar_callee
  3734  13bf  5d                	ld	e, l
  3735  13c0  dd34ff            	inc	(ix-1)
  3736  13c3  1600              	ld	d,0x00
  3737  13c5  210000            	ld	hl,0
  3738  13c8  39                	add	hl, sp
  3739  13c9  19                	add	hl, de
  3740  13ca  7e                	ld	a, (hl)
  3741  13cb  210a00            	ld	hl,0x000a
  3742  13ce  e5                	push	hl
  3743  13cf  f5                	push	af
  3744  13d0  33                	inc	sp
  3745  13d1  af                	xor	a, a
  3746  13d2  f5                	push	af
  3747  13d3  33                	inc	sp
  3748  13d4  cd0f01            	call	_playNoteDelay
  3749  13d7  f1                	pop	af
  3750  13d8  f1                	pop	af
  3751  13d9  216400            	ld	hl,0x0064
  3752  13dc  cd0000            	call	_z80_delay_ms
  3753  13df  cd1002            	call	_isKeyPressed
  3754  13e2  7d                	ld	a, l
  3755  13e3  b7                	or	a, a
  3756  13e4  ca2b13            	jp	Z, l_main_00120
  3757  13e7  cd2502            	call	_getChar
  3758  13ea  7d                	ld	a, l
  3759  13eb  f5                	push	af
  3760  13ec  33                	inc	sp
  3761  13ed  cdd80e            	call	_vdp_write
  3762  13f0  33                	inc	sp
  3763  13f1  c32b13            	jp	l_main_00120
  3764                          	SECTION rodata_compiler
  3765                          _ASCII:
  3766  0091  00                	DEFB +0x00
  3767  0092  00                	DEFB +0x00
  3768  0093  00                	DEFB +0x00
  3769  0094  00                	DEFB +0x00
  3770  0095  00                	DEFB +0x00
  3771  0096  00                	DEFB +0x00
  3772  0097  00                	DEFB +0x00
  3773  0098  00                	DEFB +0x00
  3774  0099  20                	DEFB +0x20
  3775  009a  20                	DEFB +0x20
  3776  009b  20                	DEFB +0x20
  3777  009c  20                	DEFB +0x20
  3778  009d  20                	DEFB +0x20
  3779  009e  00                	DEFB +0x00
  3780  009f  20                	DEFB +0x20
  3781  00a0  00                	DEFB +0x00
  3782  00a1  50                	DEFB +0x50
  3783  00a2  50                	DEFB +0x50
  3784  00a3  00                	DEFB +0x00
  3785  00a4  00                	DEFB +0x00
  3786  00a5  00                	DEFB +0x00
  3787  00a6  00                	DEFB +0x00
  3788  00a7  00                	DEFB +0x00
  3789  00a8  00                	DEFB +0x00
  3790  00a9  50                	DEFB +0x50
  3791  00aa  50                	DEFB +0x50
  3792  00ab  f8                	DEFB +0xf8
  3793  00ac  50                	DEFB +0x50
  3794  00ad  f8                	DEFB +0xf8
  3795  00ae  50                	DEFB +0x50
  3796  00af  50                	DEFB +0x50
  3797  00b0  00                	DEFB +0x00
  3798  00b1  20                	DEFB +0x20
  3799  00b2  78                	DEFB +0x78
  3800  00b3  a0                	DEFB +0xa0
  3801  00b4  70                	DEFB +0x70
  3802  00b5  28                	DEFB +0x28
  3803  00b6  f0                	DEFB +0xf0
  3804  00b7  20                	DEFB +0x20
  3805  00b8  00                	DEFB +0x00
  3806  00b9  c0                	DEFB +0xc0
  3807  00ba  c8                	DEFB +0xc8
  3808  00bb  10                	DEFB +0x10
  3809  00bc  20                	DEFB +0x20
  3810  00bd  40                	DEFB +0x40
  3811  00be  98                	DEFB +0x98
  3812  00bf  18                	DEFB +0x18
  3813  00c0  00                	DEFB +0x00
  3814  00c1  60                	DEFB +0x60
  3815  00c2  90                	DEFB +0x90
  3816  00c3  a0                	DEFB +0xa0
  3817  00c4  40                	DEFB +0x40
  3818  00c5  a8                	DEFB +0xa8
  3819  00c6  90                	DEFB +0x90
  3820  00c7  68                	DEFB +0x68
  3821  00c8  00                	DEFB +0x00
  3822  00c9  60                	DEFB +0x60
  3823  00ca  20                	DEFB +0x20
  3824  00cb  40                	DEFB +0x40
  3825  00cc  00                	DEFB +0x00
  3826  00cd  00                	DEFB +0x00
  3827  00ce  00                	DEFB +0x00
  3828  00cf  00                	DEFB +0x00
  3829  00d0  00                	DEFB +0x00
  3830  00d1  10                	DEFB +0x10
  3831  00d2  20                	DEFB +0x20
  3832  00d3  40                	DEFB +0x40
  3833  00d4  40                	DEFB +0x40
  3834  00d5  40                	DEFB +0x40
  3835  00d6  20                	DEFB +0x20
  3836  00d7  10                	DEFB +0x10
  3837  00d8  00                	DEFB +0x00
  3838  00d9  40                	DEFB +0x40
  3839  00da  20                	DEFB +0x20
  3840  00db  10                	DEFB +0x10
  3841  00dc  10                	DEFB +0x10
  3842  00dd  10                	DEFB +0x10
  3843  00de  20                	DEFB +0x20
  3844  00df  40                	DEFB +0x40
  3845  00e0  00                	DEFB +0x00
  3846  00e1  00                	DEFB +0x00
  3847  00e2  20                	DEFB +0x20
  3848  00e3  a8                	DEFB +0xa8
  3849  00e4  70                	DEFB +0x70
  3850  00e5  a8                	DEFB +0xa8
  3851  00e6  20                	DEFB +0x20
  3852  00e7  00                	DEFB +0x00
  3853  00e8  00                	DEFB +0x00
  3854  00e9  00                	DEFB +0x00
  3855  00ea  20                	DEFB +0x20
  3856  00eb  20                	DEFB +0x20
  3857  00ec  f8                	DEFB +0xf8
  3858  00ed  20                	DEFB +0x20
  3859  00ee  20                	DEFB +0x20
  3860  00ef  00                	DEFB +0x00
  3861  00f0  00                	DEFB +0x00
  3862  00f1  00                	DEFB +0x00
  3863  00f2  00                	DEFB +0x00
  3864  00f3  00                	DEFB +0x00
  3865  00f4  00                	DEFB +0x00
  3866  00f5  60                	DEFB +0x60
  3867  00f6  20                	DEFB +0x20
  3868  00f7  40                	DEFB +0x40
  3869  00f8  00                	DEFB +0x00
  3870  00f9  00                	DEFB +0x00
  3871  00fa  00                	DEFB +0x00
  3872  00fb  00                	DEFB +0x00
  3873  00fc  f8                	DEFB +0xf8
  3874  00fd  00                	DEFB +0x00
  3875  00fe  00                	DEFB +0x00
  3876  00ff  00                	DEFB +0x00
  3877  0100  00                	DEFB +0x00
  3878  0101  00                	DEFB +0x00
  3879  0102  00                	DEFB +0x00
  3880  0103  00                	DEFB +0x00
  3881  0104  00                	DEFB +0x00
  3882  0105  00                	DEFB +0x00
  3883  0106  60                	DEFB +0x60
  3884  0107  60                	DEFB +0x60
  3885  0108  00                	DEFB +0x00
  3886  0109  00                	DEFB +0x00
  3887  010a  08                	DEFB +0x08
  3888  010b  10                	DEFB +0x10
  3889  010c  20                	DEFB +0x20
  3890  010d  40                	DEFB +0x40
  3891  010e  80                	DEFB +0x80
  3892  010f  00                	DEFB +0x00
  3893  0110  00                	DEFB +0x00
  3894  0111  70                	DEFB +0x70
  3895  0112  88                	DEFB +0x88
  3896  0113  98                	DEFB +0x98
  3897  0114  a8                	DEFB +0xa8
  3898  0115  c8                	DEFB +0xc8
  3899  0116  88                	DEFB +0x88
  3900  0117  70                	DEFB +0x70
  3901  0118  00                	DEFB +0x00
  3902  0119  20                	DEFB +0x20
  3903  011a  60                	DEFB +0x60
  3904  011b  20                	DEFB +0x20
  3905  011c  20                	DEFB +0x20
  3906  011d  20                	DEFB +0x20
  3907  011e  20                	DEFB +0x20
  3908  011f  70                	DEFB +0x70
  3909  0120  00                	DEFB +0x00
  3910  0121  70                	DEFB +0x70
  3911  0122  88                	DEFB +0x88
  3912  0123  08                	DEFB +0x08
  3913  0124  10                	DEFB +0x10
  3914  0125  20                	DEFB +0x20
  3915  0126  40                	DEFB +0x40
  3916  0127  f8                	DEFB +0xf8
  3917  0128  00                	DEFB +0x00
  3918  0129  f8                	DEFB +0xf8
  3919  012a  10                	DEFB +0x10
  3920  012b  20                	DEFB +0x20
  3921  012c  10                	DEFB +0x10
  3922  012d  08                	DEFB +0x08
  3923  012e  88                	DEFB +0x88
  3924  012f  70                	DEFB +0x70
  3925  0130  00                	DEFB +0x00
  3926  0131  10                	DEFB +0x10
  3927  0132  30                	DEFB +0x30
  3928  0133  50                	DEFB +0x50
  3929  0134  90                	DEFB +0x90
  3930  0135  f8                	DEFB +0xf8
  3931  0136  10                	DEFB +0x10
  3932  0137  10                	DEFB +0x10
  3933  0138  00                	DEFB +0x00
  3934  0139  f8                	DEFB +0xf8
  3935  013a  80                	DEFB +0x80
  3936  013b  f0                	DEFB +0xf0
  3937  013c  08                	DEFB +0x08
  3938  013d  08                	DEFB +0x08
  3939  013e  88                	DEFB +0x88
  3940  013f  70                	DEFB +0x70
  3941  0140  00                	DEFB +0x00
  3942  0141  30                	DEFB +0x30
  3943  0142  40                	DEFB +0x40
  3944  0143  80                	DEFB +0x80
  3945  0144  f8                	DEFB +0xf8
  3946  0145  88                	DEFB +0x88
  3947  0146  88                	DEFB +0x88
  3948  0147  70                	DEFB +0x70
  3949  0148  00                	DEFB +0x00
  3950  0149  f8                	DEFB +0xf8
  3951  014a  08                	DEFB +0x08
  3952  014b  10                	DEFB +0x10
  3953  014c  20                	DEFB +0x20
  3954  014d  40                	DEFB +0x40
  3955  014e  40                	DEFB +0x40
  3956  014f  40                	DEFB +0x40
  3957  0150  00                	DEFB +0x00
  3958  0151  70                	DEFB +0x70
  3959  0152  88                	DEFB +0x88
  3960  0153  88                	DEFB +0x88
  3961  0154  70                	DEFB +0x70
  3962  0155  88                	DEFB +0x88
  3963  0156  88                	DEFB +0x88
  3964  0157  70                	DEFB +0x70
  3965  0158  00                	DEFB +0x00
  3966  0159  70                	DEFB +0x70
  3967  015a  88                	DEFB +0x88
  3968  015b  88                	DEFB +0x88
  3969  015c  78                	DEFB +0x78
  3970  015d  08                	DEFB +0x08
  3971  015e  10                	DEFB +0x10
  3972  015f  60                	DEFB +0x60
  3973  0160  00                	DEFB +0x00
  3974  0161  00                	DEFB +0x00
  3975  0162  30                	DEFB +0x30
  3976  0163  30                	DEFB +0x30
  3977  0164  00                	DEFB +0x00
  3978  0165  30                	DEFB +0x30
  3979  0166  30                	DEFB +0x30
  3980  0167  00                	DEFB +0x00
  3981  0168  00                	DEFB +0x00
  3982  0169  00                	DEFB +0x00
  3983  016a  30                	DEFB +0x30
  3984  016b  30                	DEFB +0x30
  3985  016c  00                	DEFB +0x00
  3986  016d  30                	DEFB +0x30
  3987  016e  10                	DEFB +0x10
  3988  016f  20                	DEFB +0x20
  3989  0170  00                	DEFB +0x00
  3990  0171  10                	DEFB +0x10
  3991  0172  20                	DEFB +0x20
  3992  0173  40                	DEFB +0x40
  3993  0174  80                	DEFB +0x80
  3994  0175  40                	DEFB +0x40
  3995  0176  20                	DEFB +0x20
  3996  0177  10                	DEFB +0x10
  3997  0178  00                	DEFB +0x00
  3998  0179  00                	DEFB +0x00
  3999  017a  00                	DEFB +0x00
  4000  017b  f8                	DEFB +0xf8
  4001  017c  00                	DEFB +0x00
  4002  017d  f8                	DEFB +0xf8
  4003  017e  00                	DEFB +0x00
  4004  017f  00                	DEFB +0x00
  4005  0180  00                	DEFB +0x00
  4006  0181  40                	DEFB +0x40
  4007  0182  20                	DEFB +0x20
  4008  0183  10                	DEFB +0x10
  4009  0184  08                	DEFB +0x08
  4010  0185  10                	DEFB +0x10
  4011  0186  20                	DEFB +0x20
  4012  0187  40                	DEFB +0x40
  4013  0188  00                	DEFB +0x00
  4014  0189  70                	DEFB +0x70
  4015  018a  88                	DEFB +0x88
  4016  018b  08                	DEFB +0x08
  4017  018c  10                	DEFB +0x10
  4018  018d  20                	DEFB +0x20
  4019  018e  00                	DEFB +0x00
  4020  018f  20                	DEFB +0x20
  4021  0190  00                	DEFB +0x00
  4022  0191  70                	DEFB +0x70
  4023  0192  88                	DEFB +0x88
  4024  0193  08                	DEFB +0x08
  4025  0194  68                	DEFB +0x68
  4026  0195  a8                	DEFB +0xa8
  4027  0196  a8                	DEFB +0xa8
  4028  0197  70                	DEFB +0x70
  4029  0198  00                	DEFB +0x00
  4030  0199  70                	DEFB +0x70
  4031  019a  88                	DEFB +0x88
  4032  019b  88                	DEFB +0x88
  4033  019c  88                	DEFB +0x88
  4034  019d  f8                	DEFB +0xf8
  4035  019e  88                	DEFB +0x88
  4036  019f  88                	DEFB +0x88
  4037  01a0  00                	DEFB +0x00
  4038  01a1  f0                	DEFB +0xf0
  4039  01a2  88                	DEFB +0x88
  4040  01a3  88                	DEFB +0x88
  4041  01a4  f0                	DEFB +0xf0
  4042  01a5  88                	DEFB +0x88
  4043  01a6  88                	DEFB +0x88
  4044  01a7  f0                	DEFB +0xf0
  4045  01a8  00                	DEFB +0x00
  4046  01a9  70                	DEFB +0x70
  4047  01aa  88                	DEFB +0x88
  4048  01ab  80                	DEFB +0x80
  4049  01ac  80                	DEFB +0x80
  4050  01ad  80                	DEFB +0x80
  4051  01ae  88                	DEFB +0x88
  4052  01af  70                	DEFB +0x70
  4053  01b0  00                	DEFB +0x00
  4054  01b1  e0                	DEFB +0xe0
  4055  01b2  90                	DEFB +0x90
  4056  01b3  88                	DEFB +0x88
  4057  01b4  88                	DEFB +0x88
  4058  01b5  88                	DEFB +0x88
  4059  01b6  90                	DEFB +0x90
  4060  01b7  e0                	DEFB +0xe0
  4061  01b8  00                	DEFB +0x00
  4062  01b9  f8                	DEFB +0xf8
  4063  01ba  80                	DEFB +0x80
  4064  01bb  80                	DEFB +0x80
  4065  01bc  f0                	DEFB +0xf0
  4066  01bd  80                	DEFB +0x80
  4067  01be  80                	DEFB +0x80
  4068  01bf  f8                	DEFB +0xf8
  4069  01c0  00                	DEFB +0x00
  4070  01c1  f8                	DEFB +0xf8
  4071  01c2  80                	DEFB +0x80
  4072  01c3  80                	DEFB +0x80
  4073  01c4  f0                	DEFB +0xf0
  4074  01c5  80                	DEFB +0x80
  4075  01c6  80                	DEFB +0x80
  4076  01c7  80                	DEFB +0x80
  4077  01c8  00                	DEFB +0x00
  4078  01c9  70                	DEFB +0x70
  4079  01ca  88                	DEFB +0x88
  4080  01cb  80                	DEFB +0x80
  4081  01cc  b8                	DEFB +0xb8
  4082  01cd  88                	DEFB +0x88
  4083  01ce  88                	DEFB +0x88
  4084  01cf  78                	DEFB +0x78
  4085  01d0  00                	DEFB +0x00
  4086  01d1  88                	DEFB +0x88
  4087  01d2  88                	DEFB +0x88
  4088  01d3  88                	DEFB +0x88
  4089  01d4  f8                	DEFB +0xf8
  4090  01d5  88                	DEFB +0x88
  4091  01d6  88                	DEFB +0x88
  4092  01d7  88                	DEFB +0x88
  4093  01d8  00                	DEFB +0x00
  4094  01d9  70                	DEFB +0x70
  4095  01da  20                	DEFB +0x20
  4096  01db  20                	DEFB +0x20
  4097  01dc  20                	DEFB +0x20
  4098  01dd  20                	DEFB +0x20
  4099  01de  20                	DEFB +0x20
  4100  01df  70                	DEFB +0x70
  4101  01e0  00                	DEFB +0x00
  4102  01e1  38                	DEFB +0x38
  4103  01e2  10                	DEFB +0x10
  4104  01e3  10                	DEFB +0x10
  4105  01e4  10                	DEFB +0x10
  4106  01e5  10                	DEFB +0x10
  4107  01e6  90                	DEFB +0x90
  4108  01e7  60                	DEFB +0x60
  4109  01e8  00                	DEFB +0x00
  4110  01e9  88                	DEFB +0x88
  4111  01ea  90                	DEFB +0x90
  4112  01eb  a0                	DEFB +0xa0
  4113  01ec  c0                	DEFB +0xc0
  4114  01ed  a0                	DEFB +0xa0
  4115  01ee  90                	DEFB +0x90
  4116  01ef  88                	DEFB +0x88
  4117  01f0  00                	DEFB +0x00
  4118  01f1  80                	DEFB +0x80
  4119  01f2  80                	DEFB +0x80
  4120  01f3  80                	DEFB +0x80
  4121  01f4  80                	DEFB +0x80
  4122  01f5  80                	DEFB +0x80
  4123  01f6  80                	DEFB +0x80
  4124  01f7  f8                	DEFB +0xf8
  4125  01f8  00                	DEFB +0x00
  4126  01f9  88                	DEFB +0x88
  4127  01fa  d8                	DEFB +0xd8
  4128  01fb  a8                	DEFB +0xa8
  4129  01fc  a8                	DEFB +0xa8
  4130  01fd  88                	DEFB +0x88
  4131  01fe  88                	DEFB +0x88
  4132  01ff  88                	DEFB +0x88
  4133  0200  00                	DEFB +0x00
  4134  0201  88                	DEFB +0x88
  4135  0202  c8                	DEFB +0xc8
  4136  0203  a8                	DEFB +0xa8
  4137  0204  98                	DEFB +0x98
  4138  0205  88                	DEFB +0x88
  4139  0206  88                	DEFB +0x88
  4140  0207  88                	DEFB +0x88
  4141  0208  00                	DEFB +0x00
  4142  0209  70                	DEFB +0x70
  4143  020a  88                	DEFB +0x88
  4144  020b  88                	DEFB +0x88
  4145  020c  88                	DEFB +0x88
  4146  020d  88                	DEFB +0x88
  4147  020e  88                	DEFB +0x88
  4148  020f  70                	DEFB +0x70
  4149  0210  00                	DEFB +0x00
  4150  0211  f0                	DEFB +0xf0
  4151  0212  88                	DEFB +0x88
  4152  0213  88                	DEFB +0x88
  4153  0214  f0                	DEFB +0xf0
  4154  0215  80                	DEFB +0x80
  4155  0216  80                	DEFB +0x80
  4156  0217  80                	DEFB +0x80
  4157  0218  00                	DEFB +0x00
  4158  0219  70                	DEFB +0x70
  4159  021a  88                	DEFB +0x88
  4160  021b  88                	DEFB +0x88
  4161  021c  88                	DEFB +0x88
  4162  021d  a8                	DEFB +0xa8
  4163  021e  90                	DEFB +0x90
  4164  021f  68                	DEFB +0x68
  4165  0220  00                	DEFB +0x00
  4166  0221  f0                	DEFB +0xf0
  4167  0222  88                	DEFB +0x88
  4168  0223  88                	DEFB +0x88
  4169  0224  f0                	DEFB +0xf0
  4170  0225  a0                	DEFB +0xa0
  4171  0226  90                	DEFB +0x90
  4172  0227  88                	DEFB +0x88
  4173  0228  00                	DEFB +0x00
  4174  0229  78                	DEFB +0x78
  4175  022a  80                	DEFB +0x80
  4176  022b  80                	DEFB +0x80
  4177  022c  70                	DEFB +0x70
  4178  022d  08                	DEFB +0x08
  4179  022e  08                	DEFB +0x08
  4180  022f  f0                	DEFB +0xf0
  4181  0230  00                	DEFB +0x00
  4182  0231  f8                	DEFB +0xf8
  4183  0232  20                	DEFB +0x20
  4184  0233  20                	DEFB +0x20
  4185  0234  20                	DEFB +0x20
  4186  0235  20                	DEFB +0x20
  4187  0236  20                	DEFB +0x20
  4188  0237  20                	DEFB +0x20
  4189  0238  00                	DEFB +0x00
  4190  0239  88                	DEFB +0x88
  4191  023a  88                	DEFB +0x88
  4192  023b  88                	DEFB +0x88
  4193  023c  88                	DEFB +0x88
  4194  023d  88                	DEFB +0x88
  4195  023e  88                	DEFB +0x88
  4196  023f  70                	DEFB +0x70
  4197  0240  00                	DEFB +0x00
  4198  0241  88                	DEFB +0x88
  4199  0242  88                	DEFB +0x88
  4200  0243  88                	DEFB +0x88
  4201  0244  88                	DEFB +0x88
  4202  0245  88                	DEFB +0x88
  4203  0246  50                	DEFB +0x50
  4204  0247  20                	DEFB +0x20
  4205  0248  00                	DEFB +0x00
  4206  0249  88                	DEFB +0x88
  4207  024a  88                	DEFB +0x88
  4208  024b  88                	DEFB +0x88
  4209  024c  88                	DEFB +0x88
  4210  024d  a8                	DEFB +0xa8
  4211  024e  a8                	DEFB +0xa8
  4212  024f  50                	DEFB +0x50
  4213  0250  00                	DEFB +0x00
  4214  0251  88                	DEFB +0x88
  4215  0252  88                	DEFB +0x88
  4216  0253  50                	DEFB +0x50
  4217  0254  20                	DEFB +0x20
  4218  0255  50                	DEFB +0x50
  4219  0256  88                	DEFB +0x88
  4220  0257  88                	DEFB +0x88
  4221  0258  00                	DEFB +0x00
  4222  0259  88                	DEFB +0x88
  4223  025a  88                	DEFB +0x88
  4224  025b  88                	DEFB +0x88
  4225  025c  50                	DEFB +0x50
  4226  025d  20                	DEFB +0x20
  4227  025e  20                	DEFB +0x20
  4228  025f  20                	DEFB +0x20
  4229  0260  00                	DEFB +0x00
  4230  0261  f8                	DEFB +0xf8
  4231  0262  08                	DEFB +0x08
  4232  0263  10                	DEFB +0x10
  4233  0264  20                	DEFB +0x20
  4234  0265  40                	DEFB +0x40
  4235  0266  80                	DEFB +0x80
  4236  0267  f8                	DEFB +0xf8
  4237  0268  00                	DEFB +0x00
  4238  0269  70                	DEFB +0x70
  4239  026a  40                	DEFB +0x40
  4240  026b  40                	DEFB +0x40
  4241  026c  40                	DEFB +0x40
  4242  026d  40                	DEFB +0x40
  4243  026e  40                	DEFB +0x40
  4244  026f  70                	DEFB +0x70
  4245  0270  00                	DEFB +0x00
  4246  0271  00                	DEFB +0x00
  4247  0272  80                	DEFB +0x80
  4248  0273  40                	DEFB +0x40
  4249  0274  20                	DEFB +0x20
  4250  0275  10                	DEFB +0x10
  4251  0276  08                	DEFB +0x08
  4252  0277  00                	DEFB +0x00
  4253  0278  00                	DEFB +0x00
  4254  0279  70                	DEFB +0x70
  4255  027a  10                	DEFB +0x10
  4256  027b  10                	DEFB +0x10
  4257  027c  10                	DEFB +0x10
  4258  027d  10                	DEFB +0x10
  4259  027e  10                	DEFB +0x10
  4260  027f  70                	DEFB +0x70
  4261  0280  00                	DEFB +0x00
  4262  0281  20                	DEFB +0x20
  4263  0282  50                	DEFB +0x50
  4264  0283  88                	DEFB +0x88
  4265  0284  00                	DEFB +0x00
  4266  0285  00                	DEFB +0x00
  4267  0286  00                	DEFB +0x00
  4268  0287  00                	DEFB +0x00
  4269  0288  00                	DEFB +0x00
  4270  0289  00                	DEFB +0x00
  4271  028a  00                	DEFB +0x00
  4272  028b  00                	DEFB +0x00
  4273  028c  00                	DEFB +0x00
  4274  028d  00                	DEFB +0x00
  4275  028e  00                	DEFB +0x00
  4276  028f  f8                	DEFB +0xf8
  4277  0290  00                	DEFB +0x00
  4278  0291  40                	DEFB +0x40
  4279  0292  20                	DEFB +0x20
  4280  0293  10                	DEFB +0x10
  4281  0294  00                	DEFB +0x00
  4282  0295  00                	DEFB +0x00
  4283  0296  00                	DEFB +0x00
  4284  0297  00                	DEFB +0x00
  4285  0298  00                	DEFB +0x00
  4286  0299  00                	DEFB +0x00
  4287  029a  00                	DEFB +0x00
  4288  029b  70                	DEFB +0x70
  4289  029c  08                	DEFB +0x08
  4290  029d  78                	DEFB +0x78
  4291  029e  88                	DEFB +0x88
  4292  029f  78                	DEFB +0x78
  4293  02a0  00                	DEFB +0x00
  4294  02a1  00                	DEFB +0x00
  4295  02a2  80                	DEFB +0x80
  4296  02a3  80                	DEFB +0x80
  4297  02a4  b0                	DEFB +0xb0
  4298  02a5  c8                	DEFB +0xc8
  4299  02a6  88                	DEFB +0x88
  4300  02a7  f0                	DEFB +0xf0
  4301  02a8  00                	DEFB +0x00
  4302  02a9  00                	DEFB +0x00
  4303  02aa  00                	DEFB +0x00
  4304  02ab  70                	DEFB +0x70
  4305  02ac  80                	DEFB +0x80
  4306  02ad  80                	DEFB +0x80
  4307  02ae  88                	DEFB +0x88
  4308  02af  70                	DEFB +0x70
  4309  02b0  00                	DEFB +0x00
  4310  02b1  08                	DEFB +0x08
  4311  02b2  08                	DEFB +0x08
  4312  02b3  08                	DEFB +0x08
  4313  02b4  68                	DEFB +0x68
  4314  02b5  98                	DEFB +0x98
  4315  02b6  88                	DEFB +0x88
  4316  02b7  78                	DEFB +0x78
  4317  02b8  00                	DEFB +0x00
  4318  02b9  00                	DEFB +0x00
  4319  02ba  00                	DEFB +0x00
  4320  02bb  70                	DEFB +0x70
  4321  02bc  88                	DEFB +0x88
  4322  02bd  f8                	DEFB +0xf8
  4323  02be  80                	DEFB +0x80
  4324  02bf  70                	DEFB +0x70
  4325  02c0  00                	DEFB +0x00
  4326  02c1  30                	DEFB +0x30
  4327  02c2  48                	DEFB +0x48
  4328  02c3  40                	DEFB +0x40
  4329  02c4  e0                	DEFB +0xe0
  4330  02c5  40                	DEFB +0x40
  4331  02c6  40                	DEFB +0x40
  4332  02c7  40                	DEFB +0x40
  4333  02c8  00                	DEFB +0x00
  4334  02c9  00                	DEFB +0x00
  4335  02ca  78                	DEFB +0x78
  4336  02cb  88                	DEFB +0x88
  4337  02cc  88                	DEFB +0x88
  4338  02cd  78                	DEFB +0x78
  4339  02ce  08                	DEFB +0x08
  4340  02cf  70                	DEFB +0x70
  4341  02d0  00                	DEFB +0x00
  4342  02d1  80                	DEFB +0x80
  4343  02d2  80                	DEFB +0x80
  4344  02d3  b0                	DEFB +0xb0
  4345  02d4  c8                	DEFB +0xc8
  4346  02d5  88                	DEFB +0x88
  4347  02d6  88                	DEFB +0x88
  4348  02d7  88                	DEFB +0x88
  4349  02d8  00                	DEFB +0x00
  4350  02d9  00                	DEFB +0x00
  4351  02da  20                	DEFB +0x20
  4352  02db  00                	DEFB +0x00
  4353  02dc  20                	DEFB +0x20
  4354  02dd  20                	DEFB +0x20
  4355  02de  20                	DEFB +0x20
  4356  02df  20                	DEFB +0x20
  4357  02e0  00                	DEFB +0x00
  4358  02e1  10                	DEFB +0x10
  4359  02e2  00                	DEFB +0x00
  4360  02e3  30                	DEFB +0x30
  4361  02e4  10                	DEFB +0x10
  4362  02e5  10                	DEFB +0x10
  4363  02e6  90                	DEFB +0x90
  4364  02e7  60                	DEFB +0x60
  4365  02e8  00                	DEFB +0x00
  4366  02e9  80                	DEFB +0x80
  4367  02ea  80                	DEFB +0x80
  4368  02eb  90                	DEFB +0x90
  4369  02ec  a0                	DEFB +0xa0
  4370  02ed  c0                	DEFB +0xc0
  4371  02ee  a0                	DEFB +0xa0
  4372  02ef  90                	DEFB +0x90
  4373  02f0  00                	DEFB +0x00
  4374  02f1  60                	DEFB +0x60
  4375  02f2  20                	DEFB +0x20
  4376  02f3  20                	DEFB +0x20
  4377  02f4  20                	DEFB +0x20
  4378  02f5  20                	DEFB +0x20
  4379  02f6  20                	DEFB +0x20
  4380  02f7  70                	DEFB +0x70
  4381  02f8  00                	DEFB +0x00
  4382  02f9  00                	DEFB +0x00
  4383  02fa  00                	DEFB +0x00
  4384  02fb  d0                	DEFB +0xd0
  4385  02fc  a8                	DEFB +0xa8
  4386  02fd  a8                	DEFB +0xa8
  4387  02fe  88                	DEFB +0x88
  4388  02ff  88                	DEFB +0x88
  4389  0300  00                	DEFB +0x00
  4390  0301  00                	DEFB +0x00
  4391  0302  00                	DEFB +0x00
  4392  0303  b0                	DEFB +0xb0
  4393  0304  c8                	DEFB +0xc8
  4394  0305  88                	DEFB +0x88
  4395  0306  88                	DEFB +0x88
  4396  0307  88                	DEFB +0x88
  4397  0308  00                	DEFB +0x00
  4398  0309  00                	DEFB +0x00
  4399  030a  00                	DEFB +0x00
  4400  030b  70                	DEFB +0x70
  4401  030c  88                	DEFB +0x88
  4402  030d  88                	DEFB +0x88
  4403  030e  88                	DEFB +0x88
  4404  030f  70                	DEFB +0x70
  4405  0310  00                	DEFB +0x00
  4406  0311  00                	DEFB +0x00
  4407  0312  00                	DEFB +0x00
  4408  0313  f0                	DEFB +0xf0
  4409  0314  88                	DEFB +0x88
  4410  0315  f0                	DEFB +0xf0
  4411  0316  80                	DEFB +0x80
  4412  0317  80                	DEFB +0x80
  4413  0318  00                	DEFB +0x00
  4414  0319  00                	DEFB +0x00
  4415  031a  00                	DEFB +0x00
  4416  031b  68                	DEFB +0x68
  4417  031c  98                	DEFB +0x98
  4418  031d  78                	DEFB +0x78
  4419  031e  08                	DEFB +0x08
  4420  031f  08                	DEFB +0x08
  4421  0320  00                	DEFB +0x00
  4422  0321  00                	DEFB +0x00
  4423  0322  00                	DEFB +0x00
  4424  0323  b0                	DEFB +0xb0
  4425  0324  c8                	DEFB +0xc8
  4426  0325  80                	DEFB +0x80
  4427  0326  80                	DEFB +0x80
  4428  0327  80                	DEFB +0x80
  4429  0328  00                	DEFB +0x00
  4430  0329  00                	DEFB +0x00
  4431  032a  00                	DEFB +0x00
  4432  032b  70                	DEFB +0x70
  4433  032c  80                	DEFB +0x80
  4434  032d  70                	DEFB +0x70
  4435  032e  08                	DEFB +0x08
  4436  032f  f0                	DEFB +0xf0
  4437  0330  00                	DEFB +0x00
  4438  0331  40                	DEFB +0x40
  4439  0332  40                	DEFB +0x40
  4440  0333  e0                	DEFB +0xe0
  4441  0334  40                	DEFB +0x40
  4442  0335  40                	DEFB +0x40
  4443  0336  48                	DEFB +0x48
  4444  0337  30                	DEFB +0x30
  4445  0338  00                	DEFB +0x00
  4446  0339  00                	DEFB +0x00
  4447  033a  00                	DEFB +0x00
  4448  033b  88                	DEFB +0x88
  4449  033c  88                	DEFB +0x88
  4450  033d  88                	DEFB +0x88
  4451  033e  98                	DEFB +0x98
  4452  033f  68                	DEFB +0x68
  4453  0340  00                	DEFB +0x00
  4454  0341  00                	DEFB +0x00
  4455  0342  00                	DEFB +0x00
  4456  0343  88                	DEFB +0x88
  4457  0344  88                	DEFB +0x88
  4458  0345  88                	DEFB +0x88
  4459  0346  50                	DEFB +0x50
  4460  0347  20                	DEFB +0x20
  4461  0348  00                	DEFB +0x00
  4462  0349  00                	DEFB +0x00
  4463  034a  00                	DEFB +0x00
  4464  034b  88                	DEFB +0x88
  4465  034c  88                	DEFB +0x88
  4466  034d  a8                	DEFB +0xa8
  4467  034e  a8                	DEFB +0xa8
  4468  034f  50                	DEFB +0x50
  4469  0350  00                	DEFB +0x00
  4470  0351  00                	DEFB +0x00
  4471  0352  00                	DEFB +0x00
  4472  0353  88                	DEFB +0x88
  4473  0354  50                	DEFB +0x50
  4474  0355  20                	DEFB +0x20
  4475  0356  50                	DEFB +0x50
  4476  0357  88                	DEFB +0x88
  4477  0358  00                	DEFB +0x00
  4478  0359  00                	DEFB +0x00
  4479  035a  00                	DEFB +0x00
  4480  035b  88                	DEFB +0x88
  4481  035c  88                	DEFB +0x88
  4482  035d  78                	DEFB +0x78
  4483  035e  08                	DEFB +0x08
  4484  035f  70                	DEFB +0x70
  4485  0360  00                	DEFB +0x00
  4486  0361  00                	DEFB +0x00
  4487  0362  00                	DEFB +0x00
  4488  0363  f8                	DEFB +0xf8
  4489  0364  10                	DEFB +0x10
  4490  0365  20                	DEFB +0x20
  4491  0366  40                	DEFB +0x40
  4492  0367  f8                	DEFB +0xf8
  4493  0368  00                	DEFB +0x00
  4494  0369  10                	DEFB +0x10
  4495  036a  20                	DEFB +0x20
  4496  036b  20                	DEFB +0x20
  4497  036c  40                	DEFB +0x40
  4498  036d  20                	DEFB +0x20
  4499  036e  20                	DEFB +0x20
  4500  036f  10                	DEFB +0x10
  4501  0370  00                	DEFB +0x00
  4502  0371  20                	DEFB +0x20
  4503  0372  20                	DEFB +0x20
  4504  0373  20                	DEFB +0x20
  4505  0374  20                	DEFB +0x20
  4506  0375  20                	DEFB +0x20
  4507  0376  20                	DEFB +0x20
  4508  0377  20                	DEFB +0x20
  4509  0378  00                	DEFB +0x00
  4510  0379  20                	DEFB +0x20
  4511  037a  10                	DEFB +0x10
  4512  037b  10                	DEFB +0x10
  4513  037c  08                	DEFB +0x08
  4514  037d  10                	DEFB +0x10
  4515  037e  10                	DEFB +0x10
  4516  037f  20                	DEFB +0x20
  4517  0380  00                	DEFB +0x00
  4518  0381  00                	DEFB +0x00
  4519  0382  28                	DEFB +0x28
  4520  0383  50                	DEFB +0x50
  4521  0384  00                	DEFB +0x00
  4522  0385  00                	DEFB +0x00
  4523  0386  00                	DEFB +0x00
  4524  0387  00                	DEFB +0x00
  4525  0388  00                	DEFB +0x00
  4526  0389  00                	DEFB 0x00
  4527  038a  00                	DEFB 0x00
  4528  038b  00                	DEFB 0x00
  4529  038c  00                	DEFB 0x00
  4530  038d  00                	DEFB 0x00
  4531  038e  00                	DEFB 0x00
  4532  038f  00                	DEFB 0x00
  4533  0390  00                	DEFB 0x00
  4534                          	SECTION rodata_compiler
  4535                          ___str_0:
  4536  0391  20a1202020a12024  	DEFM "          "
              0020              
  4537  039b  00                	DEFB 0x00
  4538                          	SECTION rodata_compiler
  4539                          ___str_1:
  4540  039c  4825006c6f204e41  	DEFM "Hello NABU"
              4294              
  4541  03a6  00                	DEFB 0x00
  4542                          	SECTION data_compiler
  4543                          __randomSeed:
  4544  0000  00                	DEFB +0x00
  4545                          __kbdBufferReadPos:
  4546  0001  00                	DEFB +0x00
  4547                          __kbdBufferWritePos:
  4548  0002  00                	DEFB +0x00
  4549                          __lastKeyboardIntVal:
  4550  0003  00                	DEFB +0x00
  4551                          __joyStatus:
  4552  0004  00                	DEFB +0x00
  4553  0005  00                	DEFB 0x00
  4554  0006  00                	DEFB 0x00
  4555  0007  00                	DEFB 0x00
  4556                          __ORIGINAL_INT_MASK:
  4557  0008  00                	DEFB +0x00
  4558                          _RETRONET_BRIDGE_EXIT_CODE:
  4559  0009  0f                	DEFB +0x0f
  4560  000a  b7                	DEFB +0xb7
  4561  000b  b8                	DEFB +0xb8
  4562  000c  b9                	DEFB +0xb9
  4563  000d  0f                	DEFB +0x0f
  4564  000e  b9                	DEFB +0xb9
  4565  000f  b8                	DEFB +0xb8
  4566  0010  b7                	DEFB +0xb7
  4567  0011  b8                	DEFB +0xb8
  4568  0012  b9                	DEFB +0xb9
  4569  0013  b7                	DEFB +0xb7
  4570  0014  b7                	DEFB +0xb7
  4571  0015  b8                	DEFB +0xb8
  4572  0016  b9                	DEFB +0xb9
  4573  0017  b9                	DEFB +0xb9
  4574  0018  b8                	DEFB +0xb8
  4575  0019  b7                	DEFB +0xb7
  4576  001a  b8                	DEFB +0xb8
  4577  001b  0f                	DEFB +0x0f
  4578  001c  b9                	DEFB +0xb9
  4579  001d  b7                	DEFB +0xb7
  4580                          _vdp_cursor:
  4581  001e  00                	DEFB +0x00
  4582  001f  00                	DEFB +0x00
  4583                          __vdpReg1Val:
  4584  0020  00                	DEFB +0x00
  4585                          __vdpColorTableSize:
  4586  0021  0000              	DEFW +0x0000
  4587                          __vdpInterruptEnabled:
  4588  0023  00                	DEFB +0x00
  4589                          _vdpStatusRegVal:
  4590  0024  00                	DEFB +0x00
  4591                          _vdpIsReady:
  4592  0025  00                	DEFB +0x00
  4593                          	SECTION IGNORE
  4594                          

C:/Users/user/AppData/Local/Temp/zcc00008C90E9072.asm:
     1                          MODULE main_c
     2                          LINE 0, "main.c"
main.c:
                                
     1                          ;--------------------------------------------------------
     2                          ; File Created by SDCC : free open source ANSI-C Compiler
     3                          ; Version 4.2.0 #13081 (MINGW64)
     4                          ;--------------------------------------------------------
     5                          ; Processed by Z88DK
     6                          ;--------------------------------------------------------
     7                          
     8                          	EXTERN __divschar
     9                          	EXTERN __divschar_callee
    10                          	EXTERN __divsint
    11                          	EXTERN __divsint_callee
    12                          	EXTERN __divslong
    13                          	EXTERN __divslong_callee
    14                          	EXTERN __divslonglong
    15                          	EXTERN __divslonglong_callee
    16                          	EXTERN __divsuchar
    17                          	EXTERN __divsuchar_callee
    18                          	EXTERN __divuchar
    19                          	EXTERN __divuchar_callee
    20                          	EXTERN __divuint
    21                          	EXTERN __divuint_callee
    22                          	EXTERN __divulong
    23                          	EXTERN __divulong_callee
    24                          	EXTERN __divulonglong
    25                          	EXTERN __divulonglong_callee
    26                          	EXTERN __divuschar
    27                          	EXTERN __divuschar_callee
    28                          	EXTERN __modschar
    29                          	EXTERN __modschar_callee
    30                          	EXTERN __modsint
    31                          	EXTERN __modsint_callee
    32                          	EXTERN __modslong
    33                          	EXTERN __modslong_callee
    34                          	EXTERN __modslonglong
    35                          	EXTERN __modslonglong_callee
    36                          	EXTERN __modsuchar
    37                          	EXTERN __modsuchar_callee
    38                          	EXTERN __moduchar
    39                          	EXTERN __moduchar_callee
    40                          	EXTERN __moduint
    41                          	EXTERN __moduint_callee
    42                          	EXTERN __modulong
    43                          	EXTERN __modulong_callee
    44                          	EXTERN __modulonglong
    45                          	EXTERN __modulonglong_callee
    46                          	EXTERN __moduschar
    47                          	EXTERN __moduschar_callee
    48                          	EXTERN __mulint
    49                          	EXTERN __mulint_callee
    50                          	EXTERN __mullong
    51                          	EXTERN __mullong_callee
    52                          	EXTERN __mullonglong
    53                          	EXTERN __mullonglong_callee
    54                          	EXTERN __mulschar
    55                          	EXTERN __mulschar_callee
    56                          	EXTERN __mulsuchar
    57                          	EXTERN __mulsuchar_callee
    58                          	EXTERN __muluchar
    59                          	EXTERN __muluchar_callee
    60                          	EXTERN __muluschar
    61                          	EXTERN __muluschar_callee
    62                          	EXTERN __rlslonglong
    63                          	EXTERN __rlslonglong_callee
    64                          	EXTERN __rlulonglong
    65                          	EXTERN __rlulonglong_callee
    66                          	EXTERN __rrslonglong
    67                          	EXTERN __rrslonglong_callee
    68                          	EXTERN __rrulonglong
    69                          	EXTERN __rrulonglong_callee
    70                          	EXTERN ___mulsint2slong
    71                          	EXTERN ___mulsint2slong_callee
    72                          	EXTERN ___muluint2ulong
    73                          	EXTERN ___muluint2ulong_callee
    74                          	EXTERN ___sdcc_call_hl
    75                          	EXTERN ___sdcc_call_iy
    76                          	EXTERN ___sdcc_enter_ix
    77                          	EXTERN banked_call
    78                          	EXTERN _banked_ret
    79                          	EXTERN ___fs2schar
    80                          	EXTERN ___fs2schar_callee
    81                          	EXTERN ___fs2sint
    82                          	EXTERN ___fs2sint_callee
    83                          	EXTERN ___fs2slong
    84                          	EXTERN ___fs2slong_callee
    85                          	EXTERN ___fs2slonglong
    86                          	EXTERN ___fs2slonglong_callee
    87                          	EXTERN ___fs2uchar
    88                          	EXTERN ___fs2uchar_callee
    89                          	EXTERN ___fs2uint
    90                          	EXTERN ___fs2uint_callee
    91                          	EXTERN ___fs2ulong
    92                          	EXTERN ___fs2ulong_callee
    93                          	EXTERN ___fs2ulonglong
    94                          	EXTERN ___fs2ulonglong_callee
    95                          	EXTERN ___fsadd
    96                          	EXTERN ___fsadd_callee
    97                          	EXTERN ___fsdiv
    98                          	EXTERN ___fsdiv_callee
    99                          	EXTERN ___fseq
   100                          	EXTERN ___fseq_callee
   101                          	EXTERN ___fsgt
   102                          	EXTERN ___fsgt_callee
   103                          	EXTERN ___fslt
   104                          	EXTERN ___fslt_callee
   105                          	EXTERN ___fsmul
   106                          	EXTERN ___fsmul_callee
   107                          	EXTERN ___fsneq
   108                          	EXTERN ___fsneq_callee
   109                          	EXTERN ___fssub
   110                          	EXTERN ___fssub_callee
   111                          	EXTERN ___schar2fs
   112                          	EXTERN ___schar2fs_callee
   113                          	EXTERN ___sint2fs
   114                          	EXTERN ___sint2fs_callee
   115                          	EXTERN ___slong2fs
   116                          	EXTERN ___slong2fs_callee
   117                          	EXTERN ___slonglong2fs
   118                          	EXTERN ___slonglong2fs_callee
   119                          	EXTERN ___uchar2fs
   120                          	EXTERN ___uchar2fs_callee
   121                          	EXTERN ___uint2fs
   122                          	EXTERN ___uint2fs_callee
   123                          	EXTERN ___ulong2fs
   124                          	EXTERN ___ulong2fs_callee
   125                          	EXTERN ___ulonglong2fs
   126                          	EXTERN ___ulonglong2fs_callee
   127                          	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
   128                          	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
   129                          	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
   130                          	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
   131                          	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
   132                          	EXTERN ____sdcc_4_ldi_nosave_bc
   133                          	EXTERN ____sdcc_4_ldi_save_bc
   134                          	EXTERN ____sdcc_4_push_hlix
   135                          	EXTERN ____sdcc_4_push_mhl
   136                          	EXTERN ____sdcc_lib_setmem_hl
   137                          	EXTERN ____sdcc_ll_add_de_bc_hl
   138                          	EXTERN ____sdcc_ll_add_de_bc_hlix
   139                          	EXTERN ____sdcc_ll_add_de_hlix_bc
   140                          	EXTERN ____sdcc_ll_add_de_hlix_bcix
   141                          	EXTERN ____sdcc_ll_add_deix_bc_hl
   142                          	EXTERN ____sdcc_ll_add_deix_hlix
   143                          	EXTERN ____sdcc_ll_add_hlix_bc_deix
   144                          	EXTERN ____sdcc_ll_add_hlix_deix_bc
   145                          	EXTERN ____sdcc_ll_add_hlix_deix_bcix
   146                          	EXTERN ____sdcc_ll_asr_hlix_a
   147                          	EXTERN ____sdcc_ll_asr_mbc_a
   148                          	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
   149                          	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
   150                          	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
   151                          	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
   152                          	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
   153                          	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
   154                          	EXTERN ____sdcc_ll_copy_src_hl_dst_de
   155                          	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
   156                          	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
   157                          	EXTERN ____sdcc_ll_lsl_hlix_a
   158                          	EXTERN ____sdcc_ll_lsl_mbc_a
   159                          	EXTERN ____sdcc_ll_lsr_hlix_a
   160                          	EXTERN ____sdcc_ll_lsr_mbc_a
   161                          	EXTERN ____sdcc_ll_push_hlix
   162                          	EXTERN ____sdcc_ll_push_mhl
   163                          	EXTERN ____sdcc_ll_sub_de_bc_hl
   164                          	EXTERN ____sdcc_ll_sub_de_bc_hlix
   165                          	EXTERN ____sdcc_ll_sub_de_hlix_bc
   166                          	EXTERN ____sdcc_ll_sub_de_hlix_bcix
   167                          	EXTERN ____sdcc_ll_sub_deix_bc_hl
   168                          	EXTERN ____sdcc_ll_sub_deix_hlix
   169                          	EXTERN ____sdcc_ll_sub_hlix_bc_deix
   170                          	EXTERN ____sdcc_ll_sub_hlix_deix_bc
   171                          	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
   172                          	EXTERN ____sdcc_load_debc_deix
   173                          	EXTERN ____sdcc_load_dehl_deix
   174                          	EXTERN ____sdcc_load_debc_mhl
   175                          	EXTERN ____sdcc_load_hlde_mhl
   176                          	EXTERN ____sdcc_store_dehl_bcix
   177                          	EXTERN ____sdcc_store_debc_hlix
   178                          	EXTERN ____sdcc_store_debc_mhl
   179                          	EXTERN ____sdcc_cpu_pop_ei
   180                          	EXTERN ____sdcc_cpu_pop_ei_jp
   181                          	EXTERN ____sdcc_cpu_push_di
   182                          	EXTERN ____sdcc_outi
   183                          	EXTERN ____sdcc_outi_128
   184                          	EXTERN ____sdcc_outi_256
   185                          	EXTERN ____sdcc_ldi
   186                          	EXTERN ____sdcc_ldi_128
   187                          	EXTERN ____sdcc_ldi_256
   188                          	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
   189                          	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
   190                          	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
   191                          	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
   192                          	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
   193                          	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
   194                          	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
   195                          	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
   196                          	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
   197                          	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
   198                          	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
   199                          	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
   200                          	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
   201                          	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
   202                          	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
   203                          	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
   204                          	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
   205                          
   206                          ;--------------------------------------------------------
   207                          ; Public variables in this module
   208                          ;--------------------------------------------------------
   209                          	GLOBAL _main
   210                          	GLOBAL _doHCCAInput
   211                          	GLOBAL _telnet24
   212                          	GLOBAL _telnet31
   213                          	GLOBAL _telnet39
   214                          	GLOBAL _telnet35
   215                          	GLOBAL _telnet32
   216                          	GLOBAL _telnet3
   217                          	GLOBAL _telnet1
   218                          	GLOBAL _sendOption
   219                          	GLOBAL _doKeyInput
   220                          	GLOBAL __st_escape
   221                          	GLOBAL __st_esc_right_br
   222                          	GLOBAL __st_esc_left_br
   223                          	GLOBAL __st_command_arg
   224                          	GLOBAL __vt100_putc
   225                          	GLOBAL __vt100_move
   226                          	GLOBAL __vt100_scroll
   227                          	GLOBAL __vt100_clearLines
   228                          	GLOBAL __vt100_reset
   229                          	GLOBAL _waitVdpISR
   230                          	GLOBAL _isrKeyboard
   231                          	GLOBAL _isrHCCARX
   232                          	GLOBAL __telnetEscapePos
   233                          	GLOBAL _vdpIsReady
   234                          	GLOBAL _vdpStatusRegVal
   235                          	GLOBAL __vdpInterruptEnabled
   236                          	GLOBAL __vdpColorTableSize
   237                          	GLOBAL __vdpReg1Val
   238                          	GLOBAL _vdp_cursor
   239                          	GLOBAL _RETRONET_BRIDGE_EXIT_CODE
   240                          	GLOBAL __ORIGINAL_INT_MASK
   241                          	GLOBAL __joyStatus
   242                          	GLOBAL __lastKeyboardIntVal
   243                          	GLOBAL __kbdBufferWritePos
   244                          	GLOBAL __kbdBufferReadPos
   245                          	GLOBAL __rxBufferWritePos
   246                          	GLOBAL __rxBufferReadPos
   247                          	GLOBAL __randomSeed
   248                          	GLOBAL __telnetEscapeOptions
   249                          	GLOBAL __autoScroll
   250                          	GLOBAL __vdpMode
   251                          	GLOBAL __vdpCursorMaxX
   252                          	GLOBAL __vdpPatternGeneratorTableAddr
   253                          	GLOBAL __vdpColorTableAddr
   254                          	GLOBAL __vdpPatternNameTableAddr
   255                          	GLOBAL __vdpSpriteSizeSelected
   256                          	GLOBAL __vdpSpriteGeneratorTableAddr
   257                          	GLOBAL __vdpSpriteAttributeTableAddr
   258                          	GLOBAL __vdp_ISR
   259                          	GLOBAL __vdp_textBuffer
   260                          	GLOBAL __kbdBuffer
   261                          	GLOBAL __rxBuffer
   262                          	GLOBAL _ASCII
   263                          	GLOBAL __NOTES_FINE
   264                          	GLOBAL __NOTES_COURSE
   265                          	GLOBAL __vdpCursorMaxY
   266                          	GLOBAL _initNABULib
   267                          	GLOBAL _initNABULIBAudio
   268                          	GLOBAL _nop
   269                          	GLOBAL _NABU_DisableInterrupts
   270                          	GLOBAL _NABU_EnableInterrupts
   271                          	GLOBAL _ayWrite
   272                          	GLOBAL _ayRead
   273                          	GLOBAL _playNoteDelay
   274                          	GLOBAL _isKeyPressed
   275                          	GLOBAL _getChar
   276                          	GLOBAL _getJoyStatus
   277                          	GLOBAL _readLine
   278                          	GLOBAL _hcca_isRxBufferAvailable
   279                          	GLOBAL _hcca_getSizeOfDataInBuffer
   280                          	GLOBAL _hcca_readByte
   281                          	GLOBAL _hcca_readUInt16
   282                          	GLOBAL _hcca_readInt16
   283                          	GLOBAL _hcca_readUInt32
   284                          	GLOBAL _hcca_readInt32
   285                          	GLOBAL _hcca_readBytes
   286                          	GLOBAL _hcca_writeByte
   287                          	GLOBAL _hcca_writeUInt32
   288                          	GLOBAL _hcca_writeInt32
   289                          	GLOBAL _hcca_writeUInt16
   290                          	GLOBAL _hcca_writeInt16
   291                          	GLOBAL _hcca_writeString
   292                          	GLOBAL _hcca_writeBytes
   293                          	GLOBAL _hcca_exitRetroNETBridgeMode
   294                          	GLOBAL _vdp_setRegister
   295                          	GLOBAL _vdp_setWriteAddress
   296                          	GLOBAL _vdp_setReadAddress
   297                          	GLOBAL _vdp_enableVDPReadyInt
   298                          	GLOBAL _vdp_waitVDPReadyInt
   299                          	GLOBAL _vdp_disableVDPReadyInt
   300                          	GLOBAL _vdp_addISR
   301                          	GLOBAL _vdp_removeISR
   302                          	GLOBAL _vdp_init
   303                          	GLOBAL _vdp_clearVRAM
   304                          	GLOBAL _vdp_initMSXMode
   305                          	GLOBAL _vdp_initTextMode
   306                          	GLOBAL _vdp_initG2Mode
   307                          	GLOBAL _vdp_initMultiColorMode
   308                          	GLOBAL _vdp_clearScreen
   309                          	GLOBAL _vdp_loadASCIIFont
   310                          	GLOBAL _vdp_putPattern
   311                          	GLOBAL _vdp_loadPatternTable
   312                          	GLOBAL _vdp_loadColorTable
   313                          	GLOBAL _vdp_colorizeCurrentPattern
   314                          	GLOBAL _vdp_colorizePattern
   315                          	GLOBAL _vdp_plotHires
   316                          	GLOBAL _vdp_plotColor
   317                          	GLOBAL _vdp_disableSprite
   318                          	GLOBAL _vdp_loadSpritePatternNameTable
   319                          	GLOBAL _vdp_spriteInit
   320                          	GLOBAL _vdp_setSpriteColor
   321                          	GLOBAL _vdp_setSpritePosition
   322                          	GLOBAL _vdp_setSpritePositionAndColor
   323                          	GLOBAL _vdp_getSpritePosition
   324                          	GLOBAL _vdp_print
   325                          	GLOBAL _vdp_printPart
   326                          	GLOBAL _vdp_newLine
   327                          	GLOBAL _vdp_setBackDropColor
   328                          	GLOBAL _vdp_setCursor2
   329                          	GLOBAL _vdp_setCursor
   330                          	GLOBAL _vdp_setTextColor
   331                          	GLOBAL _vdp_write
   332                          	GLOBAL _vdp_writeCharAtLocation
   333                          	GLOBAL _vdp_getCharAtLocationVRAM
   334                          	GLOBAL _vdp_getCharAtLocationBuf
   335                          	GLOBAL _vdp_setCharAtLocationBuf
   336                          	GLOBAL _vdp_scrollTextUp
   337                          	GLOBAL _vdp_clearRows
   338                          	GLOBAL _vdp_writeUInt32
   339                          	GLOBAL _vdp_writeInt32
   340                          	GLOBAL _vdp_writeUInt16
   341                          	GLOBAL _vdp_writeInt16
   342                          	GLOBAL _vdp_writeUInt8
   343                          	GLOBAL _vdp_writeInt8
   344                          	GLOBAL _vdp_writeUInt8ToBinary
   345                          	GLOBAL _vdp_writeUInt16ToBinary
   346                          	GLOBAL _vt100_puts
   347                          	GLOBAL __st_esc_sq_bracket
   348                          	GLOBAL __st_esc_question
   349                          	GLOBAL __st_esc_hash
   350                          	GLOBAL __st_idle
   351                          	GLOBAL _vt100_init
   352                          	GLOBAL _vt100_putc
   353                          ;--------------------------------------------------------
   354                          ; Externals used
   355                          ;--------------------------------------------------------
   356                          	GLOBAL _z80_otdr_callee
   357                          	GLOBAL _z80_otdr
   358                          	GLOBAL _z80_otir_callee
   359                          	GLOBAL _z80_otir
   360                          	GLOBAL _z80_outp_callee
   361                          	GLOBAL _z80_outp
   362                          	GLOBAL _z80_indr_callee
   363                          	GLOBAL _z80_indr
   364                          	GLOBAL _z80_inir_callee
   365                          	GLOBAL _z80_inir
   366                          	GLOBAL _z80_inp
   367                          	GLOBAL _z80_set_int_state
   368                          	GLOBAL _z80_get_int_state
   369                          	GLOBAL _z80_delay_tstate
   370                          	GLOBAL _z80_delay_ms
   371                          	GLOBAL _AsmCall
   372                          	GLOBAL _fpclassify
   373                          	GLOBAL _fpseed
   374                          	GLOBAL _fprand
   375                          	GLOBAL _ftoe
   376                          	GLOBAL _ftoa
   377                          	GLOBAL _atof
   378                          	GLOBAL _pi
   379                          	GLOBAL _halfpi
   380                          	GLOBAL _amin
   381                          	GLOBAL _amax
   382                          	GLOBAL _fmod
   383                          	GLOBAL _fabs
   384                          	GLOBAL _frexp
   385                          	GLOBAL _ldexp
   386                          	GLOBAL _modf
   387                          	GLOBAL _ceil
   388                          	GLOBAL _floor
   389                          	GLOBAL _log10
   390                          	GLOBAL _log
   391                          	GLOBAL _exp
   392                          	GLOBAL _sqrt
   393                          	GLOBAL _pow
   394                          	GLOBAL _atanh
   395                          	GLOBAL _acosh
   396                          	GLOBAL _asinh
   397                          	GLOBAL _tanh
   398                          	GLOBAL _sinh
   399                          	GLOBAL _cosh
   400                          	GLOBAL _atan2
   401                          	GLOBAL _atan
   402                          	GLOBAL _asin
   403                          	GLOBAL _acos
   404                          	GLOBAL _sin
   405                          	GLOBAL _tan
   406                          	GLOBAL _cos
   407                          	GLOBAL _negf16
   408                          	GLOBAL _fabsf16
   409                          	GLOBAL _invsqrtf16
   410                          	GLOBAL _invf16
   411                          	GLOBAL _ldexpf16
   412                          	GLOBAL _frexpf16
   413                          	GLOBAL _floorf16
   414                          	GLOBAL _ceilf16
   415                          	GLOBAL _powf16
   416                          	GLOBAL _log10f16
   417                          	GLOBAL _log2f16
   418                          	GLOBAL _logf16
   419                          	GLOBAL _exp10f16
   420                          	GLOBAL _exp2f16
   421                          	GLOBAL _expf16
   422                          	GLOBAL _tanf16
   423                          	GLOBAL _sinf16
   424                          	GLOBAL _cosf16
   425                          	GLOBAL _atan2f16
   426                          	GLOBAL _atanf16
   427                          	GLOBAL _asinf16
   428                          	GLOBAL _acosf16
   429                          	GLOBAL _mul10f16
   430                          	GLOBAL _mul2f16
   431                          	GLOBAL _div2f16
   432                          	GLOBAL _sqrtf16
   433                          	GLOBAL _hypotf16
   434                          	GLOBAL _polyf16
   435                          	GLOBAL _fmaf16
   436                          	GLOBAL _divf16
   437                          	GLOBAL _mulf16
   438                          	GLOBAL _subf16
   439                          	GLOBAL _addf16
   440                          	GLOBAL _f16_u32_fastcall
   441                          	GLOBAL _f16_u32
   442                          	GLOBAL _f16_u16_fastcall
   443                          	GLOBAL _f16_u16
   444                          	GLOBAL _f16_u8_fastcall
   445                          	GLOBAL _f16_u8
   446                          	GLOBAL _f16_i32_fastcall
   447                          	GLOBAL _f16_i32
   448                          	GLOBAL _f16_i16_fastcall
   449                          	GLOBAL _f16_i16
   450                          	GLOBAL _f16_i8_fastcall
   451                          	GLOBAL _f16_i8
   452                          	GLOBAL _u32_f16_fastcall
   453                          	GLOBAL _u32_f16
   454                          	GLOBAL _i32_f16_fastcall
   455                          	GLOBAL _i32_f16
   456                          	GLOBAL _u16_f16_fastcall
   457                          	GLOBAL _u16_f16
   458                          	GLOBAL _i16_f16_fastcall
   459                          	GLOBAL _i16_f16
   460                          	GLOBAL _f32_f16_fastcall
   461                          	GLOBAL _f32_f16
   462                          	GLOBAL _f16_f32_fastcall
   463                          	GLOBAL _f16_f32
   464                          	GLOBAL _f48_f16_fastcall
   465                          	GLOBAL _f48_f16
   466                          	GLOBAL _f16_f48_fastcall
   467                          	GLOBAL _f16_f48
   468                          	GLOBAL _toupper
   469                          	GLOBAL _tolower
   470                          	GLOBAL _toascii
   471                          	GLOBAL _isxdigit
   472                          	GLOBAL _isspace
   473                          	GLOBAL _ispunct
   474                          	GLOBAL _isprint
   475                          	GLOBAL _isoob
   476                          	GLOBAL _isodigit
   477                          	GLOBAL _islower
   478                          	GLOBAL _isupper
   479                          	GLOBAL _isgraph
   480                          	GLOBAL _isdigit
   481                          	GLOBAL _iscntrl
   482                          	GLOBAL _isbdigit
   483                          	GLOBAL _isascii
   484                          	GLOBAL _isalpha
   485                          	GLOBAL _isalnum
   486                          	GLOBAL _unbcd
   487                          	GLOBAL _wcmatch
   488                          	GLOBAL _extract_bits_callee
   489                          	GLOBAL _extract_bits
   490                          	GLOBAL _msleep
   491                          	GLOBAL _sleep
   492                          	GLOBAL _t_delay
   493                          	GLOBAL _wpeek
   494                          	GLOBAL _bpeek
   495                          	GLOBAL _wpoke_callee
   496                          	GLOBAL _wpoke
   497                          	GLOBAL _bpoke_callee
   498                          	GLOBAL _bpoke
   499                          	GLOBAL _swapendian
   500                          	GLOBAL _outp_callee
   501                          	GLOBAL _outp
   502                          	GLOBAL _inp
   503                          	GLOBAL _isqrt
   504                          	GLOBAL _labs
   505                          	GLOBAL _abs
   506                          	GLOBAL __ldivu__callee
   507                          	GLOBAL __ldivu_
   508                          	GLOBAL __ldiv__callee
   509                          	GLOBAL __ldiv_
   510                          	GLOBAL __divu__callee
   511                          	GLOBAL __divu_
   512                          	GLOBAL __div__callee
   513                          	GLOBAL __div_
   514                          	GLOBAL _qsort_sdcc_callee
   515                          	GLOBAL _qsort_sdcc
   516                          	GLOBAL _qsort_sccz80_callee
   517                          	GLOBAL _qsort_sccz80
   518                          	GLOBAL _l_qsort_callee
   519                          	GLOBAL _l_qsort
   520                          	GLOBAL _l_bsearch_callee
   521                          	GLOBAL _l_bsearch
   522                          	GLOBAL _getopt
   523                          	GLOBAL _unsetenv
   524                          	GLOBAL _setenv
   525                          	GLOBAL _getenv_r
   526                          	GLOBAL _getenv
   527                          	GLOBAL _atexit
   528                          	GLOBAL _exit
   529                          	GLOBAL _HeapInfo_callee
   530                          	GLOBAL _HeapInfo
   531                          	GLOBAL _HeapRealloc_callee
   532                          	GLOBAL _HeapRealloc
   533                          	GLOBAL _HeapAlloc_callee
   534                          	GLOBAL _HeapAlloc
   535                          	GLOBAL _HeapFree_callee
   536                          	GLOBAL _HeapFree
   537                          	GLOBAL _HeapCalloc_callee
   538                          	GLOBAL _HeapCalloc
   539                          	GLOBAL _HeapSbrk_callee
   540                          	GLOBAL _HeapSbrk
   541                          	GLOBAL _HeapCreate
   542                          	GLOBAL _mallinfo_callee
   543                          	GLOBAL _mallinfo
   544                          	GLOBAL _realloc_callee
   545                          	GLOBAL _realloc
   546                          	GLOBAL _malloc
   547                          	GLOBAL _free
   548                          	GLOBAL _calloc_callee
   549                          	GLOBAL _calloc
   550                          	GLOBAL _sbrk_callee
   551                          	GLOBAL _sbrk
   552                          	GLOBAL _mallinit
   553                          	GLOBAL _srand
   554                          	GLOBAL _rand
   555                          	GLOBAL _ulltoa_callee
   556                          	GLOBAL _ulltoa
   557                          	GLOBAL _strtoull_callee
   558                          	GLOBAL _strtoull
   559                          	GLOBAL _strtoll_callee
   560                          	GLOBAL _strtoll
   561                          	GLOBAL _lltoa_callee
   562                          	GLOBAL _lltoa
   563                          	GLOBAL _atoll_callee
   564                          	GLOBAL _atoll
   565                          	GLOBAL _utoa_callee
   566                          	GLOBAL _utoa
   567                          	GLOBAL _ultoa_callee
   568                          	GLOBAL _ultoa
   569                          	GLOBAL _strtoul_callee
   570                          	GLOBAL _strtoul
   571                          	GLOBAL _strtol_callee
   572                          	GLOBAL _strtol
   573                          	GLOBAL _ltoa_callee
   574                          	GLOBAL _ltoa
   575                          	GLOBAL _itoa_callee
   576                          	GLOBAL _itoa
   577                          	GLOBAL _atol
   578                          	GLOBAL _atoi
   579                          	GLOBAL _optreset
   580                          	GLOBAL _optopt
   581                          	GLOBAL _optind
   582                          	GLOBAL _opterr
   583                          	GLOBAL _optarg
   584                          ;--------------------------------------------------------
   585                          ; special function registers
   586                          ;--------------------------------------------------------
   587                          defc _IO_VDPDATA	=	0x00a0
   588                          defc _IO_VDPLATCH	=	0x00a1
   589                          defc _IO_AYDATA	=	0x0040
   590                          defc _IO_AYLATCH	=	0x0041
   591                          defc _IO_HCCA	=	0x0080
   592                          defc _IO_KEYBOARD	=	0x0090
   593                          defc _IO_KEYBOARD_STATUS	=	0x0091
   594                          defc _IO_CONTROL	=	0x0000
   595                          ;--------------------------------------------------------
   596                          ; ram data
   597                          ;--------------------------------------------------------
   598                          	SECTION bss_compiler
   599                          __rxBuffer:
   600  0000  0000000000000000  	DEFS 1024
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   601                          __kbdBuffer:
   602  0400  0000000000000000  	DEFS 256
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   603                          __vdp_textBuffer:
   604  0500  0000000000000000  	DEFS 960
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   605                          __vdp_ISR:
   606  08c0  0000              	DEFS 2
   607                          __vdpSpriteAttributeTableAddr:
   608  08c2  0000              	DEFS 2
   609                          __vdpSpriteGeneratorTableAddr:
   610  08c4  0000              	DEFS 2
   611                          __vdpSpriteSizeSelected:
   612  08c6  00                	DEFS 1
   613                          __vdpPatternNameTableAddr:
   614  08c7  0000              	DEFS 2
   615                          __vdpColorTableAddr:
   616  08c9  0000              	DEFS 2
   617                          __vdpPatternGeneratorTableAddr:
   618  08cb  0000              	DEFS 2
   619                          __vdpCursorMaxX:
   620  08cd  00                	DEFS 1
   621                          __vdpMode:
   622  08ce  00                	DEFS 1
   623                          __autoScroll:
   624  08cf  00                	DEFS 1
   625                          _term:
   626  08d0  0000000000000000  	DEFS 27
              0000000000000000  
              0000000000000000  
              000000            
   627                          __telnetEscapeOptions:
   628  08eb  000000            	DEFS 3
   629                          ;--------------------------------------------------------
   630                          ; ram data
   631                          ;--------------------------------------------------------
   632                          
   633                          IF 0
   634                          
   635                          ; .area _INITIALIZED removed by z88dk
   636                          
   637                          __randomSeed:
   638                          	DEFS 1
   639                          __rxBufferReadPos:
   640                          	DEFS 2
   641                          __rxBufferWritePos:
   642                          	DEFS 2
   643                          __kbdBufferReadPos:
   644                          	DEFS 1
   645                          __kbdBufferWritePos:
   646                          	DEFS 1
   647                          __lastKeyboardIntVal:
   648                          	DEFS 1
   649                          __joyStatus:
   650                          	DEFS 4
   651                          __ORIGINAL_INT_MASK:
   652                          	DEFS 1
   653                          _RETRONET_BRIDGE_EXIT_CODE:
   654                          	DEFS 21
   655                          _vdp_cursor:
   656                          	DEFS 2
   657                          __vdpReg1Val:
   658                          	DEFS 1
   659                          __vdpColorTableSize:
   660                          	DEFS 2
   661                          __vdpInterruptEnabled:
   662                          	DEFS 1
   663                          _vdpStatusRegVal:
   664                          	DEFS 1
   665                          _vdpIsReady:
   666                          	DEFS 1
   667                          __telnetEscapePos:
   668                          	DEFS 1
   669                          
   670                          ENDIF
   671                          
   672                          ;--------------------------------------------------------
   673                          ; absolute external ram data
   674                          ;--------------------------------------------------------
   675                          	SECTION IGNORE
   676                          ;--------------------------------------------------------
   677                          ; global & static initialisations
   678                          ;--------------------------------------------------------
   679                          	SECTION code_crt_init
   680                          ;--------------------------------------------------------
   681                          ; Home
   682                          ;--------------------------------------------------------
   683                          	SECTION IGNORE
   684                          ;--------------------------------------------------------
   685                          ; code
   686                          ;--------------------------------------------------------
   687                          	SECTION code_compiler
   688                          ;	---------------------------------
   689                          ; Function initNABULib
   690                          ; ---------------------------------
   691                          _initNABULib:
   692  0000  3e00              	ld	a,0x03
   693  0002  d300              	out	(_IO_CONTROL), a
   694  0004  cd0000            	call	_NABU_DisableInterrupts
   695  0007  f5                	push	af
   696  0008  ed5f              	ld	a, r
   697  000a  320000            	ld	(__randomSeed), a
   698  000d  f1                	pop	af
   699  000e  3a0000            	ld	a, (__randomSeed+0)
   700  0011  6f                	ld	l, a
   701  0012  2600              	ld	h,0x00
   702  0014  cd0000            	call	_srand
   703  0017  ed5e              	IM	2
   704  0019  3e00              	ld	a, 0xff
   705  001b  ed47              	ld	i, a
   706  001d  210000            	ld	hl, _isrHCCARX
   707  0020  220000            	ld	(0xff00), hl
   708  0023  210000            	ld	hl, _isrKeyboard
   709  0026  220000            	ld	(0xff00 + 4), hl
   710  0029  210000            	ld	hl,__ORIGINAL_INT_MASK + 0
   711  002c  3600              	ld	(hl),0xa0
   712  002e  110000            	ld	de,0xa00e
   713  0031  d5                	push	de
   714  0032  cd0000            	call	_ayWrite
   715  0035  f1                	pop	af
   716  0036  cd0000            	call	_NABU_EnableInterrupts
   717  0039  c30000            	jp	_initNABULIBAudio
   718                          	SECTION rodata_compiler
   719                          __vdpCursorMaxY:
   720  0000  00                	DEFB +0x17
   721                          __NOTES_COURSE:
   722  0001  00                	DEFB +0x0d
   723  0002  00                	DEFB +0x0c
   724  0003  00                	DEFB +0x0b
   725  0004  00                	DEFB +0x0b
   726  0005  00                	DEFB +0x0a
   727  0006  00                	DEFB +0x0a
   728  0007  00                	DEFB +0x09
   729  0008  00                	DEFB +0x08
   730  0009  00                	DEFB +0x08
   731  000a  00                	DEFB +0x07
   732  000b  00                	DEFB +0x07
   733  000c  00                	DEFB +0x07
   734  000d  00                	DEFB +0x06
   735  000e  00                	DEFB +0x06
   736  000f  00                	DEFB +0x05
   737  0010  00                	DEFB +0x05
   738  0011  00                	DEFB +0x05
   739  0012  00                	DEFB +0x05
   740  0013  00                	DEFB +0x04
   741  0014  00                	DEFB +0x04
   742  0015  00                	DEFB +0x04
   743  0016  00                	DEFB +0x03
   744  0017  00                	DEFB +0x03
   745  0018  00                	DEFB +0x03
   746  0019  00                	DEFB +0x03
   747  001a  00                	DEFB +0x03
   748  001b  00                	DEFB +0x02
   749  001c  00                	DEFB +0x02
   750  001d  00                	DEFB +0x02
   751  001e  00                	DEFB +0x02
   752  001f  00                	DEFB +0x02
   753  0020  00                	DEFB +0x02
   754  0021  00                	DEFB +0x02
   755  0022  00                	DEFB +0x01
   756  0023  00                	DEFB +0x01
   757  0024  00                	DEFB +0x01
   758  0025  00                	DEFB +0x01
   759  0026  00                	DEFB +0x01
   760  0027  00                	DEFB +0x01
   761  0028  00                	DEFB +0x01
   762  0029  00                	DEFB +0x01
   763  002a  00                	DEFB +0x01
   764  002b  01                	DEFB +0x01
   765  002c  01                	DEFB +0x01
   766  002d  01                	DEFB +0x01
   767  002e  00                	DEFB +0x00
   768  002f  00                	DEFB +0x00
   769  0030  00                	DEFB +0x00
   770  0031  00                	DEFB +0x00
   771  0032  00                	DEFB +0x00
   772  0033  00                	DEFB +0x00
   773  0034  00                	DEFB +0x00
   774  0035  00                	DEFB +0x00
   775  0036  00                	DEFB +0x00
   776  0037  00                	DEFB +0x00
   777  0038  00                	DEFB +0x00
   778  0039  00                	DEFB +0x00
   779  003a  00                	DEFB +0x00
   780  003b  00                	DEFB +0x00
   781  003c  00                	DEFB +0x00
   782  003d  00                	DEFB +0x00
   783  003e  00                	DEFB +0x00
   784  003f  00                	DEFB +0x00
   785  0040  00                	DEFB +0x00
   786  0041  00                	DEFB +0x00
   787  0042  00                	DEFB +0x00
   788  0043  00                	DEFB +0x00
   789  0044  00                	DEFB +0x00
   790  0045  00                	DEFB +0x00
   791  0046  00                	DEFB +0x00
   792  0047  00                	DEFB +0x00
   793  0048  00                	DEFB +0x00
   794                          __NOTES_FINE:
   795  0049  00                	DEFB +0x5c
   796  004a  00                	DEFB +0x9c
   797  004b  00                	DEFB +0xe7
   798  004c  00                	DEFB +0x3c
   799  004d  00                	DEFB +0x9b
   800  004e  00                	DEFB +0x02
   801  004f  00                	DEFB +0x72
   802  0050  00                	DEFB +0xeb
   803  0051  00                	DEFB +0x6a
   804  0052  00                	DEFB +0xf2
   805  0053  00                	DEFB +0x7f
   806  0054  00                	DEFB +0x14
   807  0055  00                	DEFB +0xae
   808  0056  00                	DEFB +0x4e
   809  0057  00                	DEFB +0xf3
   810  0058  00                	DEFB +0x9e
   811  0059  00                	DEFB +0x4d
   812  005a  00                	DEFB +0x01
   813  005b  00                	DEFB +0xb9
   814  005c  00                	DEFB +0x75
   815  005d  00                	DEFB +0x35
   816  005e  00                	DEFB +0xf9
   817  005f  00                	DEFB +0xbf
   818  0060  00                	DEFB +0x8a
   819  0061  00                	DEFB +0x57
   820  0062  00                	DEFB +0x27
   821  0063  00                	DEFB +0xf9
   822  0064  00                	DEFB +0xcf
   823  0065  00                	DEFB +0xa6
   824  0066  00                	DEFB +0x80
   825  0067  00                	DEFB +0x5c
   826  0068  00                	DEFB +0x3a
   827  0069  00                	DEFB +0x1a
   828  006a  00                	DEFB +0xfc
   829  006b  00                	DEFB +0xdf
   830  006c  00                	DEFB +0xc5
   831  006d  00                	DEFB +0xab
   832  006e  00                	DEFB +0x93
   833  006f  00                	DEFB +0x7c
   834  0070  00                	DEFB +0x67
   835  0071  00                	DEFB +0x53
   836  0072  00                	DEFB +0x40
   837  0073  00                	DEFB +0x2e
   838  0074  00                	DEFB +0x1d
   839  0075  00                	DEFB +0x0d
   840  0076  00                	DEFB +0xfe
   841  0077  00                	DEFB +0xef
   842  0078  00                	DEFB +0xe2
   843  0079  00                	DEFB +0xd5
   844  007a  00                	DEFB +0xc9
   845  007b  00                	DEFB +0xbe
   846  007c  00                	DEFB +0xb3
   847  007d  00                	DEFB +0xa9
   848  007e  00                	DEFB +0xa0
   849  007f  00                	DEFB +0x97
   850  0080  00                	DEFB +0x8e
   851  0081  00                	DEFB +0x86
   852  0082  00                	DEFB +0x7f
   853  0083  00                	DEFB +0x77
   854  0084  00                	DEFB +0x71
   855  0085  00                	DEFB +0x6a
   856  0086  00                	DEFB +0x64
   857  0087  00                	DEFB +0x5f
   858  0088  00                	DEFB +0x59
   859  0089  00                	DEFB +0x54
   860  008a  00                	DEFB +0x50
   861  008b  00                	DEFB +0x4b
   862  008c  00                	DEFB +0x47
   863  008d  00                	DEFB +0x43
   864  008e  00                	DEFB +0x3f
   865  008f  00                	DEFB +0x3b
   866  0090  00                	DEFB +0x38
   867                          	SECTION code_compiler
   868                          ;	---------------------------------
   869                          ; Function initNABULIBAudio
   870                          ; ---------------------------------
   871                          _initNABULIBAudio:
   872  003c  00                	xor	a, a
   873  003d  00                	ld	d,a
   874  003e  0006              	ld	e,0x06
   875  0040  00                	push	de
   876  0041  002a01            	call	_ayWrite
   877  0044  00                	pop	af
   878  0045  000810            	ld	de,0x1008
   879  0048  00                	push	de
   880  0049  5c2a01            	call	_ayWrite
   881  004c  3c                	pop	af
   882  004d  9b0910            	ld	de,0x1009
   883  0050  eb                	push	de
   884  0051  6a2a01            	call	_ayWrite
   885  0054  14                	pop	af
   886  0055  ae0a10            	ld	de,0x100a
   887  0058  9e                	push	de
   888  0059  4d2a01            	call	_ayWrite
   889  005c  75                	pop	af
   890  005d  350778            	ld	de,0x7807
   891  0060  8a                	push	de
   892  0061  572a01            	call	_ayWrite
   893  0064  cf                	pop	af
   894  0065  a6                	ret
   895                          	SECTION code_compiler
   896                          ;	---------------------------------
   897                          ; Function nop
   898                          ; ---------------------------------
   899                          _nop:
   900  0066  80                	NOP
   901  0067  5c                	ret
   902                          	SECTION code_compiler
   903                          ;	---------------------------------
   904                          ; Function NABU_DisableInterrupts
   905                          ; ---------------------------------
   906                          _NABU_DisableInterrupts:
   907  0068  3a                	di
   908  0069  1a                	ret
   909                          	SECTION code_compiler
   910                          ;	---------------------------------
   911                          ; Function NABU_EnableInterrupts
   912                          ; ---------------------------------
   913                          _NABU_EnableInterrupts:
   914  006a  fc                	ei
   915  006b  df                	ret
   916                          	SECTION code_compiler
   917                          ;	---------------------------------
   918                          ; Function isrHCCARX
   919                          ; ---------------------------------
   920                          _isrHCCARX:
   921  006c  c5                	push	af
   922  006d  ab                	push	bc
   923  006e  93                	push	hl
   924  006f  7c67              	push	iy
   925  0071  530000            	ld	bc,__rxBuffer+0
   926  0074  1d0300            	ld	hl, (__rxBufferWritePos)
   927  0077  ef                	add	hl, bc
   928  0078  e280              	in	a, (_IO_HCCA)
   929  007a  c9                	ld	(hl), a
   930  007b  be0300            	ld	hl, (__rxBufferWritePos)
   931  007e  a0                	inc	hl
   932  007f  970300            	ld	(__rxBufferWritePos), hl
   933  0082  7f0300            	ld	a, (__rxBufferWritePos+0)
   934  0085  6a                	or	a, a
   935  0086  640d              	jr	NZ,l_isrHCCARX_00102
   936  0088  590400            	ld	a, (__rxBufferWritePos+1)
   937  008b  4b04              	sub	a,0x04
   938  008d  4306              	jr	NZ,l_isrHCCARX_00102
   939  008f  3b0000            	ld	hl,0x0000
   940  0092  220000            	ld	(__rxBufferWritePos), hl
   941                          l_isrHCCARX_00102:
   942  0095  fde1              	pop	iy
   943  0097  e1                	pop	hl
   944  0098  c1                	pop	bc
   945  0099  f1                	pop	af
   946  009a  fb                	ei
   947  009b  ed4d              	reti
   948                          ;	---------------------------------
   949                          ; Function isrKeyboard
   950                          ; ---------------------------------
   951                          _isrKeyboard:
   952  009d  f5                	push	af
   953  009e  c5                	push	bc
   954  009f  d5                	push	de
   955  00a0  e5                	push	hl
   956  00a1  fde5              	push	iy
   957  00a3  db00              	in	a, (_IO_KEYBOARD)
   958  00a5  4f                	ld	c,a
   959  00a6  d600              	sub	a,0x80
   960  00a8  3800              	jr	C,l_isrKeyboard_00111
   961  00aa  3e00              	ld	a,0x83
   962  00ac  91                	sub	a, c
   963  00ad  3800              	jr	C,l_isrKeyboard_00111
   964  00af  fd210000          	ld	iy,__lastKeyboardIntVal
   965  00b3  fd7100            	ld	(iy+0),c
   966  00b6  1800              	jr	l_isrKeyboard_00112
   967                          l_isrKeyboard_00111:
   968  00b8  79                	ld	a, c
   969  00b9  d600              	sub	a,0x90
   970  00bb  3800              	jr	C,l_isrKeyboard_00107
   971  00bd  3e00              	ld	a,0x95
   972  00bf  91                	sub	a, c
   973  00c0  3000              	jr	NC,l_isrKeyboard_00112
   974                          l_isrKeyboard_00107:
   975  00c2  3a0000            	ld	a, (__lastKeyboardIntVal+0)
   976  00c5  fe00              	cp	a,0x80
   977  00c7  2800              	jr	Z,l_isrKeyboard_00101
   978  00c9  fe00              	cp	a,0x81
   979  00cb  2800              	jr	Z,l_isrKeyboard_00102
   980  00cd  fe00              	cp	a,0x82
   981  00cf  2800              	jr	Z,l_isrKeyboard_00103
   982  00d1  d600              	sub	a,0x83
   983  00d3  2800              	jr	Z,l_isrKeyboard_00104
   984  00d5  1800              	jr	l_isrKeyboard_00105
   985                          l_isrKeyboard_00101:
   986  00d7  fd210000          	ld	iy,__lastKeyboardIntVal
   987  00db  fd360000          	ld	(iy+0),0x00
   988  00df  210000            	ld	hl,__joyStatus
   989  00e2  71                	ld	(hl), c
   990  00e3  1800              	jr	l_isrKeyboard_00112
   991                          l_isrKeyboard_00102:
   992  00e5  fd210000          	ld	iy,__lastKeyboardIntVal
   993  00e9  fd360000          	ld	(iy+0),0x00
   994  00ed  210000            	ld	hl, +(__joyStatus + 1)
   995  00f0  71                	ld	(hl), c
   996  00f1  1800              	jr	l_isrKeyboard_00112
   997                          l_isrKeyboard_00103:
   998  00f3  fd210000          	ld	iy,__lastKeyboardIntVal
   999  00f7  fd360000          	ld	(iy+0),0x00
  1000  00fb  210000            	ld	hl, +(__joyStatus + 2)
  1001  00fe  71                	ld	(hl), c
  1002  00ff  1800              	jr	l_isrKeyboard_00112
  1003                          l_isrKeyboard_00104:
  1004  0101  fd210000          	ld	iy,__lastKeyboardIntVal
  1005  0105  fd360000          	ld	(iy+0),0x00
  1006  0109  210000            	ld	hl, +(__joyStatus + 3)
  1007  010c  71                	ld	(hl), c
  1008  010d  1800              	jr	l_isrKeyboard_00112
  1009                          l_isrKeyboard_00105:
  1010  010f  210000            	ld	hl,__kbdBuffer+0
  1011  0112  ed5b0000          	ld	de, (__kbdBufferWritePos)
  1012  0116  1600              	ld	d,0x00
  1013  0118  19                	add	hl, de
  1014  0119  71                	ld	(hl), c
  1015  011a  3a0000            	ld	a, (__kbdBufferWritePos+0)
  1016  011d  3c                	inc	a
  1017  011e  320000            	ld	(__kbdBufferWritePos+0), a
  1018                          l_isrKeyboard_00112:
  1019  0121  fde1              	pop	iy
  1020  0123  e1                	pop	hl
  1021  0124  d1                	pop	de
  1022  0125  c1                	pop	bc
  1023  0126  f1                	pop	af
  1024  0127  fb                	ei
  1025  0128  ed4d              	reti
  1026                          ;	---------------------------------
  1027                          ; Function ayWrite
  1028                          ; ---------------------------------
  1029                          _ayWrite:
  1030  012a  fd210000          	ld	iy,2
  1031  012e  fd39              	add	iy, sp
  1032  0130  fd7e00            	ld	a,(iy+0)
  1033  0133  d300              	out	(_IO_AYLATCH), a
  1034  0135  fd7e00            	ld	a,(iy+0+1)
  1035  0138  d300              	out	(_IO_AYDATA), a
  1036  013a  c9                	ret
  1037                          	SECTION code_compiler
  1038                          ;	---------------------------------
  1039                          ; Function ayRead
  1040                          ; ---------------------------------
  1041                          _ayRead:
  1042  013b  210000            	ld	hl,2+0
  1043  013e  39                	add	hl, sp
  1044  013f  7e                	ld	a, (hl)
  1045  0140  d300              	out	(_IO_AYLATCH), a
  1046  0142  db00              	in	a, (_IO_AYDATA)
  1047  0144  6f                	ld	l, a
  1048  0145  c9                	ret
  1049                          	SECTION code_compiler
  1050                          ;	---------------------------------
  1051                          ; Function playNoteDelay
  1052                          ; ---------------------------------
  1053                          _playNoteDelay:
  1054  0146  dde5              	push	ix
  1055  0148  dd210000          	ld	ix,0
  1056  014c  dd39              	add	ix,sp
  1057  014e  dd4e00            	ld	c,(ix+7)
  1058  0151  3e00              	ld	a,0x0b
  1059  0153  d300              	out	(_IO_AYLATCH), a
  1060  0155  79                	ld	a, c
  1061  0156  d300              	out	(_IO_AYDATA), a
  1062  0158  dd4e00            	ld	c,(ix+6)
  1063  015b  3e00              	ld	a,0x0c
  1064  015d  d300              	out	(_IO_AYLATCH), a
  1065  015f  79                	ld	a, c
  1066  0160  d300              	out	(_IO_AYDATA), a
  1067  0162  dd7e00            	ld	a,(ix+4)
  1068  0165  b7                	or	a, a
  1069  0166  2800              	jr	Z,l_playNoteDelay_00101
  1070  0168  dd7e00            	ld	a,(ix+4)
  1071  016b  3d                	dec	a
  1072  016c  2800              	jr	Z,l_playNoteDelay_00102
  1073  016e  dd7e00            	ld	a,(ix+4)
  1074  0171  d600              	sub	a,0x02
  1075  0173  ca0000            	jp	Z,l_playNoteDelay_00103
  1076  0176  c30000            	jp	l_playNoteDelay_00125
  1077                          l_playNoteDelay_00101:
  1078  0179  3e00              	ld	a,0x08
  1079  017b  d300              	out	(_IO_AYLATCH), a
  1080  017d  3e00              	ld	a,0x10
  1081  017f  d300              	out	(_IO_AYDATA), a
  1082  0181  3e00              	ld	a,0x09
  1083  0183  d300              	out	(_IO_AYLATCH), a
  1084  0185  3e00              	ld	a,0x00
  1085  0187  d300              	out	(_IO_AYDATA), a
  1086  0189  3e00              	ld	a,0x0a
  1087  018b  d300              	out	(_IO_AYLATCH), a
  1088  018d  3e00              	ld	a,0x00
  1089  018f  d300              	out	(_IO_AYDATA), a
  1090  0191  010000            	ld	bc,__NOTES_FINE+0
  1091  0194  dd6e00            	ld	l,(ix+5)
  1092  0197  2600              	ld	h,0x00
  1093  0199  09                	add	hl, bc
  1094  019a  4e                	ld	c, (hl)
  1095  019b  3e00              	ld	a,0x00
  1096  019d  d300              	out	(_IO_AYLATCH), a
  1097  019f  79                	ld	a, c
  1098  01a0  d300              	out	(_IO_AYDATA), a
  1099  01a2  010000            	ld	bc,__NOTES_COURSE+0
  1100  01a5  dd6e00            	ld	l,(ix+5)
  1101  01a8  2600              	ld	h,0x00
  1102  01aa  09                	add	hl, bc
  1103  01ab  4e                	ld	c, (hl)
  1104  01ac  3e00              	ld	a,0x01
  1105  01ae  d300              	out	(_IO_AYLATCH), a
  1106  01b0  79                	ld	a, c
  1107  01b1  d300              	out	(_IO_AYDATA), a
  1108  01b3  3e00              	ld	a,0x0d
  1109  01b5  d300              	out	(_IO_AYLATCH), a
  1110  01b7  3e00              	ld	a,0x00
  1111  01b9  d300              	out	(_IO_AYDATA), a
  1112  01bb  c30000            	jp	l_playNoteDelay_00125
  1113                          l_playNoteDelay_00102:
  1114  01be  3e00              	ld	a,0x08
  1115  01c0  d300              	out	(_IO_AYLATCH), a
  1116  01c2  3e00              	ld	a,0x00
  1117  01c4  d300              	out	(_IO_AYDATA), a
  1118  01c6  3e00              	ld	a,0x09
  1119  01c8  d300              	out	(_IO_AYLATCH), a
  1120  01ca  3e00              	ld	a,0x10
  1121  01cc  d300              	out	(_IO_AYDATA), a
  1122  01ce  3e00              	ld	a,0x0a
  1123  01d0  d300              	out	(_IO_AYLATCH), a
  1124  01d2  3e00              	ld	a,0x00
  1125  01d4  d300              	out	(_IO_AYDATA), a
  1126  01d6  010000            	ld	bc,__NOTES_FINE+0
  1127  01d9  dd6e00            	ld	l,(ix+5)
  1128  01dc  2600              	ld	h,0x00
  1129  01de  09                	add	hl, bc
  1130  01df  4e                	ld	c, (hl)
  1131  01e0  3e00              	ld	a,0x02
  1132  01e2  d300              	out	(_IO_AYLATCH), a
  1133  01e4  79                	ld	a, c
  1134  01e5  d300              	out	(_IO_AYDATA), a
  1135  01e7  010000            	ld	bc,__NOTES_COURSE+0
  1136  01ea  dd6e00            	ld	l,(ix+5)
  1137  01ed  2600              	ld	h,0x00
  1138  01ef  09                	add	hl, bc
  1139  01f0  4e                	ld	c, (hl)
  1140  01f1  3e00              	ld	a,0x03
  1141  01f3  d300              	out	(_IO_AYLATCH), a
  1142  01f5  79                	ld	a, c
  1143  01f6  d300              	out	(_IO_AYDATA), a
  1144  01f8  3e00              	ld	a,0x0d
  1145  01fa  d300              	out	(_IO_AYLATCH), a
  1146  01fc  3e00              	ld	a,0x00
  1147  01fe  d300              	out	(_IO_AYDATA), a
  1148  0200  1800              	jr	l_playNoteDelay_00125
  1149                          l_playNoteDelay_00103:
  1150  0202  3e00              	ld	a,0x08
  1151  0204  d300              	out	(_IO_AYLATCH), a
  1152  0206  3e00              	ld	a,0x00
  1153  0208  d300              	out	(_IO_AYDATA), a
  1154  020a  3e00              	ld	a,0x09
  1155  020c  d300              	out	(_IO_AYLATCH), a
  1156  020e  3e00              	ld	a,0x00
  1157  0210  d300              	out	(_IO_AYDATA), a
  1158  0212  3e00              	ld	a,0x0a
  1159  0214  d300              	out	(_IO_AYLATCH), a
  1160  0216  3e00              	ld	a,0x10
  1161  0218  d300              	out	(_IO_AYDATA), a
  1162  021a  010000            	ld	bc,__NOTES_FINE+0
  1163  021d  dd6e00            	ld	l,(ix+5)
  1164  0220  2600              	ld	h,0x00
  1165  0222  09                	add	hl, bc
  1166  0223  4e                	ld	c, (hl)
  1167  0224  3e00              	ld	a,0x04
  1168  0226  d300              	out	(_IO_AYLATCH), a
  1169  0228  79                	ld	a, c
  1170  0229  d300              	out	(_IO_AYDATA), a
  1171  022b  010000            	ld	bc,__NOTES_COURSE+0
  1172  022e  dd6e00            	ld	l,(ix+5)
  1173  0231  2600              	ld	h,0x00
  1174  0233  09                	add	hl, bc
  1175  0234  4e                	ld	c, (hl)
  1176  0235  3e00              	ld	a,0x05
  1177  0237  d300              	out	(_IO_AYLATCH), a
  1178  0239  79                	ld	a, c
  1179  023a  d300              	out	(_IO_AYDATA), a
  1180  023c  3e00              	ld	a,0x0d
  1181  023e  d300              	out	(_IO_AYLATCH), a
  1182  0240  3e00              	ld	a,0x00
  1183  0242  d300              	out	(_IO_AYDATA), a
  1184                          l_playNoteDelay_00125:
  1185  0244  dde1              	pop	ix
  1186  0246  c9                	ret
  1187                          	SECTION code_compiler
  1188                          ;	---------------------------------
  1189                          ; Function isKeyPressed
  1190                          ; ---------------------------------
  1191                          _isKeyPressed:
  1192  0247  3a0000            	ld	a, (__kbdBufferWritePos+0)
  1193  024a  fd210000          	ld	iy,__kbdBufferReadPos
  1194  024e  fd9600            	sub	a,(iy+0)
  1195  0251  2000              	jr	NZ,l_isKeyPressed_00103
  1196  0253  3e00              	ld	a,0x01
  1197  0255  1800              	jr	l_isKeyPressed_00104
  1198                          l_isKeyPressed_00103:
  1199  0257  af                	xor	a,a
  1200                          l_isKeyPressed_00104:
  1201  0258  ee00              	xor	a,0x01
  1202  025a  6f                	ld	l, a
  1203  025b  c9                	ret
  1204                          	SECTION code_compiler
  1205                          ;	---------------------------------
  1206                          ; Function getChar
  1207                          ; ---------------------------------
  1208                          _getChar:
  1209                          l_getChar_00101:
  1210  025c  3a0000            	ld	a, (__kbdBufferWritePos+0)
  1211  025f  fd210000          	ld	iy,__kbdBufferReadPos
  1212  0263  fd9600            	sub	a,(iy+0)
  1213  0266  2800              	jr	Z,l_getChar_00101
  1214  0268  010000            	ld	bc,__kbdBuffer+0
  1215  026b  2a0000            	ld	hl, (__kbdBufferReadPos)
  1216  026e  2600              	ld	h,0x00
  1217  0270  09                	add	hl, bc
  1218  0271  4e                	ld	c, (hl)
  1219  0272  3a0000            	ld	a, (__kbdBufferReadPos+0)
  1220  0275  3c                	inc	a
  1221  0276  320000            	ld	(__kbdBufferReadPos+0), a
  1222  0279  69                	ld	l, c
  1223  027a  c9                	ret
  1224                          	SECTION code_compiler
  1225                          ;	---------------------------------
  1226                          ; Function getJoyStatus
  1227                          ; ---------------------------------
  1228                          _getJoyStatus:
  1229  027b  3e00              	ld	a, +((__joyStatus) & 0xFF)
  1230  027d  210000            	ld	hl,2
  1231  0280  39                	add	hl, sp
  1232  0281  86                	add	a, (hl)
  1233  0282  6f                	ld	l, a
  1234  0283  3e00              	ld	a, +((__joyStatus) / 256)
  1235  0285  ce00              	adc	a,0x00
  1236  0287  67                	ld	h, a
  1237  0288  6e                	ld	l, (hl)
  1238  0289  c9                	ret
  1239                          	SECTION code_compiler
  1240                          ;	---------------------------------
  1241                          ; Function readLine
  1242                          ; ---------------------------------
  1243                          _readLine:
  1244  028a  dde5              	push	ix
  1245  028c  dd210000          	ld	ix,0
  1246  0290  dd39              	add	ix,sp
  1247  0292  0e00              	ld	c,0x00
  1248                          l_readLine_00120:
  1249  0294  c5                	push	bc
  1250  0295  cd0000            	call	_getChar
  1251  0298  5d                	ld	e, l
  1252  0299  c1                	pop	bc
  1253  029a  7b                	ld	a, e
  1254  029b  d600              	sub	a,0x0d
  1255  029d  ca0000            	jp	Z,l_readLine_00121
  1256  02a0  79                	ld	a, c
  1257  02a1  dd9600            	sub	a,(ix+6)
  1258  02a4  3000              	jr	NC,l_readLine_00112
  1259  02a6  7b                	ld	a, e
  1260  02a7  d600              	sub	a,0x20
  1261  02a9  3800              	jr	C,l_readLine_00112
  1262  02ab  3e00              	ld	a,0x7e
  1263  02ad  93                	sub	a, e
  1264  02ae  3800              	jr	C,l_readLine_00112
  1265  02b0  dd6e00            	ld	l,(ix+4)
  1266  02b3  dd6600            	ld	h,(ix+5)
  1267  02b6  0600              	ld	b,0x00
  1268  02b8  09                	add	hl, bc
  1269  02b9  73                	ld	(hl), e
  1270  02ba  c5                	push	bc
  1271  02bb  7b                	ld	a, e
  1272  02bc  f5                	push	af
  1273  02bd  33                	inc	sp
  1274  02be  cd0000            	call	_vdp_write
  1275  02c1  33                	inc	sp
  1276  02c2  c1                	pop	bc
  1277  02c3  0c                	inc	c
  1278  02c4  1800              	jr	l_readLine_00120
  1279                          l_readLine_00112:
  1280  02c6  7b                	ld	a, e
  1281  02c7  d600              	sub	a,0x7f
  1282  02c9  2000              	jr	NZ,l_readLine_00175
  1283  02cb  3e00              	ld	a,0x01
  1284  02cd  1800              	jr	l_readLine_00176
  1285                          l_readLine_00175:
  1286  02cf  af                	xor	a,a
  1287                          l_readLine_00176:
  1288  02d0  47                	ld	b, a
  1289  02d1  dd7e00            	ld	a,(ix+6)
  1290  02d4  91                	sub	a, c
  1291  02d5  2000              	jr	NZ,l_readLine_00108
  1292  02d7  cb40              	bit	0, b
  1293  02d9  2000              	jr	NZ,l_readLine_00108
  1294  02db  c5                	push	bc
  1295  02dc  210000            	ld	hl,0x000a
  1296  02df  e5                	push	hl
  1297  02e0  3e00              	ld	a,0x3c
  1298  02e2  f5                	push	af
  1299  02e3  33                	inc	sp
  1300  02e4  af                	xor	a, a
  1301  02e5  f5                	push	af
  1302  02e6  33                	inc	sp
  1303  02e7  cd0000            	call	_playNoteDelay
  1304  02ea  f1                	pop	af
  1305  02eb  f1                	pop	af
  1306  02ec  c1                	pop	bc
  1307  02ed  1800              	jr	l_readLine_00120
  1308                          l_readLine_00108:
  1309  02ef  78                	ld	a, b
  1310  02f0  b7                	or	a, a
  1311  02f1  2800              	jr	Z,l_readLine_00120
  1312  02f3  79                	ld	a, c
  1313  02f4  b7                	or	a, a
  1314  02f5  2800              	jr	Z,l_readLine_00120
  1315  02f7  110000            	ld	de,_vdp_cursor+0
  1316  02fa  1a                	ld	a, (de)
  1317  02fb  b7                	or	a, a
  1318  02fc  2000              	jr	NZ,l_readLine_00102
  1319  02fe  3e00              	ld	a,0x27
  1320  0300  12                	ld	(de), a
  1321  0301  3a0000            	ld	a, ((_vdp_cursor + 1) + 0)
  1322  0304  3d                	dec	a
  1323  0305  320000            	ld	((_vdp_cursor + 1)),a
  1324  0308  1800              	jr	l_readLine_00103
  1325                          l_readLine_00102:
  1326  030a  3d                	dec	a
  1327  030b  12                	ld	(de), a
  1328                          l_readLine_00103:
  1329  030c  0d                	dec	c
  1330  030d  3a0000            	ld	a, ((_vdp_cursor + 1) + 0)
  1331  0310  210000            	ld	hl,_vdp_cursor + 0
  1332  0313  46                	ld	b, (hl)
  1333  0314  c5                	push	bc
  1334  0315  2600              	ld	h,0x20
  1335  0317  e5                	push	hl
  1336  0318  33                	inc	sp
  1337  0319  f5                	push	af
  1338  031a  33                	inc	sp
  1339  031b  c5                	push	bc
  1340  031c  33                	inc	sp
  1341  031d  cd0000            	call	_vdp_writeCharAtLocation
  1342  0320  f1                	pop	af
  1343  0321  33                	inc	sp
  1344  0322  c1                	pop	bc
  1345  0323  c30000            	jp	l_readLine_00120
  1346                          l_readLine_00121:
  1347  0326  69                	ld	l, c
  1348  0327  dde1              	pop	ix
  1349  0329  c9                	ret
  1350                          	SECTION code_compiler
  1351                          ;	---------------------------------
  1352                          ; Function hcca_isRxBufferAvailable
  1353                          ; ---------------------------------
  1354                          _hcca_isRxBufferAvailable:
  1355  032a  3a0000            	ld	a, (__rxBufferWritePos+0)
  1356  032d  fd210000          	ld	iy,__rxBufferReadPos
  1357  0331  fd9600            	sub	a,(iy+0)
  1358  0334  2000              	jr	NZ,l_hcca_isRxBufferAvailable_00103
  1359  0336  3a0000            	ld	a, (__rxBufferWritePos+1)
  1360  0339  fd9600            	sub	a,(iy+1)
  1361  033c  2000              	jr	NZ,l_hcca_isRxBufferAvailable_00103
  1362  033e  3e00              	ld	a,0x01
  1363  0340  1800              	jr	l_hcca_isRxBufferAvailable_00104
  1364                          l_hcca_isRxBufferAvailable_00103:
  1365  0342  af                	xor	a,a
  1366                          l_hcca_isRxBufferAvailable_00104:
  1367  0343  ee00              	xor	a,0x01
  1368  0345  6f                	ld	l, a
  1369  0346  c9                	ret
  1370                          	SECTION code_compiler
  1371                          ;	---------------------------------
  1372                          ; Function hcca_getSizeOfDataInBuffer
  1373                          ; ---------------------------------
  1374                          _hcca_getSizeOfDataInBuffer:
  1375  0347  3a0000            	ld	a, (__rxBufferReadPos+0)
  1376  034a  4f                	ld	c, a
  1377  034b  3a0000            	ld	a, (__rxBufferWritePos+0)
  1378  034e  47                	ld	b, a
  1379  034f  210000            	ld	hl,__rxBufferWritePos
  1380  0352  7e                	ld	a, (hl)
  1381  0353  fd210000          	ld	iy,__rxBufferReadPos
  1382  0357  fd9600            	sub	a,(iy+0)
  1383  035a  23                	inc	hl
  1384  035b  7e                	ld	a, (hl)
  1385  035c  fd9e00            	sbc	a,(iy+1)
  1386  035f  3000              	jr	NC,l_hcca_getSizeOfDataInBuffer_00102
  1387  0361  af                	xor	a, a
  1388  0362  91                	sub	a, c
  1389  0363  80                	add	a, b
  1390  0364  6f                	ld	l, a
  1391  0365  1800              	jr	l_hcca_getSizeOfDataInBuffer_00103
  1392                          l_hcca_getSizeOfDataInBuffer_00102:
  1393  0367  78                	ld	a, b
  1394  0368  91                	sub	a, c
  1395  0369  6f                	ld	l, a
  1396                          l_hcca_getSizeOfDataInBuffer_00103:
  1397  036a  c9                	ret
  1398                          	SECTION code_compiler
  1399                          ;	---------------------------------
  1400                          ; Function hcca_readByte
  1401                          ; ---------------------------------
  1402                          _hcca_readByte:
  1403                          l_hcca_readByte_00101:
  1404  036b  3a0000            	ld	a, (__rxBufferWritePos+0)
  1405  036e  fd210000          	ld	iy,__rxBufferReadPos
  1406  0372  fd9600            	sub	a,(iy+0)
  1407  0375  2000              	jr	NZ,l_hcca_readByte_00124
  1408  0377  3a0000            	ld	a, (__rxBufferWritePos+1)
  1409  037a  fd9600            	sub	a,(iy+1)
  1410  037d  2000              	jr	NZ,l_hcca_readByte_00124
  1411  037f  3e00              	ld	a,0x01
  1412  0381  1800              	jr	l_hcca_readByte_00125
  1413                          l_hcca_readByte_00124:
  1414  0383  af                	xor	a,a
  1415                          l_hcca_readByte_00125:
  1416  0384  ee00              	xor	a,0x01
  1417  0386  2800              	jr	Z,l_hcca_readByte_00101
  1418  0388  010000            	ld	bc,__rxBuffer+0
  1419  038b  2a0000            	ld	hl, (__rxBufferReadPos)
  1420  038e  09                	add	hl, bc
  1421  038f  4e                	ld	c, (hl)
  1422  0390  2a0000            	ld	hl, (__rxBufferReadPos)
  1423  0393  23                	inc	hl
  1424  0394  220000            	ld	(__rxBufferReadPos), hl
  1425  0397  3a0000            	ld	a, (__rxBufferReadPos+0)
  1426  039a  b7                	or	a, a
  1427  039b  2000              	jr	NZ,l_hcca_readByte_00105
  1428  039d  3a0000            	ld	a, (__rxBufferReadPos+1)
  1429  03a0  d600              	sub	a,0x04
  1430  03a2  2000              	jr	NZ,l_hcca_readByte_00105
  1431  03a4  210000            	ld	hl,0x0000
  1432  03a7  220000            	ld	(__rxBufferReadPos), hl
  1433                          l_hcca_readByte_00105:
  1434  03aa  69                	ld	l, c
  1435  03ab  c9                	ret
  1436                          	SECTION code_compiler
  1437                          ;	---------------------------------
  1438                          ; Function hcca_readUInt16
  1439                          ; ---------------------------------
  1440                          _hcca_readUInt16:
  1441  03ac  cd0000            	call	_hcca_readByte
  1442  03af  4d                	ld	c, l
  1443  03b0  0600              	ld	b,0x00
  1444  03b2  c5                	push	bc
  1445  03b3  cd0000            	call	_hcca_readByte
  1446  03b6  c1                	pop	bc
  1447  03b7  65                	ld	h, l
  1448  03b8  2e00              	ld	l,0x00
  1449  03ba  09                	add	hl, bc
  1450  03bb  c9                	ret
  1451                          	SECTION code_compiler
  1452                          ;	---------------------------------
  1453                          ; Function hcca_readInt16
  1454                          ; ---------------------------------
  1455                          _hcca_readInt16:
  1456  03bc  cd0000            	call	_hcca_readByte
  1457  03bf  4d                	ld	c, l
  1458  03c0  0600              	ld	b,0x00
  1459  03c2  c5                	push	bc
  1460  03c3  cd0000            	call	_hcca_readByte
  1461  03c6  c1                	pop	bc
  1462  03c7  65                	ld	h, l
  1463  03c8  2e00              	ld	l,0x00
  1464  03ca  09                	add	hl, bc
  1465  03cb  c9                	ret
  1466                          	SECTION code_compiler
  1467                          ;	---------------------------------
  1468                          ; Function hcca_readUInt32
  1469                          ; ---------------------------------
  1470                          _hcca_readUInt32:
  1471  03cc  dde5              	push	ix
  1472  03ce  dd210000          	ld	ix,0
  1473  03d2  dd39              	add	ix,sp
  1474  03d4  210000            	ld	hl, -8
  1475  03d7  39                	add	hl, sp
  1476  03d8  f9                	ld	sp, hl
  1477  03d9  cd0000            	call	_hcca_readByte
  1478  03dc  dd7500            	ld	(ix-4),l
  1479  03df  af                	xor	a, a
  1480  03e0  dd7700            	ld	(ix-3),a
  1481  03e3  dd7700            	ld	(ix-2),a
  1482  03e6  dd7700            	ld	(ix-1),a
  1483  03e9  cd0000            	call	_hcca_readByte
  1484  03ec  2600              	ld	h,0x00
  1485  03ee  010000            	ld	bc,0x0000
  1486  03f1  45                	ld	b, l
  1487  03f2  5c                	ld	e, h
  1488  03f3  51                	ld	d, c
  1489  03f4  0e00              	ld	c,0x00
  1490  03f6  dd7e00            	ld	a,(ix-4)
  1491  03f9  81                	add	a, c
  1492  03fa  dd7700            	ld	(ix-8),a
  1493  03fd  dd7e00            	ld	a,(ix-3)
  1494  0400  88                	adc	a, b
  1495  0401  dd7700            	ld	(ix-7),a
  1496  0404  dd7e00            	ld	a,(ix-2)
  1497  0407  8b                	adc	a, e
  1498  0408  dd7700            	ld	(ix-6),a
  1499  040b  dd7e00            	ld	a,(ix-1)
  1500  040e  8a                	adc	a, d
  1501  040f  dd7700            	ld	(ix-5),a
  1502  0412  cd0000            	call	_hcca_readByte
  1503  0415  2600              	ld	h,0x00
  1504  0417  010000            	ld	bc,0x0000
  1505  041a  dd7e00            	ld	a,(ix-8)
  1506  041d  81                	add	a, c
  1507  041e  dd7700            	ld	(ix-4),a
  1508  0421  dd7e00            	ld	a,(ix-7)
  1509  0424  88                	adc	a, b
  1510  0425  dd7700            	ld	(ix-3),a
  1511  0428  dd7e00            	ld	a,(ix-6)
  1512  042b  8d                	adc	a, l
  1513  042c  dd7700            	ld	(ix-2),a
  1514  042f  dd7e00            	ld	a,(ix-5)
  1515  0432  8c                	adc	a, h
  1516  0433  dd7700            	ld	(ix-1),a
  1517  0436  cd0000            	call	_hcca_readByte
  1518  0439  55                	ld	d, l
  1519  043a  010000            	ld	bc,0x0000
  1520  043d  1e00              	ld	e,0x00
  1521  043f  dd7e00            	ld	a,(ix-4)
  1522  0442  81                	add	a, c
  1523  0443  6f                	ld	l, a
  1524  0444  dd7e00            	ld	a,(ix-3)
  1525  0447  88                	adc	a, b
  1526  0448  67                	ld	h, a
  1527  0449  dd7e00            	ld	a,(ix-2)
  1528  044c  8b                	adc	a, e
  1529  044d  5f                	ld	e, a
  1530  044e  dd7e00            	ld	a,(ix-1)
  1531  0451  8a                	adc	a, d
  1532  0452  57                	ld	d, a
  1533  0453  ddf9              	ld	sp, ix
  1534  0455  dde1              	pop	ix
  1535  0457  c9                	ret
  1536                          	SECTION code_compiler
  1537                          ;	---------------------------------
  1538                          ; Function hcca_readInt32
  1539                          ; ---------------------------------
  1540                          _hcca_readInt32:
  1541  0458  dde5              	push	ix
  1542  045a  dd210000          	ld	ix,0
  1543  045e  dd39              	add	ix,sp
  1544  0460  210000            	ld	hl, -8
  1545  0463  39                	add	hl, sp
  1546  0464  f9                	ld	sp, hl
  1547  0465  cd0000            	call	_hcca_readByte
  1548  0468  dd7500            	ld	(ix-4),l
  1549  046b  af                	xor	a, a
  1550  046c  dd7700            	ld	(ix-3),a
  1551  046f  dd7700            	ld	(ix-2),a
  1552  0472  dd7700            	ld	(ix-1),a
  1553  0475  cd0000            	call	_hcca_readByte
  1554  0478  2600              	ld	h,0x00
  1555  047a  010000            	ld	bc,0x0000
  1556  047d  45                	ld	b, l
  1557  047e  5c                	ld	e, h
  1558  047f  51                	ld	d, c
  1559  0480  0e00              	ld	c,0x00
  1560  0482  dd7e00            	ld	a,(ix-4)
  1561  0485  81                	add	a, c
  1562  0486  dd7700            	ld	(ix-8),a
  1563  0489  dd7e00            	ld	a,(ix-3)
  1564  048c  88                	adc	a, b
  1565  048d  dd7700            	ld	(ix-7),a
  1566  0490  dd7e00            	ld	a,(ix-2)
  1567  0493  8b                	adc	a, e
  1568  0494  dd7700            	ld	(ix-6),a
  1569  0497  dd7e00            	ld	a,(ix-1)
  1570  049a  8a                	adc	a, d
  1571  049b  dd7700            	ld	(ix-5),a
  1572  049e  cd0000            	call	_hcca_readByte
  1573  04a1  2600              	ld	h,0x00
  1574  04a3  010000            	ld	bc,0x0000
  1575  04a6  dd7ef8            	ld	a,(ix-8)
  1576  04a9  81                	add	a, c
  1577  04aa  dd77fc            	ld	(ix-4),a
  1578  04ad  dd7ef9            	ld	a,(ix-7)
  1579  04b0  88                	adc	a, b
  1580  04b1  dd77fd            	ld	(ix-3),a
  1581  04b4  dd7efa            	ld	a,(ix-6)
  1582  04b7  8d                	adc	a, l
  1583  04b8  dd77fe            	ld	(ix-2),a
  1584  04bb  dd7efb            	ld	a,(ix-5)
  1585  04be  8c                	adc	a, h
  1586  04bf  dd77ff            	ld	(ix-1),a
  1587  04c2  cd6b03            	call	_hcca_readByte
  1588  04c5  55                	ld	d, l
  1589  04c6  010000            	ld	bc,0x0000
  1590  04c9  1e00              	ld	e,0x00
  1591  04cb  dd7efc            	ld	a,(ix-4)
  1592  04ce  81                	add	a, c
  1593  04cf  6f                	ld	l, a
  1594  04d0  dd7efd            	ld	a,(ix-3)
  1595  04d3  88                	adc	a, b
  1596  04d4  67                	ld	h, a
  1597  04d5  dd7efe            	ld	a,(ix-2)
  1598  04d8  8b                	adc	a, e
  1599  04d9  5f                	ld	e, a
  1600  04da  dd7eff            	ld	a,(ix-1)
  1601  04dd  8a                	adc	a, d
  1602  04de  57                	ld	d, a
  1603  04df  ddf9              	ld	sp, ix
  1604  04e1  dde1              	pop	ix
  1605  04e3  c9                	ret
  1606                          	SECTION code_compiler
  1607                          ;	---------------------------------
  1608                          ; Function hcca_readBytes
  1609                          ; ---------------------------------
  1610                          _hcca_readBytes:
  1611  04e4  dde5              	push	ix
  1612  04e6  dd210000          	ld	ix,0
  1613  04ea  dd39              	add	ix,sp
  1614  04ec  0e00              	ld	c,0x00
  1615                          l_hcca_readBytes_00103:
  1616  04ee  79                	ld	a, c
  1617  04ef  dd9605            	sub	a,(ix+5)
  1618  04f2  301d              	jr	NC,l_hcca_readBytes_00105
  1619  04f4  dd5e04            	ld	e,(ix+4)
  1620  04f7  1600              	ld	d,0x00
  1621  04f9  69                	ld	l, c
  1622  04fa  2600              	ld	h,0x00
  1623  04fc  19                	add	hl, de
  1624  04fd  eb                	ex	de, hl
  1625  04fe  dd6e06            	ld	l,(ix+6)
  1626  0501  dd6607            	ld	h,(ix+7)
  1627  0504  19                	add	hl, de
  1628  0505  e5                	push	hl
  1629  0506  c5                	push	bc
  1630  0507  cd6b03            	call	_hcca_readByte
  1631  050a  7d                	ld	a, l
  1632  050b  c1                	pop	bc
  1633  050c  e1                	pop	hl
  1634  050d  77                	ld	(hl), a
  1635  050e  0c                	inc	c
  1636  050f  18dd              	jr	l_hcca_readBytes_00103
  1637                          l_hcca_readBytes_00105:
  1638  0511  dde1              	pop	ix
  1639  0513  c9                	ret
  1640                          	SECTION code_compiler
  1641                          ;	---------------------------------
  1642                          ; Function hcca_writeByte
  1643                          ; ---------------------------------
  1644                          _hcca_writeByte:
  1645  0514  f3                	di
  1646  0515  3e0e              	ld	a,0x0e
  1647  0517  d341              	out	(_IO_AYLATCH), a
  1648  0519  3e40              	ld	a,0x40
  1649  051b  d340              	out	(_IO_AYDATA), a
  1650  051d  3e0f              	ld	a,0x0f
  1651  051f  d341              	out	(_IO_AYLATCH), a
  1652                          l_hcca_writeByte_00101:
  1653  0521  db40              	in	a, (_IO_AYDATA)
  1654  0523  cb57              	bit	2, a
  1655  0525  20fa              	jr	NZ,l_hcca_writeByte_00101
  1656  0527  fd210200          	ld	iy,2
  1657  052b  fd39              	add	iy, sp
  1658  052d  fd7e00            	ld	a,(iy+0)
  1659  0530  d380              	out	(_IO_HCCA), a
  1660  0532  3a0c00            	ld	a, (__ORIGINAL_INT_MASK+0)
  1661  0535  f5                	push	af
  1662  0536  3e0e              	ld	a,0x0e
  1663  0538  d341              	out	(_IO_AYLATCH), a
  1664  053a  f1                	pop	af
  1665  053b  d340              	out	(_IO_AYDATA), a
  1666  053d  fb                	ei
  1667  053e  c9                	ret
  1668                          	SECTION code_compiler
  1669                          ;	---------------------------------
  1670                          ; Function hcca_writeUInt32
  1671                          ; ---------------------------------
  1672                          _hcca_writeUInt32:
  1673  053f  210200            	ld	hl,2+0
  1674  0542  39                	add	hl, sp
  1675  0543  7e                	ld	a, (hl)
  1676  0544  f5                	push	af
  1677  0545  33                	inc	sp
  1678  0546  cd1405            	call	_hcca_writeByte
  1679  0549  33                	inc	sp
  1680  054a  210300            	ld	hl,2+1
  1681  054d  39                	add	hl, sp
  1682  054e  7e                	ld	a, (hl)
  1683  054f  f5                	push	af
  1684  0550  33                	inc	sp
  1685  0551  cd1405            	call	_hcca_writeByte
  1686  0554  33                	inc	sp
  1687  0555  210400            	ld	hl,2+2
  1688  0558  39                	add	hl, sp
  1689  0559  7e                	ld	a, (hl)
  1690  055a  f5                	push	af
  1691  055b  33                	inc	sp
  1692  055c  cd1405            	call	_hcca_writeByte
  1693  055f  33                	inc	sp
  1694  0560  210500            	ld	hl,2+3
  1695  0563  39                	add	hl, sp
  1696  0564  7e                	ld	a, (hl)
  1697  0565  f5                	push	af
  1698  0566  33                	inc	sp
  1699  0567  cd1405            	call	_hcca_writeByte
  1700  056a  33                	inc	sp
  1701  056b  c9                	ret
  1702                          	SECTION code_compiler
  1703                          ;	---------------------------------
  1704                          ; Function hcca_writeInt32
  1705                          ; ---------------------------------
  1706                          _hcca_writeInt32:
  1707  056c  210200            	ld	hl,2+0
  1708  056f  39                	add	hl, sp
  1709  0570  7e                	ld	a, (hl)
  1710  0571  f5                	push	af
  1711  0572  33                	inc	sp
  1712  0573  cd1405            	call	_hcca_writeByte
  1713  0576  33                	inc	sp
  1714  0577  210300            	ld	hl,2+1
  1715  057a  39                	add	hl, sp
  1716  057b  7e                	ld	a, (hl)
  1717  057c  f5                	push	af
  1718  057d  33                	inc	sp
  1719  057e  cd1405            	call	_hcca_writeByte
  1720  0581  33                	inc	sp
  1721  0582  210400            	ld	hl,2+2
  1722  0585  39                	add	hl, sp
  1723  0586  7e                	ld	a, (hl)
  1724  0587  f5                	push	af
  1725  0588  33                	inc	sp
  1726  0589  cd1405            	call	_hcca_writeByte
  1727  058c  33                	inc	sp
  1728  058d  210500            	ld	hl,2+3
  1729  0590  39                	add	hl, sp
  1730  0591  7e                	ld	a, (hl)
  1731  0592  f5                	push	af
  1732  0593  33                	inc	sp
  1733  0594  cd1405            	call	_hcca_writeByte
  1734  0597  33                	inc	sp
  1735  0598  c9                	ret
  1736                          	SECTION code_compiler
  1737                          ;	---------------------------------
  1738                          ; Function hcca_writeUInt16
  1739                          ; ---------------------------------
  1740                          _hcca_writeUInt16:
  1741  0599  210200            	ld	hl,2+0
  1742  059c  39                	add	hl, sp
  1743  059d  7e                	ld	a, (hl)
  1744  059e  f5                	push	af
  1745  059f  33                	inc	sp
  1746  05a0  cd1405            	call	_hcca_writeByte
  1747  05a3  33                	inc	sp
  1748  05a4  210300            	ld	hl,2+1
  1749  05a7  39                	add	hl, sp
  1750  05a8  7e                	ld	a, (hl)
  1751  05a9  f5                	push	af
  1752  05aa  33                	inc	sp
  1753  05ab  cd1405            	call	_hcca_writeByte
  1754  05ae  33                	inc	sp
  1755  05af  c9                	ret
  1756                          	SECTION code_compiler
  1757                          ;	---------------------------------
  1758                          ; Function hcca_writeInt16
  1759                          ; ---------------------------------
  1760                          _hcca_writeInt16:
  1761  05b0  210200            	ld	hl,2+0
  1762  05b3  39                	add	hl, sp
  1763  05b4  7e                	ld	a, (hl)
  1764  05b5  f5                	push	af
  1765  05b6  33                	inc	sp
  1766  05b7  cd1405            	call	_hcca_writeByte
  1767  05ba  33                	inc	sp
  1768  05bb  210300            	ld	hl,2+1
  1769  05be  39                	add	hl, sp
  1770  05bf  7e                	ld	a, (hl)
  1771  05c0  f5                	push	af
  1772  05c1  33                	inc	sp
  1773  05c2  cd1405            	call	_hcca_writeByte
  1774  05c5  33                	inc	sp
  1775  05c6  c9                	ret
  1776                          	SECTION code_compiler
  1777                          ;	---------------------------------
  1778                          ; Function hcca_writeString
  1779                          ; ---------------------------------
  1780                          _hcca_writeString:
  1781  05c7  010000            	ld	bc,0x0000
  1782                          l_hcca_writeString_00103:
  1783  05ca  210200            	ld	hl,2
  1784  05cd  39                	add	hl, sp
  1785  05ce  7e                	ld	a, (hl)
  1786  05cf  23                	inc	hl
  1787  05d0  66                	ld	h, (hl)
  1788  05d1  6f                	ld	l, a
  1789  05d2  09                	add	hl, bc
  1790  05d3  7e                	ld	a, (hl)
  1791  05d4  b7                	or	a, a
  1792  05d5  c8                	ret	Z
  1793  05d6  c5                	push	bc
  1794  05d7  f5                	push	af
  1795  05d8  33                	inc	sp
  1796  05d9  cd1405            	call	_hcca_writeByte
  1797  05dc  33                	inc	sp
  1798  05dd  c1                	pop	bc
  1799  05de  03                	inc	bc
  1800  05df  18e9              	jr	l_hcca_writeString_00103
  1801                          	SECTION code_compiler
  1802                          ;	---------------------------------
  1803                          ; Function hcca_writeBytes
  1804                          ; ---------------------------------
  1805                          _hcca_writeBytes:
  1806  05e1  dde5              	push	ix
  1807  05e3  dd210000          	ld	ix,0
  1808  05e7  dd39              	add	ix,sp
  1809  05e9  010000            	ld	bc,0x0000
  1810                          l_hcca_writeBytes_00103:
  1811  05ec  79                	ld	a, c
  1812  05ed  dd9606            	sub	a,(ix+6)
  1813  05f0  78                	ld	a, b
  1814  05f1  dd9e07            	sbc	a,(ix+7)
  1815  05f4  301d              	jr	NC,l_hcca_writeBytes_00105
  1816  05f6  dd7e04            	ld	a,(ix+4)
  1817  05f9  81                	add	a, c
  1818  05fa  5f                	ld	e, a
  1819  05fb  dd7e05            	ld	a,(ix+5)
  1820  05fe  88                	adc	a, b
  1821  05ff  57                	ld	d, a
  1822  0600  dd6e08            	ld	l,(ix+8)
  1823  0603  dd6609            	ld	h,(ix+9)
  1824  0606  19                	add	hl, de
  1825  0607  7e                	ld	a, (hl)
  1826  0608  c5                	push	bc
  1827  0609  f5                	push	af
  1828  060a  33                	inc	sp
  1829  060b  cd1405            	call	_hcca_writeByte
  1830  060e  33                	inc	sp
  1831  060f  c1                	pop	bc
  1832  0610  03                	inc	bc
  1833  0611  18d9              	jr	l_hcca_writeBytes_00103
  1834                          l_hcca_writeBytes_00105:
  1835  0613  dde1              	pop	ix
  1836  0615  c9                	ret
  1837                          	SECTION code_compiler
  1838                          ;	---------------------------------
  1839                          ; Function hcca_exitRetroNETBridgeMode
  1840                          ; ---------------------------------
  1841                          _hcca_exitRetroNETBridgeMode:
  1842  0616  210d00            	ld	hl,_RETRONET_BRIDGE_EXIT_CODE
  1843  0619  e5                	push	hl
  1844  061a  211500            	ld	hl,0x0015
  1845  061d  e5                	push	hl
  1846  061e  6c                	ld	l, h
  1847  061f  e5                	push	hl
  1848  0620  cde105            	call	_hcca_writeBytes
  1849  0623  f1                	pop	af
  1850  0624  f1                	pop	af
  1851  0625  f1                	pop	af
  1852  0626  c9                	ret
  1853                          	SECTION code_compiler
  1854                          ;	---------------------------------
  1855                          ; Function vdp_setRegister
  1856                          ; ---------------------------------
  1857                          _vdp_setRegister:
  1858  0627  fd210300          	ld	iy,3
  1859  062b  fd39              	add	iy, sp
  1860  062d  fd7e00            	ld	a,(iy+0)
  1861  0630  d3a1              	out	(_IO_VDPLATCH), a
  1862  0632  fd2b              	dec	iy
  1863  0634  fd7e00            	ld	a,(iy+0)
  1864  0637  f680              	or	a,0x80
  1865  0639  d3a1              	out	(_IO_VDPLATCH), a
  1866  063b  c9                	ret
  1867                          	SECTION code_compiler
  1868                          ;	---------------------------------
  1869                          ; Function vdp_setWriteAddress
  1870                          ; ---------------------------------
  1871                          _vdp_setWriteAddress:
  1872  063c  fd210200          	ld	iy,2
  1873  0640  fd39              	add	iy, sp
  1874  0642  fd7e00            	ld	a,(iy+0)
  1875  0645  d3a1              	out	(_IO_VDPLATCH), a
  1876  0647  fd7e01            	ld	a,(iy+1)
  1877  064a  e63f              	and	a,0x3f
  1878  064c  f640              	or	a,0x40
  1879  064e  d3a1              	out	(_IO_VDPLATCH), a
  1880  0650  c9                	ret
  1881                          	SECTION code_compiler
  1882                          ;	---------------------------------
  1883                          ; Function vdp_setReadAddress
  1884                          ; ---------------------------------
  1885                          _vdp_setReadAddress:
  1886  0651  fd210200          	ld	iy,2
  1887  0655  fd39              	add	iy, sp
  1888  0657  fd7e00            	ld	a,(iy+0)
  1889  065a  d3a1              	out	(_IO_VDPLATCH), a
  1890  065c  fd7e01            	ld	a,(iy+1)
  1891  065f  e63f              	and	a,0x3f
  1892  0661  d3a1              	out	(_IO_VDPLATCH), a
  1893  0663  c9                	ret
  1894                          	SECTION code_compiler
  1895                          ;	---------------------------------
  1896                          ; Function waitVdpISR
  1897                          ; ---------------------------------
  1898                          _waitVdpISR:
  1899  0664  f5                	push	af
  1900  0665  dba1              	in	a, (_IO_VDPLATCH)
  1901  0667  322800            	ld	(_vdpStatusRegVal), a
  1902  066a  3e01              	ld	a, 0x01
  1903  066c  322900            	ld	(_vdpIsReady), a
  1904  066f  f1                	pop	af
  1905  0670  fb                	ei
  1906  0671  ed4d              	reti
  1907                          ;	---------------------------------
  1908                          ; Function vdp_enableVDPReadyInt
  1909                          ; ---------------------------------
  1910                          _vdp_enableVDPReadyInt:
  1911  0673  f3                	di
  1912  0674  216406            	ld	hl, _waitVdpISR
  1913  0677  2206ff            	ld	(0xff00 + 6), hl
  1914  067a  3a0c00            	ld	a, (__ORIGINAL_INT_MASK+0)
  1915  067d  f610              	or	a,0x10
  1916  067f  320c00            	ld	(__ORIGINAL_INT_MASK+0), a
  1917  0682  3a0c00            	ld	a, (__ORIGINAL_INT_MASK+0)
  1918  0685  f5                	push	af
  1919  0686  3e0e              	ld	a,0x0e
  1920  0688  d341              	out	(_IO_AYLATCH), a
  1921  068a  f1                	pop	af
  1922  068b  d340              	out	(_IO_AYDATA), a
  1923  068d  fb                	ei
  1924  068e  212700            	ld	hl,__vdpInterruptEnabled + 0
  1925  0691  3601              	ld	(hl),0x01
  1926  0693  3a2400            	ld	a, (__vdpReg1Val+0)
  1927  0696  f620              	or	a,0x20
  1928  0698  d3a1              	out	(_IO_VDPLATCH), a
  1929  069a  3e81              	ld	a,0x81
  1930  069c  d3a1              	out	(_IO_VDPLATCH), a
  1931  069e  c9                	ret
  1932                          	SECTION code_compiler
  1933                          ;	---------------------------------
  1934                          ; Function vdp_waitVDPReadyInt
  1935                          ; ---------------------------------
  1936                          _vdp_waitVDPReadyInt:
  1937  069f  3a2900            	ld	a, (_vdpIsReady+0)
  1938  06a2  b7                	or	a, a
  1939  06a3  2806              	jr	Z,l_vdp_waitVDPReadyInt_00102
  1940  06a5  3e23              	ld	a,0x23
  1941  06a7  d300              	out	(_IO_CONTROL), a
  1942  06a9  1804              	jr	l_vdp_waitVDPReadyInt_00104
  1943                          l_vdp_waitVDPReadyInt_00102:
  1944  06ab  3e03              	ld	a,0x03
  1945  06ad  d300              	out	(_IO_CONTROL), a
  1946                          l_vdp_waitVDPReadyInt_00104:
  1947  06af  3a2900            	ld	a, (_vdpIsReady+0)
  1948  06b2  b7                	or	a, a
  1949  06b3  28fa              	jr	Z,l_vdp_waitVDPReadyInt_00104
  1950  06b5  212900            	ld	hl,_vdpIsReady + 0
  1951  06b8  3600              	ld	(hl),0x00
  1952  06ba  c9                	ret
  1953                          	SECTION code_compiler
  1954                          ;	---------------------------------
  1955                          ; Function vdp_disableVDPReadyInt
  1956                          ; ---------------------------------
  1957                          _vdp_disableVDPReadyInt:
  1958  06bb  3a2400            	ld	a, (__vdpReg1Val+0)
  1959  06be  d3a1              	out	(_IO_VDPLATCH), a
  1960  06c0  3e81              	ld	a,0x81
  1961  06c2  d3a1              	out	(_IO_VDPLATCH), a
  1962  06c4  f3                	di
  1963  06c5  fd212700          	ld	iy,__vdpInterruptEnabled
  1964  06c9  fd360000          	ld	(iy+0),0x00
  1965  06cd  db41              	in	a, (_IO_AYLATCH)
  1966  06cf  3a0c00            	ld	a, (__ORIGINAL_INT_MASK+0)
  1967  06d2  cb67              	bit	4, a
  1968  06d4  2808              	jr	Z,l_vdp_disableVDPReadyInt_00102
  1969  06d6  3a0c00            	ld	a, (__ORIGINAL_INT_MASK+0)
  1970  06d9  ee10              	xor	a,0x10
  1971  06db  320c00            	ld	(__ORIGINAL_INT_MASK+0), a
  1972                          l_vdp_disableVDPReadyInt_00102:
  1973  06de  3a0c00            	ld	a, (__ORIGINAL_INT_MASK+0)
  1974  06e1  f5                	push	af
  1975  06e2  3e0e              	ld	a,0x0e
  1976  06e4  d341              	out	(_IO_AYLATCH), a
  1977  06e6  f1                	pop	af
  1978  06e7  d340              	out	(_IO_AYDATA), a
  1979  06e9  fb                	ei
  1980  06ea  c9                	ret
  1981                          	SECTION code_compiler
  1982                          ;	---------------------------------
  1983                          ; Function vdp_addISR
  1984                          ; ---------------------------------
  1985                          _vdp_addISR:
  1986  06eb  f3                	di
  1987  06ec  fd210200          	ld	iy,2
  1988  06f0  fd39              	add	iy, sp
  1989  06f2  fd7e00            	ld	a,(iy+0)
  1990  06f5  32c008            	ld	(__vdp_ISR+0), a
  1991  06f8  fd7e01            	ld	a,(iy+1)
  1992  06fb  32c108            	ld	(__vdp_ISR+1), a
  1993  06fe  2ac008            	ld	hl, (__vdp_ISR)
  1994  0701  2206ff            	ld	(0xff00 + 6), hl
  1995  0704  3a0c00            	ld	a, (__ORIGINAL_INT_MASK+0)
  1996  0707  f610              	or	a,0x10
  1997  0709  320c00            	ld	(__ORIGINAL_INT_MASK+0), a
  1998  070c  3a0c00            	ld	a, (__ORIGINAL_INT_MASK+0)
  1999  070f  f5                	push	af
  2000  0710  3e0e              	ld	a,0x0e
  2001  0712  d341              	out	(_IO_AYLATCH), a
  2002  0714  f1                	pop	af
  2003  0715  d340              	out	(_IO_AYDATA), a
  2004  0717  fb                	ei
  2005  0718  212700            	ld	hl,__vdpInterruptEnabled + 0
  2006  071b  3601              	ld	(hl),0x01
  2007  071d  3a2400            	ld	a, (__vdpReg1Val+0)
  2008  0720  f620              	or	a,0x20
  2009  0722  d3a1              	out	(_IO_VDPLATCH), a
  2010  0724  3e81              	ld	a,0x81
  2011  0726  d3a1              	out	(_IO_VDPLATCH), a
  2012  0728  c9                	ret
  2013                          	SECTION code_compiler
  2014                          ;	---------------------------------
  2015                          ; Function vdp_removeISR
  2016                          ; ---------------------------------
  2017                          _vdp_removeISR:
  2018  0729  3a2400            	ld	a, (__vdpReg1Val+0)
  2019  072c  d3a1              	out	(_IO_VDPLATCH), a
  2020  072e  3e81              	ld	a,0x81
  2021  0730  d3a1              	out	(_IO_VDPLATCH), a
  2022  0732  f3                	di
  2023  0733  fd212700          	ld	iy,__vdpInterruptEnabled
  2024  0737  fd360000          	ld	(iy+0),0x00
  2025  073b  db41              	in	a, (_IO_AYLATCH)
  2026  073d  3a0c00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2027  0740  cb67              	bit	4, a
  2028  0742  2808              	jr	Z,l_vdp_removeISR_00102
  2029  0744  3a0c00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2030  0747  ee10              	xor	a,0x10
  2031  0749  320c00            	ld	(__ORIGINAL_INT_MASK+0), a
  2032                          l_vdp_removeISR_00102:
  2033  074c  3a0c00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2034  074f  f5                	push	af
  2035  0750  3e0e              	ld	a,0x0e
  2036  0752  d341              	out	(_IO_AYLATCH), a
  2037  0754  f1                	pop	af
  2038  0755  d340              	out	(_IO_AYDATA), a
  2039  0757  fb                	ei
  2040  0758  c9                	ret
  2041                          	SECTION code_compiler
  2042                          ;	---------------------------------
  2043                          ; Function vdp_init
  2044                          ; ---------------------------------
  2045                          _vdp_init:
  2046  0759  dde5              	push	ix
  2047  075b  dd210000          	ld	ix,0
  2048  075f  dd39              	add	ix,sp
  2049  0761  dd4e04            	ld	c,(ix+4)
  2050  0764  fd21ce08          	ld	iy,__vdpMode
  2051  0768  fd7100            	ld	(iy+0),c
  2052  076b  dd7e07            	ld	a,(ix+7)
  2053  076e  32c608            	ld	(__vdpSpriteSizeSelected+0), a
  2054  0771  dd7e09            	ld	a,(ix+9)
  2055  0774  32cf08            	ld	(__autoScroll+0), a
  2056  0777  212700            	ld	hl,__vdpInterruptEnabled + 0
  2057  077a  3600              	ld	(hl),0x00
  2058  077c  212200            	ld	hl,_vdp_cursor
  2059  077f  3600              	ld	(hl),0x00
  2060  0781  212300            	ld	hl, +(_vdp_cursor + 1)
  2061  0784  3600              	ld	(hl),0x00
  2062  0786  dd7e07            	ld	a,(ix+7)
  2063  0789  87                	add	a, a
  2064  078a  47                	ld	b, a
  2065  078b  79                	ld	a, c
  2066  078c  3d                	dec	a
  2067  078d  280b              	jr	Z,l_vdp_init_00101
  2068  078f  79                	ld	a,c
  2069  0790  fe02              	cp	a,0x02
  2070  0792  2848              	jr	Z,l_vdp_init_00103
  2071  0794  d603              	sub	a,0x03
  2072  0796  2827              	jr	Z,l_vdp_init_00102
  2073  0798  1865              	jr	l_vdp_init_00104
  2074                          l_vdp_init_00101:
  2075  079a  3e02              	ld	a,0x02
  2076  079c  d3a1              	out	(_IO_VDPLATCH), a
  2077  079e  3e80              	ld	a,0x80
  2078  07a0  d3a1              	out	(_IO_VDPLATCH), a
  2079  07a2  78                	ld	a, b
  2080  07a3  f6c0              	or	a,0xc0
  2081  07a5  ddb608            	or	a,(ix+8)
  2082  07a8  322400            	ld	(__vdpReg1Val+0), a
  2083  07ab  3a2400            	ld	a, (__vdpReg1Val+0)
  2084  07ae  d3a1              	out	(_IO_VDPLATCH), a
  2085  07b0  3e81              	ld	a,0x81
  2086  07b2  d3a1              	out	(_IO_VDPLATCH), a
  2087  07b4  dd360500          	ld	(ix+5),0x00
  2088  07b8  21cd08            	ld	hl,__vdpCursorMaxX + 0
  2089  07bb  361f              	ld	(hl),0x1f
  2090  07bd  1840              	jr	l_vdp_init_00104
  2091                          l_vdp_init_00102:
  2092  07bf  3e00              	ld	a,0x00
  2093  07c1  d3a1              	out	(_IO_VDPLATCH), a
  2094  07c3  3e80              	ld	a,0x80
  2095  07c5  d3a1              	out	(_IO_VDPLATCH), a
  2096  07c7  212400            	ld	hl,__vdpReg1Val + 0
  2097  07ca  36d2              	ld	(hl),0xd2
  2098  07cc  3a2400            	ld	a, (__vdpReg1Val+0)
  2099  07cf  d3a1              	out	(_IO_VDPLATCH), a
  2100  07d1  3e81              	ld	a,0x81
  2101  07d3  d3a1              	out	(_IO_VDPLATCH), a
  2102  07d5  21cd08            	ld	hl,__vdpCursorMaxX + 0
  2103  07d8  3627              	ld	(hl),0x27
  2104  07da  1823              	jr	l_vdp_init_00104
  2105                          l_vdp_init_00103:
  2106  07dc  3e00              	ld	a,0x00
  2107  07de  d3a1              	out	(_IO_VDPLATCH), a
  2108  07e0  3e80              	ld	a,0x80
  2109  07e2  d3a1              	out	(_IO_VDPLATCH), a
  2110  07e4  78                	ld	a, b
  2111  07e5  f6c8              	or	a,0xc8
  2112  07e7  ddb608            	or	a,(ix+8)
  2113  07ea  322400            	ld	(__vdpReg1Val+0), a
  2114  07ed  3a2400            	ld	a, (__vdpReg1Val+0)
  2115  07f0  d3a1              	out	(_IO_VDPLATCH), a
  2116  07f2  3e81              	ld	a,0x81
  2117  07f4  d3a1              	out	(_IO_VDPLATCH), a
  2118  07f6  dd360500          	ld	(ix+5),0x00
  2119  07fa  21cd08            	ld	hl,__vdpCursorMaxX + 0
  2120  07fd  361f              	ld	(hl),0x1f
  2121                          l_vdp_init_00104:
  2122  07ff  3e06              	ld	a,0x06
  2123  0801  d3a1              	out	(_IO_VDPLATCH), a
  2124  0803  3e82              	ld	a,0x82
  2125  0805  d3a1              	out	(_IO_VDPLATCH), a
  2126  0807  210018            	ld	hl,0x1800
  2127  080a  22c708            	ld	(__vdpPatternNameTableAddr), hl
  2128  080d  3eff              	ld	a,0xff
  2129  080f  d3a1              	out	(_IO_VDPLATCH), a
  2130  0811  3e83              	ld	a,0x83
  2131  0813  d3a1              	out	(_IO_VDPLATCH), a
  2132  0815  2620              	ld	h,0x20
  2133  0817  22c908            	ld	(__vdpColorTableAddr), hl
  2134  081a  2618              	ld	h,0x18
  2135  081c  222500            	ld	(__vdpColorTableSize), hl
  2136  081f  3e00              	ld	a,0x00
  2137  0821  d3a1              	out	(_IO_VDPLATCH), a
  2138  0823  3e84              	ld	a,0x84
  2139  0825  d3a1              	out	(_IO_VDPLATCH), a
  2140  0827  65                	ld	h, l
  2141  0828  22cb08            	ld	(__vdpPatternGeneratorTableAddr), hl
  2142  082b  3e36              	ld	a,0x36
  2143  082d  d3a1              	out	(_IO_VDPLATCH), a
  2144  082f  3e85              	ld	a,0x85
  2145  0831  d3a1              	out	(_IO_VDPLATCH), a
  2146  0833  261b              	ld	h,0x1b
  2147  0835  22c208            	ld	(__vdpSpriteAttributeTableAddr), hl
  2148  0838  3e07              	ld	a,0x07
  2149  083a  d3a1              	out	(_IO_VDPLATCH), a
  2150  083c  3e86              	ld	a,0x86
  2151  083e  d3a1              	out	(_IO_VDPLATCH), a
  2152  0840  2638              	ld	h,0x38
  2153  0842  22c408            	ld	(__vdpSpriteGeneratorTableAddr), hl
  2154  0845  dd7e05            	ld	a,(ix+5)
  2155  0848  87                	add	a, a
  2156  0849  87                	add	a, a
  2157  084a  87                	add	a, a
  2158  084b  87                	add	a, a
  2159  084c  4f                	ld	c, a
  2160  084d  dd7e06            	ld	a,(ix+6)
  2161  0850  e60f              	and	a,0x0f
  2162  0852  b1                	or	a, c
  2163  0853  d3a1              	out	(_IO_VDPLATCH), a
  2164  0855  3e87              	ld	a,0x87
  2165  0857  d3a1              	out	(_IO_VDPLATCH), a
  2166  0859  dde1              	pop	ix
  2167  085b  c32809            	jp	_vdp_clearScreen
  2168                          	SECTION code_compiler
  2169                          ;	---------------------------------
  2170                          ; Function vdp_clearVRAM
  2171                          ; ---------------------------------
  2172                          _vdp_clearVRAM:
  2173  085e  3e00              	ld	a,0x00
  2174  0860  d3a1              	out	(_IO_VDPLATCH), a
  2175  0862  3e40              	ld	a,0x40
  2176  0864  d3a1              	out	(_IO_VDPLATCH), a
  2177  0866  010000            	ld	bc,0x0000
  2178                          l_vdp_clearVRAM_00104:
  2179  0869  79                	ld	a, c
  2180  086a  d6ff              	sub	a,0xff
  2181  086c  78                	ld	a, b
  2182  086d  de3f              	sbc	a,0x3f
  2183  086f  d0                	ret	NC
  2184  0870  3e00              	ld	a,0x00
  2185  0872  d3a0              	out	(_IO_VDPDATA), a
  2186  0874  03                	inc	bc
  2187  0875  18f2              	jr	l_vdp_clearVRAM_00104
  2188                          	SECTION code_compiler
  2189                          ;	---------------------------------
  2190                          ; Function vdp_initMSXMode
  2191                          ; ---------------------------------
  2192                          _vdp_initMSXMode:
  2193  0877  3e02              	ld	a,0x02
  2194  0879  d3a1              	out	(_IO_VDPLATCH), a
  2195  087b  3e80              	ld	a,0x80
  2196  087d  d3a1              	out	(_IO_VDPLATCH), a
  2197  087f  3ec0              	ld	a,0xc0
  2198  0881  d3a1              	out	(_IO_VDPLATCH), a
  2199  0883  3e81              	ld	a,0x81
  2200  0885  d3a1              	out	(_IO_VDPLATCH), a
  2201  0887  3e06              	ld	a,0x06
  2202  0889  d3a1              	out	(_IO_VDPLATCH), a
  2203  088b  3e82              	ld	a,0x82
  2204  088d  d3a1              	out	(_IO_VDPLATCH), a
  2205  088f  3eff              	ld	a,0xff
  2206  0891  d3a1              	out	(_IO_VDPLATCH), a
  2207  0893  3e83              	ld	a,0x83
  2208  0895  d3a1              	out	(_IO_VDPLATCH), a
  2209  0897  3e03              	ld	a,0x03
  2210  0899  d3a1              	out	(_IO_VDPLATCH), a
  2211  089b  3e84              	ld	a,0x84
  2212  089d  d3a1              	out	(_IO_VDPLATCH), a
  2213  089f  3e36              	ld	a,0x36
  2214  08a1  d3a1              	out	(_IO_VDPLATCH), a
  2215  08a3  3e85              	ld	a,0x85
  2216  08a5  d3a1              	out	(_IO_VDPLATCH), a
  2217  08a7  3e07              	ld	a,0x07
  2218  08a9  d3a1              	out	(_IO_VDPLATCH), a
  2219  08ab  3e86              	ld	a,0x86
  2220  08ad  d3a1              	out	(_IO_VDPLATCH), a
  2221  08af  210200            	ld	hl,2+0
  2222  08b2  39                	add	hl, sp
  2223  08b3  7e                	ld	a, (hl)
  2224  08b4  e60f              	and	a,0x0f
  2225  08b6  d3a1              	out	(_IO_VDPLATCH), a
  2226  08b8  3e87              	ld	a,0x87
  2227  08ba  d3a1              	out	(_IO_VDPLATCH), a
  2228  08bc  c9                	ret
  2229                          	SECTION code_compiler
  2230                          ;	---------------------------------
  2231                          ; Function vdp_initTextMode
  2232                          ; ---------------------------------
  2233                          _vdp_initTextMode:
  2234  08bd  fd210400          	ld	iy,4
  2235  08c1  fd39              	add	iy, sp
  2236  08c3  fd7e00            	ld	a,(iy+0)
  2237  08c6  f5                	push	af
  2238  08c7  33                	inc	sp
  2239  08c8  af                	xor	a, a
  2240  08c9  f5                	push	af
  2241  08ca  33                	inc	sp
  2242  08cb  af                	xor	a, a
  2243  08cc  f5                	push	af
  2244  08cd  33                	inc	sp
  2245  08ce  fd2b              	dec	iy
  2246  08d0  fd7e00            	ld	a,(iy+0)
  2247  08d3  f5                	push	af
  2248  08d4  33                	inc	sp
  2249  08d5  fd2b              	dec	iy
  2250  08d7  fd5600            	ld	d,(iy+0)
  2251  08da  1e03              	ld	e,0x03
  2252  08dc  d5                	push	de
  2253  08dd  cd5907            	call	_vdp_init
  2254  08e0  f1                	pop	af
  2255  08e1  f1                	pop	af
  2256  08e2  f1                	pop	af
  2257  08e3  c9                	ret
  2258                          	SECTION code_compiler
  2259                          ;	---------------------------------
  2260                          ; Function vdp_initG2Mode
  2261                          ; ---------------------------------
  2262                          _vdp_initG2Mode:
  2263  08e4  fd210500          	ld	iy,5
  2264  08e8  fd39              	add	iy, sp
  2265  08ea  fd7e00            	ld	a,(iy+0)
  2266  08ed  f5                	push	af
  2267  08ee  33                	inc	sp
  2268  08ef  fd2b              	dec	iy
  2269  08f1  fd7e00            	ld	a,(iy+0)
  2270  08f4  f5                	push	af
  2271  08f5  33                	inc	sp
  2272  08f6  fd2b              	dec	iy
  2273  08f8  fd7e00            	ld	a,(iy+0)
  2274  08fb  f5                	push	af
  2275  08fc  33                	inc	sp
  2276  08fd  fd2b              	dec	iy
  2277  08ff  fd7e00            	ld	a,(iy+0)
  2278  0902  f5                	push	af
  2279  0903  33                	inc	sp
  2280  0904  af                	xor	a, a
  2281  0905  57                	ld	d,a
  2282  0906  1e01              	ld	e,0x01
  2283  0908  d5                	push	de
  2284  0909  cd5907            	call	_vdp_init
  2285  090c  f1                	pop	af
  2286  090d  f1                	pop	af
  2287  090e  f1                	pop	af
  2288  090f  c9                	ret
  2289                          	SECTION code_compiler
  2290                          ;	---------------------------------
  2291                          ; Function vdp_initMultiColorMode
  2292                          ; ---------------------------------
  2293                          _vdp_initMultiColorMode:
  2294  0910  af                	xor	a, a
  2295  0911  f5                	push	af
  2296  0912  33                	inc	sp
  2297  0913  af                	xor	a, a
  2298  0914  f5                	push	af
  2299  0915  33                	inc	sp
  2300  0916  af                	xor	a, a
  2301  0917  f5                	push	af
  2302  0918  33                	inc	sp
  2303  0919  af                	xor	a, a
  2304  091a  f5                	push	af
  2305  091b  33                	inc	sp
  2306  091c  af                	xor	a, a
  2307  091d  57                	ld	d,a
  2308  091e  1e02              	ld	e,0x02
  2309  0920  d5                	push	de
  2310  0921  cd5907            	call	_vdp_init
  2311  0924  f1                	pop	af
  2312  0925  f1                	pop	af
  2313  0926  f1                	pop	af
  2314  0927  c9                	ret
  2315                          	SECTION code_compiler
  2316                          ;	---------------------------------
  2317                          ; Function vdp_clearScreen
  2318                          ; ---------------------------------
  2319                          _vdp_clearScreen:
  2320  0928  dde5              	push	ix
  2321  092a  dd210000          	ld	ix,0
  2322  092e  dd39              	add	ix,sp
  2323  0930  3b                	dec	sp
  2324  0931  2ac708            	ld	hl, (__vdpPatternNameTableAddr)
  2325  0934  7d                	ld	a, l
  2326  0935  d3a1              	out	(_IO_VDPLATCH), a
  2327  0937  7c                	ld	a, h
  2328  0938  e63f              	and	a,0x3f
  2329  093a  f640              	or	a,0x40
  2330  093c  d3a1              	out	(_IO_VDPLATCH), a
  2331  093e  3ace08            	ld	a, (__vdpMode+0)
  2332  0941  3d                	dec	a
  2333  0942  2005              	jr	NZ,l_vdp_clearScreen_00102
  2334  0944  010003            	ld	bc,0x0300
  2335  0947  1803              	jr	l_vdp_clearScreen_00103
  2336                          l_vdp_clearScreen_00102:
  2337  0949  01c003            	ld	bc,0x03c0
  2338                          l_vdp_clearScreen_00103:
  2339  094c  dd36ff00          	ld	(ix-1),0x00
  2340  0950  3ace08            	ld	a, (__vdpMode+0)
  2341  0953  d603              	sub	a,0x03
  2342  0955  2004              	jr	NZ,l_vdp_clearScreen_00116
  2343  0957  dd36ff20          	ld	(ix-1),0x20
  2344                          l_vdp_clearScreen_00116:
  2345  095b  110000            	ld	de,0x0000
  2346                          l_vdp_clearScreen_00109:
  2347  095e  7b                	ld	a, e
  2348  095f  91                	sub	a, c
  2349  0960  7a                	ld	a, d
  2350  0961  98                	sbc	a, b
  2351  0962  300e              	jr	NC,l_vdp_clearScreen_00111
  2352  0964  dd7eff            	ld	a,(ix-1)
  2353  0967  d3a0              	out	(_IO_VDPDATA), a
  2354  0969  210005            	ld	hl,__vdp_textBuffer
  2355  096c  19                	add	hl, de
  2356  096d  3620              	ld	(hl),0x20
  2357  096f  13                	inc	de
  2358  0970  18ec              	jr	l_vdp_clearScreen_00109
  2359                          l_vdp_clearScreen_00111:
  2360  0972  33                	inc	sp
  2361  0973  dde1              	pop	ix
  2362  0975  c9                	ret
  2363                          	SECTION code_compiler
  2364                          ;	---------------------------------
  2365                          ; Function vdp_loadASCIIFont
  2366                          ; ---------------------------------
  2367                          _vdp_loadASCIIFont:
  2368  0976  2acb08            	ld	hl, (__vdpPatternGeneratorTableAddr)
  2369  0979  110001            	ld	de,0x0100
  2370  097c  19                	add	hl, de
  2371  097d  7d                	ld	a, l
  2372  097e  d3a1              	out	(_IO_VDPLATCH), a
  2373  0980  7c                	ld	a, h
  2374  0981  e63f              	and	a,0x3f
  2375  0983  f640              	or	a,0x40
  2376  0985  d3a1              	out	(_IO_VDPLATCH), a
  2377  0987  010000            	ld	bc,0x0000
  2378                          l_vdp_loadASCIIFont_00104:
  2379  098a  78                	ld	a, b
  2380  098b  d603              	sub	a,0x03
  2381  098d  d0                	ret	NC
  2382  098e  210200            	ld	hl,2
  2383  0991  39                	add	hl, sp
  2384  0992  7e                	ld	a, (hl)
  2385  0993  23                	inc	hl
  2386  0994  66                	ld	h, (hl)
  2387  0995  6f                	ld	l, a
  2388  0996  09                	add	hl, bc
  2389  0997  7e                	ld	a, (hl)
  2390  0998  d3a0              	out	(_IO_VDPDATA), a
  2391  099a  03                	inc	bc
  2392  099b  18ed              	jr	l_vdp_loadASCIIFont_00104
  2393                          	SECTION code_compiler
  2394                          ;	---------------------------------
  2395                          ; Function vdp_putPattern
  2396                          ; ---------------------------------
  2397                          _vdp_putPattern:
  2398  099d  dde5              	push	ix
  2399  099f  dd210000          	ld	ix,0
  2400  09a3  dd39              	add	ix,sp
  2401  09a5  3acd08            	ld	a, (__vdpCursorMaxX+0)
  2402  09a8  0600              	ld	b,0x00
  2403  09aa  4f                	ld	c, a
  2404  09ab  03                	inc	bc
  2405  09ac  dd5e05            	ld	e,(ix+5)
  2406  09af  1600              	ld	d,0x00
  2407  09b1  c5                	push	bc
  2408  09b2  d5                	push	de
  2409  09b3  cd0000            	call	__mulint_callee
  2410  09b6  dd4e04            	ld	c,(ix+4)
  2411  09b9  0600              	ld	b,0x00
  2412  09bb  09                	add	hl, bc
  2413  09bc  eb                	ex	de, hl
  2414  09bd  2ac708            	ld	hl, (__vdpPatternNameTableAddr)
  2415  09c0  19                	add	hl, de
  2416  09c1  7d                	ld	a, l
  2417  09c2  d3a1              	out	(_IO_VDPLATCH), a
  2418  09c4  7c                	ld	a, h
  2419  09c5  e63f              	and	a,0x3f
  2420  09c7  f640              	or	a,0x40
  2421  09c9  d3a1              	out	(_IO_VDPLATCH), a
  2422  09cb  dd7e06            	ld	a,(ix+6)
  2423  09ce  d3a0              	out	(_IO_VDPDATA), a
  2424  09d0  dde1              	pop	ix
  2425  09d2  c9                	ret
  2426                          	SECTION code_compiler
  2427                          ;	---------------------------------
  2428                          ; Function vdp_loadPatternTable
  2429                          ; ---------------------------------
  2430                          _vdp_loadPatternTable:
  2431  09d3  dde5              	push	ix
  2432  09d5  dd210000          	ld	ix,0
  2433  09d9  dd39              	add	ix,sp
  2434  09db  2acb08            	ld	hl, (__vdpPatternGeneratorTableAddr)
  2435  09de  7d                	ld	a, l
  2436  09df  d3a1              	out	(_IO_VDPLATCH), a
  2437  09e1  7c                	ld	a, h
  2438  09e2  e63f              	and	a,0x3f
  2439  09e4  f640              	or	a,0x40
  2440  09e6  d3a1              	out	(_IO_VDPLATCH), a
  2441  09e8  010000            	ld	bc,0x0000
  2442                          l_vdp_loadPatternTable_00106:
  2443  09eb  79                	ld	a, c
  2444  09ec  dd9606            	sub	a,(ix+6)
  2445  09ef  78                	ld	a, b
  2446  09f0  dd9e07            	sbc	a,(ix+7)
  2447  09f3  300d              	jr	NC,l_vdp_loadPatternTable_00101
  2448  09f5  dd6e04            	ld	l,(ix+4)
  2449  09f8  dd6605            	ld	h,(ix+5)
  2450  09fb  09                	add	hl, bc
  2451  09fc  7e                	ld	a, (hl)
  2452  09fd  d3a0              	out	(_IO_VDPDATA), a
  2453  09ff  03                	inc	bc
  2454  0a00  18e9              	jr	l_vdp_loadPatternTable_00106
  2455                          l_vdp_loadPatternTable_00101:
  2456  0a02  010000            	ld	bc,0x0000
  2457                          l_vdp_loadPatternTable_00109:
  2458  0a05  79                	ld	a, c
  2459  0a06  dd9606            	sub	a,(ix+6)
  2460  0a09  78                	ld	a, b
  2461  0a0a  dd9e07            	sbc	a,(ix+7)
  2462  0a0d  300d              	jr	NC,l_vdp_loadPatternTable_00102
  2463  0a0f  dd6e04            	ld	l,(ix+4)
  2464  0a12  dd6605            	ld	h,(ix+5)
  2465  0a15  09                	add	hl, bc
  2466  0a16  7e                	ld	a, (hl)
  2467  0a17  d3a0              	out	(_IO_VDPDATA), a
  2468  0a19  03                	inc	bc
  2469  0a1a  18e9              	jr	l_vdp_loadPatternTable_00109
  2470                          l_vdp_loadPatternTable_00102:
  2471  0a1c  010000            	ld	bc,0x0000
  2472                          l_vdp_loadPatternTable_00112:
  2473  0a1f  79                	ld	a, c
  2474  0a20  dd9606            	sub	a,(ix+6)
  2475  0a23  78                	ld	a, b
  2476  0a24  dd9e07            	sbc	a,(ix+7)
  2477  0a27  300d              	jr	NC,l_vdp_loadPatternTable_00114
  2478  0a29  dd6e04            	ld	l,(ix+4)
  2479  0a2c  dd6605            	ld	h,(ix+5)
  2480  0a2f  09                	add	hl, bc
  2481  0a30  7e                	ld	a, (hl)
  2482  0a31  d3a0              	out	(_IO_VDPDATA), a
  2483  0a33  03                	inc	bc
  2484  0a34  18e9              	jr	l_vdp_loadPatternTable_00112
  2485                          l_vdp_loadPatternTable_00114:
  2486  0a36  dde1              	pop	ix
  2487  0a38  c9                	ret
  2488                          	SECTION code_compiler
  2489                          ;	---------------------------------
  2490                          ; Function vdp_loadColorTable
  2491                          ; ---------------------------------
  2492                          _vdp_loadColorTable:
  2493  0a39  dde5              	push	ix
  2494  0a3b  dd210000          	ld	ix,0
  2495  0a3f  dd39              	add	ix,sp
  2496  0a41  2ac908            	ld	hl, (__vdpColorTableAddr)
  2497  0a44  7d                	ld	a, l
  2498  0a45  d3a1              	out	(_IO_VDPLATCH), a
  2499  0a47  7c                	ld	a, h
  2500  0a48  e63f              	and	a,0x3f
  2501  0a4a  f640              	or	a,0x40
  2502  0a4c  d3a1              	out	(_IO_VDPLATCH), a
  2503  0a4e  010000            	ld	bc,0x0000
  2504                          l_vdp_loadColorTable_00106:
  2505  0a51  79                	ld	a, c
  2506  0a52  dd9606            	sub	a,(ix+6)
  2507  0a55  78                	ld	a, b
  2508  0a56  dd9e07            	sbc	a,(ix+7)
  2509  0a59  300d              	jr	NC,l_vdp_loadColorTable_00101
  2510  0a5b  dd6e04            	ld	l,(ix+4)
  2511  0a5e  dd6605            	ld	h,(ix+5)
  2512  0a61  09                	add	hl, bc
  2513  0a62  7e                	ld	a, (hl)
  2514  0a63  d3a0              	out	(_IO_VDPDATA), a
  2515  0a65  03                	inc	bc
  2516  0a66  18e9              	jr	l_vdp_loadColorTable_00106
  2517                          l_vdp_loadColorTable_00101:
  2518  0a68  010000            	ld	bc,0x0000
  2519                          l_vdp_loadColorTable_00109:
  2520  0a6b  79                	ld	a, c
  2521  0a6c  dd9606            	sub	a,(ix+6)
  2522  0a6f  78                	ld	a, b
  2523  0a70  dd9e07            	sbc	a,(ix+7)
  2524  0a73  300d              	jr	NC,l_vdp_loadColorTable_00102
  2525  0a75  dd6e04            	ld	l,(ix+4)
  2526  0a78  dd6605            	ld	h,(ix+5)
  2527  0a7b  09                	add	hl, bc
  2528  0a7c  7e                	ld	a, (hl)
  2529  0a7d  d3a0              	out	(_IO_VDPDATA), a
  2530  0a7f  03                	inc	bc
  2531  0a80  18e9              	jr	l_vdp_loadColorTable_00109
  2532                          l_vdp_loadColorTable_00102:
  2533  0a82  010000            	ld	bc,0x0000
  2534                          l_vdp_loadColorTable_00112:
  2535  0a85  79                	ld	a, c
  2536  0a86  dd9606            	sub	a,(ix+6)
  2537  0a89  78                	ld	a, b
  2538  0a8a  dd9e07            	sbc	a,(ix+7)
  2539  0a8d  300d              	jr	NC,l_vdp_loadColorTable_00114
  2540  0a8f  dd6e04            	ld	l,(ix+4)
  2541  0a92  dd6605            	ld	h,(ix+5)
  2542  0a95  09                	add	hl, bc
  2543  0a96  7e                	ld	a, (hl)
  2544  0a97  d3a0              	out	(_IO_VDPDATA), a
  2545  0a99  03                	inc	bc
  2546  0a9a  18e9              	jr	l_vdp_loadColorTable_00112
  2547                          l_vdp_loadColorTable_00114:
  2548  0a9c  dde1              	pop	ix
  2549  0a9e  c9                	ret
  2550                          	SECTION code_compiler
  2551                          ;	---------------------------------
  2552                          ; Function vdp_colorizeCurrentPattern
  2553                          ; ---------------------------------
  2554                          _vdp_colorizeCurrentPattern:
  2555  0a9f  dde5              	push	ix
  2556  0aa1  dd210000          	ld	ix,0
  2557  0aa5  dd39              	add	ix,sp
  2558  0aa7  212300            	ld	hl,_vdp_cursor + 1
  2559  0aaa  4e                	ld	c, (hl)
  2560  0aab  3acd08            	ld	a, (__vdpCursorMaxX+0)
  2561  0aae  5f                	ld	e, a
  2562  0aaf  1600              	ld	d,0x00
  2563  0ab1  13                	inc	de
  2564  0ab2  0600              	ld	b,0x00
  2565  0ab4  d5                	push	de
  2566  0ab5  c5                	push	bc
  2567  0ab6  cd0000            	call	__mulint_callee
  2568  0ab9  eb                	ex	de, hl
  2569  0aba  3a2200            	ld	a, (_vdp_cursor + 0)
  2570  0abd  6f                	ld	l, a
  2571  0abe  2600              	ld	h,0x00
  2572  0ac0  19                	add	hl, de
  2573  0ac1  29                	add	hl, hl
  2574  0ac2  29                	add	hl, hl
  2575  0ac3  29                	add	hl, hl
  2576  0ac4  4d                	ld	c, l
  2577  0ac5  44                	ld	b, h
  2578  0ac6  2ac908            	ld	hl, (__vdpColorTableAddr)
  2579  0ac9  09                	add	hl, bc
  2580  0aca  7d                	ld	a, l
  2581  0acb  d3a1              	out	(_IO_VDPLATCH), a
  2582  0acd  7c                	ld	a, h
  2583  0ace  e63f              	and	a,0x3f
  2584  0ad0  f640              	or	a,0x40
  2585  0ad2  d3a1              	out	(_IO_VDPLATCH), a
  2586  0ad4  0e00              	ld	c,0x00
  2587                          l_vdp_colorizeCurrentPattern_00104:
  2588  0ad6  79                	ld	a, c
  2589  0ad7  d608              	sub	a,0x08
  2590  0ad9  3010              	jr	NC,l_vdp_colorizeCurrentPattern_00106
  2591  0adb  dd7e04            	ld	a,(ix+4)
  2592  0ade  87                	add	a, a
  2593  0adf  87                	add	a, a
  2594  0ae0  87                	add	a, a
  2595  0ae1  87                	add	a, a
  2596  0ae2  dd4605            	ld	b,(ix+5)
  2597  0ae5  80                	add	a, b
  2598  0ae6  d3a0              	out	(_IO_VDPDATA), a
  2599  0ae8  0c                	inc	c
  2600  0ae9  18eb              	jr	l_vdp_colorizeCurrentPattern_00104
  2601                          l_vdp_colorizeCurrentPattern_00106:
  2602  0aeb  dde1              	pop	ix
  2603  0aed  c9                	ret
  2604                          	SECTION code_compiler
  2605                          ;	---------------------------------
  2606                          ; Function vdp_colorizePattern
  2607                          ; ---------------------------------
  2608                          _vdp_colorizePattern:
  2609  0aee  dde5              	push	ix
  2610  0af0  dd210000          	ld	ix,0
  2611  0af4  dd39              	add	ix,sp
  2612  0af6  3acd08            	ld	a, (__vdpCursorMaxX+0)
  2613  0af9  1600              	ld	d,0x00
  2614  0afb  5f                	ld	e, a
  2615  0afc  13                	inc	de
  2616  0afd  dd4e04            	ld	c,(ix+4)
  2617  0b00  0600              	ld	b,0x00
  2618  0b02  d5                	push	de
  2619  0b03  c5                	push	bc
  2620  0b04  cd0000            	call	__mulint_callee
  2621  0b07  dd4e05            	ld	c,(ix+5)
  2622  0b0a  0600              	ld	b,0x00
  2623  0b0c  09                	add	hl, bc
  2624  0b0d  29                	add	hl, hl
  2625  0b0e  29                	add	hl, hl
  2626  0b0f  29                	add	hl, hl
  2627  0b10  4d                	ld	c, l
  2628  0b11  44                	ld	b, h
  2629  0b12  2ac908            	ld	hl, (__vdpColorTableAddr)
  2630  0b15  09                	add	hl, bc
  2631  0b16  7d                	ld	a, l
  2632  0b17  d3a1              	out	(_IO_VDPLATCH), a
  2633  0b19  7c                	ld	a, h
  2634  0b1a  e63f              	and	a,0x3f
  2635  0b1c  f640              	or	a,0x40
  2636  0b1e  d3a1              	out	(_IO_VDPLATCH), a
  2637  0b20  0e00              	ld	c,0x00
  2638                          l_vdp_colorizePattern_00104:
  2639  0b22  79                	ld	a, c
  2640  0b23  d608              	sub	a,0x08
  2641  0b25  3010              	jr	NC,l_vdp_colorizePattern_00106
  2642  0b27  dd7e06            	ld	a,(ix+6)
  2643  0b2a  87                	add	a, a
  2644  0b2b  87                	add	a, a
  2645  0b2c  87                	add	a, a
  2646  0b2d  87                	add	a, a
  2647  0b2e  dd4607            	ld	b,(ix+7)
  2648  0b31  80                	add	a, b
  2649  0b32  d3a0              	out	(_IO_VDPDATA), a
  2650  0b34  0c                	inc	c
  2651  0b35  18eb              	jr	l_vdp_colorizePattern_00104
  2652                          l_vdp_colorizePattern_00106:
  2653  0b37  dde1              	pop	ix
  2654  0b39  c9                	ret
  2655                          	SECTION code_compiler
  2656                          ;	---------------------------------
  2657                          ; Function vdp_plotHires
  2658                          ; ---------------------------------
  2659                          _vdp_plotHires:
  2660  0b3a  dde5              	push	ix
  2661  0b3c  dd210000          	ld	ix,0
  2662  0b40  dd39              	add	ix,sp
  2663  0b42  21fbff            	ld	hl, -5
  2664  0b45  39                	add	hl, sp
  2665  0b46  f9                	ld	sp, hl
  2666  0b47  dd7e04            	ld	a,(ix+4)
  2667  0b4a  dd77fb            	ld	(ix-5),a
  2668  0b4d  dd36fc00          	ld	(ix-4),0x00
  2669  0b51  e1                	pop	hl
  2670  0b52  e5                	push	hl
  2671  0b53  ddcbfc7e          	bit	7,(ix-4)
  2672  0b57  2806              	jr	Z,l_vdp_plotHires_00110
  2673  0b59  e1                	pop	hl
  2674  0b5a  e5                	push	hl
  2675  0b5b  110700            	ld	de,0x0007
  2676  0b5e  19                	add	hl, de
  2677                          l_vdp_plotHires_00110:
  2678  0b5f  cb2c              	sra	h
  2679  0b61  cb1d              	rr	l
  2680  0b63  cb2c              	sra	h
  2681  0b65  cb1d              	rr	l
  2682  0b67  cb2c              	sra	h
  2683  0b69  cb1d              	rr	l
  2684  0b6b  29                	add	hl, hl
  2685  0b6c  29                	add	hl, hl
  2686  0b6d  29                	add	hl, hl
  2687  0b6e  dd4e05            	ld	c,(ix+5)
  2688  0b71  0600              	ld	b,0x00
  2689  0b73  79                	ld	a, c
  2690  0b74  e607              	and	a,0x07
  2691  0b76  5f                	ld	e, a
  2692  0b77  1600              	ld	d,0x00
  2693  0b79  19                	add	hl, de
  2694  0b7a  eb                	ex	de, hl
  2695  0b7b  69                	ld	l, c
  2696  0b7c  60                	ld	h, b
  2697  0b7d  cb78              	bit	7, b
  2698  0b7f  2804              	jr	Z,l_vdp_plotHires_00111
  2699  0b81  210700            	ld	hl,0x0007
  2700  0b84  09                	add	hl, bc
  2701                          l_vdp_plotHires_00111:
  2702  0b85  cb2c              	sra	h
  2703  0b87  cb1d              	rr	l
  2704  0b89  cb2c              	sra	h
  2705  0b8b  cb1d              	rr	l
  2706  0b8d  cb2c              	sra	h
  2707  0b8f  cb1d              	rr	l
  2708  0b91  65                	ld	h, l
  2709  0b92  2e00              	ld	l,0x00
  2710  0b94  19                	add	hl, de
  2711  0b95  eb                	ex	de, hl
  2712  0b96  3acb08            	ld	a, (__vdpPatternGeneratorTableAddr+0)
  2713  0b99  83                	add	a, e
  2714  0b9a  4f                	ld	c, a
  2715  0b9b  3acc08            	ld	a, (__vdpPatternGeneratorTableAddr+1)
  2716  0b9e  8a                	adc	a, d
  2717  0b9f  47                	ld	b, a
  2718  0ba0  79                	ld	a, c
  2719  0ba1  68                	ld	l, b
  2720  0ba2  d3a1              	out	(_IO_VDPLATCH), a
  2721  0ba4  7d                	ld	a, l
  2722  0ba5  e63f              	and	a,0x3f
  2723  0ba7  d3a1              	out	(_IO_VDPLATCH), a
  2724  0ba9  dba0              	in	a, (_IO_VDPDATA)
  2725  0bab  dd77fd            	ld	(ix-3),a
  2726  0bae  3ac908            	ld	a, (__vdpColorTableAddr+0)
  2727  0bb1  83                	add	a, e
  2728  0bb2  dd77fe            	ld	(ix-2),a
  2729  0bb5  3aca08            	ld	a, (__vdpColorTableAddr+1)
  2730  0bb8  8a                	adc	a, d
  2731  0bb9  dd77ff            	ld	(ix-1),a
  2732  0bbc  dd7efe            	ld	a,(ix-2)
  2733  0bbf  dd5eff            	ld	e,(ix-1)
  2734  0bc2  d3a1              	out	(_IO_VDPLATCH), a
  2735  0bc4  7b                	ld	a, e
  2736  0bc5  e63f              	and	a,0x3f
  2737  0bc7  d3a1              	out	(_IO_VDPLATCH), a
  2738  0bc9  dba0              	in	a, (_IO_VDPDATA)
  2739  0bcb  6f                	ld	l, a
  2740  0bcc  dd7efb            	ld	a,(ix-5)
  2741  0bcf  e607              	and	a,0x07
  2742  0bd1  f5                	push	af
  2743  0bd2  118000            	ld	de,0x0080
  2744  0bd5  f1                	pop	af
  2745  0bd6  3c                	inc	a
  2746  0bd7  1804              	jr	l_vdp_plotHires_00128
  2747                          l_vdp_plotHires_00127:
  2748  0bd9  cb2a              	sra	d
  2749  0bdb  cb1b              	rr	e
  2750                          l_vdp_plotHires_00128:
  2751  0bdd  3d                	dec	a
  2752  0bde  20f9              	jr	NZ, l_vdp_plotHires_00127
  2753  0be0  dd7e06            	ld	a,(ix+6)
  2754  0be3  b7                	or	a, a
  2755  0be4  2814              	jr	Z,l_vdp_plotHires_00102
  2756  0be6  7b                	ld	a, e
  2757  0be7  ddb6fd            	or	a,(ix-3)
  2758  0bea  5f                	ld	e, a
  2759  0beb  7d                	ld	a, l
  2760  0bec  e60f              	and	a,0x0f
  2761  0bee  6f                	ld	l, a
  2762  0bef  dd7e06            	ld	a,(ix+6)
  2763  0bf2  87                	add	a, a
  2764  0bf3  87                	add	a, a
  2765  0bf4  87                	add	a, a
  2766  0bf5  87                	add	a, a
  2767  0bf6  b5                	or	a, l
  2768  0bf7  6f                	ld	l, a
  2769  0bf8  1811              	jr	l_vdp_plotHires_00103
  2770                          l_vdp_plotHires_00102:
  2771  0bfa  7b                	ld	a, e
  2772  0bfb  2f                	cpl
  2773  0bfc  dda6fd            	and	a,(ix-3)
  2774  0bff  5f                	ld	e, a
  2775  0c00  7d                	ld	a, l
  2776  0c01  e6f0              	and	a,0xf0
  2777  0c03  57                	ld	d, a
  2778  0c04  dd7e07            	ld	a,(ix+7)
  2779  0c07  e60f              	and	a,0x0f
  2780  0c09  b2                	or	a, d
  2781  0c0a  6f                	ld	l, a
  2782                          l_vdp_plotHires_00103:
  2783  0c0b  79                	ld	a, c
  2784  0c0c  d3a1              	out	(_IO_VDPLATCH), a
  2785  0c0e  78                	ld	a, b
  2786  0c0f  e63f              	and	a,0x3f
  2787  0c11  f640              	or	a,0x40
  2788  0c13  d3a1              	out	(_IO_VDPLATCH), a
  2789  0c15  7b                	ld	a, e
  2790  0c16  d3a0              	out	(_IO_VDPDATA), a
  2791  0c18  dd7efe            	ld	a,(ix-2)
  2792  0c1b  d3a1              	out	(_IO_VDPLATCH), a
  2793  0c1d  dd7eff            	ld	a,(ix-1)
  2794  0c20  e63f              	and	a,0x3f
  2795  0c22  f640              	or	a,0x40
  2796  0c24  d3a1              	out	(_IO_VDPLATCH), a
  2797  0c26  7d                	ld	a, l
  2798  0c27  d3a0              	out	(_IO_VDPDATA), a
  2799  0c29  ddf9              	ld	sp, ix
  2800  0c2b  dde1              	pop	ix
  2801  0c2d  c9                	ret
  2802                          	SECTION code_compiler
  2803                          ;	---------------------------------
  2804                          ; Function vdp_plotColor
  2805                          ; ---------------------------------
  2806                          _vdp_plotColor:
  2807  0c2e  dde5              	push	ix
  2808  0c30  dd210000          	ld	ix,0
  2809  0c34  dd39              	add	ix,sp
  2810  0c36  21f4ff            	ld	hl, -12
  2811  0c39  39                	add	hl, sp
  2812  0c3a  f9                	ld	sp, hl
  2813  0c3b  dd7e04            	ld	a,(ix+4)
  2814  0c3e  dd77f4            	ld	(ix-12),a
  2815  0c41  dd36f500          	ld	(ix-11),0x00
  2816  0c45  dd7e05            	ld	a,(ix+5)
  2817  0c48  dd77f6            	ld	(ix-10),a
  2818  0c4b  dd36f700          	ld	(ix-9),0x00
  2819  0c4f  dd7ef5            	ld	a,(ix-11)
  2820  0c52  07                	rlca
  2821  0c53  e601              	and	a,0x01
  2822  0c55  dd77f8            	ld	(ix-8),a
  2823  0c58  dd7ef4            	ld	a,(ix-12)
  2824  0c5b  c601              	add	a,0x01
  2825  0c5d  dd77f9            	ld	(ix-7),a
  2826  0c60  dd7ef5            	ld	a,(ix-11)
  2827  0c63  ce00              	adc	a,0x00
  2828  0c65  dd77fa            	ld	(ix-6),a
  2829  0c68  dd7ef6            	ld	a,(ix-10)
  2830  0c6b  e607              	and	a,0x07
  2831  0c6d  dd77fb            	ld	(ix-5),a
  2832  0c70  dd36fc00          	ld	(ix-4),0x00
  2833  0c74  dd7ef7            	ld	a,(ix-9)
  2834  0c77  07                	rlca
  2835  0c78  e601              	and	a,0x01
  2836  0c7a  dd77fd            	ld	(ix-3),a
  2837  0c7d  dd7ef6            	ld	a,(ix-10)
  2838  0c80  c607              	add	a,0x07
  2839  0c82  dd77fe            	ld	(ix-2),a
  2840  0c85  dd7ef7            	ld	a,(ix-9)
  2841  0c88  ce00              	adc	a,0x00
  2842  0c8a  dd77ff            	ld	(ix-1),a
  2843  0c8d  3ace08            	ld	a, (__vdpMode+0)
  2844  0c90  d602              	sub	a,0x02
  2845  0c92  207c              	jr	NZ,l_vdp_plotColor_00110
  2846  0c94  e1                	pop	hl
  2847  0c95  e5                	push	hl
  2848  0c96  dd7ef8            	ld	a,(ix-8)
  2849  0c99  b7                	or	a, a
  2850  0c9a  2806              	jr	Z,l_vdp_plotColor_00119
  2851  0c9c  dd6ef9            	ld	l,(ix-7)
  2852  0c9f  dd66fa            	ld	h,(ix-6)
  2853                          l_vdp_plotColor_00119:
  2854  0ca2  cb2c              	sra	h
  2855  0ca4  cb1d              	rr	l
  2856  0ca6  29                	add	hl, hl
  2857  0ca7  29                	add	hl, hl
  2858  0ca8  29                	add	hl, hl
  2859  0ca9  eb                	ex	de, hl
  2860  0caa  2acb08            	ld	hl, (__vdpPatternGeneratorTableAddr)
  2861  0cad  19                	add	hl, de
  2862  0cae  dd4efb            	ld	c,(ix-5)
  2863  0cb1  dd46fc            	ld	b,(ix-4)
  2864  0cb4  09                	add	hl, bc
  2865  0cb5  d1                	pop	de
  2866  0cb6  c1                	pop	bc
  2867  0cb7  c5                	push	bc
  2868  0cb8  d5                	push	de
  2869  0cb9  dd7efd            	ld	a,(ix-3)
  2870  0cbc  b7                	or	a, a
  2871  0cbd  2806              	jr	Z,l_vdp_plotColor_00120
  2872  0cbf  dd4efe            	ld	c,(ix-2)
  2873  0cc2  dd46ff            	ld	b,(ix-1)
  2874                          l_vdp_plotColor_00120:
  2875  0cc5  cb28              	sra	b
  2876  0cc7  cb19              	rr	c
  2877  0cc9  cb28              	sra	b
  2878  0ccb  cb19              	rr	c
  2879  0ccd  cb28              	sra	b
  2880  0ccf  cb19              	rr	c
  2881  0cd1  41                	ld	b, c
  2882  0cd2  0e00              	ld	c,0x00
  2883  0cd4  09                	add	hl, bc
  2884  0cd5  5d                	ld	e, l
  2885  0cd6  7b                	ld	a, e
  2886  0cd7  d3a1              	out	(_IO_VDPLATCH), a
  2887  0cd9  7c                	ld	a, h
  2888  0cda  e63f              	and	a,0x3f
  2889  0cdc  4f                	ld	c,a
  2890  0cdd  d3a1              	out	(_IO_VDPLATCH), a
  2891  0cdf  dba0              	in	a, (_IO_VDPDATA)
  2892  0ce1  47                	ld	b, a
  2893  0ce2  7b                	ld	a, e
  2894  0ce3  d3a1              	out	(_IO_VDPLATCH), a
  2895  0ce5  79                	ld	a, c
  2896  0ce6  f640              	or	a,0x40
  2897  0ce8  d3a1              	out	(_IO_VDPLATCH), a
  2898  0cea  dd4e04            	ld	c,(ix+4)
  2899  0ced  78                	ld	a, b
  2900  0cee  cb41              	bit	0, c
  2901  0cf0  280e              	jr	Z,l_vdp_plotColor_00102
  2902  0cf2  e6f0              	and	a,0xf0
  2903  0cf4  4f                	ld	c, a
  2904  0cf5  dd7e06            	ld	a,(ix+6)
  2905  0cf8  e60f              	and	a,0x0f
  2906  0cfa  81                	add	a, c
  2907  0cfb  d3a0              	out	(_IO_VDPDATA), a
  2908  0cfd  c3e00d            	jp	l_vdp_plotColor_00117
  2909                          l_vdp_plotColor_00102:
  2910  0d00  e60f              	and	a,0x0f
  2911  0d02  4f                	ld	c, a
  2912  0d03  dd7e06            	ld	a,(ix+6)
  2913  0d06  87                	add	a, a
  2914  0d07  87                	add	a, a
  2915  0d08  87                	add	a, a
  2916  0d09  87                	add	a, a
  2917  0d0a  81                	add	a, c
  2918  0d0b  d3a0              	out	(_IO_VDPDATA), a
  2919  0d0d  c3e00d            	jp	l_vdp_plotColor_00117
  2920                          l_vdp_plotColor_00110:
  2921  0d10  3ace08            	ld	a, (__vdpMode+0)
  2922  0d13  3d                	dec	a
  2923  0d14  c2e00d            	jp	NZ,l_vdp_plotColor_00117
  2924  0d17  e1                	pop	hl
  2925  0d18  e5                	push	hl
  2926  0d19  dd7ef8            	ld	a,(ix-8)
  2927  0d1c  b7                	or	a, a
  2928  0d1d  2806              	jr	Z,l_vdp_plotColor_00121
  2929  0d1f  dd6ef9            	ld	l,(ix-7)
  2930  0d22  dd66fa            	ld	h,(ix-6)
  2931                          l_vdp_plotColor_00121:
  2932  0d25  cb2c              	sra	h
  2933  0d27  cb1d              	rr	l
  2934  0d29  29                	add	hl, hl
  2935  0d2a  29                	add	hl, hl
  2936  0d2b  29                	add	hl, hl
  2937  0d2c  dd5efb            	ld	e,(ix-5)
  2938  0d2f  dd56fc            	ld	d,(ix-4)
  2939  0d32  19                	add	hl, de
  2940  0d33  dd5ef6            	ld	e,(ix-10)
  2941  0d36  dd56f7            	ld	d,(ix-9)
  2942  0d39  dd7efd            	ld	a,(ix-3)
  2943  0d3c  b7                	or	a, a
  2944  0d3d  2806              	jr	Z,l_vdp_plotColor_00122
  2945  0d3f  dd5efe            	ld	e,(ix-2)
  2946  0d42  dd56ff            	ld	d,(ix-1)
  2947                          l_vdp_plotColor_00122:
  2948  0d45  cb2a              	sra	d
  2949  0d47  cb1b              	rr	e
  2950  0d49  cb2a              	sra	d
  2951  0d4b  cb1b              	rr	e
  2952  0d4d  cb2a              	sra	d
  2953  0d4f  cb1b              	rr	e
  2954  0d51  43                	ld	b, e
  2955  0d52  0e00              	ld	c,0x00
  2956  0d54  09                	add	hl, bc
  2957  0d55  dd75fa            	ld	(ix-6),l
  2958  0d58  dd74fb            	ld	(ix-5),h
  2959  0d5b  3ac908            	ld	a, (__vdpColorTableAddr+0)
  2960  0d5e  dd86fa            	add	a,(ix-6)
  2961  0d61  dd77fc            	ld	(ix-4),a
  2962  0d64  3aca08            	ld	a, (__vdpColorTableAddr+1)
  2963  0d67  dd8efb            	adc	a,(ix-5)
  2964  0d6a  dd77fd            	ld	(ix-3),a
  2965  0d6d  dd7efc            	ld	a,(ix-4)
  2966  0d70  dd4efd            	ld	c,(ix-3)
  2967  0d73  d3a1              	out	(_IO_VDPLATCH), a
  2968  0d75  79                	ld	a, c
  2969  0d76  e63f              	and	a,0x3f
  2970  0d78  d3a1              	out	(_IO_VDPLATCH), a
  2971  0d7a  dba0              	in	a, (_IO_VDPDATA)
  2972  0d7c  dd77ff            	ld	(ix-1),a
  2973  0d7f  dd7e04            	ld	a,(ix+4)
  2974  0d82  0f                	rrca
  2975  0d83  3813              	jr	C,l_vdp_plotColor_00105
  2976  0d85  dd7eff            	ld	a,(ix-1)
  2977  0d88  e60f              	and	a,0x0f
  2978  0d8a  4f                	ld	c, a
  2979  0d8b  dd7e06            	ld	a,(ix+6)
  2980  0d8e  87                	add	a, a
  2981  0d8f  87                	add	a, a
  2982  0d90  87                	add	a, a
  2983  0d91  87                	add	a, a
  2984  0d92  b1                	or	a, c
  2985  0d93  dd77ff            	ld	(ix-1),a
  2986  0d96  1819              	jr	l_vdp_plotColor_00106
  2987                          l_vdp_plotColor_00105:
  2988  0d98  dd7eff            	ld	a,(ix-1)
  2989  0d9b  e6f0              	and	a,0xf0
  2990  0d9d  dd77fe            	ld	(ix-2),a
  2991  0da0  dd7e06            	ld	a,(ix+6)
  2992  0da3  dd77ff            	ld	(ix-1),a
  2993  0da6  e60f              	and	a,0x0f
  2994  0da8  dd77ff            	ld	(ix-1),a
  2995  0dab  ddb6fe            	or	a,(ix-2)
  2996  0dae  dd77ff            	ld	(ix-1),a
  2997                          l_vdp_plotColor_00106:
  2998  0db1  3acb08            	ld	a, (__vdpPatternGeneratorTableAddr+0)
  2999  0db4  dd86fa            	add	a,(ix-6)
  3000  0db7  47                	ld	b, a
  3001  0db8  3acc08            	ld	a, (__vdpPatternGeneratorTableAddr+1)
  3002  0dbb  dd8efb            	adc	a,(ix-5)
  3003  0dbe  4f                	ld	c, a
  3004  0dbf  78                	ld	a, b
  3005  0dc0  d3a1              	out	(_IO_VDPLATCH), a
  3006  0dc2  79                	ld	a, c
  3007  0dc3  e63f              	and	a,0x3f
  3008  0dc5  f640              	or	a,0x40
  3009  0dc7  d3a1              	out	(_IO_VDPLATCH), a
  3010  0dc9  3ef0              	ld	a,0xf0
  3011  0dcb  d3a0              	out	(_IO_VDPDATA), a
  3012  0dcd  dd7efc            	ld	a,(ix-4)
  3013  0dd0  d3a1              	out	(_IO_VDPLATCH), a
  3014  0dd2  dd7efd            	ld	a,(ix-3)
  3015  0dd5  e63f              	and	a,0x3f
  3016  0dd7  f640              	or	a,0x40
  3017  0dd9  d3a1              	out	(_IO_VDPLATCH), a
  3018  0ddb  dd7eff            	ld	a,(ix-1)
  3019  0dde  d3a0              	out	(_IO_VDPDATA), a
  3020                          l_vdp_plotColor_00117:
  3021  0de0  ddf9              	ld	sp, ix
  3022  0de2  dde1              	pop	ix
  3023  0de4  c9                	ret
  3024                          	SECTION code_compiler
  3025                          ;	---------------------------------
  3026                          ; Function vdp_disableSprite
  3027                          ; ---------------------------------
  3028                          _vdp_disableSprite:
  3029  0de5  fd210200          	ld	iy,2
  3030  0de9  fd39              	add	iy, sp
  3031  0deb  fd6e00            	ld	l,(iy+0)
  3032  0dee  2600              	ld	h,0x00
  3033  0df0  29                	add	hl, hl
  3034  0df1  29                	add	hl, hl
  3035  0df2  eb                	ex	de, hl
  3036  0df3  2ac208            	ld	hl, (__vdpSpriteAttributeTableAddr)
  3037  0df6  19                	add	hl, de
  3038  0df7  7d                	ld	a, l
  3039  0df8  d3a1              	out	(_IO_VDPLATCH), a
  3040  0dfa  7c                	ld	a, h
  3041  0dfb  e63f              	and	a,0x3f
  3042  0dfd  f640              	or	a,0x40
  3043  0dff  d3a1              	out	(_IO_VDPLATCH), a
  3044  0e01  3ec0              	ld	a,0xc0
  3045  0e03  d3a0              	out	(_IO_VDPDATA), a
  3046  0e05  3e00              	ld	a,0x00
  3047  0e07  d3a0              	out	(_IO_VDPDATA), a
  3048  0e09  3e00              	ld	a,0x00
  3049  0e0b  d3a0              	out	(_IO_VDPDATA), a
  3050  0e0d  3e80              	ld	a,0x80
  3051  0e0f  d3a0              	out	(_IO_VDPDATA), a
  3052  0e11  c9                	ret
  3053                          	SECTION code_compiler
  3054                          ;	---------------------------------
  3055                          ; Function vdp_loadSpritePatternNameTable
  3056                          ; ---------------------------------
  3057                          _vdp_loadSpritePatternNameTable:
  3058  0e12  dde5              	push	ix
  3059  0e14  dd210000          	ld	ix,0
  3060  0e18  dd39              	add	ix,sp
  3061  0e1a  0600              	ld	b,0x00
  3062                          l_vdp_loadSpritePatternNameTable_00110:
  3063  0e1c  78                	ld	a, b
  3064  0e1d  d620              	sub	a,0x20
  3065  0e1f  300b              	jr	NC,l_vdp_loadSpritePatternNameTable_00101
  3066  0e21  c5                	push	bc
  3067  0e22  c5                	push	bc
  3068  0e23  33                	inc	sp
  3069  0e24  cde50d            	call	_vdp_disableSprite
  3070  0e27  33                	inc	sp
  3071  0e28  c1                	pop	bc
  3072  0e29  04                	inc	b
  3073  0e2a  18f0              	jr	l_vdp_loadSpritePatternNameTable_00110
  3074                          l_vdp_loadSpritePatternNameTable_00101:
  3075  0e2c  ed4bc408          	ld	bc, (__vdpSpriteGeneratorTableAddr)
  3076  0e30  59                	ld	e, c
  3077  0e31  3ac608            	ld	a, (__vdpSpriteSizeSelected+0)
  3078  0e34  b7                	or	a, a
  3079  0e35  282c              	jr	Z,l_vdp_loadSpritePatternNameTable_00105
  3080  0e37  7b                	ld	a, e
  3081  0e38  d3a1              	out	(_IO_VDPLATCH), a
  3082  0e3a  78                	ld	a, b
  3083  0e3b  e63f              	and	a,0x3f
  3084  0e3d  f640              	or	a,0x40
  3085  0e3f  d3a1              	out	(_IO_VDPLATCH), a
  3086  0e41  dd6e04            	ld	l,(ix+4)
  3087  0e44  dd6605            	ld	h,(ix+5)
  3088  0e47  29                	add	hl, hl
  3089  0e48  29                	add	hl, hl
  3090  0e49  29                	add	hl, hl
  3091  0e4a  29                	add	hl, hl
  3092  0e4b  29                	add	hl, hl
  3093  0e4c  eb                	ex	de,hl
  3094  0e4d  010000            	ld	bc,0x0000
  3095                          l_vdp_loadSpritePatternNameTable_00113:
  3096  0e50  79                	ld	a, c
  3097  0e51  93                	sub	a, e
  3098  0e52  78                	ld	a, b
  3099  0e53  9a                	sbc	a, d
  3100  0e54  3037              	jr	NC,l_vdp_loadSpritePatternNameTable_00118
  3101  0e56  dd6e06            	ld	l,(ix+6)
  3102  0e59  dd6607            	ld	h,(ix+7)
  3103  0e5c  09                	add	hl, bc
  3104  0e5d  7e                	ld	a, (hl)
  3105  0e5e  d3a0              	out	(_IO_VDPDATA), a
  3106  0e60  03                	inc	bc
  3107  0e61  18ed              	jr	l_vdp_loadSpritePatternNameTable_00113
  3108                          l_vdp_loadSpritePatternNameTable_00105:
  3109  0e63  7b                	ld	a, e
  3110  0e64  d3a1              	out	(_IO_VDPLATCH), a
  3111  0e66  78                	ld	a, b
  3112  0e67  e63f              	and	a,0x3f
  3113  0e69  f640              	or	a,0x40
  3114  0e6b  d3a1              	out	(_IO_VDPLATCH), a
  3115  0e6d  dd6e04            	ld	l,(ix+4)
  3116  0e70  dd6605            	ld	h,(ix+5)
  3117  0e73  29                	add	hl, hl
  3118  0e74  29                	add	hl, hl
  3119  0e75  29                	add	hl, hl
  3120  0e76  eb                	ex	de,hl
  3121  0e77  010000            	ld	bc,0x0000
  3122                          l_vdp_loadSpritePatternNameTable_00116:
  3123  0e7a  79                	ld	a, c
  3124  0e7b  93                	sub	a, e
  3125  0e7c  78                	ld	a, b
  3126  0e7d  9a                	sbc	a, d
  3127  0e7e  300d              	jr	NC,l_vdp_loadSpritePatternNameTable_00118
  3128  0e80  dd6e06            	ld	l,(ix+6)
  3129  0e83  dd6607            	ld	h,(ix+7)
  3130  0e86  09                	add	hl, bc
  3131  0e87  7e                	ld	a, (hl)
  3132  0e88  d3a0              	out	(_IO_VDPDATA), a
  3133  0e8a  03                	inc	bc
  3134  0e8b  18ed              	jr	l_vdp_loadSpritePatternNameTable_00116
  3135                          l_vdp_loadSpritePatternNameTable_00118:
  3136  0e8d  dde1              	pop	ix
  3137  0e8f  c9                	ret
  3138                          	SECTION code_compiler
  3139                          ;	---------------------------------
  3140                          ; Function vdp_spriteInit
  3141                          ; ---------------------------------
  3142                          _vdp_spriteInit:
  3143  0e90  dde5              	push	ix
  3144  0e92  dd210000          	ld	ix,0
  3145  0e96  dd39              	add	ix,sp
  3146  0e98  dd6e04            	ld	l,(ix+4)
  3147  0e9b  2600              	ld	h,0x00
  3148  0e9d  29                	add	hl, hl
  3149  0e9e  29                	add	hl, hl
  3150  0e9f  eb                	ex	de, hl
  3151  0ea0  2ac208            	ld	hl, (__vdpSpriteAttributeTableAddr)
  3152  0ea3  19                	add	hl, de
  3153  0ea4  7d                	ld	a, l
  3154  0ea5  d3a1              	out	(_IO_VDPLATCH), a
  3155  0ea7  7c                	ld	a, h
  3156  0ea8  e63f              	and	a,0x3f
  3157  0eaa  f640              	or	a,0x40
  3158  0eac  d3a1              	out	(_IO_VDPLATCH), a
  3159  0eae  dd7e07            	ld	a,(ix+7)
  3160  0eb1  d3a0              	out	(_IO_VDPDATA), a
  3161  0eb3  dd7e06            	ld	a,(ix+6)
  3162  0eb6  d3a0              	out	(_IO_VDPDATA), a
  3163  0eb8  dd4e05            	ld	c,(ix+5)
  3164  0ebb  3ac608            	ld	a, (__vdpSpriteSizeSelected+0)
  3165  0ebe  b7                	or	a, a
  3166  0ebf  2807              	jr	Z,l_vdp_spriteInit_00102
  3167  0ec1  79                	ld	a, c
  3168  0ec2  87                	add	a, a
  3169  0ec3  87                	add	a, a
  3170  0ec4  d3a0              	out	(_IO_VDPDATA), a
  3171  0ec6  1803              	jr	l_vdp_spriteInit_00103
  3172                          l_vdp_spriteInit_00102:
  3173  0ec8  79                	ld	a, c
  3174  0ec9  d3a0              	out	(_IO_VDPDATA), a
  3175                          l_vdp_spriteInit_00103:
  3176  0ecb  dd7e08            	ld	a,(ix+8)
  3177  0ece  e60f              	and	a,0x0f
  3178  0ed0  d3a0              	out	(_IO_VDPDATA), a
  3179  0ed2  dd6e04            	ld	l,(ix+4)
  3180  0ed5  dde1              	pop	ix
  3181  0ed7  c9                	ret
  3182                          	SECTION code_compiler
  3183                          ;	---------------------------------
  3184                          ; Function vdp_setSpriteColor
  3185                          ; ---------------------------------
  3186                          _vdp_setSpriteColor:
  3187  0ed8  fd210200          	ld	iy,2
  3188  0edc  fd39              	add	iy, sp
  3189  0ede  fd6e00            	ld	l,(iy+0)
  3190  0ee1  2600              	ld	h,0x00
  3191  0ee3  29                	add	hl, hl
  3192  0ee4  29                	add	hl, hl
  3193  0ee5  eb                	ex	de, hl
  3194  0ee6  2ac208            	ld	hl, (__vdpSpriteAttributeTableAddr)
  3195  0ee9  19                	add	hl, de
  3196  0eea  23                	inc	hl
  3197  0eeb  23                	inc	hl
  3198  0eec  23                	inc	hl
  3199  0eed  7d                	ld	a, l
  3200  0eee  d3a1              	out	(_IO_VDPLATCH), a
  3201  0ef0  7c                	ld	a, h
  3202  0ef1  e63f              	and	a,0x3f
  3203  0ef3  f640              	or	a,0x40
  3204  0ef5  d3a1              	out	(_IO_VDPLATCH), a
  3205  0ef7  fd7e01            	ld	a,(iy+0+1)
  3206  0efa  e60f              	and	a,0x0f
  3207  0efc  d3a0              	out	(_IO_VDPDATA), a
  3208  0efe  c9                	ret
  3209                          	SECTION code_compiler
  3210                          ;	---------------------------------
  3211                          ; Function vdp_setSpritePosition
  3212                          ; ---------------------------------
  3213                          _vdp_setSpritePosition:
  3214  0eff  fd210200          	ld	iy,2
  3215  0f03  fd39              	add	iy, sp
  3216  0f05  fd6e00            	ld	l,(iy+0)
  3217  0f08  2600              	ld	h,0x00
  3218  0f0a  29                	add	hl, hl
  3219  0f0b  29                	add	hl, hl
  3220  0f0c  eb                	ex	de, hl
  3221  0f0d  2ac208            	ld	hl, (__vdpSpriteAttributeTableAddr)
  3222  0f10  19                	add	hl, de
  3223  0f11  7d                	ld	a, l
  3224  0f12  d3a1              	out	(_IO_VDPLATCH), a
  3225  0f14  7c                	ld	a, h
  3226  0f15  e63f              	and	a,0x3f
  3227  0f17  f640              	or	a,0x40
  3228  0f19  d3a1              	out	(_IO_VDPLATCH), a
  3229  0f1b  fd23              	inc	iy
  3230  0f1d  fd23              	inc	iy
  3231  0f1f  fd7e00            	ld	a,(iy+0)
  3232  0f22  d3a0              	out	(_IO_VDPDATA), a
  3233  0f24  fd2b              	dec	iy
  3234  0f26  fd7e00            	ld	a,(iy+0)
  3235  0f29  d3a0              	out	(_IO_VDPDATA), a
  3236  0f2b  c9                	ret
  3237                          	SECTION code_compiler
  3238                          ;	---------------------------------
  3239                          ; Function vdp_setSpritePositionAndColor
  3240                          ; ---------------------------------
  3241                          _vdp_setSpritePositionAndColor:
  3242  0f2c  fd210200          	ld	iy,2
  3243  0f30  fd39              	add	iy, sp
  3244  0f32  fd6e00            	ld	l,(iy+0)
  3245  0f35  2600              	ld	h,0x00
  3246  0f37  29                	add	hl, hl
  3247  0f38  29                	add	hl, hl
  3248  0f39  eb                	ex	de, hl
  3249  0f3a  2ac208            	ld	hl, (__vdpSpriteAttributeTableAddr)
  3250  0f3d  19                	add	hl, de
  3251  0f3e  7d                	ld	a, l
  3252  0f3f  d3a1              	out	(_IO_VDPLATCH), a
  3253  0f41  7c                	ld	a, h
  3254  0f42  e63f              	and	a,0x3f
  3255  0f44  f640              	or	a,0x40
  3256  0f46  d3a1              	out	(_IO_VDPLATCH), a
  3257  0f48  fd23              	inc	iy
  3258  0f4a  fd23              	inc	iy
  3259  0f4c  fd7e00            	ld	a,(iy+0)
  3260  0f4f  d3a0              	out	(_IO_VDPDATA), a
  3261  0f51  fd2b              	dec	iy
  3262  0f53  fd7e00            	ld	a,(iy+0)
  3263  0f56  d3a0              	out	(_IO_VDPDATA), a
  3264  0f58  fd2b              	dec	iy
  3265  0f5a  fd7e00            	ld	a,(iy+0)
  3266  0f5d  d3a0              	out	(_IO_VDPDATA), a
  3267  0f5f  fd7e03            	ld	a,(iy+0+1+1+1)
  3268  0f62  e60f              	and	a,0x0f
  3269  0f64  d3a0              	out	(_IO_VDPDATA), a
  3270  0f66  c9                	ret
  3271                          	SECTION code_compiler
  3272                          ;	---------------------------------
  3273                          ; Function vdp_getSpritePosition
  3274                          ; ---------------------------------
  3275                          _vdp_getSpritePosition:
  3276  0f67  fd210200          	ld	iy,2
  3277  0f6b  fd39              	add	iy, sp
  3278  0f6d  fd6e00            	ld	l,(iy+0)
  3279  0f70  2600              	ld	h,0x00
  3280  0f72  29                	add	hl, hl
  3281  0f73  29                	add	hl, hl
  3282  0f74  eb                	ex	de, hl
  3283  0f75  2ac208            	ld	hl, (__vdpSpriteAttributeTableAddr)
  3284  0f78  19                	add	hl, de
  3285  0f79  7d                	ld	a, l
  3286  0f7a  d3a1              	out	(_IO_VDPLATCH), a
  3287  0f7c  7c                	ld	a, h
  3288  0f7d  e63f              	and	a,0x3f
  3289  0f7f  d3a1              	out	(_IO_VDPLATCH), a
  3290  0f81  fd23              	inc	iy
  3291  0f83  fd23              	inc	iy
  3292  0f85  fd23              	inc	iy
  3293  0f87  fd4e00            	ld	c,(iy+0)
  3294  0f8a  fd4601            	ld	b,(iy+1)
  3295  0f8d  dba0              	in	a, (_IO_VDPDATA)
  3296  0f8f  02                	ld	(bc), a
  3297  0f90  fd2b              	dec	iy
  3298  0f92  fd2b              	dec	iy
  3299  0f94  fd4e00            	ld	c,(iy+0)
  3300  0f97  fd4601            	ld	b,(iy+1)
  3301  0f9a  dba0              	in	a, (_IO_VDPDATA)
  3302  0f9c  02                	ld	(bc), a
  3303  0f9d  c9                	ret
  3304                          	SECTION code_compiler
  3305                          ;	---------------------------------
  3306                          ; Function vdp_print
  3307                          ; ---------------------------------
  3308                          _vdp_print:
  3309  0f9e  010000            	ld	bc,0x0000
  3310                          l_vdp_print_00103:
  3311  0fa1  210200            	ld	hl,2
  3312  0fa4  39                	add	hl, sp
  3313  0fa5  7e                	ld	a, (hl)
  3314  0fa6  23                	inc	hl
  3315  0fa7  66                	ld	h, (hl)
  3316  0fa8  6f                	ld	l, a
  3317  0fa9  09                	add	hl, bc
  3318  0faa  7e                	ld	a, (hl)
  3319  0fab  b7                	or	a, a
  3320  0fac  c8                	ret	Z
  3321  0fad  c5                	push	bc
  3322  0fae  f5                	push	af
  3323  0faf  33                	inc	sp
  3324  0fb0  cdd410            	call	_vdp_write
  3325  0fb3  33                	inc	sp
  3326  0fb4  c1                	pop	bc
  3327  0fb5  03                	inc	bc
  3328  0fb6  18e9              	jr	l_vdp_print_00103
  3329                          	SECTION code_compiler
  3330                          ;	---------------------------------
  3331                          ; Function vdp_printPart
  3332                          ; ---------------------------------
  3333                          _vdp_printPart:
  3334  0fb8  dde5              	push	ix
  3335  0fba  dd210000          	ld	ix,0
  3336  0fbe  dd39              	add	ix,sp
  3337  0fc0  010000            	ld	bc,0x0000
  3338                          l_vdp_printPart_00103:
  3339  0fc3  79                	ld	a, c
  3340  0fc4  dd9606            	sub	a,(ix+6)
  3341  0fc7  78                	ld	a, b
  3342  0fc8  dd9e07            	sbc	a,(ix+7)
  3343  0fcb  301d              	jr	NC,l_vdp_printPart_00105
  3344  0fcd  dd7e04            	ld	a,(ix+4)
  3345  0fd0  81                	add	a, c
  3346  0fd1  5f                	ld	e, a
  3347  0fd2  dd7e05            	ld	a,(ix+5)
  3348  0fd5  88                	adc	a, b
  3349  0fd6  57                	ld	d, a
  3350  0fd7  dd6e08            	ld	l,(ix+8)
  3351  0fda  dd6609            	ld	h,(ix+9)
  3352  0fdd  19                	add	hl, de
  3353  0fde  7e                	ld	a, (hl)
  3354  0fdf  c5                	push	bc
  3355  0fe0  f5                	push	af
  3356  0fe1  33                	inc	sp
  3357  0fe2  cdd410            	call	_vdp_write
  3358  0fe5  33                	inc	sp
  3359  0fe6  c1                	pop	bc
  3360  0fe7  03                	inc	bc
  3361  0fe8  18d9              	jr	l_vdp_printPart_00103
  3362                          l_vdp_printPart_00105:
  3363  0fea  dde1              	pop	ix
  3364  0fec  c9                	ret
  3365                          	SECTION code_compiler
  3366                          ;	---------------------------------
  3367                          ; Function vdp_newLine
  3368                          ; ---------------------------------
  3369                          _vdp_newLine:
  3370  0fed  012300            	ld	bc,_vdp_cursor + 1
  3371  0ff0  0a                	ld	a, (bc)
  3372  0ff1  fe17              	cp	a,0x17
  3373  0ff3  2012              	jr	NZ,l_vdp_newLine_00102
  3374  0ff5  3e17              	ld	a,0x17
  3375  0ff7  f5                	push	af
  3376  0ff8  33                	inc	sp
  3377  0ff9  af                	xor	a, a
  3378  0ffa  f5                	push	af
  3379  0ffb  33                	inc	sp
  3380  0ffc  cd0212            	call	_vdp_scrollTextUp
  3381  0fff  f1                	pop	af
  3382  1000  212200            	ld	hl,_vdp_cursor
  3383  1003  3600              	ld	(hl),0x00
  3384  1005  180b              	jr	l_vdp_newLine_00104
  3385                          l_vdp_newLine_00102:
  3386  1007  3c                	inc	a
  3387  1008  02                	ld	(bc), a
  3388  1009  f5                	push	af
  3389  100a  33                	inc	sp
  3390  100b  af                	xor	a, a
  3391  100c  f5                	push	af
  3392  100d  33                	inc	sp
  3393  100e  cd1f10            	call	_vdp_setCursor2
  3394  1011  f1                	pop	af
  3395                          l_vdp_newLine_00104:
  3396  1012  c9                	ret
  3397                          	SECTION code_compiler
  3398                          ;	---------------------------------
  3399                          ; Function vdp_setBackDropColor
  3400                          ; ---------------------------------
  3401                          _vdp_setBackDropColor:
  3402  1013  210200            	ld	hl,2+0
  3403  1016  39                	add	hl, sp
  3404  1017  7e                	ld	a, (hl)
  3405  1018  d3a1              	out	(_IO_VDPLATCH), a
  3406  101a  3e87              	ld	a,0x87
  3407  101c  d3a1              	out	(_IO_VDPLATCH), a
  3408  101e  c9                	ret
  3409                          	SECTION code_compiler
  3410                          ;	---------------------------------
  3411                          ; Function vdp_setCursor2
  3412                          ; ---------------------------------
  3413                          _vdp_setCursor2:
  3414  101f  dde5              	push	ix
  3415  1021  dd210000          	ld	ix,0
  3416  1025  dd39              	add	ix,sp
  3417  1027  3acd08            	ld	a,(__vdpCursorMaxX)
  3418  102a  dd9604            	sub	a,(ix+4)
  3419  102d  3007              	jr	NC,l_vdp_setCursor2_00102
  3420  102f  dd360400          	ld	(ix+4),0x00
  3421  1033  dd3405            	inc	(ix+5)
  3422                          l_vdp_setCursor2_00102:
  3423  1036  3a0000            	ld	a, (__vdpCursorMaxY+0)
  3424  1039  dd9605            	sub	a,(ix+5)
  3425  103c  3004              	jr	NC,l_vdp_setCursor2_00104
  3426  103e  dd360500          	ld	(ix+5),0x00
  3427                          l_vdp_setCursor2_00104:
  3428  1042  212200            	ld	hl,_vdp_cursor
  3429  1045  dd7e04            	ld	a,(ix+4)
  3430  1048  77                	ld	(hl), a
  3431  1049  212300            	ld	hl, +(_vdp_cursor + 1)
  3432  104c  dd7e05            	ld	a,(ix+5)
  3433  104f  77                	ld	(hl), a
  3434  1050  dde1              	pop	ix
  3435  1052  c9                	ret
  3436                          	SECTION code_compiler
  3437                          ;	---------------------------------
  3438                          ; Function vdp_setCursor
  3439                          ; ---------------------------------
  3440                          _vdp_setCursor:
  3441  1053  fd210200          	ld	iy,2
  3442  1057  fd39              	add	iy, sp
  3443  1059  fd7e00            	ld	a,(iy+0)
  3444  105c  b7                	or	a, a
  3445  105d  2816              	jr	Z,l_vdp_setCursor_00101
  3446  105f  fd7e00            	ld	a,(iy+0)
  3447  1062  3d                	dec	a
  3448  1063  2822              	jr	Z,l_vdp_setCursor_00102
  3449  1065  fd7e00            	ld	a,(iy+0)
  3450  1068  d602              	sub	a,0x02
  3451  106a  282d              	jr	Z,l_vdp_setCursor_00103
  3452  106c  fd7e00            	ld	a,(iy+0)
  3453  106f  d603              	sub	a,0x03
  3454  1071  2838              	jr	Z,l_vdp_setCursor_00104
  3455  1073  1846              	jr	l_vdp_setCursor_00106
  3456                          l_vdp_setCursor_00101:
  3457  1075  3a2300            	ld	a, (_vdp_cursor + 1)
  3458  1078  3d                	dec	a
  3459  1079  212200            	ld	hl,_vdp_cursor + 0
  3460  107c  46                	ld	b, (hl)
  3461  107d  f5                	push	af
  3462  107e  33                	inc	sp
  3463  107f  c5                	push	bc
  3464  1080  33                	inc	sp
  3465  1081  cd1f10            	call	_vdp_setCursor2
  3466  1084  f1                	pop	af
  3467  1085  1834              	jr	l_vdp_setCursor_00106
  3468                          l_vdp_setCursor_00102:
  3469  1087  3a2300            	ld	a, (_vdp_cursor + 1)
  3470  108a  3c                	inc	a
  3471  108b  212200            	ld	hl,_vdp_cursor + 0
  3472  108e  46                	ld	b, (hl)
  3473  108f  f5                	push	af
  3474  1090  33                	inc	sp
  3475  1091  c5                	push	bc
  3476  1092  33                	inc	sp
  3477  1093  cd1f10            	call	_vdp_setCursor2
  3478  1096  f1                	pop	af
  3479  1097  1822              	jr	l_vdp_setCursor_00106
  3480                          l_vdp_setCursor_00103:
  3481  1099  212300            	ld	hl,_vdp_cursor + 1
  3482  109c  46                	ld	b, (hl)
  3483  109d  3a2200            	ld	a, (_vdp_cursor + 0)
  3484  10a0  3d                	dec	a
  3485  10a1  c5                	push	bc
  3486  10a2  33                	inc	sp
  3487  10a3  f5                	push	af
  3488  10a4  33                	inc	sp
  3489  10a5  cd1f10            	call	_vdp_setCursor2
  3490  10a8  f1                	pop	af
  3491  10a9  1810              	jr	l_vdp_setCursor_00106
  3492                          l_vdp_setCursor_00104:
  3493  10ab  212300            	ld	hl,_vdp_cursor + 1
  3494  10ae  46                	ld	b, (hl)
  3495  10af  3a2200            	ld	a, (_vdp_cursor + 0)
  3496  10b2  3c                	inc	a
  3497  10b3  c5                	push	bc
  3498  10b4  33                	inc	sp
  3499  10b5  f5                	push	af
  3500  10b6  33                	inc	sp
  3501  10b7  cd1f10            	call	_vdp_setCursor2
  3502  10ba  f1                	pop	af
  3503                          l_vdp_setCursor_00106:
  3504  10bb  c9                	ret
  3505                          	SECTION code_compiler
  3506                          ;	---------------------------------
  3507                          ; Function vdp_setTextColor
  3508                          ; ---------------------------------
  3509                          _vdp_setTextColor:
  3510  10bc  fd210200          	ld	iy,2
  3511  10c0  fd39              	add	iy, sp
  3512  10c2  fd7e00            	ld	a,(iy+0)
  3513  10c5  87                	add	a, a
  3514  10c6  87                	add	a, a
  3515  10c7  87                	add	a, a
  3516  10c8  87                	add	a, a
  3517  10c9  fd4e01            	ld	c,(iy+0+1)
  3518  10cc  81                	add	a, c
  3519  10cd  d3a1              	out	(_IO_VDPLATCH), a
  3520  10cf  3e87              	ld	a,0x87
  3521  10d1  d3a1              	out	(_IO_VDPLATCH), a
  3522  10d3  c9                	ret
  3523                          	SECTION code_compiler
  3524                          ;	---------------------------------
  3525                          ; Function vdp_write
  3526                          ; ---------------------------------
  3527                          _vdp_write:
  3528  10d4  dde5              	push	ix
  3529  10d6  dd210000          	ld	ix,0
  3530  10da  dd39              	add	ix,sp
  3531  10dc  212300            	ld	hl, +(_vdp_cursor + 1) + 0
  3532  10df  4e                	ld	c, (hl)
  3533  10e0  3acd08            	ld	a, (__vdpCursorMaxX+0)
  3534  10e3  5f                	ld	e, a
  3535  10e4  1600              	ld	d,0x00
  3536  10e6  13                	inc	de
  3537  10e7  0600              	ld	b,0x00
  3538  10e9  d5                	push	de
  3539  10ea  c5                	push	bc
  3540  10eb  cd0000            	call	__mulint_callee
  3541  10ee  eb                	ex	de, hl
  3542  10ef  3a2200            	ld	a, (_vdp_cursor + 0)
  3543  10f2  6f                	ld	l, a
  3544  10f3  2600              	ld	h,0x00
  3545  10f5  19                	add	hl, de
  3546  10f6  eb                	ex	de, hl
  3547  10f7  2ac708            	ld	hl, (__vdpPatternNameTableAddr)
  3548  10fa  19                	add	hl, de
  3549  10fb  7d                	ld	a, l
  3550  10fc  d3a1              	out	(_IO_VDPLATCH), a
  3551  10fe  7c                	ld	a, h
  3552  10ff  e63f              	and	a,0x3f
  3553  1101  f640              	or	a,0x40
  3554  1103  d3a1              	out	(_IO_VDPLATCH), a
  3555  1105  dd7e04            	ld	a,(ix+4)
  3556  1108  d3a0              	out	(_IO_VDPDATA), a
  3557  110a  210005            	ld	hl,__vdp_textBuffer+0
  3558  110d  19                	add	hl, de
  3559  110e  dd7e04            	ld	a,(ix+4)
  3560  1111  77                	ld	(hl), a
  3561  1112  3acf08            	ld	a, (__autoScroll+0)
  3562  1115  b7                	or	a, a
  3563  1116  281e              	jr	Z,l_vdp_write_00102
  3564  1118  3a2200            	ld	a, (_vdp_cursor + 0)
  3565  111b  d627              	sub	a,0x27
  3566  111d  2017              	jr	NZ,l_vdp_write_00102
  3567  111f  3a2300            	ld	a, ((_vdp_cursor + 1) + 0)
  3568  1122  d617              	sub	a,0x17
  3569  1124  2010              	jr	NZ,l_vdp_write_00102
  3570  1126  3e17              	ld	a,0x17
  3571  1128  f5                	push	af
  3572  1129  33                	inc	sp
  3573  112a  af                	xor	a, a
  3574  112b  f5                	push	af
  3575  112c  33                	inc	sp
  3576  112d  cd0212            	call	_vdp_scrollTextUp
  3577  1130  f1                	pop	af
  3578  1131  212200            	ld	hl,_vdp_cursor
  3579  1134  3600              	ld	(hl),0x00
  3580                          l_vdp_write_00102:
  3581  1136  3e03              	ld	a,0x03
  3582  1138  f5                	push	af
  3583  1139  33                	inc	sp
  3584  113a  cd5310            	call	_vdp_setCursor
  3585  113d  33                	inc	sp
  3586  113e  dde1              	pop	ix
  3587  1140  c9                	ret
  3588                          	SECTION code_compiler
  3589                          ;	---------------------------------
  3590                          ; Function vdp_writeCharAtLocation
  3591                          ; ---------------------------------
  3592                          _vdp_writeCharAtLocation:
  3593  1141  dde5              	push	ix
  3594  1143  dd210000          	ld	ix,0
  3595  1147  dd39              	add	ix,sp
  3596  1149  3acd08            	ld	a, (__vdpCursorMaxX+0)
  3597  114c  0600              	ld	b,0x00
  3598  114e  4f                	ld	c, a
  3599  114f  03                	inc	bc
  3600  1150  dd5e05            	ld	e,(ix+5)
  3601  1153  1600              	ld	d,0x00
  3602  1155  c5                	push	bc
  3603  1156  d5                	push	de
  3604  1157  cd0000            	call	__mulint_callee
  3605  115a  dd4e04            	ld	c,(ix+4)
  3606  115d  0600              	ld	b,0x00
  3607  115f  09                	add	hl, bc
  3608  1160  eb                	ex	de, hl
  3609  1161  210005            	ld	hl,__vdp_textBuffer
  3610  1164  19                	add	hl, de
  3611  1165  dd7e06            	ld	a,(ix+6)
  3612  1168  77                	ld	(hl), a
  3613  1169  2ac708            	ld	hl, (__vdpPatternNameTableAddr)
  3614  116c  19                	add	hl, de
  3615  116d  7d                	ld	a, l
  3616  116e  d3a1              	out	(_IO_VDPLATCH), a
  3617  1170  7c                	ld	a, h
  3618  1171  e63f              	and	a,0x3f
  3619  1173  f640              	or	a,0x40
  3620  1175  d3a1              	out	(_IO_VDPLATCH), a
  3621  1177  dd7e06            	ld	a,(ix+6)
  3622  117a  d3a0              	out	(_IO_VDPDATA), a
  3623  117c  dde1              	pop	ix
  3624  117e  c9                	ret
  3625                          	SECTION code_compiler
  3626                          ;	---------------------------------
  3627                          ; Function vdp_getCharAtLocationVRAM
  3628                          ; ---------------------------------
  3629                          _vdp_getCharAtLocationVRAM:
  3630  117f  dde5              	push	ix
  3631  1181  dd210000          	ld	ix,0
  3632  1185  dd39              	add	ix,sp
  3633  1187  3acd08            	ld	a, (__vdpCursorMaxX+0)
  3634  118a  0600              	ld	b,0x00
  3635  118c  4f                	ld	c, a
  3636  118d  03                	inc	bc
  3637  118e  dd5e05            	ld	e,(ix+5)
  3638  1191  1600              	ld	d,0x00
  3639  1193  c5                	push	bc
  3640  1194  d5                	push	de
  3641  1195  cd0000            	call	__mulint_callee
  3642  1198  dd4e04            	ld	c,(ix+4)
  3643  119b  0600              	ld	b,0x00
  3644  119d  09                	add	hl, bc
  3645  119e  eb                	ex	de, hl
  3646  119f  2ac708            	ld	hl, (__vdpPatternNameTableAddr)
  3647  11a2  19                	add	hl, de
  3648  11a3  7d                	ld	a, l
  3649  11a4  d3a1              	out	(_IO_VDPLATCH), a
  3650  11a6  7c                	ld	a, h
  3651  11a7  e63f              	and	a,0x3f
  3652  11a9  d3a1              	out	(_IO_VDPLATCH), a
  3653  11ab  dba0              	in	a, (_IO_VDPDATA)
  3654  11ad  6f                	ld	l, a
  3655  11ae  dde1              	pop	ix
  3656  11b0  c9                	ret
  3657                          	SECTION code_compiler
  3658                          ;	---------------------------------
  3659                          ; Function vdp_getCharAtLocationBuf
  3660                          ; ---------------------------------
  3661                          _vdp_getCharAtLocationBuf:
  3662  11b1  dde5              	push	ix
  3663  11b3  dd210000          	ld	ix,0
  3664  11b7  dd39              	add	ix,sp
  3665  11b9  3acd08            	ld	a, (__vdpCursorMaxX+0)
  3666  11bc  0600              	ld	b,0x00
  3667  11be  4f                	ld	c, a
  3668  11bf  03                	inc	bc
  3669  11c0  dd5e05            	ld	e,(ix+5)
  3670  11c3  1600              	ld	d,0x00
  3671  11c5  c5                	push	bc
  3672  11c6  d5                	push	de
  3673  11c7  cd0000            	call	__mulint_callee
  3674  11ca  dd4e04            	ld	c,(ix+4)
  3675  11cd  0600              	ld	b,0x00
  3676  11cf  09                	add	hl, bc
  3677  11d0  110005            	ld	de,__vdp_textBuffer
  3678  11d3  19                	add	hl, de
  3679  11d4  6e                	ld	l, (hl)
  3680  11d5  dde1              	pop	ix
  3681  11d7  c9                	ret
  3682                          	SECTION code_compiler
  3683                          ;	---------------------------------
  3684                          ; Function vdp_setCharAtLocationBuf
  3685                          ; ---------------------------------
  3686                          _vdp_setCharAtLocationBuf:
  3687  11d8  dde5              	push	ix
  3688  11da  dd210000          	ld	ix,0
  3689  11de  dd39              	add	ix,sp
  3690  11e0  3acd08            	ld	a, (__vdpCursorMaxX+0)
  3691  11e3  1600              	ld	d,0x00
  3692  11e5  5f                	ld	e, a
  3693  11e6  13                	inc	de
  3694  11e7  dd4e05            	ld	c,(ix+5)
  3695  11ea  0600              	ld	b,0x00
  3696  11ec  d5                	push	de
  3697  11ed  c5                	push	bc
  3698  11ee  cd0000            	call	__mulint_callee
  3699  11f1  dd4e04            	ld	c,(ix+4)
  3700  11f4  0600              	ld	b,0x00
  3701  11f6  09                	add	hl, bc
  3702  11f7  110005            	ld	de,__vdp_textBuffer
  3703  11fa  19                	add	hl, de
  3704  11fb  dd7e06            	ld	a,(ix+6)
  3705  11fe  77                	ld	(hl), a
  3706  11ff  dde1              	pop	ix
  3707  1201  c9                	ret
  3708                          	SECTION code_compiler
  3709                          ;	---------------------------------
  3710                          ; Function vdp_scrollTextUp
  3711                          ; ---------------------------------
  3712                          _vdp_scrollTextUp:
  3713  1202  dde5              	push	ix
  3714  1204  dd210000          	ld	ix,0
  3715  1208  dd39              	add	ix,sp
  3716  120a  f5                	push	af
  3717  120b  3acd08            	ld	a, (__vdpCursorMaxX+0)
  3718  120e  1600              	ld	d,0x00
  3719  1210  5f                	ld	e, a
  3720  1211  13                	inc	de
  3721  1212  dd4e04            	ld	c,(ix+4)
  3722  1215  0600              	ld	b,0x00
  3723  1217  d5                	push	de
  3724  1218  c5                	push	bc
  3725  1219  cd0000            	call	__mulint_callee
  3726  121c  eb                	ex	de, hl
  3727  121d  2ac708            	ld	hl, (__vdpPatternNameTableAddr)
  3728  1220  19                	add	hl, de
  3729  1221  7d                	ld	a, l
  3730  1222  d3a1              	out	(_IO_VDPLATCH), a
  3731  1224  7c                	ld	a, h
  3732  1225  e63f              	and	a,0x3f
  3733  1227  f640              	or	a,0x40
  3734  1229  d3a1              	out	(_IO_VDPLATCH), a
  3735  122b  dd4e04            	ld	c,(ix+4)
  3736                          l_vdp_scrollTextUp_00111:
  3737  122e  79                	ld	a, c
  3738  122f  dd9605            	sub	a,(ix+5)
  3739  1232  3027              	jr	NC,l_vdp_scrollTextUp_00102
  3740  1234  0600              	ld	b,0x00
  3741                          l_vdp_scrollTextUp_00108:
  3742  1236  78                	ld	a, b
  3743  1237  d628              	sub	a,0x28
  3744  1239  301d              	jr	NC,l_vdp_scrollTextUp_00125
  3745  123b  210005            	ld	hl,__vdp_textBuffer
  3746  123e  19                	add	hl, de
  3747  123f  e3                	ex	(sp), hl
  3748  1240  3acd08            	ld	a, (__vdpCursorMaxX+0)
  3749  1243  2600              	ld	h,0x00
  3750  1245  6f                	ld	l, a
  3751  1246  19                	add	hl, de
  3752  1247  23                	inc	hl
  3753  1248  d5                	push	de
  3754  1249  110005            	ld	de,__vdp_textBuffer
  3755  124c  19                	add	hl, de
  3756  124d  d1                	pop	de
  3757  124e  7e                	ld	a, (hl)
  3758  124f  e1                	pop	hl
  3759  1250  e5                	push	hl
  3760  1251  77                	ld	(hl), a
  3761  1252  d3a0              	out	(_IO_VDPDATA), a
  3762  1254  13                	inc	de
  3763  1255  04                	inc	b
  3764  1256  18de              	jr	l_vdp_scrollTextUp_00108
  3765                          l_vdp_scrollTextUp_00125:
  3766  1258  0c                	inc	c
  3767  1259  18d3              	jr	l_vdp_scrollTextUp_00111
  3768                          l_vdp_scrollTextUp_00102:
  3769  125b  3a0000            	ld	a, (__vdpCursorMaxY+0)
  3770  125e  dd9605            	sub	a,(ix+5)
  3771  1261  3815              	jr	C,l_vdp_scrollTextUp_00116
  3772  1263  0e00              	ld	c,0x00
  3773                          l_vdp_scrollTextUp_00114:
  3774  1265  79                	ld	a, c
  3775  1266  d628              	sub	a,0x28
  3776  1268  300e              	jr	NC,l_vdp_scrollTextUp_00116
  3777  126a  210005            	ld	hl,__vdp_textBuffer
  3778  126d  19                	add	hl, de
  3779  126e  3620              	ld	(hl),0x20
  3780  1270  3e20              	ld	a,0x20
  3781  1272  d3a0              	out	(_IO_VDPDATA), a
  3782  1274  13                	inc	de
  3783  1275  0c                	inc	c
  3784  1276  18ed              	jr	l_vdp_scrollTextUp_00114
  3785                          l_vdp_scrollTextUp_00116:
  3786  1278  ddf9              	ld	sp, ix
  3787  127a  dde1              	pop	ix
  3788  127c  c9                	ret
  3789                          	SECTION code_compiler
  3790                          ;	---------------------------------
  3791                          ; Function vdp_clearRows
  3792                          ; ---------------------------------
  3793                          _vdp_clearRows:
  3794  127d  dde5              	push	ix
  3795  127f  dd210000          	ld	ix,0
  3796  1283  dd39              	add	ix,sp
  3797  1285  3acd08            	ld	a, (__vdpCursorMaxX+0)
  3798  1288  1600              	ld	d,0x00
  3799  128a  5f                	ld	e, a
  3800  128b  13                	inc	de
  3801  128c  dd4e04            	ld	c,(ix+4)
  3802  128f  0600              	ld	b,0x00
  3803  1291  d5                	push	de
  3804  1292  c5                	push	bc
  3805  1293  cd0000            	call	__mulint_callee
  3806  1296  eb                	ex	de, hl
  3807  1297  2ac708            	ld	hl, (__vdpPatternNameTableAddr)
  3808  129a  19                	add	hl, de
  3809  129b  7d                	ld	a, l
  3810  129c  d3a1              	out	(_IO_VDPLATCH), a
  3811  129e  7c                	ld	a, h
  3812  129f  e63f              	and	a,0x3f
  3813  12a1  f640              	or	a,0x40
  3814  12a3  d3a1              	out	(_IO_VDPLATCH), a
  3815  12a5  dd4e04            	ld	c,(ix+4)
  3816                          l_vdp_clearRows_00108:
  3817  12a8  79                	ld	a, c
  3818  12a9  dd9605            	sub	a,(ix+5)
  3819  12ac  3018              	jr	NC,l_vdp_clearRows_00110
  3820  12ae  0600              	ld	b,0x00
  3821                          l_vdp_clearRows_00105:
  3822  12b0  78                	ld	a, b
  3823  12b1  d628              	sub	a,0x28
  3824  12b3  300e              	jr	NC,l_vdp_clearRows_00116
  3825  12b5  210005            	ld	hl,__vdp_textBuffer
  3826  12b8  19                	add	hl, de
  3827  12b9  3620              	ld	(hl),0x20
  3828  12bb  3e20              	ld	a,0x20
  3829  12bd  d3a0              	out	(_IO_VDPDATA), a
  3830  12bf  13                	inc	de
  3831  12c0  04                	inc	b
  3832  12c1  18ed              	jr	l_vdp_clearRows_00105
  3833                          l_vdp_clearRows_00116:
  3834  12c3  0c                	inc	c
  3835  12c4  18e2              	jr	l_vdp_clearRows_00108
  3836                          l_vdp_clearRows_00110:
  3837  12c6  dde1              	pop	ix
  3838  12c8  c9                	ret
  3839                          	SECTION code_compiler
  3840                          ;	---------------------------------
  3841                          ; Function vdp_writeUInt32
  3842                          ; ---------------------------------
  3843                          _vdp_writeUInt32:
  3844  12c9  dde5              	push	ix
  3845  12cb  dd210000          	ld	ix,0
  3846  12cf  dd39              	add	ix,sp
  3847  12d1  21dfff            	ld	hl, -33
  3848  12d4  39                	add	hl, sp
  3849  12d5  f9                	ld	sp, hl
  3850  12d6  dd4e04            	ld	c,(ix+4)
  3851  12d9  dd4605            	ld	b,(ix+5)
  3852  12dc  c5                	push	bc
  3853  12dd  210200            	ld	hl,2
  3854  12e0  39                	add	hl, sp
  3855  12e1  e5                	push	hl
  3856  12e2  210a00            	ld	hl,0x000a
  3857  12e5  e5                	push	hl
  3858  12e6  cd0000            	call	_utoa_callee
  3859  12e9  dd36e900          	ld	(ix-23),0x00
  3860  12ed  210000            	ld	hl,0
  3861  12f0  39                	add	hl, sp
  3862  12f1  e5                	push	hl
  3863  12f2  cd9e0f            	call	_vdp_print
  3864  12f5  ddf9              	ld	sp,ix
  3865  12f7  dde1              	pop	ix
  3866  12f9  c9                	ret
  3867                          	SECTION code_compiler
  3868                          ;	---------------------------------
  3869                          ; Function vdp_writeInt32
  3870                          ; ---------------------------------
  3871                          _vdp_writeInt32:
  3872  12fa  dde5              	push	ix
  3873  12fc  dd210000          	ld	ix,0
  3874  1300  dd39              	add	ix,sp
  3875  1302  21dfff            	ld	hl, -33
  3876  1305  39                	add	hl, sp
  3877  1306  f9                	ld	sp, hl
  3878  1307  dd4e04            	ld	c,(ix+4)
  3879  130a  dd4605            	ld	b,(ix+5)
  3880  130d  c5                	push	bc
  3881  130e  210200            	ld	hl,2
  3882  1311  39                	add	hl, sp
  3883  1312  e5                	push	hl
  3884  1313  210a00            	ld	hl,0x000a
  3885  1316  e5                	push	hl
  3886  1317  cd0000            	call	_itoa_callee
  3887  131a  dd36ea00          	ld	(ix-22),0x00
  3888  131e  210000            	ld	hl,0
  3889  1321  39                	add	hl, sp
  3890  1322  e5                	push	hl
  3891  1323  cd9e0f            	call	_vdp_print
  3892  1326  ddf9              	ld	sp,ix
  3893  1328  dde1              	pop	ix
  3894  132a  c9                	ret
  3895                          	SECTION code_compiler
  3896                          ;	---------------------------------
  3897                          ; Function vdp_writeUInt16
  3898                          ; ---------------------------------
  3899                          _vdp_writeUInt16:
  3900  132b  21efff            	ld	hl, -17
  3901  132e  39                	add	hl, sp
  3902  132f  f9                	ld	sp, hl
  3903  1330  211300            	ld	hl,19
  3904  1333  39                	add	hl, sp
  3905  1334  4e                	ld	c, (hl)
  3906  1335  23                	inc	hl
  3907  1336  46                	ld	b, (hl)
  3908  1337  c5                	push	bc
  3909  1338  210200            	ld	hl,2
  3910  133b  39                	add	hl, sp
  3911  133c  e5                	push	hl
  3912  133d  210a00            	ld	hl,0x000a
  3913  1340  e5                	push	hl
  3914  1341  cd0000            	call	_utoa_callee
  3915  1344  210500            	ld	hl,5
  3916  1347  39                	add	hl, sp
  3917  1348  eb                	ex	de, hl
  3918  1349  af                	xor	a, a
  3919  134a  12                	ld	(de), a
  3920  134b  210000            	ld	hl,0
  3921  134e  39                	add	hl, sp
  3922  134f  e5                	push	hl
  3923  1350  cd9e0f            	call	_vdp_print
  3924  1353  f1                	pop	af
  3925  1354  211100            	ld	hl,17
  3926  1357  39                	add	hl, sp
  3927  1358  f9                	ld	sp, hl
  3928  1359  c9                	ret
  3929                          	SECTION code_compiler
  3930                          ;	---------------------------------
  3931                          ; Function vdp_writeInt16
  3932                          ; ---------------------------------
  3933                          _vdp_writeInt16:
  3934  135a  21efff            	ld	hl, -17
  3935  135d  39                	add	hl, sp
  3936  135e  f9                	ld	sp, hl
  3937  135f  211300            	ld	hl,19
  3938  1362  39                	add	hl, sp
  3939  1363  4e                	ld	c, (hl)
  3940  1364  23                	inc	hl
  3941  1365  46                	ld	b, (hl)
  3942  1366  c5                	push	bc
  3943  1367  210200            	ld	hl,2
  3944  136a  39                	add	hl, sp
  3945  136b  e5                	push	hl
  3946  136c  210a00            	ld	hl,0x000a
  3947  136f  e5                	push	hl
  3948  1370  cd0000            	call	_itoa_callee
  3949  1373  210600            	ld	hl,6
  3950  1376  39                	add	hl, sp
  3951  1377  eb                	ex	de, hl
  3952  1378  af                	xor	a, a
  3953  1379  12                	ld	(de), a
  3954  137a  210000            	ld	hl,0
  3955  137d  39                	add	hl, sp
  3956  137e  e5                	push	hl
  3957  137f  cd9e0f            	call	_vdp_print
  3958  1382  f1                	pop	af
  3959  1383  211100            	ld	hl,17
  3960  1386  39                	add	hl, sp
  3961  1387  f9                	ld	sp, hl
  3962  1388  c9                	ret
  3963                          	SECTION code_compiler
  3964                          ;	---------------------------------
  3965                          ; Function vdp_writeUInt8
  3966                          ; ---------------------------------
  3967                          _vdp_writeUInt8:
  3968  1389  dde5              	push	ix
  3969  138b  dd210000          	ld	ix,0
  3970  138f  dd39              	add	ix,sp
  3971  1391  21f7ff            	ld	hl, -9
  3972  1394  39                	add	hl, sp
  3973  1395  f9                	ld	sp, hl
  3974  1396  210000            	ld	hl,0
  3975  1399  39                	add	hl, sp
  3976  139a  eb                	ex	de, hl
  3977  139b  af                	xor	a, a
  3978  139c  12                	ld	(de), a
  3979  139d  dd36f800          	ld	(ix-8),0x00
  3980  13a1  dd36f900          	ld	(ix-7),0x00
  3981  13a5  dd36fa00          	ld	(ix-6),0x00
  3982  13a9  dd36fb00          	ld	(ix-5),0x00
  3983  13ad  dd36fc00          	ld	(ix-4),0x00
  3984  13b1  dd36fd00          	ld	(ix-3),0x00
  3985  13b5  dd36fe00          	ld	(ix-2),0x00
  3986  13b9  dd36ff00          	ld	(ix-1),0x00
  3987  13bd  4b                	ld	c, e
  3988  13be  42                	ld	b, d
  3989  13bf  dd6e04            	ld	l,(ix+4)
  3990  13c2  2600              	ld	h,0x00
  3991  13c4  d5                	push	de
  3992  13c5  e5                	push	hl
  3993  13c6  c5                	push	bc
  3994  13c7  210a00            	ld	hl,0x000a
  3995  13ca  e5                	push	hl
  3996  13cb  cd0000            	call	_utoa_callee
  3997  13ce  cd9e0f            	call	_vdp_print
  3998  13d1  ddf9              	ld	sp,ix
  3999  13d3  dde1              	pop	ix
  4000  13d5  c9                	ret
  4001                          	SECTION code_compiler
  4002                          ;	---------------------------------
  4003                          ; Function vdp_writeInt8
  4004                          ; ---------------------------------
  4005                          _vdp_writeInt8:
  4006  13d6  dde5              	push	ix
  4007  13d8  dd210000          	ld	ix,0
  4008  13dc  dd39              	add	ix,sp
  4009  13de  21f7ff            	ld	hl, -9
  4010  13e1  39                	add	hl, sp
  4011  13e2  f9                	ld	sp, hl
  4012  13e3  dd7e04            	ld	a,(ix+4)
  4013  13e6  4f                	ld	c, a
  4014  13e7  07                	rlca
  4015  13e8  9f                	sbc	a, a
  4016  13e9  47                	ld	b, a
  4017  13ea  c5                	push	bc
  4018  13eb  210200            	ld	hl,2
  4019  13ee  39                	add	hl, sp
  4020  13ef  e5                	push	hl
  4021  13f0  210a00            	ld	hl,0x000a
  4022  13f3  e5                	push	hl
  4023  13f4  cd0000            	call	_itoa_callee
  4024  13f7  dd36fb00          	ld	(ix-5),0x00
  4025  13fb  210000            	ld	hl,0
  4026  13fe  39                	add	hl, sp
  4027  13ff  e5                	push	hl
  4028  1400  cd9e0f            	call	_vdp_print
  4029  1403  ddf9              	ld	sp,ix
  4030  1405  dde1              	pop	ix
  4031  1407  c9                	ret
  4032                          	SECTION code_compiler
  4033                          ;	---------------------------------
  4034                          ; Function vdp_writeUInt8ToBinary
  4035                          ; ---------------------------------
  4036                          _vdp_writeUInt8ToBinary:
  4037  1408  dde5              	push	ix
  4038  140a  dd210000          	ld	ix,0
  4039  140e  dd39              	add	ix,sp
  4040  1410  21f7ff            	ld	hl, -9
  4041  1413  39                	add	hl, sp
  4042  1414  f9                	ld	sp, hl
  4043  1415  0e00              	ld	c,0x00
  4044                          l_vdp_writeUInt8ToBinary_00106:
  4045  1417  79                	ld	a, c
  4046  1418  d608              	sub	a,0x08
  4047  141a  302a              	jr	NC,l_vdp_writeUInt8ToBinary_00104
  4048  141c  41                	ld	b, c
  4049  141d  dd6e04            	ld	l,(ix+4)
  4050  1420  04                	inc	b
  4051  1421  1802              	jr	l_vdp_writeUInt8ToBinary_00127
  4052                          l_vdp_writeUInt8ToBinary_00126:
  4053  1423  cb3d              	srl	l
  4054                          l_vdp_writeUInt8ToBinary_00127:
  4055  1425  10fc              	djnz	l_vdp_writeUInt8ToBinary_00126
  4056  1427  59                	ld	e, c
  4057  1428  3e07              	ld	a,0x07
  4058  142a  93                	sub	a, e
  4059  142b  5f                	ld	e, a
  4060  142c  07                	rlca
  4061  142d  9f                	sbc	a, a
  4062  142e  57                	ld	d, a
  4063  142f  cb45              	bit	0, l
  4064  1431  2809              	jr	Z,l_vdp_writeUInt8ToBinary_00102
  4065  1433  210000            	ld	hl,0
  4066  1436  39                	add	hl, sp
  4067  1437  19                	add	hl, de
  4068  1438  3631              	ld	(hl),0x31
  4069  143a  1807              	jr	l_vdp_writeUInt8ToBinary_00107
  4070                          l_vdp_writeUInt8ToBinary_00102:
  4071  143c  210000            	ld	hl,0
  4072  143f  39                	add	hl, sp
  4073  1440  19                	add	hl, de
  4074  1441  3630              	ld	(hl),0x30
  4075                          l_vdp_writeUInt8ToBinary_00107:
  4076  1443  0c                	inc	c
  4077  1444  18d1              	jr	l_vdp_writeUInt8ToBinary_00106
  4078                          l_vdp_writeUInt8ToBinary_00104:
  4079  1446  dd36ff00          	ld	(ix-1),0x00
  4080  144a  210000            	ld	hl,0
  4081  144d  39                	add	hl, sp
  4082  144e  e5                	push	hl
  4083  144f  cd9e0f            	call	_vdp_print
  4084  1452  ddf9              	ld	sp,ix
  4085  1454  dde1              	pop	ix
  4086  1456  c9                	ret
  4087                          	SECTION code_compiler
  4088                          ;	---------------------------------
  4089                          ; Function vdp_writeUInt16ToBinary
  4090                          ; ---------------------------------
  4091                          _vdp_writeUInt16ToBinary:
  4092  1457  dde5              	push	ix
  4093  1459  dd210000          	ld	ix,0
  4094  145d  dd39              	add	ix,sp
  4095  145f  21edff            	ld	hl, -19
  4096  1462  39                	add	hl, sp
  4097  1463  f9                	ld	sp, hl
  4098  1464  0e00              	ld	c,0x00
  4099                          l_vdp_writeUInt16ToBinary_00106:
  4100  1466  79                	ld	a, c
  4101  1467  d610              	sub	a,0x10
  4102  1469  303f              	jr	NC,l_vdp_writeUInt16ToBinary_00104
  4103  146b  41                	ld	b, c
  4104  146c  dd5e04            	ld	e,(ix+4)
  4105  146f  dd5605            	ld	d,(ix+5)
  4106  1472  04                	inc	b
  4107  1473  1804              	jr	l_vdp_writeUInt16ToBinary_00127
  4108                          l_vdp_writeUInt16ToBinary_00126:
  4109  1475  cb3a              	srl	d
  4110  1477  cb1b              	rr	e
  4111                          l_vdp_writeUInt16ToBinary_00127:
  4112  1479  10fa              	djnz	l_vdp_writeUInt16ToBinary_00126
  4113  147b  41                	ld	b, c
  4114  147c  3e0f              	ld	a,0x0f
  4115  147e  90                	sub	a, b
  4116  147f  dd77fe            	ld	(ix-2),a
  4117  1482  07                	rlca
  4118  1483  9f                	sbc	a, a
  4119  1484  dd77ff            	ld	(ix-1),a
  4120  1487  cb43              	bit	0, e
  4121  1489  280f              	jr	Z,l_vdp_writeUInt16ToBinary_00102
  4122  148b  dd5efe            	ld	e,(ix-2)
  4123  148e  dd56ff            	ld	d,(ix-1)
  4124  1491  210000            	ld	hl,0
  4125  1494  39                	add	hl, sp
  4126  1495  19                	add	hl, de
  4127  1496  3631              	ld	(hl),0x31
  4128  1498  180d              	jr	l_vdp_writeUInt16ToBinary_00107
  4129                          l_vdp_writeUInt16ToBinary_00102:
  4130  149a  dd5efe            	ld	e,(ix-2)
  4131  149d  dd56ff            	ld	d,(ix-1)
  4132  14a0  210000            	ld	hl,0
  4133  14a3  39                	add	hl, sp
  4134  14a4  19                	add	hl, de
  4135  14a5  3630              	ld	(hl),0x30
  4136                          l_vdp_writeUInt16ToBinary_00107:
  4137  14a7  0c                	inc	c
  4138  14a8  18bc              	jr	l_vdp_writeUInt16ToBinary_00106
  4139                          l_vdp_writeUInt16ToBinary_00104:
  4140  14aa  dd36fd00          	ld	(ix-3),0x00
  4141  14ae  210000            	ld	hl,0
  4142  14b1  39                	add	hl, sp
  4143  14b2  e5                	push	hl
  4144  14b3  cd9e0f            	call	_vdp_print
  4145  14b6  ddf9              	ld	sp,ix
  4146  14b8  dde1              	pop	ix
  4147  14ba  c9                	ret
  4148                          	SECTION code_compiler
  4149                          ;	---------------------------------
  4150                          ; Function _vt100_reset
  4151                          ; ---------------------------------
  4152                          __vt100_reset:
  4153  14bb  21d908            	ld	hl, +(_term + 9)
  4154  14be  3600              	ld	(hl),0x00
  4155  14c0  21da08            	ld	hl, +(_term + 10)
  4156  14c3  360f              	ld	(hl),0x0f
  4157  14c5  21db08            	ld	hl, +(_term + 11)
  4158  14c8  3600              	ld	(hl),0x00
  4159  14ca  21df23            	ld	hl,__st_idle
  4160  14cd  22e508            	ld	((_term + 21)), hl
  4161  14d0  210000            	ld	hl,0x0000
  4162  14d3  22e908            	ld	((_term + 25)), hl
  4163  14d6  22d508            	ld	((_term + 5)), hl
  4164  14d9  2e18              	ld	l,0x18
  4165  14db  22d708            	ld	((_term + 7)), hl
  4166  14de  21d008            	ld	hl,_term
  4167  14e1  cbc6              	set	0, (hl)
  4168  14e3  cb96              	res	2, (hl)
  4169  14e5  af                	xor	a, a
  4170  14e6  f5                	push	af
  4171  14e7  33                	inc	sp
  4172  14e8  af                	xor	a, a
  4173  14e9  f5                	push	af
  4174  14ea  33                	inc	sp
  4175  14eb  cd1f10            	call	_vdp_setCursor2
  4176  14ee  f1                	pop	af
  4177  14ef  c9                	ret
  4178                          	SECTION rodata_compiler
  4179                          _ASCII:
  4180  0091  00                	DEFB +0x00
  4181  0092  00                	DEFB +0x00
  4182  0093  00                	DEFB +0x00
  4183  0094  00                	DEFB +0x00
  4184  0095  00                	DEFB +0x00
  4185  0096  00                	DEFB +0x00
  4186  0097  00                	DEFB +0x00
  4187  0098  00                	DEFB +0x00
  4188  0099  20                	DEFB +0x20
  4189  009a  20                	DEFB +0x20
  4190  009b  20                	DEFB +0x20
  4191  009c  20                	DEFB +0x20
  4192  009d  20                	DEFB +0x20
  4193  009e  00                	DEFB +0x00
  4194  009f  20                	DEFB +0x20
  4195  00a0  00                	DEFB +0x00
  4196  00a1  50                	DEFB +0x50
  4197  00a2  50                	DEFB +0x50
  4198  00a3  00                	DEFB +0x00
  4199  00a4  00                	DEFB +0x00
  4200  00a5  00                	DEFB +0x00
  4201  00a6  00                	DEFB +0x00
  4202  00a7  00                	DEFB +0x00
  4203  00a8  00                	DEFB +0x00
  4204  00a9  50                	DEFB +0x50
  4205  00aa  50                	DEFB +0x50
  4206  00ab  f8                	DEFB +0xf8
  4207  00ac  50                	DEFB +0x50
  4208  00ad  f8                	DEFB +0xf8
  4209  00ae  50                	DEFB +0x50
  4210  00af  50                	DEFB +0x50
  4211  00b0  00                	DEFB +0x00
  4212  00b1  20                	DEFB +0x20
  4213  00b2  78                	DEFB +0x78
  4214  00b3  a0                	DEFB +0xa0
  4215  00b4  70                	DEFB +0x70
  4216  00b5  28                	DEFB +0x28
  4217  00b6  f0                	DEFB +0xf0
  4218  00b7  20                	DEFB +0x20
  4219  00b8  00                	DEFB +0x00
  4220  00b9  c0                	DEFB +0xc0
  4221  00ba  c8                	DEFB +0xc8
  4222  00bb  10                	DEFB +0x10
  4223  00bc  20                	DEFB +0x20
  4224  00bd  40                	DEFB +0x40
  4225  00be  98                	DEFB +0x98
  4226  00bf  18                	DEFB +0x18
  4227  00c0  00                	DEFB +0x00
  4228  00c1  60                	DEFB +0x60
  4229  00c2  90                	DEFB +0x90
  4230  00c3  a0                	DEFB +0xa0
  4231  00c4  40                	DEFB +0x40
  4232  00c5  a8                	DEFB +0xa8
  4233  00c6  90                	DEFB +0x90
  4234  00c7  68                	DEFB +0x68
  4235  00c8  00                	DEFB +0x00
  4236  00c9  60                	DEFB +0x60
  4237  00ca  20                	DEFB +0x20
  4238  00cb  40                	DEFB +0x40
  4239  00cc  00                	DEFB +0x00
  4240  00cd  00                	DEFB +0x00
  4241  00ce  00                	DEFB +0x00
  4242  00cf  00                	DEFB +0x00
  4243  00d0  00                	DEFB +0x00
  4244  00d1  10                	DEFB +0x10
  4245  00d2  20                	DEFB +0x20
  4246  00d3  40                	DEFB +0x40
  4247  00d4  40                	DEFB +0x40
  4248  00d5  40                	DEFB +0x40
  4249  00d6  20                	DEFB +0x20
  4250  00d7  10                	DEFB +0x10
  4251  00d8  00                	DEFB +0x00
  4252  00d9  40                	DEFB +0x40
  4253  00da  20                	DEFB +0x20
  4254  00db  10                	DEFB +0x10
  4255  00dc  10                	DEFB +0x10
  4256  00dd  10                	DEFB +0x10
  4257  00de  20                	DEFB +0x20
  4258  00df  40                	DEFB +0x40
  4259  00e0  00                	DEFB +0x00
  4260  00e1  00                	DEFB +0x00
  4261  00e2  20                	DEFB +0x20
  4262  00e3  a8                	DEFB +0xa8
  4263  00e4  70                	DEFB +0x70
  4264  00e5  a8                	DEFB +0xa8
  4265  00e6  20                	DEFB +0x20
  4266  00e7  00                	DEFB +0x00
  4267  00e8  00                	DEFB +0x00
  4268  00e9  00                	DEFB +0x00
  4269  00ea  20                	DEFB +0x20
  4270  00eb  20                	DEFB +0x20
  4271  00ec  f8                	DEFB +0xf8
  4272  00ed  20                	DEFB +0x20
  4273  00ee  20                	DEFB +0x20
  4274  00ef  00                	DEFB +0x00
  4275  00f0  00                	DEFB +0x00
  4276  00f1  00                	DEFB +0x00
  4277  00f2  00                	DEFB +0x00
  4278  00f3  00                	DEFB +0x00
  4279  00f4  00                	DEFB +0x00
  4280  00f5  60                	DEFB +0x60
  4281  00f6  20                	DEFB +0x20
  4282  00f7  40                	DEFB +0x40
  4283  00f8  00                	DEFB +0x00
  4284  00f9  00                	DEFB +0x00
  4285  00fa  00                	DEFB +0x00
  4286  00fb  00                	DEFB +0x00
  4287  00fc  f8                	DEFB +0xf8
  4288  00fd  00                	DEFB +0x00
  4289  00fe  00                	DEFB +0x00
  4290  00ff  00                	DEFB +0x00
  4291  0100  00                	DEFB +0x00
  4292  0101  00                	DEFB +0x00
  4293  0102  00                	DEFB +0x00
  4294  0103  00                	DEFB +0x00
  4295  0104  00                	DEFB +0x00
  4296  0105  00                	DEFB +0x00
  4297  0106  60                	DEFB +0x60
  4298  0107  60                	DEFB +0x60
  4299  0108  00                	DEFB +0x00
  4300  0109  00                	DEFB +0x00
  4301  010a  08                	DEFB +0x08
  4302  010b  10                	DEFB +0x10
  4303  010c  20                	DEFB +0x20
  4304  010d  40                	DEFB +0x40
  4305  010e  80                	DEFB +0x80
  4306  010f  00                	DEFB +0x00
  4307  0110  00                	DEFB +0x00
  4308  0111  70                	DEFB +0x70
  4309  0112  88                	DEFB +0x88
  4310  0113  98                	DEFB +0x98
  4311  0114  a8                	DEFB +0xa8
  4312  0115  c8                	DEFB +0xc8
  4313  0116  88                	DEFB +0x88
  4314  0117  70                	DEFB +0x70
  4315  0118  00                	DEFB +0x00
  4316  0119  20                	DEFB +0x20
  4317  011a  60                	DEFB +0x60
  4318  011b  20                	DEFB +0x20
  4319  011c  20                	DEFB +0x20
  4320  011d  20                	DEFB +0x20
  4321  011e  20                	DEFB +0x20
  4322  011f  70                	DEFB +0x70
  4323  0120  00                	DEFB +0x00
  4324  0121  70                	DEFB +0x70
  4325  0122  88                	DEFB +0x88
  4326  0123  08                	DEFB +0x08
  4327  0124  10                	DEFB +0x10
  4328  0125  20                	DEFB +0x20
  4329  0126  40                	DEFB +0x40
  4330  0127  f8                	DEFB +0xf8
  4331  0128  00                	DEFB +0x00
  4332  0129  f8                	DEFB +0xf8
  4333  012a  10                	DEFB +0x10
  4334  012b  20                	DEFB +0x20
  4335  012c  10                	DEFB +0x10
  4336  012d  08                	DEFB +0x08
  4337  012e  88                	DEFB +0x88
  4338  012f  70                	DEFB +0x70
  4339  0130  00                	DEFB +0x00
  4340  0131  10                	DEFB +0x10
  4341  0132  30                	DEFB +0x30
  4342  0133  50                	DEFB +0x50
  4343  0134  90                	DEFB +0x90
  4344  0135  f8                	DEFB +0xf8
  4345  0136  10                	DEFB +0x10
  4346  0137  10                	DEFB +0x10
  4347  0138  00                	DEFB +0x00
  4348  0139  f8                	DEFB +0xf8
  4349  013a  80                	DEFB +0x80
  4350  013b  f0                	DEFB +0xf0
  4351  013c  08                	DEFB +0x08
  4352  013d  08                	DEFB +0x08
  4353  013e  88                	DEFB +0x88
  4354  013f  70                	DEFB +0x70
  4355  0140  00                	DEFB +0x00
  4356  0141  30                	DEFB +0x30
  4357  0142  40                	DEFB +0x40
  4358  0143  80                	DEFB +0x80
  4359  0144  f8                	DEFB +0xf8
  4360  0145  88                	DEFB +0x88
  4361  0146  88                	DEFB +0x88
  4362  0147  70                	DEFB +0x70
  4363  0148  00                	DEFB +0x00
  4364  0149  f8                	DEFB +0xf8
  4365  014a  08                	DEFB +0x08
  4366  014b  10                	DEFB +0x10
  4367  014c  20                	DEFB +0x20
  4368  014d  40                	DEFB +0x40
  4369  014e  40                	DEFB +0x40
  4370  014f  40                	DEFB +0x40
  4371  0150  00                	DEFB +0x00
  4372  0151  70                	DEFB +0x70
  4373  0152  88                	DEFB +0x88
  4374  0153  88                	DEFB +0x88
  4375  0154  70                	DEFB +0x70
  4376  0155  88                	DEFB +0x88
  4377  0156  88                	DEFB +0x88
  4378  0157  70                	DEFB +0x70
  4379  0158  00                	DEFB +0x00
  4380  0159  70                	DEFB +0x70
  4381  015a  88                	DEFB +0x88
  4382  015b  88                	DEFB +0x88
  4383  015c  78                	DEFB +0x78
  4384  015d  08                	DEFB +0x08
  4385  015e  10                	DEFB +0x10
  4386  015f  60                	DEFB +0x60
  4387  0160  00                	DEFB +0x00
  4388  0161  00                	DEFB +0x00
  4389  0162  30                	DEFB +0x30
  4390  0163  30                	DEFB +0x30
  4391  0164  00                	DEFB +0x00
  4392  0165  30                	DEFB +0x30
  4393  0166  30                	DEFB +0x30
  4394  0167  00                	DEFB +0x00
  4395  0168  00                	DEFB +0x00
  4396  0169  00                	DEFB +0x00
  4397  016a  30                	DEFB +0x30
  4398  016b  30                	DEFB +0x30
  4399  016c  00                	DEFB +0x00
  4400  016d  30                	DEFB +0x30
  4401  016e  10                	DEFB +0x10
  4402  016f  20                	DEFB +0x20
  4403  0170  00                	DEFB +0x00
  4404  0171  10                	DEFB +0x10
  4405  0172  20                	DEFB +0x20
  4406  0173  40                	DEFB +0x40
  4407  0174  80                	DEFB +0x80
  4408  0175  40                	DEFB +0x40
  4409  0176  20                	DEFB +0x20
  4410  0177  10                	DEFB +0x10
  4411  0178  00                	DEFB +0x00
  4412  0179  00                	DEFB +0x00
  4413  017a  00                	DEFB +0x00
  4414  017b  f8                	DEFB +0xf8
  4415  017c  00                	DEFB +0x00
  4416  017d  f8                	DEFB +0xf8
  4417  017e  00                	DEFB +0x00
  4418  017f  00                	DEFB +0x00
  4419  0180  00                	DEFB +0x00
  4420  0181  40                	DEFB +0x40
  4421  0182  20                	DEFB +0x20
  4422  0183  10                	DEFB +0x10
  4423  0184  08                	DEFB +0x08
  4424  0185  10                	DEFB +0x10
  4425  0186  20                	DEFB +0x20
  4426  0187  40                	DEFB +0x40
  4427  0188  00                	DEFB +0x00
  4428  0189  70                	DEFB +0x70
  4429  018a  88                	DEFB +0x88
  4430  018b  08                	DEFB +0x08
  4431  018c  10                	DEFB +0x10
  4432  018d  20                	DEFB +0x20
  4433  018e  00                	DEFB +0x00
  4434  018f  20                	DEFB +0x20
  4435  0190  00                	DEFB +0x00
  4436  0191  70                	DEFB +0x70
  4437  0192  88                	DEFB +0x88
  4438  0193  08                	DEFB +0x08
  4439  0194  68                	DEFB +0x68
  4440  0195  a8                	DEFB +0xa8
  4441  0196  a8                	DEFB +0xa8
  4442  0197  70                	DEFB +0x70
  4443  0198  00                	DEFB +0x00
  4444  0199  70                	DEFB +0x70
  4445  019a  88                	DEFB +0x88
  4446  019b  88                	DEFB +0x88
  4447  019c  88                	DEFB +0x88
  4448  019d  f8                	DEFB +0xf8
  4449  019e  88                	DEFB +0x88
  4450  019f  88                	DEFB +0x88
  4451  01a0  00                	DEFB +0x00
  4452  01a1  f0                	DEFB +0xf0
  4453  01a2  88                	DEFB +0x88
  4454  01a3  88                	DEFB +0x88
  4455  01a4  f0                	DEFB +0xf0
  4456  01a5  88                	DEFB +0x88
  4457  01a6  88                	DEFB +0x88
  4458  01a7  f0                	DEFB +0xf0
  4459  01a8  00                	DEFB +0x00
  4460  01a9  70                	DEFB +0x70
  4461  01aa  88                	DEFB +0x88
  4462  01ab  80                	DEFB +0x80
  4463  01ac  80                	DEFB +0x80
  4464  01ad  80                	DEFB +0x80
  4465  01ae  88                	DEFB +0x88
  4466  01af  70                	DEFB +0x70
  4467  01b0  00                	DEFB +0x00
  4468  01b1  e0                	DEFB +0xe0
  4469  01b2  90                	DEFB +0x90
  4470  01b3  88                	DEFB +0x88
  4471  01b4  88                	DEFB +0x88
  4472  01b5  88                	DEFB +0x88
  4473  01b6  90                	DEFB +0x90
  4474  01b7  e0                	DEFB +0xe0
  4475  01b8  00                	DEFB +0x00
  4476  01b9  f8                	DEFB +0xf8
  4477  01ba  80                	DEFB +0x80
  4478  01bb  80                	DEFB +0x80
  4479  01bc  f0                	DEFB +0xf0
  4480  01bd  80                	DEFB +0x80
  4481  01be  80                	DEFB +0x80
  4482  01bf  f8                	DEFB +0xf8
  4483  01c0  00                	DEFB +0x00
  4484  01c1  f8                	DEFB +0xf8
  4485  01c2  80                	DEFB +0x80
  4486  01c3  80                	DEFB +0x80
  4487  01c4  f0                	DEFB +0xf0
  4488  01c5  80                	DEFB +0x80
  4489  01c6  80                	DEFB +0x80
  4490  01c7  80                	DEFB +0x80
  4491  01c8  00                	DEFB +0x00
  4492  01c9  70                	DEFB +0x70
  4493  01ca  88                	DEFB +0x88
  4494  01cb  80                	DEFB +0x80
  4495  01cc  b8                	DEFB +0xb8
  4496  01cd  88                	DEFB +0x88
  4497  01ce  88                	DEFB +0x88
  4498  01cf  78                	DEFB +0x78
  4499  01d0  00                	DEFB +0x00
  4500  01d1  88                	DEFB +0x88
  4501  01d2  88                	DEFB +0x88
  4502  01d3  88                	DEFB +0x88
  4503  01d4  f8                	DEFB +0xf8
  4504  01d5  88                	DEFB +0x88
  4505  01d6  88                	DEFB +0x88
  4506  01d7  88                	DEFB +0x88
  4507  01d8  00                	DEFB +0x00
  4508  01d9  70                	DEFB +0x70
  4509  01da  20                	DEFB +0x20
  4510  01db  20                	DEFB +0x20
  4511  01dc  20                	DEFB +0x20
  4512  01dd  20                	DEFB +0x20
  4513  01de  20                	DEFB +0x20
  4514  01df  70                	DEFB +0x70
  4515  01e0  00                	DEFB +0x00
  4516  01e1  38                	DEFB +0x38
  4517  01e2  10                	DEFB +0x10
  4518  01e3  10                	DEFB +0x10
  4519  01e4  10                	DEFB +0x10
  4520  01e5  10                	DEFB +0x10
  4521  01e6  90                	DEFB +0x90
  4522  01e7  60                	DEFB +0x60
  4523  01e8  00                	DEFB +0x00
  4524  01e9  88                	DEFB +0x88
  4525  01ea  90                	DEFB +0x90
  4526  01eb  a0                	DEFB +0xa0
  4527  01ec  c0                	DEFB +0xc0
  4528  01ed  a0                	DEFB +0xa0
  4529  01ee  90                	DEFB +0x90
  4530  01ef  88                	DEFB +0x88
  4531  01f0  00                	DEFB +0x00
  4532  01f1  80                	DEFB +0x80
  4533  01f2  80                	DEFB +0x80
  4534  01f3  80                	DEFB +0x80
  4535  01f4  80                	DEFB +0x80
  4536  01f5  80                	DEFB +0x80
  4537  01f6  80                	DEFB +0x80
  4538  01f7  f8                	DEFB +0xf8
  4539  01f8  00                	DEFB +0x00
  4540  01f9  88                	DEFB +0x88
  4541  01fa  d8                	DEFB +0xd8
  4542  01fb  a8                	DEFB +0xa8
  4543  01fc  a8                	DEFB +0xa8
  4544  01fd  88                	DEFB +0x88
  4545  01fe  88                	DEFB +0x88
  4546  01ff  88                	DEFB +0x88
  4547  0200  00                	DEFB +0x00
  4548  0201  88                	DEFB +0x88
  4549  0202  c8                	DEFB +0xc8
  4550  0203  a8                	DEFB +0xa8
  4551  0204  98                	DEFB +0x98
  4552  0205  88                	DEFB +0x88
  4553  0206  88                	DEFB +0x88
  4554  0207  88                	DEFB +0x88
  4555  0208  00                	DEFB +0x00
  4556  0209  70                	DEFB +0x70
  4557  020a  88                	DEFB +0x88
  4558  020b  88                	DEFB +0x88
  4559  020c  88                	DEFB +0x88
  4560  020d  88                	DEFB +0x88
  4561  020e  88                	DEFB +0x88
  4562  020f  70                	DEFB +0x70
  4563  0210  00                	DEFB +0x00
  4564  0211  f0                	DEFB +0xf0
  4565  0212  88                	DEFB +0x88
  4566  0213  88                	DEFB +0x88
  4567  0214  f0                	DEFB +0xf0
  4568  0215  80                	DEFB +0x80
  4569  0216  80                	DEFB +0x80
  4570  0217  80                	DEFB +0x80
  4571  0218  00                	DEFB +0x00
  4572  0219  70                	DEFB +0x70
  4573  021a  88                	DEFB +0x88
  4574  021b  88                	DEFB +0x88
  4575  021c  88                	DEFB +0x88
  4576  021d  a8                	DEFB +0xa8
  4577  021e  90                	DEFB +0x90
  4578  021f  68                	DEFB +0x68
  4579  0220  00                	DEFB +0x00
  4580  0221  f0                	DEFB +0xf0
  4581  0222  88                	DEFB +0x88
  4582  0223  88                	DEFB +0x88
  4583  0224  f0                	DEFB +0xf0
  4584  0225  a0                	DEFB +0xa0
  4585  0226  90                	DEFB +0x90
  4586  0227  88                	DEFB +0x88
  4587  0228  00                	DEFB +0x00
  4588  0229  78                	DEFB +0x78
  4589  022a  80                	DEFB +0x80
  4590  022b  80                	DEFB +0x80
  4591  022c  70                	DEFB +0x70
  4592  022d  08                	DEFB +0x08
  4593  022e  08                	DEFB +0x08
  4594  022f  f0                	DEFB +0xf0
  4595  0230  00                	DEFB +0x00
  4596  0231  f8                	DEFB +0xf8
  4597  0232  20                	DEFB +0x20
  4598  0233  20                	DEFB +0x20
  4599  0234  20                	DEFB +0x20
  4600  0235  20                	DEFB +0x20
  4601  0236  20                	DEFB +0x20
  4602  0237  20                	DEFB +0x20
  4603  0238  00                	DEFB +0x00
  4604  0239  88                	DEFB +0x88
  4605  023a  88                	DEFB +0x88
  4606  023b  88                	DEFB +0x88
  4607  023c  88                	DEFB +0x88
  4608  023d  88                	DEFB +0x88
  4609  023e  88                	DEFB +0x88
  4610  023f  70                	DEFB +0x70
  4611  0240  00                	DEFB +0x00
  4612  0241  88                	DEFB +0x88
  4613  0242  88                	DEFB +0x88
  4614  0243  88                	DEFB +0x88
  4615  0244  88                	DEFB +0x88
  4616  0245  88                	DEFB +0x88
  4617  0246  50                	DEFB +0x50
  4618  0247  20                	DEFB +0x20
  4619  0248  00                	DEFB +0x00
  4620  0249  88                	DEFB +0x88
  4621  024a  88                	DEFB +0x88
  4622  024b  88                	DEFB +0x88
  4623  024c  88                	DEFB +0x88
  4624  024d  a8                	DEFB +0xa8
  4625  024e  a8                	DEFB +0xa8
  4626  024f  50                	DEFB +0x50
  4627  0250  00                	DEFB +0x00
  4628  0251  88                	DEFB +0x88
  4629  0252  88                	DEFB +0x88
  4630  0253  50                	DEFB +0x50
  4631  0254  20                	DEFB +0x20
  4632  0255  50                	DEFB +0x50
  4633  0256  88                	DEFB +0x88
  4634  0257  88                	DEFB +0x88
  4635  0258  00                	DEFB +0x00
  4636  0259  88                	DEFB +0x88
  4637  025a  88                	DEFB +0x88
  4638  025b  88                	DEFB +0x88
  4639  025c  50                	DEFB +0x50
  4640  025d  20                	DEFB +0x20
  4641  025e  20                	DEFB +0x20
  4642  025f  20                	DEFB +0x20
  4643  0260  00                	DEFB +0x00
  4644  0261  f8                	DEFB +0xf8
  4645  0262  08                	DEFB +0x08
  4646  0263  10                	DEFB +0x10
  4647  0264  20                	DEFB +0x20
  4648  0265  40                	DEFB +0x40
  4649  0266  80                	DEFB +0x80
  4650  0267  f8                	DEFB +0xf8
  4651  0268  00                	DEFB +0x00
  4652  0269  70                	DEFB +0x70
  4653  026a  40                	DEFB +0x40
  4654  026b  40                	DEFB +0x40
  4655  026c  40                	DEFB +0x40
  4656  026d  40                	DEFB +0x40
  4657  026e  40                	DEFB +0x40
  4658  026f  70                	DEFB +0x70
  4659  0270  00                	DEFB +0x00
  4660  0271  00                	DEFB +0x00
  4661  0272  80                	DEFB +0x80
  4662  0273  40                	DEFB +0x40
  4663  0274  20                	DEFB +0x20
  4664  0275  10                	DEFB +0x10
  4665  0276  08                	DEFB +0x08
  4666  0277  00                	DEFB +0x00
  4667  0278  00                	DEFB +0x00
  4668  0279  70                	DEFB +0x70
  4669  027a  10                	DEFB +0x10
  4670  027b  10                	DEFB +0x10
  4671  027c  10                	DEFB +0x10
  4672  027d  10                	DEFB +0x10
  4673  027e  10                	DEFB +0x10
  4674  027f  70                	DEFB +0x70
  4675  0280  00                	DEFB +0x00
  4676  0281  20                	DEFB +0x20
  4677  0282  50                	DEFB +0x50
  4678  0283  88                	DEFB +0x88
  4679  0284  00                	DEFB +0x00
  4680  0285  00                	DEFB +0x00
  4681  0286  00                	DEFB +0x00
  4682  0287  00                	DEFB +0x00
  4683  0288  00                	DEFB +0x00
  4684  0289  00                	DEFB +0x00
  4685  028a  00                	DEFB +0x00
  4686  028b  00                	DEFB +0x00
  4687  028c  00                	DEFB +0x00
  4688  028d  00                	DEFB +0x00
  4689  028e  00                	DEFB +0x00
  4690  028f  f8                	DEFB +0xf8
  4691  0290  00                	DEFB +0x00
  4692  0291  40                	DEFB +0x40
  4693  0292  20                	DEFB +0x20
  4694  0293  10                	DEFB +0x10
  4695  0294  00                	DEFB +0x00
  4696  0295  00                	DEFB +0x00
  4697  0296  00                	DEFB +0x00
  4698  0297  00                	DEFB +0x00
  4699  0298  00                	DEFB +0x00
  4700  0299  00                	DEFB +0x00
  4701  029a  00                	DEFB +0x00
  4702  029b  70                	DEFB +0x70
  4703  029c  08                	DEFB +0x08
  4704  029d  78                	DEFB +0x78
  4705  029e  88                	DEFB +0x88
  4706  029f  78                	DEFB +0x78
  4707  02a0  00                	DEFB +0x00
  4708  02a1  00                	DEFB +0x00
  4709  02a2  80                	DEFB +0x80
  4710  02a3  80                	DEFB +0x80
  4711  02a4  b0                	DEFB +0xb0
  4712  02a5  c8                	DEFB +0xc8
  4713  02a6  88                	DEFB +0x88
  4714  02a7  f0                	DEFB +0xf0
  4715  02a8  00                	DEFB +0x00
  4716  02a9  00                	DEFB +0x00
  4717  02aa  00                	DEFB +0x00
  4718  02ab  70                	DEFB +0x70
  4719  02ac  80                	DEFB +0x80
  4720  02ad  80                	DEFB +0x80
  4721  02ae  88                	DEFB +0x88
  4722  02af  70                	DEFB +0x70
  4723  02b0  00                	DEFB +0x00
  4724  02b1  08                	DEFB +0x08
  4725  02b2  08                	DEFB +0x08
  4726  02b3  08                	DEFB +0x08
  4727  02b4  68                	DEFB +0x68
  4728  02b5  98                	DEFB +0x98
  4729  02b6  88                	DEFB +0x88
  4730  02b7  78                	DEFB +0x78
  4731  02b8  00                	DEFB +0x00
  4732  02b9  00                	DEFB +0x00
  4733  02ba  00                	DEFB +0x00
  4734  02bb  70                	DEFB +0x70
  4735  02bc  88                	DEFB +0x88
  4736  02bd  f8                	DEFB +0xf8
  4737  02be  80                	DEFB +0x80
  4738  02bf  70                	DEFB +0x70
  4739  02c0  00                	DEFB +0x00
  4740  02c1  30                	DEFB +0x30
  4741  02c2  48                	DEFB +0x48
  4742  02c3  40                	DEFB +0x40
  4743  02c4  e0                	DEFB +0xe0
  4744  02c5  40                	DEFB +0x40
  4745  02c6  40                	DEFB +0x40
  4746  02c7  40                	DEFB +0x40
  4747  02c8  00                	DEFB +0x00
  4748  02c9  00                	DEFB +0x00
  4749  02ca  78                	DEFB +0x78
  4750  02cb  88                	DEFB +0x88
  4751  02cc  88                	DEFB +0x88
  4752  02cd  78                	DEFB +0x78
  4753  02ce  08                	DEFB +0x08
  4754  02cf  70                	DEFB +0x70
  4755  02d0  00                	DEFB +0x00
  4756  02d1  80                	DEFB +0x80
  4757  02d2  80                	DEFB +0x80
  4758  02d3  b0                	DEFB +0xb0
  4759  02d4  c8                	DEFB +0xc8
  4760  02d5  88                	DEFB +0x88
  4761  02d6  88                	DEFB +0x88
  4762  02d7  88                	DEFB +0x88
  4763  02d8  00                	DEFB +0x00
  4764  02d9  00                	DEFB +0x00
  4765  02da  20                	DEFB +0x20
  4766  02db  00                	DEFB +0x00
  4767  02dc  20                	DEFB +0x20
  4768  02dd  20                	DEFB +0x20
  4769  02de  20                	DEFB +0x20
  4770  02df  20                	DEFB +0x20
  4771  02e0  00                	DEFB +0x00
  4772  02e1  10                	DEFB +0x10
  4773  02e2  00                	DEFB +0x00
  4774  02e3  30                	DEFB +0x30
  4775  02e4  10                	DEFB +0x10
  4776  02e5  10                	DEFB +0x10
  4777  02e6  90                	DEFB +0x90
  4778  02e7  60                	DEFB +0x60
  4779  02e8  00                	DEFB +0x00
  4780  02e9  80                	DEFB +0x80
  4781  02ea  80                	DEFB +0x80
  4782  02eb  90                	DEFB +0x90
  4783  02ec  a0                	DEFB +0xa0
  4784  02ed  c0                	DEFB +0xc0
  4785  02ee  a0                	DEFB +0xa0
  4786  02ef  90                	DEFB +0x90
  4787  02f0  00                	DEFB +0x00
  4788  02f1  60                	DEFB +0x60
  4789  02f2  20                	DEFB +0x20
  4790  02f3  20                	DEFB +0x20
  4791  02f4  20                	DEFB +0x20
  4792  02f5  20                	DEFB +0x20
  4793  02f6  20                	DEFB +0x20
  4794  02f7  70                	DEFB +0x70
  4795  02f8  00                	DEFB +0x00
  4796  02f9  00                	DEFB +0x00
  4797  02fa  00                	DEFB +0x00
  4798  02fb  d0                	DEFB +0xd0
  4799  02fc  a8                	DEFB +0xa8
  4800  02fd  a8                	DEFB +0xa8
  4801  02fe  88                	DEFB +0x88
  4802  02ff  88                	DEFB +0x88
  4803  0300  00                	DEFB +0x00
  4804  0301  00                	DEFB +0x00
  4805  0302  00                	DEFB +0x00
  4806  0303  b0                	DEFB +0xb0
  4807  0304  c8                	DEFB +0xc8
  4808  0305  88                	DEFB +0x88
  4809  0306  88                	DEFB +0x88
  4810  0307  88                	DEFB +0x88
  4811  0308  00                	DEFB +0x00
  4812  0309  00                	DEFB +0x00
  4813  030a  00                	DEFB +0x00
  4814  030b  70                	DEFB +0x70
  4815  030c  88                	DEFB +0x88
  4816  030d  88                	DEFB +0x88
  4817  030e  88                	DEFB +0x88
  4818  030f  70                	DEFB +0x70
  4819  0310  00                	DEFB +0x00
  4820  0311  00                	DEFB +0x00
  4821  0312  00                	DEFB +0x00
  4822  0313  f0                	DEFB +0xf0
  4823  0314  88                	DEFB +0x88
  4824  0315  f0                	DEFB +0xf0
  4825  0316  80                	DEFB +0x80
  4826  0317  80                	DEFB +0x80
  4827  0318  00                	DEFB +0x00
  4828  0319  00                	DEFB +0x00
  4829  031a  00                	DEFB +0x00
  4830  031b  68                	DEFB +0x68
  4831  031c  98                	DEFB +0x98
  4832  031d  78                	DEFB +0x78
  4833  031e  08                	DEFB +0x08
  4834  031f  08                	DEFB +0x08
  4835  0320  00                	DEFB +0x00
  4836  0321  00                	DEFB +0x00
  4837  0322  00                	DEFB +0x00
  4838  0323  b0                	DEFB +0xb0
  4839  0324  c8                	DEFB +0xc8
  4840  0325  80                	DEFB +0x80
  4841  0326  80                	DEFB +0x80
  4842  0327  80                	DEFB +0x80
  4843  0328  00                	DEFB +0x00
  4844  0329  00                	DEFB +0x00
  4845  032a  00                	DEFB +0x00
  4846  032b  70                	DEFB +0x70
  4847  032c  80                	DEFB +0x80
  4848  032d  70                	DEFB +0x70
  4849  032e  08                	DEFB +0x08
  4850  032f  f0                	DEFB +0xf0
  4851  0330  00                	DEFB +0x00
  4852  0331  40                	DEFB +0x40
  4853  0332  40                	DEFB +0x40
  4854  0333  e0                	DEFB +0xe0
  4855  0334  40                	DEFB +0x40
  4856  0335  40                	DEFB +0x40
  4857  0336  48                	DEFB +0x48
  4858  0337  30                	DEFB +0x30
  4859  0338  00                	DEFB +0x00
  4860  0339  00                	DEFB +0x00
  4861  033a  00                	DEFB +0x00
  4862  033b  88                	DEFB +0x88
  4863  033c  88                	DEFB +0x88
  4864  033d  88                	DEFB +0x88
  4865  033e  98                	DEFB +0x98
  4866  033f  68                	DEFB +0x68
  4867  0340  00                	DEFB +0x00
  4868  0341  00                	DEFB +0x00
  4869  0342  00                	DEFB +0x00
  4870  0343  88                	DEFB +0x88
  4871  0344  88                	DEFB +0x88
  4872  0345  88                	DEFB +0x88
  4873  0346  50                	DEFB +0x50
  4874  0347  20                	DEFB +0x20
  4875  0348  00                	DEFB +0x00
  4876  0349  00                	DEFB +0x00
  4877  034a  00                	DEFB +0x00
  4878  034b  88                	DEFB +0x88
  4879  034c  88                	DEFB +0x88
  4880  034d  a8                	DEFB +0xa8
  4881  034e  a8                	DEFB +0xa8
  4882  034f  50                	DEFB +0x50
  4883  0350  00                	DEFB +0x00
  4884  0351  00                	DEFB +0x00
  4885  0352  00                	DEFB +0x00
  4886  0353  88                	DEFB +0x88
  4887  0354  50                	DEFB +0x50
  4888  0355  20                	DEFB +0x20
  4889  0356  50                	DEFB +0x50
  4890  0357  88                	DEFB +0x88
  4891  0358  00                	DEFB +0x00
  4892  0359  00                	DEFB +0x00
  4893  035a  00                	DEFB +0x00
  4894  035b  88                	DEFB +0x88
  4895  035c  88                	DEFB +0x88
  4896  035d  78                	DEFB +0x78
  4897  035e  08                	DEFB +0x08
  4898  035f  70                	DEFB +0x70
  4899  0360  00                	DEFB +0x00
  4900  0361  00                	DEFB +0x00
  4901  0362  00                	DEFB +0x00
  4902  0363  f8                	DEFB +0xf8
  4903  0364  10                	DEFB +0x10
  4904  0365  20                	DEFB +0x20
  4905  0366  40                	DEFB +0x40
  4906  0367  f8                	DEFB +0xf8
  4907  0368  00                	DEFB +0x00
  4908  0369  10                	DEFB +0x10
  4909  036a  20                	DEFB +0x20
  4910  036b  20                	DEFB +0x20
  4911  036c  40                	DEFB +0x40
  4912  036d  20                	DEFB +0x20
  4913  036e  20                	DEFB +0x20
  4914  036f  10                	DEFB +0x10
  4915  0370  00                	DEFB +0x00
  4916  0371  20                	DEFB +0x20
  4917  0372  20                	DEFB +0x20
  4918  0373  20                	DEFB +0x20
  4919  0374  20                	DEFB +0x20
  4920  0375  20                	DEFB +0x20
  4921  0376  20                	DEFB +0x20
  4922  0377  20                	DEFB +0x20
  4923  0378  00                	DEFB +0x00
  4924  0379  20                	DEFB +0x20
  4925  037a  10                	DEFB +0x10
  4926  037b  10                	DEFB +0x10
  4927  037c  08                	DEFB +0x08
  4928  037d  10                	DEFB +0x10
  4929  037e  10                	DEFB +0x10
  4930  037f  20                	DEFB +0x20
  4931  0380  00                	DEFB +0x00
  4932  0381  00                	DEFB +0x00
  4933  0382  28                	DEFB +0x28
  4934  0383  50                	DEFB +0x50
  4935  0384  00                	DEFB +0x00
  4936  0385  00                	DEFB +0x00
  4937  0386  00                	DEFB +0x00
  4938  0387  00                	DEFB +0x00
  4939  0388  00                	DEFB +0x00
  4940  0389  00                	DEFB 0x00
  4941  038a  00                	DEFB 0x00
  4942  038b  00                	DEFB 0x00
  4943  038c  00                	DEFB 0x00
  4944  038d  00                	DEFB 0x00
  4945  038e  00                	DEFB 0x00
  4946  038f  00                	DEFB 0x00
  4947  0390  00                	DEFB 0x00
  4948                          	SECTION code_compiler
  4949                          ;	---------------------------------
  4950                          ; Function _vt100_clearLines
  4951                          ; ---------------------------------
  4952                          __vt100_clearLines:
  4953  14f0  fd210500          	ld	iy,5
  4954  14f4  fd39              	add	iy, sp
  4955  14f6  fd7e00            	ld	a,(iy+0)
  4956  14f9  f5                	push	af
  4957  14fa  33                	inc	sp
  4958  14fb  fd2b              	dec	iy
  4959  14fd  fd7e00            	ld	a,(iy+0)
  4960  1500  f5                	push	af
  4961  1501  33                	inc	sp
  4962  1502  cd7d12            	call	_vdp_clearRows
  4963  1505  f1                	pop	af
  4964  1506  c9                	ret
  4965                          	SECTION code_compiler
  4966                          ;	---------------------------------
  4967                          ; Function _vt100_scroll
  4968                          ; ---------------------------------
  4969                          __vt100_scroll:
  4970  1507  210500            	ld	hl,4+1
  4971  150a  39                	add	hl, sp
  4972  150b  7e                	ld	a, (hl)
  4973  150c  2b                	dec	hl
  4974  150d  b6                	or	a, (hl)
  4975  150e  2839              	jr	Z,l__vt100_scroll_00110
  4976  1510  af                	xor	a, a
  4977  1511  fd210400          	ld	iy,4
  4978  1515  fd39              	add	iy, sp
  4979  1517  fdbe00            	cp	a,(iy+0)
  4980  151a  fd9e01            	sbc	a,(iy+1)
  4981  151d  e22215            	jp	PO, l__vt100_scroll_00133
  4982  1520  ee80              	xor	a,0x80
  4983                          l__vt100_scroll_00133:
  4984  1522  f24915            	jp	P, l__vt100_scroll_00110
  4985  1525  0e00              	ld	c,0x00
  4986                          l__vt100_scroll_00108:
  4987  1527  41                	ld	b, c
  4988  1528  1e00              	ld	e,0x00
  4989  152a  210400            	ld	hl,4
  4990  152d  39                	add	hl, sp
  4991  152e  78                	ld	a, b
  4992  152f  96                	sub	a, (hl)
  4993  1530  7b                	ld	a, e
  4994  1531  23                	inc	hl
  4995  1532  9e                	sbc	a, (hl)
  4996  1533  e23815            	jp	PO, l__vt100_scroll_00134
  4997  1536  ee80              	xor	a,0x80
  4998                          l__vt100_scroll_00134:
  4999  1538  f0                	ret	P
  5000  1539  c5                	push	bc
  5001  153a  3e17              	ld	a,0x17
  5002  153c  f5                	push	af
  5003  153d  33                	inc	sp
  5004  153e  af                	xor	a, a
  5005  153f  f5                	push	af
  5006  1540  33                	inc	sp
  5007  1541  cd0212            	call	_vdp_scrollTextUp
  5008  1544  f1                	pop	af
  5009  1545  c1                	pop	bc
  5010  1546  0c                	inc	c
  5011  1547  18de              	jr	l__vt100_scroll_00108
  5012                          l__vt100_scroll_00110:
  5013  1549  c9                	ret
  5014                          	SECTION code_compiler
  5015                          ;	---------------------------------
  5016                          ; Function _vt100_move
  5017                          ; ---------------------------------
  5018                          __vt100_move:
  5019  154a  dde5              	push	ix
  5020  154c  dd210000          	ld	ix,0
  5021  1550  dd39              	add	ix,sp
  5022  1552  f5                	push	af
  5023  1553  f5                	push	af
  5024  1554  3a2200            	ld	a, (_vdp_cursor + 0)
  5025  1557  0e00              	ld	c,0x00
  5026  1559  dd8606            	add	a,(ix+6)
  5027  155c  5f                	ld	e, a
  5028  155d  79                	ld	a, c
  5029  155e  dd8e07            	adc	a,(ix+7)
  5030  1561  57                	ld	d, a
  5031  1562  dd7e04            	ld	a,(ix+4)
  5032  1565  dd77fc            	ld	(ix-4),a
  5033  1568  dd7e05            	ld	a,(ix+5)
  5034  156b  dd77fd            	ld	(ix-3),a
  5035  156e  d5                	push	de
  5036  156f  212700            	ld	hl,0x0027
  5037  1572  e5                	push	hl
  5038  1573  d5                	push	de
  5039  1574  cd0000            	call	__divsint_callee
  5040  1577  dd75fe            	ld	(ix-2),l
  5041  157a  dd74ff            	ld	(ix-1),h
  5042  157d  d1                	pop	de
  5043  157e  3e27              	ld	a,0x27
  5044  1580  bb                	cp	a, e
  5045  1581  3e00              	ld	a,0x00
  5046  1583  9a                	sbc	a, d
  5047  1584  e28915            	jp	PO, l__vt100_move_00150
  5048  1587  ee80              	xor	a,0x80
  5049                          l__vt100_move_00150:
  5050  1589  f2bb15            	jp	P, l__vt100_move_00108
  5051  158c  e1                	pop	hl
  5052  158d  e5                	push	hl
  5053  158e  7e                	ld	a, (hl)
  5054  158f  e601              	and	a,0x01
  5055  1591  2821              	jr	Z,l__vt100_move_00102
  5056  1593  dd7efe            	ld	a,(ix-2)
  5057  1596  dd8608            	add	a,(ix+8)
  5058  1599  dd7708            	ld	(ix+8),a
  5059  159c  dd7eff            	ld	a,(ix-1)
  5060  159f  dd8e09            	adc	a,(ix+9)
  5061  15a2  dd7709            	ld	(ix+9),a
  5062  15a5  212700            	ld	hl,0x0027
  5063  15a8  e5                	push	hl
  5064  15a9  d5                	push	de
  5065  15aa  cd0000            	call	__modsint_callee
  5066  15ad  7d                	ld	a, l
  5067  15ae  3d                	dec	a
  5068  15af  322200            	ld	(_vdp_cursor),a
  5069  15b2  1838              	jr	l__vt100_move_00109
  5070                          l__vt100_move_00102:
  5071  15b4  212200            	ld	hl,_vdp_cursor
  5072  15b7  3627              	ld	(hl),0x27
  5073  15b9  1831              	jr	l__vt100_move_00109
  5074                          l__vt100_move_00108:
  5075  15bb  cb7a              	bit	7, d
  5076  15bd  2829              	jr	Z,l__vt100_move_00105
  5077  15bf  dd4efe            	ld	c,(ix-2)
  5078  15c2  dd46ff            	ld	b,(ix-1)
  5079  15c5  0b                	dec	bc
  5080  15c6  dd7e08            	ld	a,(ix+8)
  5081  15c9  81                	add	a, c
  5082  15ca  dd7708            	ld	(ix+8),a
  5083  15cd  dd7e09            	ld	a,(ix+9)
  5084  15d0  88                	adc	a, b
  5085  15d1  dd7709            	ld	(ix+9),a
  5086  15d4  eb                	ex	de, hl
  5087  15d5  cd0000            	call	_abs
  5088  15d8  112700            	ld	de,0x0027
  5089  15db  d5                	push	de
  5090  15dc  e5                	push	hl
  5091  15dd  cd0000            	call	__modsint_callee
  5092  15e0  3e28              	ld	a,0x28
  5093  15e2  95                	sub	a, l
  5094  15e3  322200            	ld	(_vdp_cursor),a
  5095  15e6  1804              	jr	l__vt100_move_00109
  5096                          l__vt100_move_00105:
  5097  15e8  212200            	ld	hl,_vdp_cursor
  5098  15eb  73                	ld	(hl), e
  5099                          l__vt100_move_00109:
  5100  15ec  dd7e09            	ld	a,(ix+9)
  5101  15ef  ddb608            	or	a,(ix+8)
  5102  15f2  2876              	jr	Z,l__vt100_move_00118
  5103  15f4  3a2300            	ld	a, ((_vdp_cursor + 1) + 0)
  5104  15f7  4f                	ld	c, a
  5105  15f8  0600              	ld	b,0x00
  5106  15fa  dd6e08            	ld	l,(ix+8)
  5107  15fd  dd6609            	ld	h,(ix+9)
  5108  1600  09                	add	hl, bc
  5109  1601  eb                	ex	de, hl
  5110  1602  af                	xor	a, a
  5111  1603  dd77fe            	ld	(ix-2),a
  5112  1606  dd77ff            	ld	(ix-1),a
  5113  1609  c1                	pop	bc
  5114  160a  c5                	push	bc
  5115  160b  210700            	ld	hl,7
  5116  160e  09                	add	hl, bc
  5117  160f  4e                	ld	c, (hl)
  5118  1610  23                	inc	hl
  5119  1611  46                	ld	b, (hl)
  5120  1612  7b                	ld	a, e
  5121  1613  91                	sub	a, c
  5122  1614  7a                	ld	a, d
  5123  1615  98                	sbc	a, b
  5124  1616  e21b16            	jp	PO, l__vt100_move_00151
  5125  1619  ee80              	xor	a,0x80
  5126                          l__vt100_move_00151:
  5127  161b  fa3216            	jp	M, l__vt100_move_00114
  5128  161e  7b                	ld	a, e
  5129  161f  91                	sub	a, c
  5130  1620  5f                	ld	e, a
  5131  1621  7a                	ld	a, d
  5132  1622  98                	sbc	a, b
  5133  1623  57                	ld	d, a
  5134  1624  13                	inc	de
  5135  1625  dd73fe            	ld	(ix-2),e
  5136  1628  dd72ff            	ld	(ix-1),d
  5137  162b  0d                	dec	c
  5138  162c  212300            	ld	hl, +(_vdp_cursor + 1)
  5139  162f  71                	ld	(hl), c
  5140  1630  182a              	jr	l__vt100_move_00115
  5141                          l__vt100_move_00114:
  5142  1632  c1                	pop	bc
  5143  1633  c5                	push	bc
  5144  1634  210500            	ld	hl,5
  5145  1637  09                	add	hl, bc
  5146  1638  4e                	ld	c, (hl)
  5147  1639  23                	inc	hl
  5148  163a  46                	ld	b, (hl)
  5149  163b  7b                	ld	a, e
  5150  163c  91                	sub	a, c
  5151  163d  7a                	ld	a, d
  5152  163e  98                	sbc	a, b
  5153  163f  e24416            	jp	PO, l__vt100_move_00152
  5154  1642  ee80              	xor	a,0x80
  5155                          l__vt100_move_00152:
  5156  1644  f25816            	jp	P, l__vt100_move_00111
  5157  1647  7b                	ld	a, e
  5158  1648  91                	sub	a, c
  5159  1649  5f                	ld	e, a
  5160  164a  7a                	ld	a, d
  5161  164b  98                	sbc	a, b
  5162  164c  dd73fe            	ld	(ix-2),e
  5163  164f  dd77ff            	ld	(ix-1),a
  5164  1652  212300            	ld	hl, +(_vdp_cursor + 1)
  5165  1655  71                	ld	(hl), c
  5166  1656  1804              	jr	l__vt100_move_00115
  5167                          l__vt100_move_00111:
  5168  1658  212300            	ld	hl, +(_vdp_cursor + 1)
  5169  165b  73                	ld	(hl), e
  5170                          l__vt100_move_00115:
  5171  165c  d1                	pop	de
  5172  165d  e1                	pop	hl
  5173  165e  e5                	push	hl
  5174  165f  d5                	push	de
  5175  1660  eb                	ex	de,hl
  5176  1661  e1                	pop	hl
  5177  1662  e5                	push	hl
  5178  1663  d5                	push	de
  5179  1664  e5                	push	hl
  5180  1665  cd0715            	call	__vt100_scroll
  5181  1668  f1                	pop	af
  5182  1669  f1                	pop	af
  5183                          l__vt100_move_00118:
  5184  166a  ddf9              	ld	sp, ix
  5185  166c  dde1              	pop	ix
  5186  166e  c9                	ret
  5187                          	SECTION code_compiler
  5188                          ;	---------------------------------
  5189                          ; Function _vt100_putc
  5190                          ; ---------------------------------
  5191                          __vt100_putc:
  5192  166f  fd210400          	ld	iy,4
  5193  1673  fd39              	add	iy, sp
  5194  1675  fd7e00            	ld	a,(iy+0)
  5195  1678  d620              	sub	a,0x20
  5196  167a  d8                	ret	C
  5197  167b  3e7e              	ld	a,0x7e
  5198  167d  fd9600            	sub	a,(iy+0)
  5199  1680  d8                	ret	C
  5200  1681  3a2300            	ld	a, (_vdp_cursor + 1)
  5201  1684  212200            	ld	hl,_vdp_cursor + 0
  5202  1687  46                	ld	b, (hl)
  5203  1688  fd210400          	ld	iy,4
  5204  168c  fd39              	add	iy, sp
  5205  168e  fd6600            	ld	h,(iy+0)
  5206  1691  e5                	push	hl
  5207  1692  33                	inc	sp
  5208  1693  f5                	push	af
  5209  1694  33                	inc	sp
  5210  1695  c5                	push	bc
  5211  1696  33                	inc	sp
  5212  1697  cd4111            	call	_vdp_writeCharAtLocation
  5213  169a  f1                	pop	af
  5214  169b  33                	inc	sp
  5215  169c  210000            	ld	hl,0x0000
  5216  169f  e5                	push	hl
  5217  16a0  2e01              	ld	l,0x01
  5218  16a2  e5                	push	hl
  5219  16a3  210600            	ld	hl,6
  5220  16a6  39                	add	hl, sp
  5221  16a7  4e                	ld	c, (hl)
  5222  16a8  23                	inc	hl
  5223  16a9  46                	ld	b, (hl)
  5224  16aa  c5                	push	bc
  5225  16ab  cd4a15            	call	__vt100_move
  5226  16ae  f1                	pop	af
  5227  16af  f1                	pop	af
  5228  16b0  f1                	pop	af
  5229  16b1  c9                	ret
  5230                          	SECTION code_compiler
  5231                          ;	---------------------------------
  5232                          ; Function vt100_puts
  5233                          ; ---------------------------------
  5234                          _vt100_puts:
  5235  16b2  e1                	pop	hl
  5236  16b3  c1                	pop	bc
  5237  16b4  c5                	push	bc
  5238  16b5  e5                	push	hl
  5239                          l_vt100_puts_00101:
  5240  16b6  0a                	ld	a, (bc)
  5241  16b7  b7                	or	a, a
  5242  16b8  c8                	ret	Z
  5243  16b9  03                	inc	bc
  5244  16ba  c5                	push	bc
  5245  16bb  f5                	push	af
  5246  16bc  33                	inc	sp
  5247  16bd  cd1525            	call	_vt100_putc
  5248  16c0  33                	inc	sp
  5249  16c1  c1                	pop	bc
  5250  16c2  18f2              	jr	l_vt100_puts_00101
  5251                          	SECTION code_compiler
  5252                          ;	---------------------------------
  5253                          ; Function _st_command_arg
  5254                          ; ---------------------------------
  5255                          __st_command_arg:
  5256  16c4  dde5              	push	ix
  5257  16c6  dd210000          	ld	ix,0
  5258  16ca  dd39              	add	ix,sp
  5259  16cc  3b                	dec	sp
  5260  16cd  dd7e06            	ld	a,(ix+6)
  5261  16d0  3d                	dec	a
  5262  16d1  c26417            	jp	NZ,l__st_command_arg_00112
  5263  16d4  dd6e07            	ld	l,(ix+7)
  5264  16d7  dd6608            	ld	h,(ix+8)
  5265  16da  cd0000            	call	_isdigit
  5266  16dd  eb                	ex	de, hl
  5267  16de  dd4e04            	ld	c,(ix+4)
  5268  16e1  dd4605            	ld	b,(ix+5)
  5269  16e4  210b00            	ld	hl,0x000b
  5270  16e7  09                	add	hl, bc
  5271  16e8  7e                	ld	a, (hl)
  5272  16e9  dd77ff            	ld	(ix-1),a
  5273  16ec  7a                	ld	a, d
  5274  16ed  b3                	or	a, e
  5275  16ee  282e              	jr	Z,l__st_command_arg_00109
  5276  16f0  210c00            	ld	hl,0x000c
  5277  16f3  09                	add	hl, bc
  5278  16f4  dd7eff            	ld	a,(ix-1)
  5279  16f7  87                	add	a, a
  5280  16f8  85                	add	a, l
  5281  16f9  4f                	ld	c, a
  5282  16fa  3e00              	ld	a,0x00
  5283  16fc  8c                	adc	a, h
  5284  16fd  47                	ld	b, a
  5285  16fe  69                	ld	l, c
  5286  16ff  60                	ld	h, b
  5287  1700  5e                	ld	e, (hl)
  5288  1701  23                	inc	hl
  5289  1702  56                	ld	d, (hl)
  5290  1703  6b                	ld	l, e
  5291  1704  62                	ld	h, d
  5292  1705  29                	add	hl, hl
  5293  1706  29                	add	hl, hl
  5294  1707  19                	add	hl, de
  5295  1708  29                	add	hl, hl
  5296  1709  dd7e07            	ld	a,(ix+7)
  5297  170c  c6d0              	add	a,0xd0
  5298  170e  5f                	ld	e, a
  5299  170f  dd7e08            	ld	a,(ix+8)
  5300  1712  ceff              	adc	a,0xff
  5301  1714  57                	ld	d, a
  5302  1715  19                	add	hl, de
  5303  1716  eb                	ex	de, hl
  5304  1717  7b                	ld	a, e
  5305  1718  02                	ld	(bc), a
  5306  1719  03                	inc	bc
  5307  171a  7a                	ld	a, d
  5308  171b  02                	ld	(bc), a
  5309  171c  1846              	jr	l__st_command_arg_00112
  5310                          l__st_command_arg_00109:
  5311  171e  dd5eff            	ld	e,(ix-1)
  5312  1721  1c                	inc	e
  5313  1722  dd7e07            	ld	a,(ix+7)
  5314  1725  d63b              	sub	a,0x3b
  5315  1727  ddb608            	or	a,(ix+8)
  5316  172a  2003              	jr	NZ,l__st_command_arg_00106
  5317  172c  73                	ld	(hl), e
  5318  172d  1835              	jr	l__st_command_arg_00112
  5319                          l__st_command_arg_00106:
  5320  172f  73                	ld	(hl), e
  5321  1730  59                	ld	e, c
  5322  1731  50                	ld	d, b
  5323  1732  211900            	ld	hl,25
  5324  1735  19                	add	hl, de
  5325  1736  5e                	ld	e, (hl)
  5326  1737  23                	inc	hl
  5327  1738  56                	ld	d, (hl)
  5328  1739  211500            	ld	hl,0x0015
  5329  173c  09                	add	hl, bc
  5330  173d  7a                	ld	a, d
  5331  173e  b3                	or	a, e
  5332  173f  2806              	jr	Z,l__st_command_arg_00103
  5333  1741  73                	ld	(hl), e
  5334  1742  23                	inc	hl
  5335  1743  72                	ld	(hl), d
  5336  1744  2b                	dec	hl
  5337  1745  1806              	jr	l__st_command_arg_00104
  5338                          l__st_command_arg_00103:
  5339  1747  36df              	ld	(hl), +((__st_idle) & 0xFF)
  5340  1749  23                	inc	hl
  5341  174a  3623              	ld	(hl), +((__st_idle) / 256)
  5342  174c  2b                	dec	hl
  5343                          l__st_command_arg_00104:
  5344  174d  5e                	ld	e, (hl)
  5345  174e  23                	inc	hl
  5346  174f  56                	ld	d, (hl)
  5347  1750  dd6e07            	ld	l,(ix+7)
  5348  1753  dd6608            	ld	h,(ix+8)
  5349  1756  e5                	push	hl
  5350  1757  dd7e06            	ld	a,(ix+6)
  5351  175a  f5                	push	af
  5352  175b  33                	inc	sp
  5353  175c  c5                	push	bc
  5354  175d  eb                	ex	de, hl
  5355  175e  cd0000            	call	___sdcc_call_hl
  5356  1761  f1                	pop	af
  5357  1762  f1                	pop	af
  5358  1763  33                	inc	sp
  5359                          l__st_command_arg_00112:
  5360  1764  33                	inc	sp
  5361  1765  dde1              	pop	ix
  5362  1767  c9                	ret
  5363                          	SECTION code_compiler
  5364                          ;	---------------------------------
  5365                          ; Function _st_esc_sq_bracket
  5366                          ; ---------------------------------
  5367                          __st_esc_sq_bracket:
  5368  1768  dde5              	push	ix
  5369  176a  dd210000          	ld	ix,0
  5370  176e  dd39              	add	ix,sp
  5371  1770  21faff            	ld	hl, -6
  5372  1773  39                	add	hl, sp
  5373  1774  f9                	ld	sp, hl
  5374  1775  dd7e06            	ld	a,(ix+6)
  5375  1778  3d                	dec	a
  5376  1779  c2201e            	jp	NZ,l__st_esc_sq_bracket_00188
  5377  177c  dd6e07            	ld	l,(ix+7)
  5378  177f  dd6608            	ld	h,(ix+8)
  5379  1782  cd0000            	call	_isdigit
  5380  1785  7c                	ld	a, h
  5381  1786  b5                	or	a, l
  5382  1787  2834              	jr	Z,l__st_esc_sq_bracket_00186
  5383  1789  dd4e04            	ld	c,(ix+4)
  5384  178c  dd4605            	ld	b,(ix+5)
  5385  178f  211900            	ld	hl,0x0019
  5386  1792  09                	add	hl, bc
  5387  1793  3668              	ld	(hl), +((__st_esc_sq_bracket) & 0xFF)
  5388  1795  23                	inc	hl
  5389  1796  3617              	ld	(hl), +((__st_esc_sq_bracket) / 256)
  5390  1798  dd6e07            	ld	l,(ix+7)
  5391  179b  dd6608            	ld	h,(ix+8)
  5392  179e  e5                	push	hl
  5393  179f  dd7e06            	ld	a,(ix+6)
  5394  17a2  f5                	push	af
  5395  17a3  33                	inc	sp
  5396  17a4  c5                	push	bc
  5397  17a5  cdc416            	call	__st_command_arg
  5398  17a8  f1                	pop	af
  5399  17a9  f1                	pop	af
  5400  17aa  33                	inc	sp
  5401  17ab  dd4e04            	ld	c,(ix+4)
  5402  17ae  dd4605            	ld	b,(ix+5)
  5403  17b1  211500            	ld	hl,0x0015
  5404  17b4  09                	add	hl, bc
  5405  17b5  36c4              	ld	(hl), +((__st_command_arg) & 0xFF)
  5406  17b7  23                	inc	hl
  5407  17b8  3616              	ld	(hl), +((__st_command_arg) / 256)
  5408  17ba  c32f1e            	jp	l__st_esc_sq_bracket_00193
  5409                          l__st_esc_sq_bracket_00186:
  5410  17bd  dd7e07            	ld	a,(ix+7)
  5411  17c0  d63b              	sub	a,0x3b
  5412  17c2  ddb608            	or	a,(ix+8)
  5413  17c5  ca2f1e            	jp	Z,l__st_esc_sq_bracket_00193
  5414  17c8  dd7e07            	ld	a,(ix+7)
  5415  17cb  d63d              	sub	a,0x3d
  5416  17cd  ddb608            	or	a,(ix+8)
  5417  17d0  caed1d            	jp	Z,l__st_esc_sq_bracket_00178
  5418  17d3  dd7e07            	ld	a,(ix+7)
  5419  17d6  d63f              	sub	a,0x3f
  5420  17d8  ddb608            	or	a,(ix+8)
  5421  17db  cafe1d            	jp	Z,l__st_esc_sq_bracket_00179
  5422  17de  dd7e07            	ld	a,(ix+7)
  5423  17e1  d640              	sub	a,0x40
  5424  17e3  ddb608            	or	a,(ix+8)
  5425  17e6  ca821d            	jp	Z,l__st_esc_sq_bracket_00171
  5426  17e9  dd7e07            	ld	a,(ix+7)
  5427  17ec  d641              	sub	a,0x41
  5428  17ee  ddb608            	or	a,(ix+8)
  5429  17f1  cade18            	jp	Z,l__st_esc_sq_bracket_00102
  5430  17f4  dd7e07            	ld	a,(ix+7)
  5431  17f7  d642              	sub	a,0x42
  5432  17f9  ddb608            	or	a,(ix+8)
  5433  17fc  ca0d19            	jp	Z,l__st_esc_sq_bracket_00103
  5434  17ff  dd7e07            	ld	a,(ix+7)
  5435  1802  d643              	sub	a,0x43
  5436  1804  ddb608            	or	a,(ix+8)
  5437  1807  ca4419            	jp	Z,l__st_esc_sq_bracket_00106
  5438  180a  dd7e07            	ld	a,(ix+7)
  5439  180d  d644              	sub	a,0x44
  5440  180f  ddb608            	or	a,(ix+8)
  5441  1812  ca7b19            	jp	Z,l__st_esc_sq_bracket_00109
  5442  1815  dd7e07            	ld	a,(ix+7)
  5443  1818  d648              	sub	a,0x48
  5444  181a  ddb608            	or	a,(ix+8)
  5445  181d  caaa19            	jp	Z,l__st_esc_sq_bracket_00111
  5446  1820  dd7e07            	ld	a,(ix+7)
  5447  1823  d64a              	sub	a,0x4a
  5448  1825  ddb608            	or	a,(ix+8)
  5449  1828  ca701a            	jp	Z,l__st_esc_sq_bracket_00120
  5450  182b  dd7e07            	ld	a,(ix+7)
  5451  182e  d64b              	sub	a,0x4b
  5452  1830  ddb608            	or	a,(ix+8)
  5453  1833  cafd1a            	jp	Z,l__st_esc_sq_bracket_00133
  5454  1836  dd7e07            	ld	a,(ix+7)
  5455  1839  d64c              	sub	a,0x4c
  5456  183b  ddb608            	or	a,(ix+8)
  5457  183e  ca441b            	jp	Z,l__st_esc_sq_bracket_00144
  5458  1841  dd7e07            	ld	a,(ix+7)
  5459  1844  d64d              	sub	a,0x4d
  5460  1846  ddb608            	or	a,(ix+8)
  5461  1849  ca441b            	jp	Z,l__st_esc_sq_bracket_00144
  5462  184c  dd7e07            	ld	a,(ix+7)
  5463  184f  d650              	sub	a,0x50
  5464  1851  ddb608            	or	a,(ix+8)
  5465  1854  ca731b            	jp	Z,l__st_esc_sq_bracket_00147
  5466  1857  dd7e07            	ld	a,(ix+7)
  5467  185a  d663              	sub	a,0x63
  5468  185c  ddb608            	or	a,(ix+8)
  5469  185f  cae31b            	jp	Z,l__st_esc_sq_bracket_00149
  5470  1862  dd7e07            	ld	a,(ix+7)
  5471  1865  d666              	sub	a,0x66
  5472  1867  ddb608            	or	a,(ix+8)
  5473  186a  caaa19            	jp	Z,l__st_esc_sq_bracket_00111
  5474  186d  dd7e07            	ld	a,(ix+7)
  5475  1870  d667              	sub	a,0x67
  5476  1872  ddb608            	or	a,(ix+8)
  5477  1875  ca901c            	jp	Z,l__st_esc_sq_bracket_00155
  5478  1878  dd7e07            	ld	a,(ix+7)
  5479  187b  d668              	sub	a,0x68
  5480  187d  ddb608            	or	a,(ix+8)
  5481  1880  ca7e1c            	jp	Z,l__st_esc_sq_bracket_00154
  5482  1883  dd7e07            	ld	a,(ix+7)
  5483  1886  d669              	sub	a,0x69
  5484  1888  ddb608            	or	a,(ix+8)
  5485  188b  caed1d            	jp	Z,l__st_esc_sq_bracket_00178
  5486  188e  dd7e07            	ld	a,(ix+7)
  5487  1891  d66c              	sub	a,0x6c
  5488  1893  ddb608            	or	a,(ix+8)
  5489  1896  ca7e1c            	jp	Z,l__st_esc_sq_bracket_00154
  5490  1899  dd7e07            	ld	a,(ix+7)
  5491  189c  d66d              	sub	a,0x6d
  5492  189e  ddb608            	or	a,(ix+8)
  5493  18a1  caa21c            	jp	Z,l__st_esc_sq_bracket_00156
  5494  18a4  dd7e07            	ld	a,(ix+7)
  5495  18a7  d672              	sub	a,0x72
  5496  18a9  ddb608            	or	a,(ix+8)
  5497  18ac  ca941d            	jp	Z,l__st_esc_sq_bracket_00172
  5498  18af  dd7e07            	ld	a,(ix+7)
  5499  18b2  d673              	sub	a,0x73
  5500  18b4  ddb608            	or	a,(ix+8)
  5501  18b7  ca1a1c            	jp	Z,l__st_esc_sq_bracket_00151
  5502  18ba  dd7e07            	ld	a,(ix+7)
  5503  18bd  d675              	sub	a,0x75
  5504  18bf  ddb608            	or	a,(ix+8)
  5505  18c2  ca5a1c            	jp	Z,l__st_esc_sq_bracket_00152
  5506  18c5  dd7e07            	ld	a,(ix+7)
  5507  18c8  d678              	sub	a,0x78
  5508  18ca  ddb608            	or	a,(ix+8)
  5509  18cd  ca081c            	jp	Z,l__st_esc_sq_bracket_00150
  5510  18d0  dd7e07            	ld	a,(ix+7)
  5511  18d3  d679              	sub	a,0x79
  5512  18d5  ddb608            	or	a,(ix+8)
  5513  18d8  caed1d            	jp	Z,l__st_esc_sq_bracket_00178
  5514  18db  c30f1e            	jp	l__st_esc_sq_bracket_00180
  5515                          l__st_esc_sq_bracket_00102:
  5516  18de  dd4e04            	ld	c,(ix+4)
  5517  18e1  dd4605            	ld	b,(ix+5)
  5518  18e4  c5                	push	bc
  5519  18e5  fde1              	pop	iy
  5520  18e7  fd7e0b            	ld	a,(iy+11)
  5521  18ea  b7                	or	a, a
  5522  18eb  280b              	jr	Z,l__st_esc_sq_bracket_00195
  5523  18ed  59                	ld	e, c
  5524  18ee  50                	ld	d, b
  5525  18ef  210c00            	ld	hl,12
  5526  18f2  19                	add	hl, de
  5527  18f3  5e                	ld	e, (hl)
  5528  18f4  23                	inc	hl
  5529  18f5  56                	ld	d, (hl)
  5530  18f6  1803              	jr	l__st_esc_sq_bracket_00196
  5531                          l__st_esc_sq_bracket_00195:
  5532  18f8  110100            	ld	de,0x0001
  5533                          l__st_esc_sq_bracket_00196:
  5534  18fb  212300            	ld	hl,_vdp_cursor+1
  5535  18fe  7e                	ld	a, (hl)
  5536  18ff  93                	sub	a, e
  5537  1900  77                	ld	(hl), a
  5538  1901  211500            	ld	hl,0x0015
  5539  1904  09                	add	hl, bc
  5540  1905  36df              	ld	(hl), +((__st_idle) & 0xFF)
  5541  1907  23                	inc	hl
  5542  1908  3623              	ld	(hl), +((__st_idle) / 256)
  5543  190a  c32f1e            	jp	l__st_esc_sq_bracket_00193
  5544                          l__st_esc_sq_bracket_00103:
  5545  190d  dd4e04            	ld	c,(ix+4)
  5546  1910  dd4605            	ld	b,(ix+5)
  5547  1913  c5                	push	bc
  5548  1914  fde1              	pop	iy
  5549  1916  fd7e0b            	ld	a,(iy+11)
  5550  1919  b7                	or	a, a
  5551  191a  280b              	jr	Z,l__st_esc_sq_bracket_00197
  5552  191c  59                	ld	e, c
  5553  191d  50                	ld	d, b
  5554  191e  210c00            	ld	hl,12
  5555  1921  19                	add	hl, de
  5556  1922  5e                	ld	e, (hl)
  5557  1923  23                	inc	hl
  5558  1924  56                	ld	d, (hl)
  5559  1925  1803              	jr	l__st_esc_sq_bracket_00198
  5560                          l__st_esc_sq_bracket_00197:
  5561  1927  110100            	ld	de,0x0001
  5562                          l__st_esc_sq_bracket_00198:
  5563  192a  212300            	ld	hl,_vdp_cursor+1
  5564  192d  7e                	ld	a, (hl)
  5565  192e  83                	add	a, e
  5566  192f  77                	ld	(hl), a
  5567  1930  5e                	ld	e, (hl)
  5568  1931  3e18              	ld	a,0x18
  5569  1933  93                	sub	a, e
  5570  1934  3002              	jr	NC,l__st_esc_sq_bracket_00105
  5571  1936  3618              	ld	(hl),0x18
  5572                          l__st_esc_sq_bracket_00105:
  5573  1938  211500            	ld	hl,0x0015
  5574  193b  09                	add	hl, bc
  5575  193c  36df              	ld	(hl), +((__st_idle) & 0xFF)
  5576  193e  23                	inc	hl
  5577  193f  3623              	ld	(hl), +((__st_idle) / 256)
  5578  1941  c32f1e            	jp	l__st_esc_sq_bracket_00193
  5579                          l__st_esc_sq_bracket_00106:
  5580  1944  dd4e04            	ld	c,(ix+4)
  5581  1947  dd4605            	ld	b,(ix+5)
  5582  194a  c5                	push	bc
  5583  194b  fde1              	pop	iy
  5584  194d  fd7e0b            	ld	a,(iy+11)
  5585  1950  b7                	or	a, a
  5586  1951  280b              	jr	Z,l__st_esc_sq_bracket_00199
  5587  1953  59                	ld	e, c
  5588  1954  50                	ld	d, b
  5589  1955  210c00            	ld	hl,12
  5590  1958  19                	add	hl, de
  5591  1959  5e                	ld	e, (hl)
  5592  195a  23                	inc	hl
  5593  195b  56                	ld	d, (hl)
  5594  195c  1803              	jr	l__st_esc_sq_bracket_00200
  5595                          l__st_esc_sq_bracket_00199:
  5596  195e  110100            	ld	de,0x0001
  5597                          l__st_esc_sq_bracket_00200:
  5598  1961  212200            	ld	hl,_vdp_cursor+0
  5599  1964  7e                	ld	a, (hl)
  5600  1965  83                	add	a, e
  5601  1966  77                	ld	(hl), a
  5602  1967  5e                	ld	e, (hl)
  5603  1968  3e27              	ld	a,0x27
  5604  196a  93                	sub	a, e
  5605  196b  3002              	jr	NC,l__st_esc_sq_bracket_00108
  5606  196d  3627              	ld	(hl),0x27
  5607                          l__st_esc_sq_bracket_00108:
  5608  196f  211500            	ld	hl,0x0015
  5609  1972  09                	add	hl, bc
  5610  1973  36df              	ld	(hl), +((__st_idle) & 0xFF)
  5611  1975  23                	inc	hl
  5612  1976  3623              	ld	(hl), +((__st_idle) / 256)
  5613  1978  c32f1e            	jp	l__st_esc_sq_bracket_00193
  5614                          l__st_esc_sq_bracket_00109:
  5615  197b  dd4e04            	ld	c,(ix+4)
  5616  197e  dd4605            	ld	b,(ix+5)
  5617  1981  c5                	push	bc
  5618  1982  fde1              	pop	iy
  5619  1984  fd7e0b            	ld	a,(iy+11)
  5620  1987  b7                	or	a, a
  5621  1988  280b              	jr	Z,l__st_esc_sq_bracket_00201
  5622  198a  59                	ld	e, c
  5623  198b  50                	ld	d, b
  5624  198c  210c00            	ld	hl,12
  5625  198f  19                	add	hl, de
  5626  1990  5e                	ld	e, (hl)
  5627  1991  23                	inc	hl
  5628  1992  56                	ld	d, (hl)
  5629  1993  1803              	jr	l__st_esc_sq_bracket_00202
  5630                          l__st_esc_sq_bracket_00201:
  5631  1995  110100            	ld	de,0x0001
  5632                          l__st_esc_sq_bracket_00202:
  5633  1998  212200            	ld	hl,_vdp_cursor+0
  5634  199b  7e                	ld	a, (hl)
  5635  199c  93                	sub	a, e
  5636  199d  77                	ld	(hl), a
  5637  199e  211500            	ld	hl,0x0015
  5638  19a1  09                	add	hl, bc
  5639  19a2  36df              	ld	(hl), +((__st_idle) & 0xFF)
  5640  19a4  23                	inc	hl
  5641  19a5  3623              	ld	(hl), +((__st_idle) / 256)
  5642  19a7  c32f1e            	jp	l__st_esc_sq_bracket_00193
  5643                          l__st_esc_sq_bracket_00111:
  5644  19aa  dd7e04            	ld	a,(ix+4)
  5645  19ad  dd77fa            	ld	(ix-6),a
  5646  19b0  dd7e05            	ld	a,(ix+5)
  5647  19b3  dd77fb            	ld	(ix-5),a
  5648  19b6  dd7efa            	ld	a,(ix-6)
  5649  19b9  c60b              	add	a,0x0b
  5650  19bb  dd77fc            	ld	(ix-4),a
  5651  19be  dd7efb            	ld	a,(ix-5)
  5652  19c1  ce00              	adc	a,0x00
  5653  19c3  dd77fd            	ld	(ix-3),a
  5654  19c6  dd6efc            	ld	l,(ix-4)
  5655  19c9  dd66fd            	ld	h,(ix-3)
  5656  19cc  7e                	ld	a, (hl)
  5657  19cd  d601              	sub	a,0x01
  5658  19cf  3812              	jr	C,l__st_esc_sq_bracket_00203
  5659  19d1  c1                	pop	bc
  5660  19d2  c5                	push	bc
  5661  19d3  210e00            	ld	hl,14
  5662  19d6  09                	add	hl, bc
  5663  19d7  7e                	ld	a, (hl)
  5664  19d8  3d                	dec	a
  5665  19d9  dd77fe            	ld	(ix-2),a
  5666  19dc  07                	rlca
  5667  19dd  9f                	sbc	a, a
  5668  19de  dd77ff            	ld	(ix-1),a
  5669  19e1  1807              	jr	l__st_esc_sq_bracket_00204
  5670                          l__st_esc_sq_bracket_00203:
  5671  19e3  af                	xor	a, a
  5672  19e4  dd77fe            	ld	(ix-2),a
  5673  19e7  dd77ff            	ld	(ix-1),a
  5674                          l__st_esc_sq_bracket_00204:
  5675  19ea  dd7efe            	ld	a,(ix-2)
  5676  19ed  322200            	ld	(_vdp_cursor),a
  5677  19f0  dd6efc            	ld	l,(ix-4)
  5678  19f3  dd66fd            	ld	h,(ix-3)
  5679  19f6  7e                	ld	a, (hl)
  5680  19f7  d602              	sub	a,0x02
  5681  19f9  200d              	jr	NZ,l__st_esc_sq_bracket_00205
  5682  19fb  c1                	pop	bc
  5683  19fc  c5                	push	bc
  5684  19fd  210c00            	ld	hl,12
  5685  1a00  09                	add	hl, bc
  5686  1a01  7e                	ld	a, (hl)
  5687  1a02  3d                	dec	a
  5688  1a03  4f                	ld	c, a
  5689  1a04  07                	rlca
  5690  1a05  9f                	sbc	a, a
  5691  1a06  1803              	jr	l__st_esc_sq_bracket_00206
  5692                          l__st_esc_sq_bracket_00205:
  5693  1a08  0e00              	ld	c,0x00
  5694  1a0a  af                	xor	a, a
  5695                          l__st_esc_sq_bracket_00206:
  5696  1a0b  212300            	ld	hl, +(_vdp_cursor + 1)
  5697  1a0e  71                	ld	(hl), c
  5698  1a0f  e1                	pop	hl
  5699  1a10  e5                	push	hl
  5700  1a11  7e                	ld	a, (hl)
  5701  1a12  0f                	rrca
  5702  1a13  0f                	rrca
  5703  1a14  e601              	and	a,0x01
  5704  1a16  282e              	jr	Z,l__st_esc_sq_bracket_00115
  5705  1a18  3a2300            	ld	a, ((_vdp_cursor + 1) + 0)
  5706  1a1b  c1                	pop	bc
  5707  1a1c  c5                	push	bc
  5708  1a1d  210500            	ld	hl,5
  5709  1a20  09                	add	hl, bc
  5710  1a21  4e                	ld	c, (hl)
  5711  1a22  81                	add	a, c
  5712  1a23  322300            	ld	((_vdp_cursor + 1)),a
  5713  1a26  212300            	ld	hl, +(_vdp_cursor + 1) + 0
  5714  1a29  5e                	ld	e, (hl)
  5715  1a2a  c1                	pop	bc
  5716  1a2b  c5                	push	bc
  5717  1a2c  210700            	ld	hl,7
  5718  1a2f  09                	add	hl, bc
  5719  1a30  4e                	ld	c, (hl)
  5720  1a31  23                	inc	hl
  5721  1a32  46                	ld	b, (hl)
  5722  1a33  1600              	ld	d,0x00
  5723  1a35  7b                	ld	a, e
  5724  1a36  91                	sub	a, c
  5725  1a37  7a                	ld	a, d
  5726  1a38  98                	sbc	a, b
  5727  1a39  e23e1a            	jp	PO, l__st_esc_sq_bracket_00561
  5728  1a3c  ee80              	xor	a,0x80
  5729                          l__st_esc_sq_bracket_00561:
  5730  1a3e  fa461a            	jp	M, l__st_esc_sq_bracket_00115
  5731  1a41  0d                	dec	c
  5732  1a42  212300            	ld	hl, +(_vdp_cursor + 1)
  5733  1a45  71                	ld	(hl), c
  5734                          l__st_esc_sq_bracket_00115:
  5735  1a46  212200            	ld	hl,_vdp_cursor + 0
  5736  1a49  4e                	ld	c, (hl)
  5737  1a4a  3e27              	ld	a,0x27
  5738  1a4c  91                	sub	a, c
  5739  1a4d  3005              	jr	NC,l__st_esc_sq_bracket_00117
  5740  1a4f  212200            	ld	hl,_vdp_cursor
  5741  1a52  3627              	ld	(hl),0x27
  5742                          l__st_esc_sq_bracket_00117:
  5743  1a54  212300            	ld	hl, +(_vdp_cursor + 1) + 0
  5744  1a57  4e                	ld	c, (hl)
  5745  1a58  3e18              	ld	a,0x18
  5746  1a5a  91                	sub	a, c
  5747  1a5b  3005              	jr	NC,l__st_esc_sq_bracket_00119
  5748  1a5d  212300            	ld	hl, +(_vdp_cursor + 1)
  5749  1a60  3618              	ld	(hl),0x18
  5750                          l__st_esc_sq_bracket_00119:
  5751  1a62  e1                	pop	hl
  5752  1a63  e5                	push	hl
  5753  1a64  111500            	ld	de,0x0015
  5754  1a67  19                	add	hl, de
  5755  1a68  36df              	ld	(hl), +((__st_idle) & 0xFF)
  5756  1a6a  23                	inc	hl
  5757  1a6b  3623              	ld	(hl), +((__st_idle) / 256)
  5758  1a6d  c32f1e            	jp	l__st_esc_sq_bracket_00193
  5759                          l__st_esc_sq_bracket_00120:
  5760  1a70  dd4e04            	ld	c,(ix+4)
  5761  1a73  dd4605            	ld	b,(ix+5)
  5762  1a76  c5                	push	bc
  5763  1a77  fde1              	pop	iy
  5764  1a79  fd5e0b            	ld	e,(iy+11)
  5765  1a7c  7b                	ld	a, e
  5766  1a7d  b7                	or	a, a
  5767  1a7e  2818              	jr	Z,l__st_esc_sq_bracket_00128
  5768  1a80  1d                	dec	e
  5769  1a81  2004              	jr	NZ,l__st_esc_sq_bracket_00562
  5770  1a83  3e01              	ld	a,0x01
  5771  1a85  1801              	jr	l__st_esc_sq_bracket_00563
  5772                          l__st_esc_sq_bracket_00562:
  5773  1a87  af                	xor	a,a
  5774                          l__st_esc_sq_bracket_00563:
  5775  1a88  5f                	ld	e,a
  5776  1a89  b7                	or	a, a
  5777  1a8a  281d              	jr	Z,l__st_esc_sq_bracket_00129
  5778  1a8c  c5                	push	bc
  5779  1a8d  fde1              	pop	iy
  5780  1a8f  fd7e0c            	ld	a,(iy+12)
  5781  1a92  fd560d            	ld	d,(iy+13)
  5782  1a95  b2                	or	a, d
  5783  1a96  2011              	jr	NZ,l__st_esc_sq_bracket_00129
  5784                          l__st_esc_sq_bracket_00128:
  5785  1a98  3a2300            	ld	a, ((_vdp_cursor + 1) + 0)
  5786  1a9b  2618              	ld	h,0x18
  5787  1a9d  e5                	push	hl
  5788  1a9e  33                	inc	sp
  5789  1a9f  f5                	push	af
  5790  1aa0  33                	inc	sp
  5791  1aa1  c5                	push	bc
  5792  1aa2  cdf014            	call	__vt100_clearLines
  5793  1aa5  f1                	pop	af
  5794  1aa6  f1                	pop	af
  5795  1aa7  1842              	jr	l__st_esc_sq_bracket_00130
  5796                          l__st_esc_sq_bracket_00129:
  5797  1aa9  7b                	ld	a, e
  5798  1aaa  b7                	or	a, a
  5799  1aab  281e              	jr	Z,l__st_esc_sq_bracket_00125
  5800  1aad  c5                	push	bc
  5801  1aae  fde1              	pop	iy
  5802  1ab0  fd560c            	ld	d,(iy+12)
  5803  1ab3  fd6e0d            	ld	l,(iy+13)
  5804  1ab6  7a                	ld	a, d
  5805  1ab7  3d                	dec	a
  5806  1ab8  b5                	or	a, l
  5807  1ab9  2010              	jr	NZ,l__st_esc_sq_bracket_00125
  5808  1abb  3a2300            	ld	a, ((_vdp_cursor + 1) + 0)
  5809  1abe  f5                	push	af
  5810  1abf  33                	inc	sp
  5811  1ac0  af                	xor	a, a
  5812  1ac1  f5                	push	af
  5813  1ac2  33                	inc	sp
  5814  1ac3  c5                	push	bc
  5815  1ac4  cdf014            	call	__vt100_clearLines
  5816  1ac7  f1                	pop	af
  5817  1ac8  f1                	pop	af
  5818  1ac9  1820              	jr	l__st_esc_sq_bracket_00130
  5819                          l__st_esc_sq_bracket_00125:
  5820  1acb  7b                	ld	a, e
  5821  1acc  b7                	or	a, a
  5822  1acd  281c              	jr	Z,l__st_esc_sq_bracket_00130
  5823  1acf  59                	ld	e, c
  5824  1ad0  50                	ld	d, b
  5825  1ad1  210c00            	ld	hl,12
  5826  1ad4  19                	add	hl, de
  5827  1ad5  5e                	ld	e, (hl)
  5828  1ad6  23                	inc	hl
  5829  1ad7  56                	ld	d, (hl)
  5830  1ad8  7b                	ld	a, e
  5831  1ad9  d602              	sub	a,0x02
  5832  1adb  b2                	or	a, d
  5833  1adc  200d              	jr	NZ,l__st_esc_sq_bracket_00130
  5834  1ade  3e18              	ld	a,0x18
  5835  1ae0  f5                	push	af
  5836  1ae1  33                	inc	sp
  5837  1ae2  af                	xor	a, a
  5838  1ae3  f5                	push	af
  5839  1ae4  33                	inc	sp
  5840  1ae5  c5                	push	bc
  5841  1ae6  cdf014            	call	__vt100_clearLines
  5842  1ae9  f1                	pop	af
  5843  1aea  f1                	pop	af
  5844                          l__st_esc_sq_bracket_00130:
  5845  1aeb  dd4e04            	ld	c,(ix+4)
  5846  1aee  dd4605            	ld	b,(ix+5)
  5847  1af1  211500            	ld	hl,0x0015
  5848  1af4  09                	add	hl, bc
  5849  1af5  36df              	ld	(hl), +((__st_idle) & 0xFF)
  5850  1af7  23                	inc	hl
  5851  1af8  3623              	ld	(hl), +((__st_idle) / 256)
  5852  1afa  c32f1e            	jp	l__st_esc_sq_bracket_00193
  5853                          l__st_esc_sq_bracket_00133:
  5854  1afd  dd4e04            	ld	c,(ix+4)
  5855  1b00  dd4605            	ld	b,(ix+5)
  5856  1b03  c5                	push	bc
  5857  1b04  fde1              	pop	iy
  5858  1b06  fd5e0b            	ld	e,(iy+11)
  5859  1b09  7b                	ld	a, e
  5860  1b0a  b7                	or	a, a
  5861  1b0b  282b              	jr	Z,l__st_esc_sq_bracket_00140
  5862  1b0d  1d                	dec	e
  5863  1b0e  2004              	jr	NZ,l__st_esc_sq_bracket_00568
  5864  1b10  3e01              	ld	a,0x01
  5865  1b12  1801              	jr	l__st_esc_sq_bracket_00569
  5866                          l__st_esc_sq_bracket_00568:
  5867  1b14  af                	xor	a,a
  5868                          l__st_esc_sq_bracket_00569:
  5869  1b15  5f                	ld	e,a
  5870  1b16  b7                	or	a, a
  5871  1b17  280c              	jr	Z,l__st_esc_sq_bracket_00139
  5872  1b19  c5                	push	bc
  5873  1b1a  fde1              	pop	iy
  5874  1b1c  fd7e0c            	ld	a,(iy+12)
  5875  1b1f  fd560d            	ld	d,(iy+13)
  5876  1b22  b2                	or	a, d
  5877  1b23  2813              	jr	Z,l__st_esc_sq_bracket_00140
  5878                          l__st_esc_sq_bracket_00139:
  5879  1b25  7b                	ld	a, e
  5880  1b26  b7                	or	a, a
  5881  1b27  280f              	jr	Z,l__st_esc_sq_bracket_00140
  5882  1b29  59                	ld	e, c
  5883  1b2a  50                	ld	d, b
  5884  1b2b  210c00            	ld	hl,12
  5885  1b2e  19                	add	hl, de
  5886  1b2f  5e                	ld	e, (hl)
  5887  1b30  23                	inc	hl
  5888  1b31  56                	ld	d, (hl)
  5889  1b32  7b                	ld	a, e
  5890  1b33  3d                	dec	a
  5891  1b34  b2                	or	a, d
  5892  1b35  2801              	jr	Z,l__st_esc_sq_bracket_00571
  5893  1b37  af                	xor	a,a
  5894                          l__st_esc_sq_bracket_00571:
  5895                          l__st_esc_sq_bracket_00140:
  5896  1b38  211500            	ld	hl,0x0015
  5897  1b3b  09                	add	hl, bc
  5898  1b3c  36df              	ld	(hl), +((__st_idle) & 0xFF)
  5899  1b3e  23                	inc	hl
  5900  1b3f  3623              	ld	(hl), +((__st_idle) / 256)
  5901  1b41  c32f1e            	jp	l__st_esc_sq_bracket_00193
  5902                          l__st_esc_sq_bracket_00144:
  5903  1b44  dd4e04            	ld	c,(ix+4)
  5904  1b47  dd4605            	ld	b,(ix+5)
  5905  1b4a  59                	ld	e, c
  5906  1b4b  50                	ld	d, b
  5907  1b4c  210c00            	ld	hl,12
  5908  1b4f  19                	add	hl, de
  5909  1b50  5e                	ld	e, (hl)
  5910  1b51  23                	inc	hl
  5911  1b52  56                	ld	d, (hl)
  5912  1b53  7a                	ld	a, d
  5913  1b54  b3                	or	a, e
  5914  1b55  2810              	jr	Z,l__st_esc_sq_bracket_00146
  5915  1b57  212300            	ld	hl,_vdp_cursor+1
  5916  1b5a  66                	ld	h, (hl)
  5917  1b5b  7b                	ld	a, e
  5918  1b5c  84                	add	a, h
  5919  1b5d  c5                	push	bc
  5920  1b5e  f5                	push	af
  5921  1b5f  33                	inc	sp
  5922  1b60  e5                	push	hl
  5923  1b61  33                	inc	sp
  5924  1b62  cd7d12            	call	_vdp_clearRows
  5925  1b65  f1                	pop	af
  5926  1b66  c1                	pop	bc
  5927                          l__st_esc_sq_bracket_00146:
  5928  1b67  211500            	ld	hl,0x0015
  5929  1b6a  09                	add	hl, bc
  5930  1b6b  36df              	ld	(hl), +((__st_idle) & 0xFF)
  5931  1b6d  23                	inc	hl
  5932  1b6e  3623              	ld	(hl), +((__st_idle) / 256)
  5933  1b70  c32f1e            	jp	l__st_esc_sq_bracket_00193
  5934                          l__st_esc_sq_bracket_00147:
  5935  1b73  dd4e04            	ld	c,(ix+4)
  5936  1b76  dd4605            	ld	b,(ix+5)
  5937  1b79  c5                	push	bc
  5938  1b7a  fde1              	pop	iy
  5939  1b7c  fd7e0b            	ld	a,(iy+11)
  5940  1b7f  b7                	or	a, a
  5941  1b80  280b              	jr	Z,l__st_esc_sq_bracket_00210
  5942  1b82  59                	ld	e, c
  5943  1b83  50                	ld	d, b
  5944  1b84  210c00            	ld	hl,12
  5945  1b87  19                	add	hl, de
  5946  1b88  5e                	ld	e, (hl)
  5947  1b89  23                	inc	hl
  5948  1b8a  56                	ld	d, (hl)
  5949  1b8b  1803              	jr	l__st_esc_sq_bracket_00211
  5950                          l__st_esc_sq_bracket_00210:
  5951  1b8d  110100            	ld	de,0x0001
  5952                          l__st_esc_sq_bracket_00211:
  5953  1b90  af                	xor	a, a
  5954  1b91  93                	sub	a, e
  5955  1b92  6f                	ld	l, a
  5956  1b93  9f                	sbc	a, a
  5957  1b94  92                	sub	a, d
  5958  1b95  c5                	push	bc
  5959  1b96  d5                	push	de
  5960  1b97  fd210000          	ld	iy,0x0000
  5961  1b9b  fde5              	push	iy
  5962  1b9d  67                	ld	h, a
  5963  1b9e  e5                	push	hl
  5964  1b9f  c5                	push	bc
  5965  1ba0  cd4a15            	call	__vt100_move
  5966  1ba3  f1                	pop	af
  5967  1ba4  f1                	pop	af
  5968  1ba5  f1                	pop	af
  5969  1ba6  d1                	pop	de
  5970  1ba7  c1                	pop	bc
  5971  1ba8  af                	xor	a, a
  5972  1ba9  dd77fe            	ld	(ix-2),a
  5973  1bac  dd77ff            	ld	(ix-1),a
  5974                          l__st_esc_sq_bracket_00191:
  5975  1baf  dd7efe            	ld	a,(ix-2)
  5976  1bb2  93                	sub	a, e
  5977  1bb3  dd7eff            	ld	a,(ix-1)
  5978  1bb6  9a                	sbc	a, d
  5979  1bb7  e2bc1b            	jp	PO, l__st_esc_sq_bracket_00572
  5980  1bba  ee80              	xor	a,0x80
  5981                          l__st_esc_sq_bracket_00572:
  5982  1bbc  f2d71b            	jp	P, l__st_esc_sq_bracket_00148
  5983  1bbf  c5                	push	bc
  5984  1bc0  d5                	push	de
  5985  1bc1  3e20              	ld	a,0x20
  5986  1bc3  f5                	push	af
  5987  1bc4  33                	inc	sp
  5988  1bc5  c5                	push	bc
  5989  1bc6  cd6f16            	call	__vt100_putc
  5990  1bc9  f1                	pop	af
  5991  1bca  33                	inc	sp
  5992  1bcb  d1                	pop	de
  5993  1bcc  c1                	pop	bc
  5994  1bcd  dd34fe            	inc	(ix-2)
  5995  1bd0  20dd              	jr	NZ,l__st_esc_sq_bracket_00191
  5996  1bd2  dd34ff            	inc	(ix-1)
  5997  1bd5  18d8              	jr	l__st_esc_sq_bracket_00191
  5998                          l__st_esc_sq_bracket_00148:
  5999  1bd7  211500            	ld	hl,0x0015
  6000  1bda  09                	add	hl, bc
  6001  1bdb  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6002  1bdd  23                	inc	hl
  6003  1bde  3623              	ld	(hl), +((__st_idle) / 256)
  6004  1be0  c32f1e            	jp	l__st_esc_sq_bracket_00193
  6005                          l__st_esc_sq_bracket_00149:
  6006  1be3  dd4e04            	ld	c,(ix+4)
  6007  1be6  dd4605            	ld	b,(ix+5)
  6008  1be9  c5                	push	bc
  6009  1bea  fde1              	pop	iy
  6010  1bec  fd6e17            	ld	l,(iy+23)
  6011  1bef  fd6618            	ld	h,(iy+24)
  6012  1bf2  119903            	ld	de,___str_0+0
  6013  1bf5  c5                	push	bc
  6014  1bf6  d5                	push	de
  6015  1bf7  cd0000            	call	___sdcc_call_hl
  6016  1bfa  f1                	pop	af
  6017  1bfb  c1                	pop	bc
  6018  1bfc  211500            	ld	hl,0x0015
  6019  1bff  09                	add	hl, bc
  6020  1c00  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6021  1c02  23                	inc	hl
  6022  1c03  3623              	ld	(hl), +((__st_idle) / 256)
  6023  1c05  c32f1e            	jp	l__st_esc_sq_bracket_00193
  6024                          l__st_esc_sq_bracket_00150:
  6025  1c08  dd4e04            	ld	c,(ix+4)
  6026  1c0b  dd4605            	ld	b,(ix+5)
  6027  1c0e  211500            	ld	hl,0x0015
  6028  1c11  09                	add	hl, bc
  6029  1c12  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6030  1c14  23                	inc	hl
  6031  1c15  3623              	ld	(hl), +((__st_idle) / 256)
  6032  1c17  c32f1e            	jp	l__st_esc_sq_bracket_00193
  6033                          l__st_esc_sq_bracket_00151:
  6034  1c1a  dd4e04            	ld	c,(ix+4)
  6035  1c1d  dd4605            	ld	b,(ix+5)
  6036  1c20  59                	ld	e, c
  6037  1c21  50                	ld	d, b
  6038  1c22  13                	inc	de
  6039  1c23  3a2200            	ld	a, (_vdp_cursor + 0)
  6040  1c26  dd77fe            	ld	(ix-2),a
  6041  1c29  dd36ff00          	ld	(ix-1),0x00
  6042  1c2d  dd7efe            	ld	a,(ix-2)
  6043  1c30  12                	ld	(de), a
  6044  1c31  13                	inc	de
  6045  1c32  dd7eff            	ld	a,(ix-1)
  6046  1c35  12                	ld	(de), a
  6047  1c36  59                	ld	e, c
  6048  1c37  50                	ld	d, b
  6049  1c38  13                	inc	de
  6050  1c39  13                	inc	de
  6051  1c3a  13                	inc	de
  6052  1c3b  3a2300            	ld	a, ((_vdp_cursor + 1) + 0)
  6053  1c3e  dd77fe            	ld	(ix-2),a
  6054  1c41  dd36ff00          	ld	(ix-1),0x00
  6055  1c45  dd7efe            	ld	a,(ix-2)
  6056  1c48  12                	ld	(de), a
  6057  1c49  13                	inc	de
  6058  1c4a  dd7eff            	ld	a,(ix-1)
  6059  1c4d  12                	ld	(de), a
  6060  1c4e  211500            	ld	hl,0x0015
  6061  1c51  09                	add	hl, bc
  6062  1c52  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6063  1c54  23                	inc	hl
  6064  1c55  3623              	ld	(hl), +((__st_idle) / 256)
  6065  1c57  c32f1e            	jp	l__st_esc_sq_bracket_00193
  6066                          l__st_esc_sq_bracket_00152:
  6067  1c5a  112200            	ld	de,_vdp_cursor+0
  6068  1c5d  dd4e04            	ld	c,(ix+4)
  6069  1c60  dd4605            	ld	b,(ix+5)
  6070  1c63  69                	ld	l, c
  6071  1c64  60                	ld	h, b
  6072  1c65  23                	inc	hl
  6073  1c66  7e                	ld	a, (hl)
  6074  1c67  12                	ld	(de), a
  6075  1c68  112300            	ld	de,_vdp_cursor+1
  6076  1c6b  69                	ld	l, c
  6077  1c6c  60                	ld	h, b
  6078  1c6d  23                	inc	hl
  6079  1c6e  23                	inc	hl
  6080  1c6f  23                	inc	hl
  6081  1c70  7e                	ld	a, (hl)
  6082  1c71  12                	ld	(de), a
  6083  1c72  211500            	ld	hl,0x0015
  6084  1c75  09                	add	hl, bc
  6085  1c76  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6086  1c78  23                	inc	hl
  6087  1c79  3623              	ld	(hl), +((__st_idle) / 256)
  6088  1c7b  c32f1e            	jp	l__st_esc_sq_bracket_00193
  6089                          l__st_esc_sq_bracket_00154:
  6090  1c7e  dd4e04            	ld	c,(ix+4)
  6091  1c81  dd4605            	ld	b,(ix+5)
  6092  1c84  211500            	ld	hl,0x0015
  6093  1c87  09                	add	hl, bc
  6094  1c88  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6095  1c8a  23                	inc	hl
  6096  1c8b  3623              	ld	(hl), +((__st_idle) / 256)
  6097  1c8d  c32f1e            	jp	l__st_esc_sq_bracket_00193
  6098                          l__st_esc_sq_bracket_00155:
  6099  1c90  dd4e04            	ld	c,(ix+4)
  6100  1c93  dd4605            	ld	b,(ix+5)
  6101  1c96  211500            	ld	hl,0x0015
  6102  1c99  09                	add	hl, bc
  6103  1c9a  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6104  1c9c  23                	inc	hl
  6105  1c9d  3623              	ld	(hl), +((__st_idle) / 256)
  6106  1c9f  c32f1e            	jp	l__st_esc_sq_bracket_00193
  6107                          l__st_esc_sq_bracket_00156:
  6108  1ca2  dd4e04            	ld	c,(ix+4)
  6109  1ca5  dd4605            	ld	b,(ix+5)
  6110  1ca8  210b00            	ld	hl,0x000b
  6111  1cab  09                	add	hl, bc
  6112  1cac  eb                	ex	de, hl
  6113  1cad  1a                	ld	a, (de)
  6114  1cae  b7                	or	a, a
  6115  1caf  200c              	jr	NZ,l__st_esc_sq_bracket_00271
  6116  1cb1  210a00            	ld	hl,0x000a
  6117  1cb4  09                	add	hl, bc
  6118  1cb5  360f              	ld	(hl),0x0f
  6119  1cb7  210900            	ld	hl,0x0009
  6120  1cba  09                	add	hl, bc
  6121  1cbb  3600              	ld	(hl),0x00
  6122                          l__st_esc_sq_bracket_00271:
  6123  1cbd  210c00            	ld	hl,0x000c
  6124  1cc0  09                	add	hl, bc
  6125  1cc1  e3                	ex	(sp), hl
  6126                          l__st_esc_sq_bracket_00168:
  6127  1cc2  1a                	ld	a, (de)
  6128  1cc3  b7                	or	a, a
  6129  1cc4  ca761d            	jp	Z, l__st_esc_sq_bracket_00170
  6130  1cc7  1a                	ld	a, (de)
  6131  1cc8  3d                	dec	a
  6132  1cc9  12                	ld	(de), a
  6133  1cca  87                	add	a, a
  6134  1ccb  dd86fa            	add	a,(ix-6)
  6135  1cce  6f                	ld	l, a
  6136  1ccf  3e00              	ld	a,0x00
  6137  1cd1  dd8efb            	adc	a,(ix-5)
  6138  1cd4  67                	ld	h, a
  6139  1cd5  7e                	ld	a, (hl)
  6140  1cd6  dd77fc            	ld	(ix-4),a
  6141  1cd9  23                	inc	hl
  6142  1cda  7e                	ld	a, (hl)
  6143  1cdb  dd77fd            	ld	(ix-3),a
  6144  1cde  ddb6fc            	or	a,(ix-4)
  6145  1ce1  200c              	jr	NZ,l__st_esc_sq_bracket_00160
  6146  1ce3  210a00            	ld	hl,0x000a
  6147  1ce6  09                	add	hl, bc
  6148  1ce7  360f              	ld	(hl),0x0f
  6149  1ce9  210900            	ld	hl,0x0009
  6150  1cec  09                	add	hl, bc
  6151  1ced  3600              	ld	(hl),0x00
  6152                          l__st_esc_sq_bracket_00160:
  6153  1cef  dd7efc            	ld	a,(ix-4)
  6154  1cf2  d61e              	sub	a,0x1e
  6155  1cf4  dd7efd            	ld	a,(ix-3)
  6156  1cf7  17                	rla
  6157  1cf8  3f                	ccf
  6158  1cf9  1f                	rra
  6159  1cfa  de80              	sbc	a,0x80
  6160  1cfc  3834              	jr	C,l__st_esc_sq_bracket_00165
  6161  1cfe  dd7efc            	ld	a,(ix-4)
  6162  1d01  d626              	sub	a,0x26
  6163  1d03  dd7efd            	ld	a,(ix-3)
  6164  1d06  17                	rla
  6165  1d07  3f                	ccf
  6166  1d08  1f                	rra
  6167  1d09  de80              	sbc	a,0x80
  6168  1d0b  3025              	jr	NC,l__st_esc_sq_bracket_00165
  6169  1d0d  210a00            	ld	hl,0x000a
  6170  1d10  09                	add	hl, bc
  6171  1d11  dd7efc            	ld	a,(ix-4)
  6172  1d14  c6e2              	add	a,0xe2
  6173  1d16  f5                	push	af
  6174  1d17  07                	rlca
  6175  1d18  9f                	sbc	a, a
  6176  1d19  fde5              	push	iy
  6177  1d1b  dd77f7            	ld	(ix-9),a
  6178  1d1e  fde1              	pop	iy
  6179  1d20  f1                	pop	af
  6180  1d21  fd219103          	ld	iy,__st_esc_sq_bracket_colors_393217_824
  6181  1d25  c5                	push	bc
  6182  1d26  4f                	ld	c, a
  6183  1d27  fd44              	ld	b, iyh
  6184  1d29  fd09              	add	iy, bc
  6185  1d2b  c1                	pop	bc
  6186  1d2c  fd7e00            	ld	a,(iy+0)
  6187  1d2f  77                	ld	(hl), a
  6188  1d30  1890              	jr	l__st_esc_sq_bracket_00168
  6189                          l__st_esc_sq_bracket_00165:
  6190  1d32  dd7efc            	ld	a,(ix-4)
  6191  1d35  d628              	sub	a,0x28
  6192  1d37  dd7efd            	ld	a,(ix-3)
  6193  1d3a  17                	rla
  6194  1d3b  3f                	ccf
  6195  1d3c  1f                	rra
  6196  1d3d  de80              	sbc	a,0x80
  6197  1d3f  dac21c            	jp	C, l__st_esc_sq_bracket_00168
  6198  1d42  dd7efc            	ld	a,(ix-4)
  6199  1d45  d630              	sub	a,0x30
  6200  1d47  dd7efd            	ld	a,(ix-3)
  6201  1d4a  17                	rla
  6202  1d4b  3f                	ccf
  6203  1d4c  1f                	rra
  6204  1d4d  de80              	sbc	a,0x80
  6205  1d4f  d2c21c            	jp	NC, l__st_esc_sq_bracket_00168
  6206  1d52  210900            	ld	hl,0x0009
  6207  1d55  09                	add	hl, bc
  6208  1d56  dd75fe            	ld	(ix-2),l
  6209  1d59  dd74ff            	ld	(ix-1),h
  6210  1d5c  dd7efc            	ld	a,(ix-4)
  6211  1d5f  c6d8              	add	a,0xd8
  6212  1d61  6f                	ld	l, a
  6213  1d62  07                	rlca
  6214  1d63  9f                	sbc	a, a
  6215  1d64  67                	ld	h, a
  6216  1d65  d5                	push	de
  6217  1d66  119103            	ld	de,__st_esc_sq_bracket_colors_393217_824
  6218  1d69  19                	add	hl, de
  6219  1d6a  d1                	pop	de
  6220  1d6b  7e                	ld	a, (hl)
  6221  1d6c  dd6efe            	ld	l,(ix-2)
  6222  1d6f  dd66ff            	ld	h,(ix-1)
  6223  1d72  77                	ld	(hl), a
  6224  1d73  c3c21c            	jp	l__st_esc_sq_bracket_00168
  6225                          l__st_esc_sq_bracket_00170:
  6226  1d76  211500            	ld	hl,0x0015
  6227  1d79  09                	add	hl, bc
  6228  1d7a  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6229  1d7c  23                	inc	hl
  6230  1d7d  3623              	ld	(hl), +((__st_idle) / 256)
  6231  1d7f  c32f1e            	jp	l__st_esc_sq_bracket_00193
  6232                          l__st_esc_sq_bracket_00171:
  6233  1d82  dd4e04            	ld	c,(ix+4)
  6234  1d85  dd4605            	ld	b,(ix+5)
  6235  1d88  211500            	ld	hl,0x0015
  6236  1d8b  09                	add	hl, bc
  6237  1d8c  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6238  1d8e  23                	inc	hl
  6239  1d8f  3623              	ld	(hl), +((__st_idle) / 256)
  6240  1d91  c32f1e            	jp	l__st_esc_sq_bracket_00193
  6241                          l__st_esc_sq_bracket_00172:
  6242  1d94  dd4e04            	ld	c,(ix+4)
  6243  1d97  dd4605            	ld	b,(ix+5)
  6244  1d9a  59                	ld	e, c
  6245  1d9b  50                	ld	d, b
  6246  1d9c  210b00            	ld	hl,11
  6247  1d9f  19                	add	hl, de
  6248  1da0  7e                	ld	a, (hl)
  6249  1da1  d602              	sub	a,0x02
  6250  1da3  203d              	jr	NZ,l__st_esc_sq_bracket_00174
  6251  1da5  59                	ld	e, c
  6252  1da6  50                	ld	d, b
  6253  1da7  fd210e00          	ld	iy,0x000e
  6254  1dab  fd09              	add	iy, bc
  6255  1dad  210c00            	ld	hl,12
  6256  1db0  19                	add	hl, de
  6257  1db1  5e                	ld	e, (hl)
  6258  1db2  23                	inc	hl
  6259  1db3  56                	ld	d, (hl)
  6260  1db4  fd6e00            	ld	l,(iy+0)
  6261  1db7  fd6601            	ld	h,(iy+1)
  6262  1dba  7b                	ld	a, e
  6263  1dbb  95                	sub	a, l
  6264  1dbc  7a                	ld	a, d
  6265  1dbd  9c                	sbc	a, h
  6266  1dbe  3022              	jr	NC,l__st_esc_sq_bracket_00174
  6267  1dc0  210500            	ld	hl,0x0005
  6268  1dc3  09                	add	hl, bc
  6269  1dc4  1b                	dec	de
  6270  1dc5  73                	ld	(hl), e
  6271  1dc6  23                	inc	hl
  6272  1dc7  72                	ld	(hl), d
  6273  1dc8  210700            	ld	hl,0x0007
  6274  1dcb  09                	add	hl, bc
  6275  1dcc  dd75fe            	ld	(ix-2),l
  6276  1dcf  dd74ff            	ld	(ix-1),h
  6277  1dd2  fd5e00            	ld	e,(iy+0)
  6278  1dd5  fd5601            	ld	d,(iy+1)
  6279  1dd8  1b                	dec	de
  6280  1dd9  dd6efe            	ld	l,(ix-2)
  6281  1ddc  dd66ff            	ld	h,(ix-1)
  6282  1ddf  73                	ld	(hl), e
  6283  1de0  23                	inc	hl
  6284  1de1  72                	ld	(hl), d
  6285                          l__st_esc_sq_bracket_00174:
  6286  1de2  211500            	ld	hl,0x0015
  6287  1de5  09                	add	hl, bc
  6288  1de6  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6289  1de8  23                	inc	hl
  6290  1de9  3623              	ld	(hl), +((__st_idle) / 256)
  6291  1deb  1842              	jr	l__st_esc_sq_bracket_00193
  6292                          l__st_esc_sq_bracket_00178:
  6293  1ded  dd4e04            	ld	c,(ix+4)
  6294  1df0  dd4605            	ld	b,(ix+5)
  6295  1df3  211500            	ld	hl,0x0015
  6296  1df6  09                	add	hl, bc
  6297  1df7  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6298  1df9  23                	inc	hl
  6299  1dfa  3623              	ld	(hl), +((__st_idle) / 256)
  6300  1dfc  1831              	jr	l__st_esc_sq_bracket_00193
  6301                          l__st_esc_sq_bracket_00179:
  6302  1dfe  dd4e04            	ld	c,(ix+4)
  6303  1e01  dd4605            	ld	b,(ix+5)
  6304  1e04  211500            	ld	hl,0x0015
  6305  1e07  09                	add	hl, bc
  6306  1e08  3634              	ld	(hl), +((__st_esc_question) & 0xFF)
  6307  1e0a  23                	inc	hl
  6308  1e0b  361e              	ld	(hl), +((__st_esc_question) / 256)
  6309  1e0d  1820              	jr	l__st_esc_sq_bracket_00193
  6310                          l__st_esc_sq_bracket_00180:
  6311  1e0f  dd4e04            	ld	c,(ix+4)
  6312  1e12  dd4605            	ld	b,(ix+5)
  6313  1e15  211500            	ld	hl,0x0015
  6314  1e18  09                	add	hl, bc
  6315  1e19  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6316  1e1b  23                	inc	hl
  6317  1e1c  3623              	ld	(hl), +((__st_idle) / 256)
  6318  1e1e  180f              	jr	l__st_esc_sq_bracket_00193
  6319                          l__st_esc_sq_bracket_00188:
  6320  1e20  dd4e04            	ld	c,(ix+4)
  6321  1e23  dd4605            	ld	b,(ix+5)
  6322  1e26  211500            	ld	hl,0x0015
  6323  1e29  09                	add	hl, bc
  6324  1e2a  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6325  1e2c  23                	inc	hl
  6326  1e2d  3623              	ld	(hl), +((__st_idle) / 256)
  6327                          l__st_esc_sq_bracket_00193:
  6328  1e2f  ddf9              	ld	sp, ix
  6329  1e31  dde1              	pop	ix
  6330  1e33  c9                	ret
  6331                          	SECTION rodata_compiler
  6332                          __st_esc_sq_bracket_colors_393217_824:
  6333  0391  00                	DEFB +0x00
  6334  0392  09                	DEFB +0x09
  6335  0393  03                	DEFB +0x03
  6336  0394  0b                	DEFB +0x0b
  6337  0395  05                	DEFB +0x05
  6338  0396  0d                	DEFB +0x0d
  6339  0397  07                	DEFB +0x07
  6340  0398  0f                	DEFB +0x0f
  6341                          	SECTION rodata_compiler
  6342                          ___str_0:
  6343  0399  005b3f0d3b0200    	DEFM "e[?1;0c"
  6344  03a0  00                	DEFB 0x00
  6345                          	SECTION code_compiler
  6346                          ;	---------------------------------
  6347                          ; Function _st_esc_question
  6348                          ; ---------------------------------
  6349                          __st_esc_question:
  6350  1e34  dde5              	push	ix
  6351  1e36  dd210000          	ld	ix,0
  6352  1e3a  dd39              	add	ix,sp
  6353  1e3c  f5                	push	af
  6354  1e3d  f5                	push	af
  6355  1e3e  dd7e06            	ld	a,(ix+6)
  6356  1e41  3d                	dec	a
  6357  1e42  c25f1f            	jp	NZ,l__st_esc_question_00125
  6358  1e45  dd6e07            	ld	l,(ix+7)
  6359  1e48  dd6608            	ld	h,(ix+8)
  6360  1e4b  cd0000            	call	_isdigit
  6361  1e4e  dd7e04            	ld	a,(ix+4)
  6362  1e51  dd77fc            	ld	(ix-4),a
  6363  1e54  dd7e05            	ld	a,(ix+5)
  6364  1e57  dd77fd            	ld	(ix-3),a
  6365  1e5a  dd7efc            	ld	a,(ix-4)
  6366  1e5d  c615              	add	a,0x15
  6367  1e5f  4f                	ld	c, a
  6368  1e60  dd7efd            	ld	a,(ix-3)
  6369  1e63  ce00              	adc	a,0x00
  6370  1e65  47                	ld	b, a
  6371  1e66  7c                	ld	a, h
  6372  1e67  b5                	or	a, l
  6373  1e68  2830              	jr	Z,l__st_esc_question_00122
  6374  1e6a  e1                	pop	hl
  6375  1e6b  e5                	push	hl
  6376  1e6c  111900            	ld	de,0x0019
  6377  1e6f  19                	add	hl, de
  6378  1e70  3634              	ld	(hl), +((__st_esc_question) & 0xFF)
  6379  1e72  23                	inc	hl
  6380  1e73  361e              	ld	(hl), +((__st_esc_question) / 256)
  6381  1e75  c5                	push	bc
  6382  1e76  dd6e07            	ld	l,(ix+7)
  6383  1e79  dd6608            	ld	h,(ix+8)
  6384  1e7c  e5                	push	hl
  6385  1e7d  dd7e06            	ld	a,(ix+6)
  6386  1e80  f5                	push	af
  6387  1e81  33                	inc	sp
  6388  1e82  dd6efc            	ld	l,(ix-4)
  6389  1e85  dd66fd            	ld	h,(ix-3)
  6390  1e88  e5                	push	hl
  6391  1e89  cdc416            	call	__st_command_arg
  6392  1e8c  f1                	pop	af
  6393  1e8d  f1                	pop	af
  6394  1e8e  33                	inc	sp
  6395  1e8f  c1                	pop	bc
  6396  1e90  3ec4              	ld	a, +((__st_command_arg) & 0xFF)
  6397  1e92  02                	ld	(bc), a
  6398  1e93  03                	inc	bc
  6399  1e94  3e16              	ld	a, +((__st_command_arg) / 256)
  6400  1e96  02                	ld	(bc), a
  6401  1e97  c35f1f            	jp	l__st_esc_question_00125
  6402                          l__st_esc_question_00122:
  6403  1e9a  dd7e07            	ld	a,(ix+7)
  6404  1e9d  d63b              	sub	a,0x3b
  6405  1e9f  ddb608            	or	a,(ix+8)
  6406  1ea2  ca5f1f            	jp	Z,l__st_esc_question_00125
  6407  1ea5  dd7e07            	ld	a,(ix+7)
  6408  1ea8  d668              	sub	a,0x68
  6409  1eaa  ddb608            	or	a,(ix+8)
  6410  1ead  2004              	jr	NZ,l__st_esc_question_00176
  6411  1eaf  3e01              	ld	a,0x01
  6412  1eb1  1801              	jr	l__st_esc_question_00177
  6413                          l__st_esc_question_00176:
  6414  1eb3  af                	xor	a,a
  6415                          l__st_esc_question_00177:
  6416  1eb4  5f                	ld	e,a
  6417  1eb5  b7                	or	a, a
  6418  1eb6  2016              	jr	NZ,l__st_esc_question_00103
  6419  1eb8  dd7e07            	ld	a,(ix+7)
  6420  1ebb  d669              	sub	a,0x69
  6421  1ebd  ddb608            	or	a,(ix+8)
  6422  1ec0  ca511f            	jp	Z,l__st_esc_question_00116
  6423  1ec3  dd7e07            	ld	a,(ix+7)
  6424  1ec6  d66c              	sub	a,0x6c
  6425  1ec8  ddb608            	or	a,(ix+8)
  6426  1ecb  c2511f            	jp	NZ,l__st_esc_question_00116
  6427                          l__st_esc_question_00103:
  6428  1ece  e1                	pop	hl
  6429  1ecf  e5                	push	hl
  6430  1ed0  c5                	push	bc
  6431  1ed1  010c00            	ld	bc,0x000c
  6432  1ed4  09                	add	hl, bc
  6433  1ed5  c1                	pop	bc
  6434  1ed6  7e                	ld	a, (hl)
  6435  1ed7  dd77fe            	ld	(ix-2),a
  6436  1eda  23                	inc	hl
  6437  1edb  7e                	ld	a, (hl)
  6438  1edc  dd77ff            	ld	(ix-1),a
  6439  1edf  3e09              	ld	a,0x09
  6440  1ee1  ddbefe            	cp	a,(ix-2)
  6441  1ee4  3e00              	ld	a,0x00
  6442  1ee6  dd9eff            	sbc	a,(ix-1)
  6443  1ee9  385d              	jr	C,l__st_esc_question_00113
  6444  1eeb  d5                	push	de
  6445  1eec  dd5efe            	ld	e,(ix-2)
  6446  1eef  1600              	ld	d,0x00
  6447  1ef1  21f91e            	ld	hl,l__st_esc_question_00181
  6448  1ef4  19                	add	hl, de
  6449  1ef5  19                	add	hl, de
  6450  1ef6  19                	add	hl, de
  6451  1ef7  d1                	pop	de
  6452  1ef8  e9                	jp	(hl)
  6453                          l__st_esc_question_00181:
  6454  1ef9  c3481f            	jp	l__st_esc_question_00113
  6455  1efc  c3481f            	jp	l__st_esc_question_00113
  6456  1eff  c3481f            	jp	l__st_esc_question_00113
  6457  1f02  c3481f            	jp	l__st_esc_question_00113
  6458  1f05  c3481f            	jp	l__st_esc_question_00113
  6459  1f08  c3481f            	jp	l__st_esc_question_00113
  6460  1f0b  c3171f            	jp	l__st_esc_question_00109
  6461  1f0e  c3321f            	jp	l__st_esc_question_00110
  6462  1f11  c3481f            	jp	l__st_esc_question_00113
  6463  1f14  c3481f            	jp	l__st_esc_question_00113
  6464                          l__st_esc_question_00109:
  6465  1f17  e1                	pop	hl
  6466  1f18  e5                	push	hl
  6467  1f19  7b                	ld	a, e
  6468  1f1a  b7                	or	a, a
  6469  1f1b  2805              	jr	Z,l__st_esc_question_00127
  6470  1f1d  110100            	ld	de,0x0001
  6471  1f20  1803              	jr	l__st_esc_question_00128
  6472                          l__st_esc_question_00127:
  6473  1f22  110000            	ld	de,0x0000
  6474                          l__st_esc_question_00128:
  6475  1f25  7b                	ld	a, e
  6476  1f26  07                	rlca
  6477  1f27  07                	rlca
  6478  1f28  e604              	and	a,0x04
  6479  1f2a  5f                	ld	e, a
  6480  1f2b  7e                	ld	a, (hl)
  6481  1f2c  e6fb              	and	a,0xfb
  6482  1f2e  b3                	or	a, e
  6483  1f2f  77                	ld	(hl), a
  6484  1f30  1816              	jr	l__st_esc_question_00113
  6485                          l__st_esc_question_00110:
  6486  1f32  e1                	pop	hl
  6487  1f33  e5                	push	hl
  6488  1f34  7b                	ld	a, e
  6489  1f35  b7                	or	a, a
  6490  1f36  2806              	jr	Z,l__st_esc_question_00129
  6491  1f38  3e01              	ld	a,0x01
  6492  1f3a  1600              	ld	d,0x00
  6493  1f3c  1802              	jr	l__st_esc_question_00130
  6494                          l__st_esc_question_00129:
  6495  1f3e  af                	xor	a, a
  6496  1f3f  57                	ld	d, a
  6497                          l__st_esc_question_00130:
  6498  1f40  e601              	and	a,0x01
  6499  1f42  5f                	ld	e, a
  6500  1f43  7e                	ld	a, (hl)
  6501  1f44  e6fe              	and	a,0xfe
  6502  1f46  b3                	or	a, e
  6503  1f47  77                	ld	(hl), a
  6504                          l__st_esc_question_00113:
  6505  1f48  69                	ld	l, c
  6506  1f49  60                	ld	h, b
  6507  1f4a  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6508  1f4c  23                	inc	hl
  6509  1f4d  3623              	ld	(hl), +((__st_idle) / 256)
  6510  1f4f  1807              	jr	l__st_esc_question_00117
  6511                          l__st_esc_question_00116:
  6512  1f51  69                	ld	l, c
  6513  1f52  60                	ld	h, b
  6514  1f53  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6515  1f55  23                	inc	hl
  6516  1f56  3623              	ld	(hl), +((__st_idle) / 256)
  6517                          l__st_esc_question_00117:
  6518  1f58  3edf              	ld	a, +((__st_idle) & 0xFF)
  6519  1f5a  02                	ld	(bc), a
  6520  1f5b  03                	inc	bc
  6521  1f5c  3e23              	ld	a, +((__st_idle) / 256)
  6522  1f5e  02                	ld	(bc), a
  6523                          l__st_esc_question_00125:
  6524  1f5f  ddf9              	ld	sp, ix
  6525  1f61  dde1              	pop	ix
  6526  1f63  c9                	ret
  6527                          	SECTION code_compiler
  6528                          ;	---------------------------------
  6529                          ; Function _st_esc_left_br
  6530                          ; ---------------------------------
  6531                          __st_esc_left_br:
  6532  1f64  dde5              	push	ix
  6533  1f66  dd210000          	ld	ix,0
  6534  1f6a  dd39              	add	ix,sp
  6535  1f6c  dd7e06            	ld	a,(ix+6)
  6536  1f6f  3d                	dec	a
  6537  1f70  203e              	jr	NZ,l__st_esc_left_br_00109
  6538  1f72  dd4e04            	ld	c,(ix+4)
  6539  1f75  dd4605            	ld	b,(ix+5)
  6540  1f78  211500            	ld	hl,0x0015
  6541  1f7b  09                	add	hl, bc
  6542  1f7c  dd7e07            	ld	a,(ix+7)
  6543  1f7f  d630              	sub	a,0x30
  6544  1f81  ddb608            	or	a,(ix+8)
  6545  1f84  281e              	jr	Z,l__st_esc_left_br_00105
  6546  1f86  dd7e07            	ld	a,(ix+7)
  6547  1f89  d641              	sub	a,0x41
  6548  1f8b  ddb608            	or	a,(ix+8)
  6549  1f8e  2814              	jr	Z,l__st_esc_left_br_00105
  6550  1f90  dd7e07            	ld	a,(ix+7)
  6551  1f93  d642              	sub	a,0x42
  6552  1f95  ddb608            	or	a,(ix+8)
  6553  1f98  280a              	jr	Z,l__st_esc_left_br_00105
  6554  1f9a  dd7e07            	ld	a,(ix+7)
  6555  1f9d  d64f              	sub	a,0x4f
  6556  1f9f  ddb608            	or	a,(ix+8)
  6557  1fa2  2007              	jr	NZ,l__st_esc_left_br_00106
  6558                          l__st_esc_left_br_00105:
  6559  1fa4  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6560  1fa6  23                	inc	hl
  6561  1fa7  3623              	ld	(hl), +((__st_idle) / 256)
  6562  1fa9  1805              	jr	l__st_esc_left_br_00109
  6563                          l__st_esc_left_br_00106:
  6564  1fab  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6565  1fad  23                	inc	hl
  6566  1fae  3623              	ld	(hl), +((__st_idle) / 256)
  6567                          l__st_esc_left_br_00109:
  6568  1fb0  dde1              	pop	ix
  6569  1fb2  c9                	ret
  6570                          	SECTION code_compiler
  6571                          ;	---------------------------------
  6572                          ; Function _st_esc_right_br
  6573                          ; ---------------------------------
  6574                          __st_esc_right_br:
  6575  1fb3  dde5              	push	ix
  6576  1fb5  dd210000          	ld	ix,0
  6577  1fb9  dd39              	add	ix,sp
  6578  1fbb  dd7e06            	ld	a,(ix+6)
  6579  1fbe  3d                	dec	a
  6580  1fbf  203e              	jr	NZ,l__st_esc_right_br_00109
  6581  1fc1  dd4e04            	ld	c,(ix+4)
  6582  1fc4  dd4605            	ld	b,(ix+5)
  6583  1fc7  211500            	ld	hl,0x0015
  6584  1fca  09                	add	hl, bc
  6585  1fcb  dd7e07            	ld	a,(ix+7)
  6586  1fce  d630              	sub	a,0x30
  6587  1fd0  ddb608            	or	a,(ix+8)
  6588  1fd3  281e              	jr	Z,l__st_esc_right_br_00105
  6589  1fd5  dd7e07            	ld	a,(ix+7)
  6590  1fd8  d641              	sub	a,0x41
  6591  1fda  ddb608            	or	a,(ix+8)
  6592  1fdd  2814              	jr	Z,l__st_esc_right_br_00105
  6593  1fdf  dd7e07            	ld	a,(ix+7)
  6594  1fe2  d642              	sub	a,0x42
  6595  1fe4  ddb608            	or	a,(ix+8)
  6596  1fe7  280a              	jr	Z,l__st_esc_right_br_00105
  6597  1fe9  dd7e07            	ld	a,(ix+7)
  6598  1fec  d64f              	sub	a,0x4f
  6599  1fee  ddb608            	or	a,(ix+8)
  6600  1ff1  2007              	jr	NZ,l__st_esc_right_br_00106
  6601                          l__st_esc_right_br_00105:
  6602  1ff3  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6603  1ff5  23                	inc	hl
  6604  1ff6  3623              	ld	(hl), +((__st_idle) / 256)
  6605  1ff8  1805              	jr	l__st_esc_right_br_00109
  6606                          l__st_esc_right_br_00106:
  6607  1ffa  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6608  1ffc  23                	inc	hl
  6609  1ffd  3623              	ld	(hl), +((__st_idle) / 256)
  6610                          l__st_esc_right_br_00109:
  6611  1fff  dde1              	pop	ix
  6612  2001  c9                	ret
  6613                          	SECTION code_compiler
  6614                          ;	---------------------------------
  6615                          ; Function _st_esc_hash
  6616                          ; ---------------------------------
  6617                          __st_esc_hash:
  6618  2002  fd210400          	ld	iy,4
  6619  2006  fd39              	add	iy, sp
  6620  2008  fd7e00            	ld	a,(iy+0)
  6621  200b  3d                	dec	a
  6622  200c  2022              	jr	NZ,l__st_esc_hash_00106
  6623  200e  e1                	pop	hl
  6624  200f  c1                	pop	bc
  6625  2010  c5                	push	bc
  6626  2011  e5                	push	hl
  6627  2012  211500            	ld	hl,0x0015
  6628  2015  09                	add	hl, bc
  6629  2016  e5                	push	hl
  6630  2017  fd23              	inc	iy
  6631  2019  fd7e00            	ld	a,(iy+0)
  6632  201c  d638              	sub	a,0x38
  6633  201e  fdb601            	or	a,(iy+1)
  6634  2021  e1                	pop	hl
  6635  2022  2007              	jr	NZ,l__st_esc_hash_00103
  6636  2024  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6637  2026  23                	inc	hl
  6638  2027  3623              	ld	(hl), +((__st_idle) / 256)
  6639  2029  1805              	jr	l__st_esc_hash_00106
  6640                          l__st_esc_hash_00103:
  6641  202b  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6642  202d  23                	inc	hl
  6643  202e  3623              	ld	(hl), +((__st_idle) / 256)
  6644                          l__st_esc_hash_00106:
  6645  2030  c9                	ret
  6646                          	SECTION code_compiler
  6647                          ;	---------------------------------
  6648                          ; Function _st_escape
  6649                          ; ---------------------------------
  6650                          __st_escape:
  6651  2031  dde5              	push	ix
  6652  2033  dd210000          	ld	ix,0
  6653  2037  dd39              	add	ix,sp
  6654  2039  f5                	push	af
  6655  203a  f5                	push	af
  6656  203b  dd7e06            	ld	a,(ix+6)
  6657  203e  3d                	dec	a
  6658  203f  c2cb23            	jp	NZ,l__st_escape_00129
  6659  2042  dd7e07            	ld	a,(ix+7)
  6660  2045  d61b              	sub	a,0x1b
  6661  2047  ddb608            	or	a,(ix+8)
  6662  204a  cada23            	jp	Z,l__st_escape_00143
  6663  204d  dd7e07            	ld	a,(ix+7)
  6664  2050  d623              	sub	a,0x23
  6665  2052  ddb608            	or	a,(ix+8)
  6666  2055  ca1f22            	jp	Z,l__st_escape_00108
  6667  2058  dd7e07            	ld	a,(ix+7)
  6668  205b  d628              	sub	a,0x28
  6669  205d  ddb608            	or	a,(ix+8)
  6670  2060  ca8321            	jp	Z,l__st_escape_00104
  6671  2063  dd7e07            	ld	a,(ix+7)
  6672  2066  d629              	sub	a,0x29
  6673  2068  ddb608            	or	a,(ix+8)
  6674  206b  cadb21            	jp	Z,l__st_escape_00106
  6675  206e  dd7e07            	ld	a,(ix+7)
  6676  2071  d637              	sub	a,0x37
  6677  2073  ddb608            	or	a,(ix+8)
  6678  2076  caeb22            	jp	Z,l__st_escape_00115
  6679  2079  dd7e07            	ld	a,(ix+7)
  6680  207c  d638              	sub	a,0x38
  6681  207e  ddb608            	or	a,(ix+8)
  6682  2081  ca2b23            	jp	Z,l__st_escape_00117
  6683  2084  dd7e07            	ld	a,(ix+7)
  6684  2087  d63c              	sub	a,0x3c
  6685  2089  ddb608            	or	a,(ix+8)
  6686  208c  caa923            	jp	Z,l__st_escape_00125
  6687  208f  dd7e07            	ld	a,(ix+7)
  6688  2092  d63d              	sub	a,0x3d
  6689  2094  ddb608            	or	a,(ix+8)
  6690  2097  ca4d23            	jp	Z,l__st_escape_00118
  6691  209a  dd7e07            	ld	a,(ix+7)
  6692  209d  d63e              	sub	a,0x3e
  6693  209f  ddb608            	or	a,(ix+8)
  6694  20a2  ca5f23            	jp	Z,l__st_escape_00119
  6695  20a5  dd7e07            	ld	a,(ix+7)
  6696  20a8  d644              	sub	a,0x44
  6697  20aa  ddb608            	or	a,(ix+8)
  6698  20ad  ca7522            	jp	Z,l__st_escape_00111
  6699  20b0  dd7e07            	ld	a,(ix+7)
  6700  20b3  d645              	sub	a,0x45
  6701  20b5  ddb608            	or	a,(ix+8)
  6702  20b8  cac122            	jp	Z,l__st_escape_00113
  6703  20bb  dd7e07            	ld	a,(ix+7)
  6704  20be  d648              	sub	a,0x48
  6705  20c0  ddb608            	or	a,(ix+8)
  6706  20c3  caa923            	jp	Z,l__st_escape_00125
  6707  20c6  dd7e07            	ld	a,(ix+7)
  6708  20c9  d64d              	sub	a,0x4d
  6709  20cb  ddb608            	or	a,(ix+8)
  6710  20ce  ca9a22            	jp	Z,l__st_escape_00112
  6711  20d1  dd7e07            	ld	a,(ix+7)
  6712  20d4  d64e              	sub	a,0x4e
  6713  20d6  ddb608            	or	a,(ix+8)
  6714  20d9  caa923            	jp	Z,l__st_escape_00125
  6715  20dc  dd7e07            	ld	a,(ix+7)
  6716  20df  d64f              	sub	a,0x4f
  6717  20e1  ddb608            	or	a,(ix+8)
  6718  20e4  caa923            	jp	Z,l__st_escape_00125
  6719  20e7  dd7e07            	ld	a,(ix+7)
  6720  20ea  d650              	sub	a,0x50
  6721  20ec  ddb608            	or	a,(ix+8)
  6722  20ef  ca6322            	jp	Z,l__st_escape_00110
  6723  20f2  dd7e07            	ld	a,(ix+7)
  6724  20f5  d65a              	sub	a,0x5a
  6725  20f7  ddb608            	or	a,(ix+8)
  6726  20fa  ca7023            	jp	Z,l__st_escape_00120
  6727  20fd  dd7e07            	ld	a,(ix+7)
  6728  2100  d65b              	sub	a,0x5b
  6729  2102  ddb608            	or	a,(ix+8)
  6730  2105  2824              	jr	Z,l__st_escape_00102
  6731  2107  dd7e07            	ld	a,(ix+7)
  6732  210a  d663              	sub	a,0x63
  6733  210c  ddb608            	or	a,(ix+8)
  6734  210f  ca9523            	jp	Z,l__st_escape_00121
  6735  2112  dd7e07            	ld	a,(ix+7)
  6736  2115  d673              	sub	a,0x73
  6737  2117  ddb608            	or	a,(ix+8)
  6738  211a  caeb22            	jp	Z,l__st_escape_00115
  6739  211d  dd7e07            	ld	a,(ix+7)
  6740  2120  d675              	sub	a,0x75
  6741  2122  ddb608            	or	a,(ix+8)
  6742  2125  ca2b23            	jp	Z,l__st_escape_00117
  6743  2128  c3ba23            	jp	l__st_escape_00127
  6744                          l__st_escape_00102:
  6745  212b  dd7e04            	ld	a,(ix+4)
  6746  212e  dd77fc            	ld	(ix-4),a
  6747  2131  dd7e05            	ld	a,(ix+5)
  6748  2134  dd77fd            	ld	(ix-3),a
  6749  2137  e1                	pop	hl
  6750  2138  e5                	push	hl
  6751  2139  110b00            	ld	de,0x000b
  6752  213c  19                	add	hl, de
  6753  213d  3600              	ld	(hl),0x00
  6754  213f  dd7efc            	ld	a,(ix-4)
  6755  2142  c60c              	add	a,0x0c
  6756  2144  4f                	ld	c, a
  6757  2145  dd7efd            	ld	a,(ix-3)
  6758  2148  ce00              	adc	a,0x00
  6759  214a  47                	ld	b, a
  6760  214b  110000            	ld	de,0x0000
  6761                          l__st_escape_00132:
  6762  214e  7b                	ld	a, e
  6763  214f  d604              	sub	a,0x04
  6764  2151  7a                	ld	a, d
  6765  2152  17                	rla
  6766  2153  3f                	ccf
  6767  2154  1f                	rra
  6768  2155  de80              	sbc	a,0x80
  6769  2157  301c              	jr	NC,l__st_escape_00103
  6770  2159  dd73fe            	ld	(ix-2),e
  6771  215c  dd72ff            	ld	(ix-1),d
  6772  215f  ddcbfe26          	sla	(ix-2)
  6773  2163  ddcbff16          	rl	(ix-1)
  6774  2167  dd6efe            	ld	l,(ix-2)
  6775  216a  dd66ff            	ld	h,(ix-1)
  6776  216d  09                	add	hl, bc
  6777  216e  af                	xor	a, a
  6778  216f  77                	ld	(hl), a
  6779  2170  23                	inc	hl
  6780  2171  77                	ld	(hl), a
  6781  2172  13                	inc	de
  6782  2173  18d9              	jr	l__st_escape_00132
  6783                          l__st_escape_00103:
  6784  2175  e1                	pop	hl
  6785  2176  e5                	push	hl
  6786  2177  111500            	ld	de,0x0015
  6787  217a  19                	add	hl, de
  6788  217b  3668              	ld	(hl), +((__st_esc_sq_bracket) & 0xFF)
  6789  217d  23                	inc	hl
  6790  217e  3617              	ld	(hl), +((__st_esc_sq_bracket) / 256)
  6791  2180  c3da23            	jp	l__st_escape_00143
  6792                          l__st_escape_00104:
  6793  2183  dd7e04            	ld	a,(ix+4)
  6794  2186  dd77fc            	ld	(ix-4),a
  6795  2189  dd7e05            	ld	a,(ix+5)
  6796  218c  dd77fd            	ld	(ix-3),a
  6797  218f  e1                	pop	hl
  6798  2190  e5                	push	hl
  6799  2191  110b00            	ld	de,0x000b
  6800  2194  19                	add	hl, de
  6801  2195  3600              	ld	(hl),0x00
  6802  2197  dd7efc            	ld	a,(ix-4)
  6803  219a  c60c              	add	a,0x0c
  6804  219c  4f                	ld	c, a
  6805  219d  dd7efd            	ld	a,(ix-3)
  6806  21a0  ce00              	adc	a,0x00
  6807  21a2  47                	ld	b, a
  6808  21a3  110000            	ld	de,0x0000
  6809                          l__st_escape_00135:
  6810  21a6  7b                	ld	a, e
  6811  21a7  d604              	sub	a,0x04
  6812  21a9  7a                	ld	a, d
  6813  21aa  17                	rla
  6814  21ab  3f                	ccf
  6815  21ac  1f                	rra
  6816  21ad  de80              	sbc	a,0x80
  6817  21af  301c              	jr	NC,l__st_escape_00105
  6818  21b1  dd73fe            	ld	(ix-2),e
  6819  21b4  dd72ff            	ld	(ix-1),d
  6820  21b7  ddcbfe26          	sla	(ix-2)
  6821  21bb  ddcbff16          	rl	(ix-1)
  6822  21bf  dd6efe            	ld	l,(ix-2)
  6823  21c2  dd66ff            	ld	h,(ix-1)
  6824  21c5  09                	add	hl, bc
  6825  21c6  af                	xor	a, a
  6826  21c7  77                	ld	(hl), a
  6827  21c8  23                	inc	hl
  6828  21c9  77                	ld	(hl), a
  6829  21ca  13                	inc	de
  6830  21cb  18d9              	jr	l__st_escape_00135
  6831                          l__st_escape_00105:
  6832  21cd  e1                	pop	hl
  6833  21ce  e5                	push	hl
  6834  21cf  111500            	ld	de,0x0015
  6835  21d2  19                	add	hl, de
  6836  21d3  3664              	ld	(hl), +((__st_esc_left_br) & 0xFF)
  6837  21d5  23                	inc	hl
  6838  21d6  361f              	ld	(hl), +((__st_esc_left_br) / 256)
  6839  21d8  c3da23            	jp	l__st_escape_00143
  6840                          l__st_escape_00106:
  6841  21db  dd4e04            	ld	c,(ix+4)
  6842  21de  dd4605            	ld	b,(ix+5)
  6843  21e1  210b00            	ld	hl,0x000b
  6844  21e4  09                	add	hl, bc
  6845  21e5  3600              	ld	(hl),0x00
  6846  21e7  210c00            	ld	hl,0x000c
  6847  21ea  09                	add	hl, bc
  6848  21eb  dd75fe            	ld	(ix-2),l
  6849  21ee  dd74ff            	ld	(ix-1),h
  6850  21f1  110000            	ld	de,0x0000
  6851                          l__st_escape_00138:
  6852  21f4  7b                	ld	a, e
  6853  21f5  d604              	sub	a,0x04
  6854  21f7  7a                	ld	a, d
  6855  21f8  17                	rla
  6856  21f9  3f                	ccf
  6857  21fa  1f                	rra
  6858  21fb  de80              	sbc	a,0x80
  6859  21fd  3014              	jr	NC,l__st_escape_00107
  6860  21ff  6b                	ld	l, e
  6861  2200  62                	ld	h, d
  6862  2201  29                	add	hl, hl
  6863  2202  7d                	ld	a, l
  6864  2203  dd86fe            	add	a,(ix-2)
  6865  2206  6f                	ld	l, a
  6866  2207  7c                	ld	a, h
  6867  2208  dd8eff            	adc	a,(ix-1)
  6868  220b  67                	ld	h, a
  6869  220c  af                	xor	a, a
  6870  220d  77                	ld	(hl), a
  6871  220e  23                	inc	hl
  6872  220f  77                	ld	(hl), a
  6873  2210  13                	inc	de
  6874  2211  18e1              	jr	l__st_escape_00138
  6875                          l__st_escape_00107:
  6876  2213  211500            	ld	hl,0x0015
  6877  2216  09                	add	hl, bc
  6878  2217  36b3              	ld	(hl), +((__st_esc_right_br) & 0xFF)
  6879  2219  23                	inc	hl
  6880  221a  361f              	ld	(hl), +((__st_esc_right_br) / 256)
  6881  221c  c3da23            	jp	l__st_escape_00143
  6882                          l__st_escape_00108:
  6883  221f  dd4e04            	ld	c,(ix+4)
  6884  2222  dd4605            	ld	b,(ix+5)
  6885  2225  210b00            	ld	hl,0x000b
  6886  2228  09                	add	hl, bc
  6887  2229  3600              	ld	(hl),0x00
  6888  222b  210c00            	ld	hl,0x000c
  6889  222e  09                	add	hl, bc
  6890  222f  dd75fe            	ld	(ix-2),l
  6891  2232  dd74ff            	ld	(ix-1),h
  6892  2235  110000            	ld	de,0x0000
  6893                          l__st_escape_00141:
  6894  2238  7b                	ld	a, e
  6895  2239  d604              	sub	a,0x04
  6896  223b  7a                	ld	a, d
  6897  223c  17                	rla
  6898  223d  3f                	ccf
  6899  223e  1f                	rra
  6900  223f  de80              	sbc	a,0x80
  6901  2241  3014              	jr	NC,l__st_escape_00109
  6902  2243  6b                	ld	l, e
  6903  2244  62                	ld	h, d
  6904  2245  29                	add	hl, hl
  6905  2246  7d                	ld	a, l
  6906  2247  dd86fe            	add	a,(ix-2)
  6907  224a  6f                	ld	l, a
  6908  224b  7c                	ld	a, h
  6909  224c  dd8eff            	adc	a,(ix-1)
  6910  224f  67                	ld	h, a
  6911  2250  af                	xor	a, a
  6912  2251  77                	ld	(hl), a
  6913  2252  23                	inc	hl
  6914  2253  77                	ld	(hl), a
  6915  2254  13                	inc	de
  6916  2255  18e1              	jr	l__st_escape_00141
  6917                          l__st_escape_00109:
  6918  2257  211500            	ld	hl,0x0015
  6919  225a  09                	add	hl, bc
  6920  225b  3602              	ld	(hl), +((__st_esc_hash) & 0xFF)
  6921  225d  23                	inc	hl
  6922  225e  3620              	ld	(hl), +((__st_esc_hash) / 256)
  6923  2260  c3da23            	jp	l__st_escape_00143
  6924                          l__st_escape_00110:
  6925  2263  dd4e04            	ld	c,(ix+4)
  6926  2266  dd4605            	ld	b,(ix+5)
  6927  2269  211500            	ld	hl,0x0015
  6928  226c  09                	add	hl, bc
  6929  226d  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6930  226f  23                	inc	hl
  6931  2270  3623              	ld	(hl), +((__st_idle) / 256)
  6932  2272  c3da23            	jp	l__st_escape_00143
  6933                          l__st_escape_00111:
  6934  2275  210100            	ld	hl,0x0001
  6935  2278  e5                	push	hl
  6936  2279  6c                	ld	l, h
  6937  227a  e5                	push	hl
  6938  227b  dd6e04            	ld	l,(ix+4)
  6939  227e  dd6605            	ld	h,(ix+5)
  6940  2281  e5                	push	hl
  6941  2282  cd4a15            	call	__vt100_move
  6942  2285  f1                	pop	af
  6943  2286  f1                	pop	af
  6944  2287  f1                	pop	af
  6945  2288  dd4e04            	ld	c,(ix+4)
  6946  228b  dd4605            	ld	b,(ix+5)
  6947  228e  211500            	ld	hl,0x0015
  6948  2291  09                	add	hl, bc
  6949  2292  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6950  2294  23                	inc	hl
  6951  2295  3623              	ld	(hl), +((__st_idle) / 256)
  6952  2297  c3da23            	jp	l__st_escape_00143
  6953                          l__st_escape_00112:
  6954  229a  21ffff            	ld	hl,0xffff
  6955  229d  e5                	push	hl
  6956  229e  210000            	ld	hl,0x0000
  6957  22a1  e5                	push	hl
  6958  22a2  dd6e04            	ld	l,(ix+4)
  6959  22a5  dd6605            	ld	h,(ix+5)
  6960  22a8  e5                	push	hl
  6961  22a9  cd4a15            	call	__vt100_move
  6962  22ac  f1                	pop	af
  6963  22ad  f1                	pop	af
  6964  22ae  f1                	pop	af
  6965  22af  dd4e04            	ld	c,(ix+4)
  6966  22b2  dd4605            	ld	b,(ix+5)
  6967  22b5  211500            	ld	hl,0x0015
  6968  22b8  09                	add	hl, bc
  6969  22b9  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6970  22bb  23                	inc	hl
  6971  22bc  3623              	ld	(hl), +((__st_idle) / 256)
  6972  22be  c3da23            	jp	l__st_escape_00143
  6973                          l__st_escape_00113:
  6974  22c1  210100            	ld	hl,0x0001
  6975  22c4  e5                	push	hl
  6976  22c5  6c                	ld	l, h
  6977  22c6  e5                	push	hl
  6978  22c7  dd6e04            	ld	l,(ix+4)
  6979  22ca  dd6605            	ld	h,(ix+5)
  6980  22cd  e5                	push	hl
  6981  22ce  cd4a15            	call	__vt100_move
  6982  22d1  f1                	pop	af
  6983  22d2  f1                	pop	af
  6984  22d3  f1                	pop	af
  6985  22d4  212200            	ld	hl,_vdp_cursor
  6986  22d7  3600              	ld	(hl),0x00
  6987  22d9  dd4e04            	ld	c,(ix+4)
  6988  22dc  dd4605            	ld	b,(ix+5)
  6989  22df  211500            	ld	hl,0x0015
  6990  22e2  09                	add	hl, bc
  6991  22e3  36df              	ld	(hl), +((__st_idle) & 0xFF)
  6992  22e5  23                	inc	hl
  6993  22e6  3623              	ld	(hl), +((__st_idle) / 256)
  6994  22e8  c3da23            	jp	l__st_escape_00143
  6995                          l__st_escape_00115:
  6996  22eb  dd4e04            	ld	c,(ix+4)
  6997  22ee  dd4605            	ld	b,(ix+5)
  6998  22f1  59                	ld	e, c
  6999  22f2  50                	ld	d, b
  7000  22f3  13                	inc	de
  7001  22f4  3a2200            	ld	a, (_vdp_cursor + 0)
  7002  22f7  dd77fe            	ld	(ix-2),a
  7003  22fa  dd36ff00          	ld	(ix-1),0x00
  7004  22fe  dd7efe            	ld	a,(ix-2)
  7005  2301  12                	ld	(de), a
  7006  2302  13                	inc	de
  7007  2303  dd7eff            	ld	a,(ix-1)
  7008  2306  12                	ld	(de), a
  7009  2307  59                	ld	e, c
  7010  2308  50                	ld	d, b
  7011  2309  13                	inc	de
  7012  230a  13                	inc	de
  7013  230b  13                	inc	de
  7014  230c  3a2300            	ld	a, ((_vdp_cursor + 1) + 0)
  7015  230f  dd77fe            	ld	(ix-2),a
  7016  2312  dd36ff00          	ld	(ix-1),0x00
  7017  2316  dd7efe            	ld	a,(ix-2)
  7018  2319  12                	ld	(de), a
  7019  231a  13                	inc	de
  7020  231b  dd7eff            	ld	a,(ix-1)
  7021  231e  12                	ld	(de), a
  7022  231f  211500            	ld	hl,0x0015
  7023  2322  09                	add	hl, bc
  7024  2323  36df              	ld	(hl), +((__st_idle) & 0xFF)
  7025  2325  23                	inc	hl
  7026  2326  3623              	ld	(hl), +((__st_idle) / 256)
  7027  2328  c3da23            	jp	l__st_escape_00143
  7028                          l__st_escape_00117:
  7029  232b  dd4e04            	ld	c,(ix+4)
  7030  232e  dd4605            	ld	b,(ix+5)
  7031  2331  59                	ld	e, c
  7032  2332  50                	ld	d, b
  7033  2333  13                	inc	de
  7034  2334  1a                	ld	a, (de)
  7035  2335  322200            	ld	(_vdp_cursor),a
  7036  2338  69                	ld	l, c
  7037  2339  60                	ld	h, b
  7038  233a  23                	inc	hl
  7039  233b  23                	inc	hl
  7040  233c  23                	inc	hl
  7041  233d  7e                	ld	a, (hl)
  7042  233e  322300            	ld	((_vdp_cursor + 1)),a
  7043  2341  211500            	ld	hl,0x0015
  7044  2344  09                	add	hl, bc
  7045  2345  36df              	ld	(hl), +((__st_idle) & 0xFF)
  7046  2347  23                	inc	hl
  7047  2348  3623              	ld	(hl), +((__st_idle) / 256)
  7048  234a  c3da23            	jp	l__st_escape_00143
  7049                          l__st_escape_00118:
  7050  234d  dd4e04            	ld	c,(ix+4)
  7051  2350  dd4605            	ld	b,(ix+5)
  7052  2353  211500            	ld	hl,0x0015
  7053  2356  09                	add	hl, bc
  7054  2357  36df              	ld	(hl), +((__st_idle) & 0xFF)
  7055  2359  23                	inc	hl
  7056  235a  3623              	ld	(hl), +((__st_idle) / 256)
  7057  235c  c3da23            	jp	l__st_escape_00143
  7058                          l__st_escape_00119:
  7059  235f  dd4e04            	ld	c,(ix+4)
  7060  2362  dd4605            	ld	b,(ix+5)
  7061  2365  211500            	ld	hl,0x0015
  7062  2368  09                	add	hl, bc
  7063  2369  36df              	ld	(hl), +((__st_idle) & 0xFF)
  7064  236b  23                	inc	hl
  7065  236c  3623              	ld	(hl), +((__st_idle) / 256)
  7066  236e  186a              	jr	l__st_escape_00143
  7067                          l__st_escape_00120:
  7068  2370  dd4e04            	ld	c,(ix+4)
  7069  2373  dd4605            	ld	b,(ix+5)
  7070  2376  59                	ld	e, c
  7071  2377  50                	ld	d, b
  7072  2378  211700            	ld	hl,23
  7073  237b  19                	add	hl, de
  7074  237c  5e                	ld	e, (hl)
  7075  237d  23                	inc	hl
  7076  237e  56                	ld	d, (hl)
  7077  237f  c5                	push	bc
  7078  2380  21a103            	ld	hl,___str_1
  7079  2383  e5                	push	hl
  7080  2384  eb                	ex	de, hl
  7081  2385  cd0000            	call	___sdcc_call_hl
  7082  2388  f1                	pop	af
  7083  2389  c1                	pop	bc
  7084  238a  211500            	ld	hl,0x0015
  7085  238d  09                	add	hl, bc
  7086  238e  36df              	ld	(hl), +((__st_idle) & 0xFF)
  7087  2390  23                	inc	hl
  7088  2391  3623              	ld	(hl), +((__st_idle) / 256)
  7089  2393  1845              	jr	l__st_escape_00143
  7090                          l__st_escape_00121:
  7091  2395  cdbb14            	call	__vt100_reset
  7092  2398  dd4e04            	ld	c,(ix+4)
  7093  239b  dd4605            	ld	b,(ix+5)
  7094  239e  211500            	ld	hl,0x0015
  7095  23a1  09                	add	hl, bc
  7096  23a2  36df              	ld	(hl), +((__st_idle) & 0xFF)
  7097  23a4  23                	inc	hl
  7098  23a5  3623              	ld	(hl), +((__st_idle) / 256)
  7099  23a7  1831              	jr	l__st_escape_00143
  7100                          l__st_escape_00125:
  7101  23a9  dd4e04            	ld	c,(ix+4)
  7102  23ac  dd4605            	ld	b,(ix+5)
  7103  23af  211500            	ld	hl,0x0015
  7104  23b2  09                	add	hl, bc
  7105  23b3  36df              	ld	(hl), +((__st_idle) & 0xFF)
  7106  23b5  23                	inc	hl
  7107  23b6  3623              	ld	(hl), +((__st_idle) / 256)
  7108  23b8  1820              	jr	l__st_escape_00143
  7109                          l__st_escape_00127:
  7110  23ba  dd4e04            	ld	c,(ix+4)
  7111  23bd  dd4605            	ld	b,(ix+5)
  7112  23c0  211500            	ld	hl,0x0015
  7113  23c3  09                	add	hl, bc
  7114  23c4  36df              	ld	(hl), +((__st_idle) & 0xFF)
  7115  23c6  23                	inc	hl
  7116  23c7  3623              	ld	(hl), +((__st_idle) / 256)
  7117  23c9  180f              	jr	l__st_escape_00143
  7118                          l__st_escape_00129:
  7119  23cb  dd4e04            	ld	c,(ix+4)
  7120  23ce  dd4605            	ld	b,(ix+5)
  7121  23d1  211500            	ld	hl,0x0015
  7122  23d4  09                	add	hl, bc
  7123  23d5  36df              	ld	(hl), +((__st_idle) & 0xFF)
  7124  23d7  23                	inc	hl
  7125  23d8  3623              	ld	(hl), +((__st_idle) / 256)
  7126                          l__st_escape_00143:
  7127  23da  ddf9              	ld	sp, ix
  7128  23dc  dde1              	pop	ix
  7129  23de  c9                	ret
  7130                          	SECTION rodata_compiler
  7131                          ___str_1:
  7132  03a1  1b                	DEFB 0x1b
  7133  03a2  5b0631000063      	DEFM "[?1;0c"
  7134  03a8  00                	DEFB 0x00
  7135                          	SECTION code_compiler
  7136                          ;	---------------------------------
  7137                          ; Function _st_idle
  7138                          ; ---------------------------------
  7139                          __st_idle:
  7140  23df  dde5              	push	ix
  7141  23e1  dd210000          	ld	ix,0
  7142  23e5  dd39              	add	ix,sp
  7143  23e7  dd7e06            	ld	a,(ix+6)
  7144  23ea  3d                	dec	a
  7145  23eb  c2fd24            	jp	NZ,l__st_idle_00117
  7146  23ee  dd4e04            	ld	c,(ix+4)
  7147  23f1  dd4605            	ld	b,(ix+5)
  7148  23f4  dd7e07            	ld	a,(ix+7)
  7149  23f7  d605              	sub	a,0x05
  7150  23f9  ddb608            	or	a,(ix+8)
  7151  23fc  284d              	jr	Z,l__st_idle_00102
  7152  23fe  dd7e07            	ld	a,(ix+7)
  7153  2401  d607              	sub	a,0x07
  7154  2403  ddb608            	or	a,(ix+8)
  7155  2406  cacf24            	jp	Z,l__st_idle_00111
  7156  2409  dd7e07            	ld	a,(ix+7)
  7157  240c  d608              	sub	a,0x08
  7158  240e  ddb608            	or	a,(ix+8)
  7159  2411  cafd24            	jp	Z,l__st_idle_00117
  7160  2414  dd7e07            	ld	a,(ix+7)
  7161  2417  d609              	sub	a,0x09
  7162  2419  ddb608            	or	a,(ix+8)
  7163  241c  caa724            	jp	Z,l__st_idle_00107
  7164  241f  dd7e07            	ld	a,(ix+7)
  7165  2422  d60a              	sub	a,0x0a
  7166  2424  ddb608            	or	a,(ix+8)
  7167  2427  2835              	jr	Z,l__st_idle_00103
  7168  2429  dd7e07            	ld	a,(ix+7)
  7169  242c  d60d              	sub	a,0x0d
  7170  242e  ddb608            	or	a,(ix+8)
  7171  2431  2846              	jr	Z,l__st_idle_00104
  7172  2433  dd7e07            	ld	a,(ix+7)
  7173  2436  d61b              	sub	a,0x1b
  7174  2438  ddb608            	or	a,(ix+8)
  7175  243b  cae124            	jp	Z,l__st_idle_00112
  7176  243e  dd7e07            	ld	a,(ix+7)
  7177  2441  d67f              	sub	a,0x7f
  7178  2443  ddb608            	or	a,(ix+8)
  7179  2446  2839              	jr	Z,l__st_idle_00106
  7180  2448  c3ec24            	jp	l__st_idle_00113
  7181                          l__st_idle_00102:
  7182  244b  211700            	ld	hl,23
  7183  244e  09                	add	hl, bc
  7184  244f  5e                	ld	e, (hl)
  7185  2450  23                	inc	hl
  7186  2451  56                	ld	d, (hl)
  7187  2452  21a903            	ld	hl,___str_2
  7188  2455  e5                	push	hl
  7189  2456  eb                	ex	de, hl
  7190  2457  cd0000            	call	___sdcc_call_hl
  7191  245a  f1                	pop	af
  7192  245b  c3fd24            	jp	l__st_idle_00117
  7193                          l__st_idle_00103:
  7194  245e  210100            	ld	hl,0x0001
  7195  2461  e5                	push	hl
  7196  2462  6c                	ld	l, h
  7197  2463  e5                	push	hl
  7198  2464  dd6e04            	ld	l,(ix+4)
  7199  2467  dd6605            	ld	h,(ix+5)
  7200  246a  e5                	push	hl
  7201  246b  cd4a15            	call	__vt100_move
  7202  246e  f1                	pop	af
  7203  246f  f1                	pop	af
  7204  2470  f1                	pop	af
  7205  2471  212200            	ld	hl,_vdp_cursor
  7206  2474  3600              	ld	(hl),0x00
  7207  2476  c3fd24            	jp	l__st_idle_00117
  7208                          l__st_idle_00104:
  7209  2479  212200            	ld	hl,_vdp_cursor
  7210  247c  3600              	ld	(hl),0x00
  7211  247e  c3fd24            	jp	l__st_idle_00117
  7212                          l__st_idle_00106:
  7213  2481  3e20              	ld	a,0x20
  7214  2483  f5                	push	af
  7215  2484  33                	inc	sp
  7216  2485  dd6e04            	ld	l,(ix+4)
  7217  2488  dd6605            	ld	h,(ix+5)
  7218  248b  e5                	push	hl
  7219  248c  cd6f16            	call	__vt100_putc
  7220  248f  33                	inc	sp
  7221  2490  210000            	ld	hl,0x0000
  7222  2493  e3                	ex	(sp),hl
  7223  2494  21ffff            	ld	hl,0xffff
  7224  2497  e5                	push	hl
  7225  2498  dd6e04            	ld	l,(ix+4)
  7226  249b  dd6605            	ld	h,(ix+5)
  7227  249e  e5                	push	hl
  7228  249f  cd4a15            	call	__vt100_move
  7229  24a2  f1                	pop	af
  7230  24a3  f1                	pop	af
  7231  24a4  f1                	pop	af
  7232  24a5  1856              	jr	l__st_idle_00117
  7233                          l__st_idle_00107:
  7234  24a7  3a2200            	ld	a, (_vdp_cursor + 0)
  7235  24aa  e603              	and	a,0x03
  7236  24ac  4f                	ld	c, a
  7237  24ad  0600              	ld	b,0x00
  7238  24af  210400            	ld	hl,0x0004
  7239  24b2  bf                	cp	a, a
  7240  24b3  ed42              	sbc	hl, bc
  7241                          l__st_idle_00108:
  7242  24b5  7d                	ld	a, l
  7243  24b6  4c                	ld	c, h
  7244  24b7  2b                	dec	hl
  7245  24b8  b1                	or	a, c
  7246  24b9  2842              	jr	Z,l__st_idle_00117
  7247  24bb  e5                	push	hl
  7248  24bc  3e20              	ld	a,0x20
  7249  24be  f5                	push	af
  7250  24bf  33                	inc	sp
  7251  24c0  dd5e04            	ld	e,(ix+4)
  7252  24c3  dd5605            	ld	d,(ix+5)
  7253  24c6  d5                	push	de
  7254  24c7  cd6f16            	call	__vt100_putc
  7255  24ca  f1                	pop	af
  7256  24cb  33                	inc	sp
  7257  24cc  e1                	pop	hl
  7258  24cd  18e6              	jr	l__st_idle_00108
  7259                          l__st_idle_00111:
  7260  24cf  210500            	ld	hl,0x0005
  7261  24d2  e5                	push	hl
  7262  24d3  3e28              	ld	a,0x28
  7263  24d5  f5                	push	af
  7264  24d6  33                	inc	sp
  7265  24d7  af                	xor	a, a
  7266  24d8  f5                	push	af
  7267  24d9  33                	inc	sp
  7268  24da  cd4601            	call	_playNoteDelay
  7269  24dd  f1                	pop	af
  7270  24de  f1                	pop	af
  7271  24df  181c              	jr	l__st_idle_00117
  7272                          l__st_idle_00112:
  7273  24e1  211500            	ld	hl,0x0015
  7274  24e4  09                	add	hl, bc
  7275  24e5  3631              	ld	(hl), +((__st_escape) & 0xFF)
  7276  24e7  23                	inc	hl
  7277  24e8  3620              	ld	(hl), +((__st_escape) / 256)
  7278  24ea  1811              	jr	l__st_idle_00117
  7279                          l__st_idle_00113:
  7280  24ec  dd7e07            	ld	a,(ix+7)
  7281  24ef  f5                	push	af
  7282  24f0  33                	inc	sp
  7283  24f1  dd6e04            	ld	l,(ix+4)
  7284  24f4  dd6605            	ld	h,(ix+5)
  7285  24f7  e5                	push	hl
  7286  24f8  cd6f16            	call	__vt100_putc
  7287  24fb  f1                	pop	af
  7288  24fc  33                	inc	sp
  7289                          l__st_idle_00117:
  7290  24fd  dde1              	pop	ix
  7291  24ff  c9                	ret
  7292                          	SECTION rodata_compiler
  7293                          ___str_2:
  7294  03a9  00                	DEFM "X"
  7295  03aa  00                	DEFB 0x00
  7296                          	SECTION code_compiler
  7297                          ;	---------------------------------
  7298                          ; Function vt100_init
  7299                          ; ---------------------------------
  7300                          _vt100_init:
  7301  2500  21e708            	ld	hl, +(_term + 23)
  7302  2503  fd210200          	ld	iy,2
  7303  2507  fd39              	add	iy, sp
  7304  2509  fd7e00            	ld	a,(iy+0)
  7305  250c  77                	ld	(hl), a
  7306  250d  23                	inc	hl
  7307  250e  fd7e01            	ld	a,(iy+1)
  7308  2511  77                	ld	(hl), a
  7309  2512  c3bb14            	jp	__vt100_reset
  7310                          	SECTION code_compiler
  7311                          ;	---------------------------------
  7312                          ; Function vt100_putc
  7313                          ; ---------------------------------
  7314                          _vt100_putc:
  7315  2515  dde5              	push	ix
  7316  2517  dd210000          	ld	ix,0
  7317  251b  dd39              	add	ix,sp
  7318  251d  2ae508            	ld	hl, (_term + 21)
  7319  2520  dd4e04            	ld	c,(ix+4)
  7320  2523  0600              	ld	b,0x00
  7321  2525  c5                	push	bc
  7322  2526  3e01              	ld	a,0x01
  7323  2528  f5                	push	af
  7324  2529  33                	inc	sp
  7325  252a  11d008            	ld	de,_term
  7326  252d  d5                	push	de
  7327  252e  cd0000            	call	___sdcc_call_hl
  7328  2531  f1                	pop	af
  7329  2532  f1                	pop	af
  7330  2533  33                	inc	sp
  7331  2534  dde1              	pop	ix
  7332  2536  c9                	ret
  7333                          	SECTION code_compiler
  7334                          ;	---------------------------------
  7335                          ; Function doKeyInput
  7336                          ; ---------------------------------
  7337                          _doKeyInput:
  7338  2537  cd4702            	call	_isKeyPressed
  7339  253a  7d                	ld	a, l
  7340  253b  b7                	or	a, a
  7341  253c  284b              	jr	Z,l_doKeyInput_00112
  7342  253e  cd5c02            	call	_getChar
  7343  2541  45                	ld	b, l
  7344  2542  78                	ld	a, b
  7345  2543  d601              	sub	a,0x01
  7346  2545  380d              	jr	C,l_doKeyInput_00109
  7347  2547  3e7d              	ld	a,0x7d
  7348  2549  90                	sub	a, b
  7349  254a  3808              	jr	C,l_doKeyInput_00109
  7350  254c  c5                	push	bc
  7351  254d  33                	inc	sp
  7352  254e  cd1405            	call	_hcca_writeByte
  7353  2551  33                	inc	sp
  7354  2552  1835              	jr	l_doKeyInput_00112
  7355                          l_doKeyInput_00109:
  7356  2554  78                	ld	a, b
  7357  2555  d67f              	sub	a,0x7f
  7358  2557  2030              	jr	NZ,l_doKeyInput_00112
  7359  2559  012200            	ld	bc,_vdp_cursor+0
  7360  255c  0a                	ld	a, (bc)
  7361  255d  b7                	or	a, a
  7362  255e  200b              	jr	NZ,l_doKeyInput_00104
  7363  2560  3e27              	ld	a,0x27
  7364  2562  02                	ld	(bc), a
  7365  2563  012300            	ld	bc,_vdp_cursor+1
  7366  2566  0a                	ld	a, (bc)
  7367  2567  3d                	dec	a
  7368  2568  02                	ld	(bc), a
  7369  2569  1802              	jr	l_doKeyInput_00105
  7370                          l_doKeyInput_00104:
  7371  256b  3d                	dec	a
  7372  256c  02                	ld	(bc), a
  7373                          l_doKeyInput_00105:
  7374  256d  212300            	ld	hl,_vdp_cursor + 1
  7375  2570  46                	ld	b, (hl)
  7376  2571  3a2200            	ld	a, (_vdp_cursor + 0)
  7377  2574  2620              	ld	h,0x20
  7378  2576  e5                	push	hl
  7379  2577  33                	inc	sp
  7380  2578  c5                	push	bc
  7381  2579  33                	inc	sp
  7382  257a  f5                	push	af
  7383  257b  33                	inc	sp
  7384  257c  cd4111            	call	_vdp_writeCharAtLocation
  7385  257f  f1                	pop	af
  7386  2580  33                	inc	sp
  7387  2581  3e08              	ld	a,0x08
  7388  2583  f5                	push	af
  7389  2584  33                	inc	sp
  7390  2585  cd1405            	call	_hcca_writeByte
  7391  2588  33                	inc	sp
  7392                          l_doKeyInput_00112:
  7393  2589  c9                	ret
  7394                          	SECTION code_compiler
  7395                          ;	---------------------------------
  7396                          ; Function sendOption
  7397                          ; ---------------------------------
  7398                          _sendOption:
  7399  258a  3eff              	ld	a,0xff
  7400  258c  f5                	push	af
  7401  258d  33                	inc	sp
  7402  258e  cd1405            	call	_hcca_writeByte
  7403  2591  33                	inc	sp
  7404  2592  210200            	ld	hl,2+0
  7405  2595  39                	add	hl, sp
  7406  2596  7e                	ld	a, (hl)
  7407  2597  f5                	push	af
  7408  2598  33                	inc	sp
  7409  2599  cd1405            	call	_hcca_writeByte
  7410  259c  33                	inc	sp
  7411  259d  210300            	ld	hl,3+0
  7412  25a0  39                	add	hl, sp
  7413  25a1  7e                	ld	a, (hl)
  7414  25a2  f5                	push	af
  7415  25a3  33                	inc	sp
  7416  25a4  cd1405            	call	_hcca_writeByte
  7417  25a7  33                	inc	sp
  7418  25a8  c9                	ret
  7419                          	SECTION code_compiler
  7420                          ;	---------------------------------
  7421                          ; Function telnet1
  7422                          ; ---------------------------------
  7423                          _telnet1:
  7424  25a9  11fc01            	ld	de,0x01fc
  7425  25ac  d5                	push	de
  7426  25ad  cd8a25            	call	_sendOption
  7427  25b0  f1                	pop	af
  7428  25b1  11fd01            	ld	de,0x01fd
  7429  25b4  d5                	push	de
  7430  25b5  cd8a25            	call	_sendOption
  7431  25b8  f1                	pop	af
  7432  25b9  c9                	ret
  7433                          	SECTION code_compiler
  7434                          ;	---------------------------------
  7435                          ; Function telnet3
  7436                          ; ---------------------------------
  7437                          _telnet3:
  7438  25ba  11fd03            	ld	de,0x03fd
  7439  25bd  d5                	push	de
  7440  25be  cd8a25            	call	_sendOption
  7441  25c1  f1                	pop	af
  7442  25c2  c9                	ret
  7443                          	SECTION code_compiler
  7444                          ;	---------------------------------
  7445                          ; Function telnet32
  7446                          ; ---------------------------------
  7447                          _telnet32:
  7448  25c3  21f1ff            	ld	hl, -15
  7449  25c6  39                	add	hl, sp
  7450  25c7  f9                	ld	sp, hl
  7451  25c8  11fb20            	ld	de,0x20fb
  7452  25cb  d5                	push	de
  7453  25cc  cd8a25            	call	_sendOption
  7454  25cf  f1                	pop	af
  7455  25d0  210000            	ld	hl,0
  7456  25d3  39                	add	hl, sp
  7457  25d4  eb                	ex	de, hl
  7458  25d5  3eff              	ld	a,0xff
  7459  25d7  12                	ld	(de), a
  7460  25d8  6b                	ld	l, e
  7461  25d9  62                	ld	h, d
  7462  25da  23                	inc	hl
  7463  25db  36fa              	ld	(hl),0xfa
  7464  25dd  6b                	ld	l, e
  7465  25de  62                	ld	h, d
  7466  25df  23                	inc	hl
  7467  25e0  23                	inc	hl
  7468  25e1  3620              	ld	(hl),0x20
  7469  25e3  4b                	ld	c, e
  7470  25e4  42                	ld	b, d
  7471  25e5  03                	inc	bc
  7472  25e6  03                	inc	bc
  7473  25e7  03                	inc	bc
  7474  25e8  af                	xor	a, a
  7475  25e9  02                	ld	(bc), a
  7476  25ea  210400            	ld	hl,0x0004
  7477  25ed  19                	add	hl, de
  7478  25ee  3632              	ld	(hl),0x32
  7479  25f0  210500            	ld	hl,0x0005
  7480  25f3  19                	add	hl, de
  7481  25f4  3634              	ld	(hl),0x34
  7482  25f6  210600            	ld	hl,0x0006
  7483  25f9  19                	add	hl, de
  7484  25fa  3630              	ld	(hl),0x30
  7485  25fc  210700            	ld	hl,0x0007
  7486  25ff  19                	add	hl, de
  7487  2600  3630              	ld	(hl),0x30
  7488  2602  210800            	ld	hl,0x0008
  7489  2605  19                	add	hl, de
  7490  2606  362c              	ld	(hl),0x2c
  7491  2608  210900            	ld	hl,0x0009
  7492  260b  19                	add	hl, de
  7493  260c  3632              	ld	(hl),0x32
  7494  260e  210a00            	ld	hl,0x000a
  7495  2611  19                	add	hl, de
  7496  2612  3634              	ld	(hl),0x34
  7497  2614  210b00            	ld	hl,0x000b
  7498  2617  19                	add	hl, de
  7499  2618  3630              	ld	(hl),0x30
  7500  261a  210c00            	ld	hl,0x000c
  7501  261d  19                	add	hl, de
  7502  261e  3630              	ld	(hl),0x30
  7503  2620  210d00            	ld	hl,0x000d
  7504  2623  19                	add	hl, de
  7505  2624  36ff              	ld	(hl),0xff
  7506  2626  210e00            	ld	hl,0x000e
  7507  2629  19                	add	hl, de
  7508  262a  36f0              	ld	(hl),0xf0
  7509  262c  d5                	push	de
  7510  262d  210f00            	ld	hl,0x000f
  7511  2630  e5                	push	hl
  7512  2631  6c                	ld	l, h
  7513  2632  e5                	push	hl
  7514  2633  cde105            	call	_hcca_writeBytes
  7515  2636  f1                	pop	af
  7516  2637  f1                	pop	af
  7517  2638  f1                	pop	af
  7518  2639  210f00            	ld	hl,15
  7519  263c  39                	add	hl, sp
  7520  263d  f9                	ld	sp, hl
  7521  263e  c9                	ret
  7522                          	SECTION code_compiler
  7523                          ;	---------------------------------
  7524                          ; Function telnet35
  7525                          ; ---------------------------------
  7526                          _telnet35:
  7527  263f  11fc23            	ld	de,0x23fc
  7528  2642  d5                	push	de
  7529  2643  cd8a25            	call	_sendOption
  7530  2646  f1                	pop	af
  7531  2647  c9                	ret
  7532                          	SECTION code_compiler
  7533                          ;	---------------------------------
  7534                          ; Function telnet39
  7535                          ; ---------------------------------
  7536                          _telnet39:
  7537  2648  11fc27            	ld	de,0x27fc
  7538  264b  d5                	push	de
  7539  264c  cd8a25            	call	_sendOption
  7540  264f  f1                	pop	af
  7541  2650  c9                	ret
  7542                          	SECTION code_compiler
  7543                          ;	---------------------------------
  7544                          ; Function telnet31
  7545                          ; ---------------------------------
  7546                          _telnet31:
  7547  2651  21f7ff            	ld	hl, -9
  7548  2654  39                	add	hl, sp
  7549  2655  f9                	ld	sp, hl
  7550  2656  11fb1f            	ld	de,0x1ffb
  7551  2659  d5                	push	de
  7552  265a  cd8a25            	call	_sendOption
  7553  265d  f1                	pop	af
  7554  265e  210000            	ld	hl,0
  7555  2661  39                	add	hl, sp
  7556  2662  eb                	ex	de, hl
  7557  2663  3eff              	ld	a,0xff
  7558  2665  12                	ld	(de), a
  7559  2666  6b                	ld	l, e
  7560  2667  62                	ld	h, d
  7561  2668  23                	inc	hl
  7562  2669  36fa              	ld	(hl),0xfa
  7563  266b  6b                	ld	l, e
  7564  266c  62                	ld	h, d
  7565  266d  23                	inc	hl
  7566  266e  23                	inc	hl
  7567  266f  361f              	ld	(hl),0x1f
  7568  2671  4b                	ld	c, e
  7569  2672  42                	ld	b, d
  7570  2673  03                	inc	bc
  7571  2674  03                	inc	bc
  7572  2675  03                	inc	bc
  7573  2676  af                	xor	a, a
  7574  2677  02                	ld	(bc), a
  7575  2678  210400            	ld	hl,0x0004
  7576  267b  19                	add	hl, de
  7577  267c  3628              	ld	(hl),0x28
  7578  267e  210500            	ld	hl,0x0005
  7579  2681  19                	add	hl, de
  7580  2682  3600              	ld	(hl),0x00
  7581  2684  210600            	ld	hl,0x0006
  7582  2687  19                	add	hl, de
  7583  2688  3618              	ld	(hl),0x18
  7584  268a  210700            	ld	hl,0x0007
  7585  268d  19                	add	hl, de
  7586  268e  36ff              	ld	(hl),0xff
  7587  2690  210800            	ld	hl,0x0008
  7588  2693  19                	add	hl, de
  7589  2694  36f0              	ld	(hl),0xf0
  7590  2696  d5                	push	de
  7591  2697  210900            	ld	hl,0x0009
  7592  269a  e5                	push	hl
  7593  269b  6c                	ld	l, h
  7594  269c  e5                	push	hl
  7595  269d  cde105            	call	_hcca_writeBytes
  7596  26a0  f1                	pop	af
  7597  26a1  f1                	pop	af
  7598  26a2  f1                	pop	af
  7599  26a3  210900            	ld	hl,9
  7600  26a6  39                	add	hl, sp
  7601  26a7  f9                	ld	sp, hl
  7602  26a8  c9                	ret
  7603                          	SECTION code_compiler
  7604                          ;	---------------------------------
  7605                          ; Function telnet24
  7606                          ; ---------------------------------
  7607                          _telnet24:
  7608  26a9  21f5ff            	ld	hl, -11
  7609  26ac  39                	add	hl, sp
  7610  26ad  f9                	ld	sp, hl
  7611  26ae  11fb18            	ld	de,0x18fb
  7612  26b1  d5                	push	de
  7613  26b2  cd8a25            	call	_sendOption
  7614  26b5  f1                	pop	af
  7615  26b6  210000            	ld	hl,0
  7616  26b9  39                	add	hl, sp
  7617  26ba  eb                	ex	de, hl
  7618  26bb  3eff              	ld	a,0xff
  7619  26bd  12                	ld	(de), a
  7620  26be  6b                	ld	l, e
  7621  26bf  62                	ld	h, d
  7622  26c0  23                	inc	hl
  7623  26c1  36fa              	ld	(hl),0xfa
  7624  26c3  6b                	ld	l, e
  7625  26c4  62                	ld	h, d
  7626  26c5  23                	inc	hl
  7627  26c6  23                	inc	hl
  7628  26c7  3618              	ld	(hl),0x18
  7629  26c9  4b                	ld	c, e
  7630  26ca  42                	ld	b, d
  7631  26cb  03                	inc	bc
  7632  26cc  03                	inc	bc
  7633  26cd  03                	inc	bc
  7634  26ce  af                	xor	a, a
  7635  26cf  02                	ld	(bc), a
  7636  26d0  210400            	ld	hl,0x0004
  7637  26d3  19                	add	hl, de
  7638  26d4  3656              	ld	(hl),0x56
  7639  26d6  210500            	ld	hl,0x0005
  7640  26d9  19                	add	hl, de
  7641  26da  3654              	ld	(hl),0x54
  7642  26dc  210600            	ld	hl,0x0006
  7643  26df  19                	add	hl, de
  7644  26e0  3631              	ld	(hl),0x31
  7645  26e2  210700            	ld	hl,0x0007
  7646  26e5  19                	add	hl, de
  7647  26e6  3630              	ld	(hl),0x30
  7648  26e8  210800            	ld	hl,0x0008
  7649  26eb  19                	add	hl, de
  7650  26ec  3630              	ld	(hl),0x30
  7651  26ee  210900            	ld	hl,0x0009
  7652  26f1  19                	add	hl, de
  7653  26f2  36ff              	ld	(hl),0xff
  7654  26f4  210a00            	ld	hl,0x000a
  7655  26f7  19                	add	hl, de
  7656  26f8  36f0              	ld	(hl),0xf0
  7657  26fa  d5                	push	de
  7658  26fb  210b00            	ld	hl,0x000b
  7659  26fe  e5                	push	hl
  7660  26ff  6c                	ld	l, h
  7661  2700  e5                	push	hl
  7662  2701  cde105            	call	_hcca_writeBytes
  7663  2704  f1                	pop	af
  7664  2705  f1                	pop	af
  7665  2706  f1                	pop	af
  7666  2707  11fe11            	ld	de,0x11fe
  7667  270a  d5                	push	de
  7668  270b  cd8a25            	call	_sendOption
  7669  270e  f1                	pop	af
  7670  270f  210b00            	ld	hl,11
  7671  2712  39                	add	hl, sp
  7672  2713  f9                	ld	sp, hl
  7673  2714  c9                	ret
  7674                          	SECTION code_compiler
  7675                          ;	---------------------------------
  7676                          ; Function doHCCAInput
  7677                          ; ---------------------------------
  7678                          _doHCCAInput:
  7679  2715  3a0300            	ld	a, (__rxBufferWritePos+0)
  7680  2718  fd210100          	ld	iy,__rxBufferReadPos
  7681  271c  fd9600            	sub	a,(iy+0)
  7682  271f  200c              	jr	NZ,l_doHCCAInput_00193
  7683  2721  3a0400            	ld	a, (__rxBufferWritePos+1)
  7684  2724  fd9601            	sub	a,(iy+1)
  7685  2727  2004              	jr	NZ,l_doHCCAInput_00193
  7686  2729  3e01              	ld	a,0x01
  7687  272b  1801              	jr	l_doHCCAInput_00194
  7688                          l_doHCCAInput_00193:
  7689  272d  af                	xor	a,a
  7690                          l_doHCCAInput_00194:
  7691  272e  ee01              	xor	a,0x01
  7692  2730  cab727            	jp	Z,l_doHCCAInput_00131
  7693  2733  cd6b03            	call	_hcca_readByte
  7694  2736  45                	ld	b, l
  7695  2737  78                	ld	a, b
  7696  2738  3c                	inc	a
  7697  2739  2011              	jr	NZ,l_doHCCAInput_00104
  7698  273b  3a2a00            	ld	a, (__telnetEscapePos+0)
  7699  273e  b7                	or	a, a
  7700  273f  200b              	jr	NZ,l_doHCCAInput_00104
  7701  2741  21eb08            	ld	hl,__telnetEscapeOptions
  7702  2744  70                	ld	(hl), b
  7703  2745  212a00            	ld	hl,__telnetEscapePos + 0
  7704  2748  3601              	ld	(hl),0x01
  7705  274a  186b              	jr	l_doHCCAInput_00131
  7706                          l_doHCCAInput_00104:
  7707  274c  3a2a00            	ld	a, (__telnetEscapePos+0)
  7708  274f  b7                	or	a, a
  7709  2750  285f              	jr	Z,l_doHCCAInput_00129
  7710  2752  3eeb              	ld	a, +((__telnetEscapeOptions) & 0xFF)
  7711  2754  212a00            	ld	hl,__telnetEscapePos
  7712  2757  86                	add	a, (hl)
  7713  2758  6f                	ld	l, a
  7714  2759  3e08              	ld	a, +((__telnetEscapeOptions) / 256)
  7715  275b  ce00              	adc	a,0x00
  7716  275d  67                	ld	h, a
  7717  275e  70                	ld	(hl), b
  7718  275f  212a00            	ld	hl,__telnetEscapePos+0
  7719  2762  34                	inc	(hl)
  7720  2763  3a2a00            	ld	a, (__telnetEscapePos+0)
  7721  2766  d603              	sub	a,0x03
  7722  2768  2045              	jr	NZ,l_doHCCAInput_00127
  7723  276a  3aed08            	ld	a, (__telnetEscapeOptions + 2)
  7724  276d  fe01              	cp	a,0x01
  7725  276f  2005              	jr	NZ,l_doHCCAInput_00124
  7726  2771  cda925            	call	_telnet1
  7727  2774  1834              	jr	l_doHCCAInput_00125
  7728                          l_doHCCAInput_00124:
  7729  2776  fe03              	cp	a,0x03
  7730  2778  2005              	jr	NZ,l_doHCCAInput_00121
  7731  277a  cdba25            	call	_telnet3
  7732  277d  182b              	jr	l_doHCCAInput_00125
  7733                          l_doHCCAInput_00121:
  7734  277f  fe18              	cp	a,0x18
  7735  2781  2005              	jr	NZ,l_doHCCAInput_00118
  7736  2783  cda926            	call	_telnet24
  7737  2786  1822              	jr	l_doHCCAInput_00125
  7738                          l_doHCCAInput_00118:
  7739  2788  fe1f              	cp	a,0x1f
  7740  278a  2005              	jr	NZ,l_doHCCAInput_00115
  7741  278c  cd5126            	call	_telnet31
  7742  278f  1819              	jr	l_doHCCAInput_00125
  7743                          l_doHCCAInput_00115:
  7744  2791  fe20              	cp	a,0x20
  7745  2793  2005              	jr	NZ,l_doHCCAInput_00112
  7746  2795  cdc325            	call	_telnet32
  7747  2798  1810              	jr	l_doHCCAInput_00125
  7748                          l_doHCCAInput_00112:
  7749  279a  fe23              	cp	a,0x23
  7750  279c  2005              	jr	NZ,l_doHCCAInput_00109
  7751  279e  cd3f26            	call	_telnet35
  7752  27a1  1807              	jr	l_doHCCAInput_00125
  7753                          l_doHCCAInput_00109:
  7754  27a3  d627              	sub	a,0x27
  7755  27a5  2003              	jr	NZ,l_doHCCAInput_00125
  7756  27a7  cd4826            	call	_telnet39
  7757                          l_doHCCAInput_00125:
  7758  27aa  212a00            	ld	hl,__telnetEscapePos + 0
  7759  27ad  3600              	ld	(hl),0x00
  7760                          l_doHCCAInput_00127:
  7761  27af  1806              	jr	l_doHCCAInput_00131
  7762                          l_doHCCAInput_00129:
  7763  27b1  c5                	push	bc
  7764  27b2  33                	inc	sp
  7765  27b3  cd1525            	call	_vt100_putc
  7766  27b6  33                	inc	sp
  7767                          l_doHCCAInput_00131:
  7768  27b7  c9                	ret
  7769                          	SECTION code_compiler
  7770                          ;	---------------------------------
  7771                          ; Function main
  7772                          ; ---------------------------------
  7773                          _main:
  7774  27b8  dde5              	push	ix
  7775  27ba  dd210000          	ld	ix,0
  7776  27be  dd39              	add	ix,sp
  7777  27c0  21f5ff            	ld	hl, -11
  7778  27c3  39                	add	hl, sp
  7779  27c4  f9                	ld	sp, hl
  7780  27c5  cd0000            	call	_initNABULib
  7781  27c8  af                	xor	a, a
  7782  27c9  f5                	push	af
  7783  27ca  33                	inc	sp
  7784  27cb  af                	xor	a, a
  7785  27cc  57                	ld	d,a
  7786  27cd  1e0f              	ld	e,0x0f
  7787  27cf  d5                	push	de
  7788  27d0  cdbd08            	call	_vdp_initTextMode
  7789  27d3  33                	inc	sp
  7790  27d4  219100            	ld	hl,_ASCII
  7791  27d7  e3                	ex	(sp),hl
  7792  27d8  cd7609            	call	_vdp_loadASCIIFont
  7793  27db  f1                	pop	af
  7794  27dc  cd2809            	call	_vdp_clearScreen
  7795  27df  21ab03            	ld	hl,___str_3
  7796  27e2  e5                	push	hl
  7797  27e3  cd9e0f            	call	_vdp_print
  7798  27e6  f1                	pop	af
  7799  27e7  cded0f            	call	_vdp_newLine
  7800  27ea  cded0f            	call	_vdp_newLine
  7801  27ed  21cf03            	ld	hl,___str_4
  7802  27f0  e5                	push	hl
  7803  27f1  cd9e0f            	call	_vdp_print
  7804  27f4  f1                	pop	af
  7805  27f5  cded0f            	call	_vdp_newLine
  7806  27f8  cded0f            	call	_vdp_newLine
  7807  27fb  211504            	ld	hl,___str_5
  7808  27fe  e5                	push	hl
  7809  27ff  cd9e0f            	call	_vdp_print
  7810  2802  f1                	pop	af
  7811  2803  cded0f            	call	_vdp_newLine
  7812  2806  cded0f            	call	_vdp_newLine
  7813  2809  215804            	ld	hl,___str_6
  7814  280c  e5                	push	hl
  7815  280d  cd9e0f            	call	_vdp_print
  7816  2810  f1                	pop	af
  7817  2811  cd5c02            	call	_getChar
  7818  2814  cd2809            	call	_vdp_clearScreen
  7819  2817  af                	xor	a, a
  7820  2818  f5                	push	af
  7821  2819  33                	inc	sp
  7822  281a  af                	xor	a, a
  7823  281b  f5                	push	af
  7824  281c  33                	inc	sp
  7825  281d  cd1f10            	call	_vdp_setCursor2
  7826  2820  217204            	ld	hl,___str_7
  7827  2823  e3                	ex	(sp),hl
  7828  2824  cd9e0f            	call	_vdp_print
  7829  2827  2601              	ld	h,0x01
  7830  2829  e3                	ex	(sp),hl
  7831  282a  33                	inc	sp
  7832  282b  af                	xor	a, a
  7833  282c  f5                	push	af
  7834  282d  33                	inc	sp
  7835  282e  cd1f10            	call	_vdp_setCursor2
  7836  2831  219004            	ld	hl,___str_8
  7837  2834  e3                	ex	(sp),hl
  7838  2835  cd9e0f            	call	_vdp_print
  7839  2838  f1                	pop	af
  7840  2839  dd36f524          	ld	(ix-11),0x24
  7841  283d  dd36f6fa          	ld	(ix-10),0xfa
  7842  2841  dd36f71c          	ld	(ix-9),0x1c
  7843  2845  dd36f832          	ld	(ix-8),0x32
  7844  2849  dd36f924          	ld	(ix-7),0x24
  7845  284d  dd36fa64          	ld	(ix-6),0x64
  7846  2851  dd36fb2a          	ld	(ix-5),0x2a
  7847  2855  dd36fc64          	ld	(ix-4),0x64
  7848  2859  1e00              	ld	e,0x00
  7849                          l_main_00106:
  7850  285b  7b                	ld	a, e
  7851  285c  d608              	sub	a,0x08
  7852  285e  3041              	jr	NC,l_main_00101
  7853  2860  dd73fd            	ld	(ix-3),e
  7854  2863  7b                	ld	a, e
  7855  2864  3c                	inc	a
  7856  2865  4f                	ld	c, a
  7857  2866  07                	rlca
  7858  2867  9f                	sbc	a, a
  7859  2868  47                	ld	b, a
  7860  2869  210000            	ld	hl,0
  7861  286c  39                	add	hl, sp
  7862  286d  09                	add	hl, bc
  7863  286e  4d                	ld	c, l
  7864  286f  44                	ld	b, h
  7865  2870  0a                	ld	a, (bc)
  7866  2871  dd77fe            	ld	(ix-2),a
  7867  2874  dd36ff00          	ld	(ix-1),0x00
  7868  2878  1600              	ld	d,0x00
  7869  287a  210000            	ld	hl,0
  7870  287d  39                	add	hl, sp
  7871  287e  19                	add	hl, de
  7872  287f  7e                	ld	a, (hl)
  7873  2880  c5                	push	bc
  7874  2881  dd6efe            	ld	l,(ix-2)
  7875  2884  dd66ff            	ld	h,(ix-1)
  7876  2887  e5                	push	hl
  7877  2888  f5                	push	af
  7878  2889  33                	inc	sp
  7879  288a  af                	xor	a, a
  7880  288b  f5                	push	af
  7881  288c  33                	inc	sp
  7882  288d  cd4601            	call	_playNoteDelay
  7883  2890  f1                	pop	af
  7884  2891  f1                	pop	af
  7885  2892  c1                	pop	bc
  7886  2893  0a                	ld	a, (bc)
  7887  2894  6f                	ld	l, a
  7888  2895  2600              	ld	h,0x00
  7889  2897  cd0000            	call	_z80_delay_ms
  7890  289a  dd5efd            	ld	e,(ix-3)
  7891  289d  1c                	inc	e
  7892  289e  1c                	inc	e
  7893  289f  18ba              	jr	l_main_00106
  7894                          l_main_00101:
  7895  28a1  21d007            	ld	hl,0x07d0
  7896  28a4  cd0000            	call	_z80_delay_ms
  7897  28a7  3e02              	ld	a,0x02
  7898  28a9  f5                	push	af
  7899  28aa  33                	inc	sp
  7900  28ab  af                	xor	a, a
  7901  28ac  f5                	push	af
  7902  28ad  33                	inc	sp
  7903  28ae  cd7d12            	call	_vdp_clearRows
  7904  28b1  26a6              	ld	h,0xa6
  7905  28b3  e3                	ex	(sp),hl
  7906  28b4  33                	inc	sp
  7907  28b5  cd1405            	call	_hcca_writeByte
  7908  28b8  33                	inc	sp
  7909  28b9  21c705            	ld	hl,_hcca_writeString
  7910  28bc  e5                	push	hl
  7911  28bd  cd0025            	call	_vt100_init
  7912  28c0  f1                	pop	af
  7913                          l_main_00103:
  7914  28c1  cd1527            	call	_doHCCAInput
  7915  28c4  cd3725            	call	_doKeyInput
  7916  28c7  18f8              	jr	l_main_00103
  7917                          	SECTION rodata_compiler
  7918                          ___str_3:
  7919  03ab  54686b0320760072  	DEFM "This version is outdated and broken"
              736b036e20690020  
              6f756b0361740064  
              206b03642062006f  
              6b656e            
  7920  03ce  00                	DEFB 0x00
  7921                          	SECTION rodata_compiler
  7922                          ___str_4:
  7923  03cf  550000617465f8ff  	DEFM "Updates to this app and many others are on Cloud CPM in User"
              746f206b036973fc  
              617070fd616efe20  
              6dff6e6b036f0068  
              0000732061720020  
              6ffc20436cf87564  
              fd43504df9696efe  
              557365fa          
  7924  040b  2041ff656120fb31  	DEFM " Area #1."
              6b                
  7925  0414  00                	DEFB 0x00
  7926                          	SECTION rodata_compiler
  7927                          ___str_5:
  7928  0415  43006500002068f8  	DEFM "Check https://nabu.ca for list of applications on the cloud "
              747073fc2f2ff961  
              6275fd6361fa666f  
              72fe6c69fb74206f  
              ff206b03706c0000  
              6100696ffc73206f  
              6efd74686520fe6c  
              6f7564ff          
  7929  0451  64726976652e      	DEFM "drive."
  7930  0457  00                	DEFB 0x00
  7931                          	SECTION rodata_compiler
  7932                          ___str_6:
  7933  0458  507265730000616e  	DEFM "Press any key to continue"
              79f8ff6579206b03  
              2063fc6e7469fd75  
              65                
  7934  0471  00                	DEFB 0x00
  7935                          	SECTION rodata_compiler
  7936                          ___str_7:
  7937  0472  5265ff726b036500  	DEFM "RetroNet Telnet Client (0.9b)"
              2000006c6e657400  
              436cfc656e74f828  
              30fd396229        
  7938  048f  00                	DEFB 0x00
  7939                          	SECTION rodata_compiler
  7940                          ___str_8:
  7941  0490  6279fe444a20fa75  	DEFM "by DJ Sures (c)2023"
              72ff732028fb296b  
              033200            
  7942  04a3  00                	DEFB 0x00
  7943                          	SECTION data_compiler
  7944                          __randomSeed:
  7945  0000  00                	DEFB +0x00
  7946                          __rxBufferReadPos:
  7947  0001  0000              	DEFW +0x0000
  7948                          __rxBufferWritePos:
  7949  0003  0000              	DEFW +0x0000
  7950                          __kbdBufferReadPos:
  7951  0005  00                	DEFB +0x00
  7952                          __kbdBufferWritePos:
  7953  0006  00                	DEFB +0x00
  7954                          __lastKeyboardIntVal:
  7955  0007  00                	DEFB +0x00
  7956                          __joyStatus:
  7957  0008  00                	DEFB +0x00
  7958  0009  00                	DEFB 0x00
  7959  000a  00                	DEFB 0x00
  7960  000b  00                	DEFB 0x00
  7961                          __ORIGINAL_INT_MASK:
  7962  000c  00                	DEFB +0x00
  7963                          _RETRONET_BRIDGE_EXIT_CODE:
  7964  000d  0f                	DEFB +0x0f
  7965  000e  b7                	DEFB +0xb7
  7966  000f  b8                	DEFB +0xb8
  7967  0010  b9                	DEFB +0xb9
  7968  0011  0f                	DEFB +0x0f
  7969  0012  b9                	DEFB +0xb9
  7970  0013  b8                	DEFB +0xb8
  7971  0014  b7                	DEFB +0xb7
  7972  0015  b8                	DEFB +0xb8
  7973  0016  b9                	DEFB +0xb9
  7974  0017  b7                	DEFB +0xb7
  7975  0018  b7                	DEFB +0xb7
  7976  0019  b8                	DEFB +0xb8
  7977  001a  b9                	DEFB +0xb9
  7978  001b  b9                	DEFB +0xb9
  7979  001c  b8                	DEFB +0xb8
  7980  001d  b7                	DEFB +0xb7
  7981  001e  b8                	DEFB +0xb8
  7982  001f  0f                	DEFB +0x0f
  7983  0020  b9                	DEFB +0xb9
  7984  0021  b7                	DEFB +0xb7
  7985                          _vdp_cursor:
  7986  0022  00                	DEFB +0x00
  7987  0023  00                	DEFB +0x00
  7988                          __vdpReg1Val:
  7989  0024  00                	DEFB +0x00
  7990                          __vdpColorTableSize:
  7991  0025  0000              	DEFW +0x0000
  7992                          __vdpInterruptEnabled:
  7993  0027  00                	DEFB +0x00
  7994                          _vdpStatusRegVal:
  7995  0028  00                	DEFB +0x00
  7996                          _vdpIsReady:
  7997  0029  00                	DEFB +0x00
  7998                          __telnetEscapePos:
  7999  002a  00                	DEFB +0x00
  8000                          	SECTION IGNORE
  8001                          

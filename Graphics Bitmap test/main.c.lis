C:/Users/dj/AppData/Local/Temp/zcc00002C508A572.asm:
     1                          MODULE main_c
     2                          LINE 0, "main.c"
main.c:
                                
     1                          ;--------------------------------------------------------
     2                          ; File Created by SDCC : free open source ANSI-C Compiler
     3                          ; Version 4.2.0 #13081 (MINGW64)
     4                          ;--------------------------------------------------------
     5                          ; Processed by Z88DK
     6                          ;--------------------------------------------------------
     7                          
     8                          	EXTERN __divschar
     9                          	EXTERN __divschar_callee
    10                          	EXTERN __divsint
    11                          	EXTERN __divsint_callee
    12                          	EXTERN __divslong
    13                          	EXTERN __divslong_callee
    14                          	EXTERN __divslonglong
    15                          	EXTERN __divslonglong_callee
    16                          	EXTERN __divsuchar
    17                          	EXTERN __divsuchar_callee
    18                          	EXTERN __divuchar
    19                          	EXTERN __divuchar_callee
    20                          	EXTERN __divuint
    21                          	EXTERN __divuint_callee
    22                          	EXTERN __divulong
    23                          	EXTERN __divulong_callee
    24                          	EXTERN __divulonglong
    25                          	EXTERN __divulonglong_callee
    26                          	EXTERN __divuschar
    27                          	EXTERN __divuschar_callee
    28                          	EXTERN __modschar
    29                          	EXTERN __modschar_callee
    30                          	EXTERN __modsint
    31                          	EXTERN __modsint_callee
    32                          	EXTERN __modslong
    33                          	EXTERN __modslong_callee
    34                          	EXTERN __modslonglong
    35                          	EXTERN __modslonglong_callee
    36                          	EXTERN __modsuchar
    37                          	EXTERN __modsuchar_callee
    38                          	EXTERN __moduchar
    39                          	EXTERN __moduchar_callee
    40                          	EXTERN __moduint
    41                          	EXTERN __moduint_callee
    42                          	EXTERN __modulong
    43                          	EXTERN __modulong_callee
    44                          	EXTERN __modulonglong
    45                          	EXTERN __modulonglong_callee
    46                          	EXTERN __moduschar
    47                          	EXTERN __moduschar_callee
    48                          	EXTERN __mulint
    49                          	EXTERN __mulint_callee
    50                          	EXTERN __mullong
    51                          	EXTERN __mullong_callee
    52                          	EXTERN __mullonglong
    53                          	EXTERN __mullonglong_callee
    54                          	EXTERN __mulschar
    55                          	EXTERN __mulschar_callee
    56                          	EXTERN __mulsuchar
    57                          	EXTERN __mulsuchar_callee
    58                          	EXTERN __muluchar
    59                          	EXTERN __muluchar_callee
    60                          	EXTERN __muluschar
    61                          	EXTERN __muluschar_callee
    62                          	EXTERN __rlslonglong
    63                          	EXTERN __rlslonglong_callee
    64                          	EXTERN __rlulonglong
    65                          	EXTERN __rlulonglong_callee
    66                          	EXTERN __rrslonglong
    67                          	EXTERN __rrslonglong_callee
    68                          	EXTERN __rrulonglong
    69                          	EXTERN __rrulonglong_callee
    70                          	EXTERN ___mulsint2slong
    71                          	EXTERN ___mulsint2slong_callee
    72                          	EXTERN ___muluint2ulong
    73                          	EXTERN ___muluint2ulong_callee
    74                          	EXTERN ___sdcc_call_hl
    75                          	EXTERN ___sdcc_call_iy
    76                          	EXTERN ___sdcc_enter_ix
    77                          	EXTERN banked_call
    78                          	EXTERN _banked_ret
    79                          	EXTERN ___fs2schar
    80                          	EXTERN ___fs2schar_callee
    81                          	EXTERN ___fs2sint
    82                          	EXTERN ___fs2sint_callee
    83                          	EXTERN ___fs2slong
    84                          	EXTERN ___fs2slong_callee
    85                          	EXTERN ___fs2slonglong
    86                          	EXTERN ___fs2slonglong_callee
    87                          	EXTERN ___fs2uchar
    88                          	EXTERN ___fs2uchar_callee
    89                          	EXTERN ___fs2uint
    90                          	EXTERN ___fs2uint_callee
    91                          	EXTERN ___fs2ulong
    92                          	EXTERN ___fs2ulong_callee
    93                          	EXTERN ___fs2ulonglong
    94                          	EXTERN ___fs2ulonglong_callee
    95                          	EXTERN ___fsadd
    96                          	EXTERN ___fsadd_callee
    97                          	EXTERN ___fsdiv
    98                          	EXTERN ___fsdiv_callee
    99                          	EXTERN ___fseq
   100                          	EXTERN ___fseq_callee
   101                          	EXTERN ___fsgt
   102                          	EXTERN ___fsgt_callee
   103                          	EXTERN ___fslt
   104                          	EXTERN ___fslt_callee
   105                          	EXTERN ___fsmul
   106                          	EXTERN ___fsmul_callee
   107                          	EXTERN ___fsneq
   108                          	EXTERN ___fsneq_callee
   109                          	EXTERN ___fssub
   110                          	EXTERN ___fssub_callee
   111                          	EXTERN ___schar2fs
   112                          	EXTERN ___schar2fs_callee
   113                          	EXTERN ___sint2fs
   114                          	EXTERN ___sint2fs_callee
   115                          	EXTERN ___slong2fs
   116                          	EXTERN ___slong2fs_callee
   117                          	EXTERN ___slonglong2fs
   118                          	EXTERN ___slonglong2fs_callee
   119                          	EXTERN ___uchar2fs
   120                          	EXTERN ___uchar2fs_callee
   121                          	EXTERN ___uint2fs
   122                          	EXTERN ___uint2fs_callee
   123                          	EXTERN ___ulong2fs
   124                          	EXTERN ___ulong2fs_callee
   125                          	EXTERN ___ulonglong2fs
   126                          	EXTERN ___ulonglong2fs_callee
   127                          	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
   128                          	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
   129                          	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
   130                          	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
   131                          	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
   132                          	EXTERN ____sdcc_4_ldi_nosave_bc
   133                          	EXTERN ____sdcc_4_ldi_save_bc
   134                          	EXTERN ____sdcc_4_push_hlix
   135                          	EXTERN ____sdcc_4_push_mhl
   136                          	EXTERN ____sdcc_lib_setmem_hl
   137                          	EXTERN ____sdcc_ll_add_de_bc_hl
   138                          	EXTERN ____sdcc_ll_add_de_bc_hlix
   139                          	EXTERN ____sdcc_ll_add_de_hlix_bc
   140                          	EXTERN ____sdcc_ll_add_de_hlix_bcix
   141                          	EXTERN ____sdcc_ll_add_deix_bc_hl
   142                          	EXTERN ____sdcc_ll_add_deix_hlix
   143                          	EXTERN ____sdcc_ll_add_hlix_bc_deix
   144                          	EXTERN ____sdcc_ll_add_hlix_deix_bc
   145                          	EXTERN ____sdcc_ll_add_hlix_deix_bcix
   146                          	EXTERN ____sdcc_ll_asr_hlix_a
   147                          	EXTERN ____sdcc_ll_asr_mbc_a
   148                          	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
   149                          	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
   150                          	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
   151                          	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
   152                          	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
   153                          	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
   154                          	EXTERN ____sdcc_ll_copy_src_hl_dst_de
   155                          	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
   156                          	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
   157                          	EXTERN ____sdcc_ll_lsl_hlix_a
   158                          	EXTERN ____sdcc_ll_lsl_mbc_a
   159                          	EXTERN ____sdcc_ll_lsr_hlix_a
   160                          	EXTERN ____sdcc_ll_lsr_mbc_a
   161                          	EXTERN ____sdcc_ll_push_hlix
   162                          	EXTERN ____sdcc_ll_push_mhl
   163                          	EXTERN ____sdcc_ll_sub_de_bc_hl
   164                          	EXTERN ____sdcc_ll_sub_de_bc_hlix
   165                          	EXTERN ____sdcc_ll_sub_de_hlix_bc
   166                          	EXTERN ____sdcc_ll_sub_de_hlix_bcix
   167                          	EXTERN ____sdcc_ll_sub_deix_bc_hl
   168                          	EXTERN ____sdcc_ll_sub_deix_hlix
   169                          	EXTERN ____sdcc_ll_sub_hlix_bc_deix
   170                          	EXTERN ____sdcc_ll_sub_hlix_deix_bc
   171                          	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
   172                          	EXTERN ____sdcc_load_debc_deix
   173                          	EXTERN ____sdcc_load_dehl_deix
   174                          	EXTERN ____sdcc_load_debc_mhl
   175                          	EXTERN ____sdcc_load_hlde_mhl
   176                          	EXTERN ____sdcc_store_dehl_bcix
   177                          	EXTERN ____sdcc_store_debc_hlix
   178                          	EXTERN ____sdcc_store_debc_mhl
   179                          	EXTERN ____sdcc_cpu_pop_ei
   180                          	EXTERN ____sdcc_cpu_pop_ei_jp
   181                          	EXTERN ____sdcc_cpu_push_di
   182                          	EXTERN ____sdcc_outi
   183                          	EXTERN ____sdcc_outi_128
   184                          	EXTERN ____sdcc_outi_256
   185                          	EXTERN ____sdcc_ldi
   186                          	EXTERN ____sdcc_ldi_128
   187                          	EXTERN ____sdcc_ldi_256
   188                          	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
   189                          	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
   190                          	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
   191                          	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
   192                          	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
   193                          	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
   194                          	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
   195                          	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
   196                          	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
   197                          	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
   198                          	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
   199                          	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
   200                          	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
   201                          	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
   202                          	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
   203                          	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
   204                          	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
   205                          
   206                          ;--------------------------------------------------------
   207                          ; Public variables in this module
   208                          ;--------------------------------------------------------
   209                          	GLOBAL _main
   210                          	GLOBAL _initDisplay
   211                          	GLOBAL _window
   212                          	GLOBAL _line
   213                          	GLOBAL _putPixel
   214                          	GLOBAL _invalidateScreen
   215                          	GLOBAL _invalideArea
   216                          	GLOBAL _vdp_scrollTextDown
   217                          	GLOBAL _waitVdpISR
   218                          	GLOBAL _isrKeyboard
   219                          	GLOBAL _isrHCCARX
   220                          	GLOBAL _vdpIsReady
   221                          	GLOBAL _vdpStatusRegVal
   222                          	GLOBAL __vdpInterruptEnabled
   223                          	GLOBAL __vdpReg1Val
   224                          	GLOBAL _vdp_cursor
   225                          	GLOBAL __ORIGINAL_INT_MASK
   226                          	GLOBAL __joyStatus
   227                          	GLOBAL __lastKeyboardIntVal
   228                          	GLOBAL __kbdBufferWritePos
   229                          	GLOBAL __kbdBufferReadPos
   230                          	GLOBAL __rxBufferWritePos
   231                          	GLOBAL __rxBufferReadPos
   232                          	GLOBAL __randomSeed
   233                          	GLOBAL __dBuffer
   234                          	GLOBAL __LIST_DEVICE
   235                          	GLOBAL __EMULATION_MODE
   236                          	GLOBAL _cpm_cursor
   237                          	GLOBAL __autoScroll
   238                          	GLOBAL __vdpMode
   239                          	GLOBAL __vdpCursorMaxXFull
   240                          	GLOBAL __vdpCursorMaxX
   241                          	GLOBAL __vdpPatternGeneratorTableAddr
   242                          	GLOBAL __vdpColorTableAddr
   243                          	GLOBAL __vdpPatternNameTableAddr
   244                          	GLOBAL __vdpSpriteSizeSelected
   245                          	GLOBAL __vdpSpriteGeneratorTableAddr
   246                          	GLOBAL __vdpSpriteAttributeTableAddr
   247                          	GLOBAL __vdp_ISR
   248                          	GLOBAL __vdp_textBuffer
   249                          	GLOBAL __kbdBuffer
   250                          	GLOBAL __rxBuffer
   251                          	GLOBAL _ASCII
   252                          	GLOBAL __NOTES_FINE
   253                          	GLOBAL __NOTES_COURSE
   254                          	GLOBAL __vdpCursorMaxY
   255                          	GLOBAL _initNABULib
   256                          	GLOBAL _initNABULIBAudio
   257                          	GLOBAL _nop
   258                          	GLOBAL _NABU_DisableInterrupts
   259                          	GLOBAL _NABU_EnableInterrupts
   260                          	GLOBAL _RightShift
   261                          	GLOBAL _vt_clearToEndOfScreen
   262                          	GLOBAL _vt_clearToEndOfLine
   263                          	GLOBAL _vt_clearScreen
   264                          	GLOBAL _vt_clearLine
   265                          	GLOBAL _vt_clearToStartOfLine
   266                          	GLOBAL _vt_clearToStartOfScreen
   267                          	GLOBAL _vt_moveCursorDown
   268                          	GLOBAL _vt_cursorHome
   269                          	GLOBAL _vt_moveCursorLeft
   270                          	GLOBAL _vt_moveCursorRight
   271                          	GLOBAL _vt_moveCursorUp
   272                          	GLOBAL _vt_deleteLine
   273                          	GLOBAL _vt_setCursor
   274                          	GLOBAL _vt_foregroundColor
   275                          	GLOBAL _vt_insertLine
   276                          	GLOBAL _vt_restoreCursorPosition
   277                          	GLOBAL _vt_backgroundColor
   278                          	GLOBAL _vt_saveCursorPosition
   279                          	GLOBAL _vt_cursorUpAndInsert
   280                          	GLOBAL _vt_wrapOff
   281                          	GLOBAL _vt_wrapOn
   282                          	GLOBAL _vt_normalVideo
   283                          	GLOBAL _vt_reverseVideo
   284                          	GLOBAL _ayWrite
   285                          	GLOBAL _ayRead
   286                          	GLOBAL _playNoteDelay
   287                          	GLOBAL _isKeyPressed
   288                          	GLOBAL _getChar
   289                          	GLOBAL _getJoyStatus
   290                          	GLOBAL _readLine
   291                          	GLOBAL _hcca_ping
   292                          	GLOBAL _hcca_isRxBufferAvailable
   293                          	GLOBAL _hcca_getSizeOfDataInBuffer
   294                          	GLOBAL _hcca_readByte
   295                          	GLOBAL _hcca_readUInt16
   296                          	GLOBAL _hcca_readInt16
   297                          	GLOBAL _hcca_readUInt32
   298                          	GLOBAL _hcca_readInt32
   299                          	GLOBAL _hcca_readBytes
   300                          	GLOBAL _hcca_writeByte
   301                          	GLOBAL _hcca_writeUInt32
   302                          	GLOBAL _hcca_writeInt32
   303                          	GLOBAL _hcca_writeUInt16
   304                          	GLOBAL _hcca_writeInt16
   305                          	GLOBAL _hcca_writeString
   306                          	GLOBAL _hcca_writeBytes
   307                          	GLOBAL _vdp_setRegister
   308                          	GLOBAL _vdp_setWriteAddress
   309                          	GLOBAL _vdp_setReadAddress
   310                          	GLOBAL _vdp_enableVDPReadyInt
   311                          	GLOBAL _vdp_waitVDPReadyInt
   312                          	GLOBAL _vdp_disableVDPReadyInt
   313                          	GLOBAL _vdp_addISR
   314                          	GLOBAL _vdp_removeISR
   315                          	GLOBAL _vdp_init
   316                          	GLOBAL _vdp_clearVRAM
   317                          	GLOBAL _vdp_initMSXMode
   318                          	GLOBAL _vdp_initTextMode
   319                          	GLOBAL _vdp_initG2Mode
   320                          	GLOBAL _vdp_initMultiColorMode
   321                          	GLOBAL _vdp_clearScreen
   322                          	GLOBAL _vdp_fillScreen
   323                          	GLOBAL _vdp_clearRows
   324                          	GLOBAL _vdp_loadASCIIFont
   325                          	GLOBAL _vdp_loadASCIIFontWithInverse
   326                          	GLOBAL _vdp_putPattern
   327                          	GLOBAL _vdp_loadPatternTable
   328                          	GLOBAL _vdp_loadColorTable
   329                          	GLOBAL _vdp_colorizePattern
   330                          	GLOBAL _vdp_plotHires
   331                          	GLOBAL _vdp_plotColor
   332                          	GLOBAL _vdp_disableSprite
   333                          	GLOBAL _vdp_loadSpritePatternNameTable
   334                          	GLOBAL _vdp_spriteInit
   335                          	GLOBAL _vdp_setSpriteColor
   336                          	GLOBAL _vdp_setSpritePosition
   337                          	GLOBAL _vdp_setSpritePositionAndColor
   338                          	GLOBAL _vdp_getSpritePosition
   339                          	GLOBAL _vdp_print
   340                          	GLOBAL _vdp_printColorized
   341                          	GLOBAL _vdp_printPart
   342                          	GLOBAL _vdp_newLine
   343                          	GLOBAL _vdp_setBackDropColor
   344                          	GLOBAL _vdp_setCursor2
   345                          	GLOBAL _vdp_setCursor
   346                          	GLOBAL _vdp_setTextColor
   347                          	GLOBAL _vdp_write
   348                          	GLOBAL _vdp_writeCharAtLocation
   349                          	GLOBAL _vdp_getCharAtLocationVRAM
   350                          	GLOBAL _vdp_getCharAtLocationBuf
   351                          	GLOBAL _vdp_setCharAtLocationBuf
   352                          	GLOBAL _vdp_scrollTextUp
   353                          	GLOBAL _vdp_writeUInt32
   354                          	GLOBAL _vdp_writeInt32
   355                          	GLOBAL _vdp_writeUInt16
   356                          	GLOBAL _vdp_writeInt16
   357                          	GLOBAL _vdp_writeUInt8
   358                          	GLOBAL _vdp_writeInt8
   359                          	GLOBAL _vdp_writeUInt8ToBinary
   360                          	GLOBAL _vdp_writeUInt16ToBinary
   361                          	GLOBAL _vdp_writeUInt32ToBinary
   362                          ;--------------------------------------------------------
   363                          ; Externals used
   364                          ;--------------------------------------------------------
   365                          	GLOBAL _fpclassify
   366                          	GLOBAL _fpseed
   367                          	GLOBAL _fprand
   368                          	GLOBAL _ftoe
   369                          	GLOBAL _ftoa
   370                          	GLOBAL _atof
   371                          	GLOBAL _pi
   372                          	GLOBAL _halfpi
   373                          	GLOBAL _amin
   374                          	GLOBAL _amax
   375                          	GLOBAL _fmod
   376                          	GLOBAL _fabs
   377                          	GLOBAL _frexp
   378                          	GLOBAL _ldexp
   379                          	GLOBAL _modf
   380                          	GLOBAL _ceil
   381                          	GLOBAL _floor
   382                          	GLOBAL _log10
   383                          	GLOBAL _log
   384                          	GLOBAL _exp
   385                          	GLOBAL _sqrt
   386                          	GLOBAL _pow
   387                          	GLOBAL _atanh
   388                          	GLOBAL _acosh
   389                          	GLOBAL _asinh
   390                          	GLOBAL _tanh
   391                          	GLOBAL _sinh
   392                          	GLOBAL _cosh
   393                          	GLOBAL _atan2
   394                          	GLOBAL _atan
   395                          	GLOBAL _asin
   396                          	GLOBAL _acos
   397                          	GLOBAL _sin
   398                          	GLOBAL _tan
   399                          	GLOBAL _cos
   400                          	GLOBAL _negf16
   401                          	GLOBAL _fabsf16
   402                          	GLOBAL _invsqrtf16
   403                          	GLOBAL _invf16
   404                          	GLOBAL _ldexpf16
   405                          	GLOBAL _frexpf16
   406                          	GLOBAL _floorf16
   407                          	GLOBAL _ceilf16
   408                          	GLOBAL _powf16
   409                          	GLOBAL _log10f16
   410                          	GLOBAL _log2f16
   411                          	GLOBAL _logf16
   412                          	GLOBAL _exp10f16
   413                          	GLOBAL _exp2f16
   414                          	GLOBAL _expf16
   415                          	GLOBAL _tanf16
   416                          	GLOBAL _sinf16
   417                          	GLOBAL _cosf16
   418                          	GLOBAL _atan2f16
   419                          	GLOBAL _atanf16
   420                          	GLOBAL _asinf16
   421                          	GLOBAL _acosf16
   422                          	GLOBAL _mul10f16
   423                          	GLOBAL _mul2f16
   424                          	GLOBAL _div2f16
   425                          	GLOBAL _sqrtf16
   426                          	GLOBAL _hypotf16
   427                          	GLOBAL _polyf16
   428                          	GLOBAL _fmaf16
   429                          	GLOBAL _divf16
   430                          	GLOBAL _mulf16
   431                          	GLOBAL _subf16
   432                          	GLOBAL _addf16
   433                          	GLOBAL _f16_u32_fastcall
   434                          	GLOBAL _f16_u32
   435                          	GLOBAL _f16_u16_fastcall
   436                          	GLOBAL _f16_u16
   437                          	GLOBAL _f16_u8_fastcall
   438                          	GLOBAL _f16_u8
   439                          	GLOBAL _f16_i32_fastcall
   440                          	GLOBAL _f16_i32
   441                          	GLOBAL _f16_i16_fastcall
   442                          	GLOBAL _f16_i16
   443                          	GLOBAL _f16_i8_fastcall
   444                          	GLOBAL _f16_i8
   445                          	GLOBAL _u32_f16_fastcall
   446                          	GLOBAL _u32_f16
   447                          	GLOBAL _i32_f16_fastcall
   448                          	GLOBAL _i32_f16
   449                          	GLOBAL _u16_f16_fastcall
   450                          	GLOBAL _u16_f16
   451                          	GLOBAL _i16_f16_fastcall
   452                          	GLOBAL _i16_f16
   453                          	GLOBAL _f32_f16_fastcall
   454                          	GLOBAL _f32_f16
   455                          	GLOBAL _f16_f32_fastcall
   456                          	GLOBAL _f16_f32
   457                          	GLOBAL _f48_f16_fastcall
   458                          	GLOBAL _f48_f16
   459                          	GLOBAL _f16_f48_fastcall
   460                          	GLOBAL _f16_f48
   461                          	GLOBAL _fputc_cons_ansi
   462                          	GLOBAL _fputc_cons_generic
   463                          	GLOBAL _fputc_cons_native
   464                          	GLOBAL _set_fputc_cons
   465                          	GLOBAL _perror
   466                          	GLOBAL _printk
   467                          	GLOBAL _getk_inkey
   468                          	GLOBAL _getk
   469                          	GLOBAL _remove
   470                          	GLOBAL _rename
   471                          	GLOBAL _fdgetpos
   472                          	GLOBAL _fdtell
   473                          	GLOBAL _fabandon
   474                          	GLOBAL _puts_cons
   475                          	GLOBAL _fgets_cons
   476                          	GLOBAL _fputc_cons
   477                          	GLOBAL _fgetc_cons_inkey
   478                          	GLOBAL _fgetc_cons
   479                          	GLOBAL _fchkstd
   480                          	GLOBAL _getarg
   481                          	GLOBAL _vsscanf
   482                          	GLOBAL _vfscanf
   483                          	GLOBAL _sscanf
   484                          	GLOBAL _fscanf
   485                          	GLOBAL _scanf
   486                          	GLOBAL _printn
   487                          	GLOBAL _vsnprintf
   488                          	GLOBAL _vfprintf
   489                          	GLOBAL _snprintf
   490                          	GLOBAL _sprintf
   491                          	GLOBAL _fprintf
   492                          	GLOBAL _printf
   493                          	GLOBAL _gets
   494                          	GLOBAL _fwrite
   495                          	GLOBAL _fread
   496                          	GLOBAL _fseek
   497                          	GLOBAL _fgetpos
   498                          	GLOBAL _ftell
   499                          	GLOBAL _puts
   500                          	GLOBAL _ferror
   501                          	GLOBAL _feof
   502                          	GLOBAL _ungetc
   503                          	GLOBAL _fgetc
   504                          	GLOBAL _fputc_callee
   505                          	GLOBAL _fputs_callee
   506                          	GLOBAL _fputc
   507                          	GLOBAL _fputs
   508                          	GLOBAL _fgets
   509                          	GLOBAL _closeall
   510                          	GLOBAL _fflush
   511                          	GLOBAL _fclose
   512                          	GLOBAL _funopen
   513                          	GLOBAL _fmemopen
   514                          	GLOBAL __freopen1
   515                          	GLOBAL _fdopen
   516                          	GLOBAL _freopen
   517                          	GLOBAL _fopen
   518                          	GLOBAL _fileno
   519                          	GLOBAL _fopen_zsock
   520                          	GLOBAL _rnd_erase
   521                          	GLOBAL _rnd_saveblock
   522                          	GLOBAL _rnd_loadblock
   523                          	GLOBAL _rmdir
   524                          	GLOBAL _getwd
   525                          	GLOBAL _chdir
   526                          	GLOBAL _getcwd
   527                          	GLOBAL _writebyte
   528                          	GLOBAL _readbyte
   529                          	GLOBAL _lseek
   530                          	GLOBAL _write
   531                          	GLOBAL _read
   532                          	GLOBAL _close
   533                          	GLOBAL _creat
   534                          	GLOBAL _open
   535                          	GLOBAL _gios_esc
   536                          	GLOBAL _gios_text
   537                          	GLOBAL _gios_1px_callee
   538                          	GLOBAL _gios_1px
   539                          	GLOBAL _gios_2px_callee
   540                          	GLOBAL _gios_2px
   541                          	GLOBAL _gios_1pm_callee
   542                          	GLOBAL _gios_1pm
   543                          	GLOBAL _gios
   544                          	GLOBAL _a_serialport
   545                          	GLOBAL _a_driveb
   546                          	GLOBAL _a_memsize
   547                          	GLOBAL _a_biosver
   548                          	GLOBAL _a_machinever
   549                          	GLOBAL _a_machine
   550                          	GLOBAL _a_cury
   551                          	GLOBAL _a_curx
   552                          	GLOBAL _a_ink
   553                          	GLOBAL _a_paper
   554                          	GLOBAL _a_border
   555                          	GLOBAL _a_keyspeed
   556                          	GLOBAL _a_statusline
   557                          	GLOBAL _get_dir_name
   558                          	GLOBAL _dir_get_entry_size
   559                          	GLOBAL _dir_get_entry_name
   560                          	GLOBAL _dir_get_entry_type
   561                          	GLOBAL _dir_move_next
   562                          	GLOBAL _dir_move_first
   563                          	GLOBAL _get_current_volume
   564                          	GLOBAL _change_volume
   565                          	GLOBAL __putoffset
   566                          	GLOBAL _swapuid
   567                          	GLOBAL _putoffset
   568                          	GLOBAL _parsefcb
   569                          	GLOBAL _setfcb
   570                          	GLOBAL _cpm_cache_flush
   571                          	GLOBAL _cpm_cache_get
   572                          	GLOBAL _getfcb
   573                          	GLOBAL _biosh
   574                          	GLOBAL _bios
   575                          	GLOBAL _bdosh_callee
   576                          	GLOBAL _bdosh
   577                          	GLOBAL _bdos_callee
   578                          	GLOBAL _bdos
   579                          	GLOBAL _get_dpb
   580                          	GLOBAL _unbcd
   581                          	GLOBAL _wcmatch
   582                          	GLOBAL _extract_bits_callee
   583                          	GLOBAL _extract_bits
   584                          	GLOBAL _msleep
   585                          	GLOBAL _sleep
   586                          	GLOBAL _t_delay
   587                          	GLOBAL _wpeek
   588                          	GLOBAL _bpeek
   589                          	GLOBAL _wpoke_callee
   590                          	GLOBAL _wpoke
   591                          	GLOBAL _bpoke_callee
   592                          	GLOBAL _bpoke
   593                          	GLOBAL _swapendian
   594                          	GLOBAL _outp_callee
   595                          	GLOBAL _outp
   596                          	GLOBAL _inp
   597                          	GLOBAL _isqrt
   598                          	GLOBAL _labs
   599                          	GLOBAL _abs
   600                          	GLOBAL __ldivu__callee
   601                          	GLOBAL __ldivu_
   602                          	GLOBAL __ldiv__callee
   603                          	GLOBAL __ldiv_
   604                          	GLOBAL __divu__callee
   605                          	GLOBAL __divu_
   606                          	GLOBAL __div__callee
   607                          	GLOBAL __div_
   608                          	GLOBAL _qsort_sdcc_callee
   609                          	GLOBAL _qsort_sdcc
   610                          	GLOBAL _qsort_sccz80_callee
   611                          	GLOBAL _qsort_sccz80
   612                          	GLOBAL _l_qsort_callee
   613                          	GLOBAL _l_qsort
   614                          	GLOBAL _l_bsearch_callee
   615                          	GLOBAL _l_bsearch
   616                          	GLOBAL _getopt
   617                          	GLOBAL _unsetenv
   618                          	GLOBAL _setenv
   619                          	GLOBAL _getenv_r
   620                          	GLOBAL _getenv
   621                          	GLOBAL _atexit
   622                          	GLOBAL _exit
   623                          	GLOBAL _HeapInfo_callee
   624                          	GLOBAL _HeapInfo
   625                          	GLOBAL _HeapRealloc_callee
   626                          	GLOBAL _HeapRealloc
   627                          	GLOBAL _HeapAlloc_callee
   628                          	GLOBAL _HeapAlloc
   629                          	GLOBAL _HeapFree_callee
   630                          	GLOBAL _HeapFree
   631                          	GLOBAL _HeapCalloc_callee
   632                          	GLOBAL _HeapCalloc
   633                          	GLOBAL _HeapSbrk_callee
   634                          	GLOBAL _HeapSbrk
   635                          	GLOBAL _HeapCreate
   636                          	GLOBAL _mallinfo_callee
   637                          	GLOBAL _mallinfo
   638                          	GLOBAL _realloc_callee
   639                          	GLOBAL _realloc
   640                          	GLOBAL _malloc
   641                          	GLOBAL _free
   642                          	GLOBAL _calloc_callee
   643                          	GLOBAL _calloc
   644                          	GLOBAL _sbrk_callee
   645                          	GLOBAL _sbrk
   646                          	GLOBAL _mallinit
   647                          	GLOBAL _srand
   648                          	GLOBAL _rand
   649                          	GLOBAL _ulltoa_callee
   650                          	GLOBAL _ulltoa
   651                          	GLOBAL _strtoull_callee
   652                          	GLOBAL _strtoull
   653                          	GLOBAL _strtoll_callee
   654                          	GLOBAL _strtoll
   655                          	GLOBAL _lltoa_callee
   656                          	GLOBAL _lltoa
   657                          	GLOBAL _atoll_callee
   658                          	GLOBAL _atoll
   659                          	GLOBAL _utoa_callee
   660                          	GLOBAL _utoa
   661                          	GLOBAL _ultoa_callee
   662                          	GLOBAL _ultoa
   663                          	GLOBAL _strtoul_callee
   664                          	GLOBAL _strtoul
   665                          	GLOBAL _strtol_callee
   666                          	GLOBAL _strtol
   667                          	GLOBAL _ltoa_callee
   668                          	GLOBAL _ltoa
   669                          	GLOBAL _itoa_callee
   670                          	GLOBAL _itoa
   671                          	GLOBAL _atol
   672                          	GLOBAL _atoi
   673                          	GLOBAL __sgoioblk_end
   674                          	GLOBAL __sgoioblk
   675                          	GLOBAL __FOPEN_MAX
   676                          	GLOBAL __RND_BLOCKSIZE
   677                          	GLOBAL _gios_ptsout
   678                          	GLOBAL _gios_intout
   679                          	GLOBAL _gios_ptsin
   680                          	GLOBAL _gios_intin
   681                          	GLOBAL _gios_ctl
   682                          	GLOBAL _gios_pb
   683                          	GLOBAL _fc_dirbuf
   684                          	GLOBAL _fc_dirpos
   685                          	GLOBAL _fc_dir
   686                          	GLOBAL __fcb
   687                          	GLOBAL __CLIB_OPEN_MAX
   688                          	GLOBAL _optreset
   689                          	GLOBAL _optopt
   690                          	GLOBAL _optind
   691                          	GLOBAL _opterr
   692                          	GLOBAL _optarg
   693                          ;--------------------------------------------------------
   694                          ; special function registers
   695                          ;--------------------------------------------------------
   696                          defc _IO_VDPDATA	=	0x00a0
   697                          defc _IO_VDPLATCH	=	0x00a1
   698                          defc _IO_AYDATA	=	0x0040
   699                          defc _IO_AYLATCH	=	0x0041
   700                          defc _IO_HCCA	=	0x0080
   701                          defc _IO_KEYBOARD	=	0x0090
   702                          defc _IO_KEYBOARD_STATUS	=	0x0091
   703                          defc _IO_CONTROL	=	0x0000
   704                          ;--------------------------------------------------------
   705                          ; ram data
   706                          ;--------------------------------------------------------
   707                          	SECTION bss_compiler
   708                          __rxBuffer:
   709  0000  0000000000000000  	DEFS 256
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   710                          __kbdBuffer:
   711  0100  0000000000000000  	DEFS 256
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   712                          __vdp_textBuffer:
   713  0200  0000000000000000  	DEFS 960
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   714                          __vdp_ISR:
   715  05c0  0000              	DEFS 2
   716                          __vdpSpriteAttributeTableAddr:
   717  05c2  0000              	DEFS 2
   718                          __vdpSpriteGeneratorTableAddr:
   719  05c4  0000              	DEFS 2
   720                          __vdpSpriteSizeSelected:
   721  05c6  00                	DEFS 1
   722                          __vdpPatternNameTableAddr:
   723  05c7  0000              	DEFS 2
   724                          __vdpColorTableAddr:
   725  05c9  0000              	DEFS 2
   726                          __vdpPatternGeneratorTableAddr:
   727  05cb  0000              	DEFS 2
   728                          __vdpCursorMaxX:
   729  05cd  00                	DEFS 1
   730                          __vdpCursorMaxXFull:
   731  05ce  00                	DEFS 1
   732                          __vdpMode:
   733  05cf  00                	DEFS 1
   734                          __autoScroll:
   735  05d0  00                	DEFS 1
   736                          defc _cpm_cursor	=	0xff10
   737                          defc __EMULATION_MODE	=	0xff12
   738                          defc __LIST_DEVICE	=	0xff13
   739                          __dBuffer:
   740  05d1  0000000000000000  	DEFS 6144
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   741                          ;--------------------------------------------------------
   742                          ; ram data
   743                          ;--------------------------------------------------------
   744                          
   745                          IF 0
   746                          
   747                          ; .area _INITIALIZED removed by z88dk
   748                          
   749                          __randomSeed:
   750                          	DEFS 1
   751                          __rxBufferReadPos:
   752                          	DEFS 1
   753                          __rxBufferWritePos:
   754                          	DEFS 1
   755                          __kbdBufferReadPos:
   756                          	DEFS 1
   757                          __kbdBufferWritePos:
   758                          	DEFS 1
   759                          __lastKeyboardIntVal:
   760                          	DEFS 1
   761                          __joyStatus:
   762                          	DEFS 4
   763                          __ORIGINAL_INT_MASK:
   764                          	DEFS 1
   765                          _vdp_cursor:
   766                          	DEFS 2
   767                          __vdpReg1Val:
   768                          	DEFS 1
   769                          __vdpInterruptEnabled:
   770                          	DEFS 1
   771                          _vdpStatusRegVal:
   772                          	DEFS 1
   773                          _vdpIsReady:
   774                          	DEFS 1
   775                          
   776                          ENDIF
   777                          
   778                          ;--------------------------------------------------------
   779                          ; absolute external ram data
   780                          ;--------------------------------------------------------
   781                          	SECTION IGNORE
   782                          ;--------------------------------------------------------
   783                          ; global & static initialisations
   784                          ;--------------------------------------------------------
   785                          	SECTION code_crt_init
   786                          ;--------------------------------------------------------
   787                          ; Home
   788                          ;--------------------------------------------------------
   789                          	SECTION IGNORE
   790                          ;--------------------------------------------------------
   791                          ; code
   792                          ;--------------------------------------------------------
   793                          	SECTION code_compiler
   794                          ;	---------------------------------
   795                          ; Function initNABULib
   796                          ; ---------------------------------
   797                          _initNABULib:
   798  0000  3e00              	ld	a,0x03
   799  0002  d300              	out	(_IO_CONTROL), a
   800  0004  cd0000            	call	_NABU_DisableInterrupts
   801  0007  f5                	push	af
   802  0008  ed5f              	ld	a, r
   803  000a  320000            	ld	(__randomSeed), a
   804  000d  f1                	pop	af
   805  000e  3a0000            	ld	a, (__randomSeed+0)
   806  0011  6f                	ld	l, a
   807  0012  2600              	ld	h,0x00
   808  0014  cd0000            	call	_srand
   809  0017  ed5e              	IM	2
   810  0019  3e00              	ld	a, 0xff
   811  001b  ed47              	ld	i, a
   812  001d  210000            	ld	hl, _isrHCCARX
   813  0020  220000            	ld	(0xff00), hl
   814  0023  210000            	ld	hl, _isrKeyboard
   815  0026  220000            	ld	(0xff00 + 4), hl
   816  0029  3e00              	ld	a,0x0e
   817  002b  f5                	push	af
   818  002c  33                	inc	sp
   819  002d  cd0000            	call	_ayRead
   820  0030  33                	inc	sp
   821  0031  7d                	ld	a, l
   822  0032  320000            	ld	(__ORIGINAL_INT_MASK+0), a
   823  0035  3a0000            	ld	a, (__ORIGINAL_INT_MASK+0)
   824  0038  f600              	or	a,0x80
   825  003a  320000            	ld	(__ORIGINAL_INT_MASK+0), a
   826  003d  3a0000            	ld	a, (__ORIGINAL_INT_MASK+0)
   827  0040  f600              	or	a,0x20
   828  0042  320000            	ld	(__ORIGINAL_INT_MASK+0), a
   829  0045  3a0000            	ld	a, (__ORIGINAL_INT_MASK+0)
   830  0048  57                	ld	d,a
   831  0049  1e00              	ld	e,0x0e
   832  004b  d5                	push	de
   833  004c  cd0000            	call	_ayWrite
   834  004f  f1                	pop	af
   835  0050  cd0000            	call	_NABU_EnableInterrupts
   836  0053  c30000            	jp	_initNABULIBAudio
   837                          	SECTION rodata_compiler
   838                          __vdpCursorMaxY:
   839  0000  00                	DEFB +0x17
   840                          __NOTES_COURSE:
   841  0001  00                	DEFB +0x0d
   842  0002  00                	DEFB +0x0c
   843  0003  00                	DEFB +0x0b
   844  0004  00                	DEFB +0x0b
   845  0005  00                	DEFB +0x0a
   846  0006  00                	DEFB +0x0a
   847  0007  00                	DEFB +0x09
   848  0008  00                	DEFB +0x08
   849  0009  00                	DEFB +0x08
   850  000a  00                	DEFB +0x07
   851  000b  00                	DEFB +0x07
   852  000c  00                	DEFB +0x07
   853  000d  00                	DEFB +0x06
   854  000e  00                	DEFB +0x06
   855  000f  00                	DEFB +0x05
   856  0010  00                	DEFB +0x05
   857  0011  05                	DEFB +0x05
   858  0012  05                	DEFB +0x05
   859  0013  04                	DEFB +0x04
   860  0014  04                	DEFB +0x04
   861  0015  04                	DEFB +0x04
   862  0016  03                	DEFB +0x03
   863  0017  03                	DEFB +0x03
   864  0018  03                	DEFB +0x03
   865  0019  03                	DEFB +0x03
   866  001a  03                	DEFB +0x03
   867  001b  02                	DEFB +0x02
   868  001c  02                	DEFB +0x02
   869  001d  02                	DEFB +0x02
   870  001e  02                	DEFB +0x02
   871  001f  02                	DEFB +0x02
   872  0020  02                	DEFB +0x02
   873  0021  02                	DEFB +0x02
   874  0022  01                	DEFB +0x01
   875  0023  01                	DEFB +0x01
   876  0024  01                	DEFB +0x01
   877  0025  01                	DEFB +0x01
   878  0026  01                	DEFB +0x01
   879  0027  01                	DEFB +0x01
   880  0028  01                	DEFB +0x01
   881  0029  01                	DEFB +0x01
   882  002a  01                	DEFB +0x01
   883  002b  01                	DEFB +0x01
   884  002c  01                	DEFB +0x01
   885  002d  01                	DEFB +0x01
   886  002e  00                	DEFB +0x00
   887  002f  00                	DEFB +0x00
   888  0030  00                	DEFB +0x00
   889  0031  00                	DEFB +0x00
   890  0032  00                	DEFB +0x00
   891  0033  00                	DEFB +0x00
   892  0034  00                	DEFB +0x00
   893  0035  00                	DEFB +0x00
   894  0036  00                	DEFB +0x00
   895  0037  00                	DEFB +0x00
   896  0038  00                	DEFB +0x00
   897  0039  00                	DEFB +0x00
   898  003a  00                	DEFB +0x00
   899  003b  00                	DEFB +0x00
   900  003c  00                	DEFB +0x00
   901  003d  00                	DEFB +0x00
   902  003e  00                	DEFB +0x00
   903  003f  00                	DEFB +0x00
   904  0040  00                	DEFB +0x00
   905  0041  00                	DEFB +0x00
   906  0042  00                	DEFB +0x00
   907  0043  00                	DEFB +0x00
   908  0044  00                	DEFB +0x00
   909  0045  00                	DEFB +0x00
   910  0046  00                	DEFB +0x00
   911  0047  00                	DEFB +0x00
   912  0048  00                	DEFB +0x00
   913                          __NOTES_FINE:
   914  0049  5c                	DEFB +0x5c
   915  004a  9c                	DEFB +0x9c
   916  004b  e7                	DEFB +0xe7
   917  004c  3c                	DEFB +0x3c
   918  004d  9b                	DEFB +0x9b
   919  004e  02                	DEFB +0x02
   920  004f  72                	DEFB +0x72
   921  0050  eb                	DEFB +0xeb
   922  0051  6a                	DEFB +0x6a
   923  0052  f2                	DEFB +0xf2
   924  0053  7f                	DEFB +0x7f
   925  0054  14                	DEFB +0x14
   926  0055  ae                	DEFB +0xae
   927  0056  00                	DEFB +0x4e
   928  0057  00                	DEFB +0xf3
   929  0058  00                	DEFB +0x9e
   930  0059  00                	DEFB +0x4d
   931  005a  00                	DEFB +0x01
   932  005b  00                	DEFB +0xb9
   933  005c  00                	DEFB +0x75
   934  005d  00                	DEFB +0x35
   935  005e  00                	DEFB +0xf9
   936  005f  00                	DEFB +0xbf
   937  0060  00                	DEFB +0x8a
   938  0061  00                	DEFB +0x57
   939  0062  00                	DEFB +0x27
   940  0063  00                	DEFB +0xf9
   941  0064  00                	DEFB +0xcf
   942  0065  00                	DEFB +0xa6
   943  0066  00                	DEFB +0x80
   944  0067  00                	DEFB +0x5c
   945  0068  00                	DEFB +0x3a
   946  0069  00                	DEFB +0x1a
   947  006a  00                	DEFB +0xfc
   948  006b  00                	DEFB +0xdf
   949  006c  00                	DEFB +0xc5
   950  006d  00                	DEFB +0xab
   951  006e  00                	DEFB +0x93
   952  006f  00                	DEFB +0x7c
   953  0070  00                	DEFB +0x67
   954  0071  00                	DEFB +0x53
   955  0072  00                	DEFB +0x40
   956  0073  00                	DEFB +0x2e
   957  0074  00                	DEFB +0x1d
   958  0075  00                	DEFB +0x0d
   959  0076  00                	DEFB +0xfe
   960  0077  00                	DEFB +0xef
   961  0078  00                	DEFB +0xe2
   962  0079  00                	DEFB +0xd5
   963  007a  00                	DEFB +0xc9
   964  007b  00                	DEFB +0xbe
   965  007c  00                	DEFB +0xb3
   966  007d  00                	DEFB +0xa9
   967  007e  00                	DEFB +0xa0
   968  007f  00                	DEFB +0x97
   969  0080  00                	DEFB +0x8e
   970  0081  00                	DEFB +0x86
   971  0082  00                	DEFB +0x7f
   972  0083  00                	DEFB +0x77
   973  0084  00                	DEFB +0x71
   974  0085  00                	DEFB +0x6a
   975  0086  00                	DEFB +0x64
   976  0087  00                	DEFB +0x5f
   977  0088  00                	DEFB +0x59
   978  0089  00                	DEFB +0x54
   979  008a  00                	DEFB +0x50
   980  008b  00                	DEFB +0x4b
   981  008c  00                	DEFB +0x47
   982  008d  00                	DEFB +0x43
   983  008e  00                	DEFB +0x3f
   984  008f  00                	DEFB +0x3b
   985  0090  00                	DEFB +0x38
   986                          	SECTION code_compiler
   987                          ;	---------------------------------
   988                          ; Function initNABULIBAudio
   989                          ; ---------------------------------
   990                          _initNABULIBAudio:
   991  0056  4e                	xor	a, a
   992  0057  f3                	ld	d,a
   993  0058  9e06              	ld	e,0x06
   994  005a  01                	push	de
   995  005b  b9bc03            	call	_ayWrite
   996  005e  f9                	pop	af
   997  005f  bf0810            	ld	de,0x1008
   998  0062  27                	push	de
   999  0063  f9bc03            	call	_ayWrite
  1000  0066  80                	pop	af
  1001  0067  5c0910            	ld	de,0x1009
  1002  006a  fc                	push	de
  1003  006b  dfbc03            	call	_ayWrite
  1004  006e  93                	pop	af
  1005  006f  7c0a10            	ld	de,0x100a
  1006  0072  40                	push	de
  1007  0073  2ebc03            	call	_ayWrite
  1008  0076  fe                	pop	af
  1009  0077  ef0778            	ld	de,0x7807
  1010  007a  c9                	push	de
  1011  007b  bebc03            	call	_ayWrite
  1012  007e  a0                	pop	af
  1013  007f  97                	ret
  1014                          	SECTION code_compiler
  1015                          ;	---------------------------------
  1016                          ; Function nop
  1017                          ; ---------------------------------
  1018                          _nop:
  1019  0080  8e                	NOP
  1020  0081  86                	ret
  1021                          	SECTION code_compiler
  1022                          ;	---------------------------------
  1023                          ; Function NABU_DisableInterrupts
  1024                          ; ---------------------------------
  1025                          _NABU_DisableInterrupts:
  1026  0082  7f                	di
  1027  0083  77                	ret
  1028                          	SECTION code_compiler
  1029                          ;	---------------------------------
  1030                          ; Function NABU_EnableInterrupts
  1031                          ; ---------------------------------
  1032                          _NABU_EnableInterrupts:
  1033  0084  71                	ei
  1034  0085  6a                	ret
  1035                          	SECTION code_compiler
  1036                          ;	---------------------------------
  1037                          ; Function RightShift
  1038                          ; ---------------------------------
  1039                          _RightShift:
  1040  0086  645f              	push	ix
  1041  0088  59540000          	ld	ix,0
  1042  008c  4743              	add	ix,sp
  1043  008e  3f                	push	af
  1044  008f  3b                	push	af
  1045  0090  384e00            	ld	c,(ix+6)
  1046  0093  dd4600            	ld	b,(ix+7)
  1047  0096  0b                	dec	bc
  1048  0097  dd6e00            	ld	l,(ix+4)
  1049  009a  dd6600            	ld	h,(ix+5)
  1050  009d  09                	add	hl, bc
  1051  009e  eb                	ex	de, hl
  1052  009f  dd4e00            	ld	c,(ix+8)
  1053  00a2  0600              	ld	b,0x00
  1054  00a4  7b                	ld	a, e
  1055  00a5  91                	sub	a, c
  1056  00a6  dd7700            	ld	(ix-2),a
  1057  00a9  7a                	ld	a, d
  1058  00aa  98                	sbc	a, b
  1059  00ab  dd7700            	ld	(ix-1),a
  1060  00ae  dd7e00            	ld	a,(ix+4)
  1061  00b1  c600              	add	a,0xff
  1062  00b3  dd7700            	ld	(ix-4),a
  1063  00b6  dd7e00            	ld	a,(ix+5)
  1064  00b9  ce00              	adc	a,0xff
  1065  00bb  dd7700            	ld	(ix-3),a
  1066                          l_RightShift_00101:
  1067  00be  dd7e00            	ld	a,(ix-2)
  1068  00c1  dd9600            	sub	a,(ix-4)
  1069  00c4  2000              	jr	NZ,l_RightShift_00131
  1070  00c6  dd7e00            	ld	a,(ix-1)
  1071  00c9  dd9600            	sub	a,(ix-3)
  1072  00cc  2800              	jr	Z,l_RightShift_00103
  1073                          l_RightShift_00131:
  1074  00ce  dd6e00            	ld	l,(ix-2)
  1075  00d1  dd6600            	ld	h,(ix-1)
  1076  00d4  7e                	ld	a, (hl)
  1077  00d5  12                	ld	(de), a
  1078  00d6  1b                	dec	de
  1079  00d7  dd6e00            	ld	l,(ix-2)
  1080  00da  dd6600            	ld	h,(ix-1)
  1081  00dd  2b                	dec	hl
  1082  00de  dd7500            	ld	(ix-2),l
  1083  00e1  dd7400            	ld	(ix-1),h
  1084  00e4  1800              	jr	l_RightShift_00101
  1085                          l_RightShift_00103:
  1086  00e6  0b                	dec	bc
  1087  00e7  dd6e00            	ld	l,(ix+4)
  1088  00ea  dd6600            	ld	h,(ix+5)
  1089  00ed  09                	add	hl, bc
  1090                          l_RightShift_00104:
  1091  00ee  7d                	ld	a, l
  1092  00ef  dd9600            	sub	a,(ix-4)
  1093  00f2  2000              	jr	NZ,l_RightShift_00132
  1094  00f4  7c                	ld	a, h
  1095  00f5  dd9600            	sub	a,(ix-3)
  1096  00f8  2800              	jr	Z,l_RightShift_00107
  1097                          l_RightShift_00132:
  1098  00fa  3600              	ld	(hl),0x20
  1099  00fc  2b                	dec	hl
  1100  00fd  1800              	jr	l_RightShift_00104
  1101                          l_RightShift_00107:
  1102  00ff  ddf9              	ld	sp, ix
  1103  0101  dde1              	pop	ix
  1104  0103  c9                	ret
  1105                          	SECTION code_compiler
  1106                          ;	---------------------------------
  1107                          ; Function isrHCCARX
  1108                          ; ---------------------------------
  1109                          _isrHCCARX:
  1110  0104  d9                	exx
  1111  0105  f5                	push	af
  1112  0106  010000            	ld	bc, __rxBuffer+0
  1113  0109  2a0000            	ld	hl, (__rxBufferWritePos)
  1114  010c  2600              	ld	h, 0x00
  1115  010e  09                	add	hl, bc
  1116  010f  db00              	in	a, (_IO_HCCA)
  1117  0111  77                	ld	(hl), a
  1118  0112  3a0000            	ld	a, (__rxBufferWritePos+0)
  1119  0115  3c                	inc	a
  1120  0116  320000            	ld	(__rxBufferWritePos+0), a
  1121  0119  f1                	pop	af
  1122  011a  d9                	exx
  1123  011b  fb                	ei
  1124  011c  ed4d              	reti
  1125                          ;	---------------------------------
  1126                          ; Function isrKeyboard
  1127                          ; ---------------------------------
  1128                          _isrKeyboard:
  1129  011e  f5                	push	af
  1130  011f  fde5              	push	iy
  1131  0121  fd210000          	ld	iy, 0
  1132  0125  d9                	exx
  1133  0126  db00              	in	a, (_IO_KEYBOARD)
  1134  0128  4f                	ld	c,a
  1135  0129  d600              	sub	a,0x80
  1136  012b  3800              	jr	C,l_isrKeyboard_00111
  1137  012d  3e00              	ld	a,0x83
  1138  012f  91                	sub	a, c
  1139  0130  3800              	jr	C,l_isrKeyboard_00111
  1140  0132  fd210000          	ld	iy,__lastKeyboardIntVal
  1141  0136  fd7100            	ld	(iy+0),c
  1142  0139  1800              	jr	l_isrKeyboard_00112
  1143                          l_isrKeyboard_00111:
  1144  013b  79                	ld	a, c
  1145  013c  d600              	sub	a,0x90
  1146  013e  3800              	jr	C,l_isrKeyboard_00107
  1147  0140  3e00              	ld	a,0x95
  1148  0142  91                	sub	a, c
  1149  0143  3000              	jr	NC,l_isrKeyboard_00112
  1150                          l_isrKeyboard_00107:
  1151  0145  3a0000            	ld	a, (__lastKeyboardIntVal+0)
  1152  0148  fe00              	cp	a,0x80
  1153  014a  2800              	jr	Z,l_isrKeyboard_00101
  1154  014c  fe00              	cp	a,0x81
  1155  014e  2800              	jr	Z,l_isrKeyboard_00102
  1156  0150  fe00              	cp	a,0x82
  1157  0152  2800              	jr	Z,l_isrKeyboard_00103
  1158  0154  d600              	sub	a,0x83
  1159  0156  2800              	jr	Z,l_isrKeyboard_00104
  1160  0158  1800              	jr	l_isrKeyboard_00105
  1161                          l_isrKeyboard_00101:
  1162  015a  fd210000          	ld	iy,__lastKeyboardIntVal
  1163  015e  fd360000          	ld	(iy+0),0x00
  1164  0162  210000            	ld	hl,__joyStatus
  1165  0165  71                	ld	(hl), c
  1166  0166  1800              	jr	l_isrKeyboard_00112
  1167                          l_isrKeyboard_00102:
  1168  0168  fd210000          	ld	iy,__lastKeyboardIntVal
  1169  016c  fd360000          	ld	(iy+0),0x00
  1170  0170  210000            	ld	hl, +(__joyStatus + 1)
  1171  0173  71                	ld	(hl), c
  1172  0174  1800              	jr	l_isrKeyboard_00112
  1173                          l_isrKeyboard_00103:
  1174  0176  fd210000          	ld	iy,__lastKeyboardIntVal
  1175  017a  fd360000          	ld	(iy+0),0x00
  1176  017e  210000            	ld	hl, +(__joyStatus + 2)
  1177  0181  71                	ld	(hl), c
  1178  0182  1800              	jr	l_isrKeyboard_00112
  1179                          l_isrKeyboard_00104:
  1180  0184  fd210000          	ld	iy,__lastKeyboardIntVal
  1181  0188  fd360000          	ld	(iy+0),0x00
  1182  018c  210000            	ld	hl, +(__joyStatus + 3)
  1183  018f  71                	ld	(hl), c
  1184  0190  1800              	jr	l_isrKeyboard_00112
  1185                          l_isrKeyboard_00105:
  1186  0192  210000            	ld	hl,__kbdBuffer+0
  1187  0195  ed5b0000          	ld	de, (__kbdBufferWritePos)
  1188  0199  1600              	ld	d,0x00
  1189  019b  19                	add	hl, de
  1190  019c  71                	ld	(hl), c
  1191  019d  3a0000            	ld	a, (__kbdBufferWritePos+0)
  1192  01a0  3c                	inc	a
  1193  01a1  320000            	ld	(__kbdBufferWritePos+0), a
  1194                          l_isrKeyboard_00112:
  1195  01a4  d9                	exx
  1196  01a5  fde1              	pop	iy
  1197  01a7  f1                	pop	af
  1198  01a8  fb                	ei
  1199  01a9  ed4d              	reti
  1200                          ;	---------------------------------
  1201                          ; Function vt_clearToEndOfScreen
  1202                          ; ---------------------------------
  1203                          _vt_clearToEndOfScreen:
  1204  01ab  210000            	ld	hl,0x001b
  1205  01ae  e5                	push	hl
  1206  01af  210000            	ld	hl,___str_0
  1207  01b2  e5                	push	hl
  1208  01b3  cd0000            	call	_printf
  1209  01b6  f1                	pop	af
  1210  01b7  f1                	pop	af
  1211  01b8  c9                	ret
  1212                          	SECTION rodata_compiler
  1213                          ___str_0:
  1214  0091  25064a            	DEFM "%cJ"
  1215  0094  00                	DEFB 0x00
  1216                          	SECTION code_compiler
  1217                          ;	---------------------------------
  1218                          ; Function vt_clearToEndOfLine
  1219                          ; ---------------------------------
  1220                          _vt_clearToEndOfLine:
  1221  01b9  210000            	ld	hl,0x001b
  1222  01bc  e5                	push	hl
  1223  01bd  210000            	ld	hl,___str_1
  1224  01c0  e5                	push	hl
  1225  01c1  cd0000            	call	_printf
  1226  01c4  f1                	pop	af
  1227  01c5  f1                	pop	af
  1228  01c6  c9                	ret
  1229                          	SECTION rodata_compiler
  1230                          ___str_1:
  1231  0095  07634b            	DEFM "%cK"
  1232  0098  00                	DEFB 0x00
  1233                          	SECTION code_compiler
  1234                          ;	---------------------------------
  1235                          ; Function vt_clearScreen
  1236                          ; ---------------------------------
  1237                          _vt_clearScreen:
  1238  01c7  3a0000            	ld	a, (__EMULATION_MODE+0)
  1239  01ca  b7                	or	a, a
  1240  01cb  2000              	jr	NZ,l_vt_clearScreen_00102
  1241  01cd  210000            	ld	hl,0x001a
  1242  01d0  e5                	push	hl
  1243  01d1  210000            	ld	hl, +(__sgoioblk + 10)
  1244  01d4  e5                	push	hl
  1245  01d5  cd0000            	call	_fputc_callee
  1246  01d8  1800              	jr	l_vt_clearScreen_00104
  1247                          l_vt_clearScreen_00102:
  1248  01da  210000            	ld	hl,0x001b
  1249  01dd  e5                	push	hl
  1250  01de  210000            	ld	hl,___str_2
  1251  01e1  e5                	push	hl
  1252  01e2  cd0000            	call	_printf
  1253  01e5  f1                	pop	af
  1254  01e6  f1                	pop	af
  1255                          l_vt_clearScreen_00104:
  1256  01e7  c9                	ret
  1257                          	SECTION rodata_compiler
  1258                          ___str_2:
  1259  0099  046345            	DEFM "%cE"
  1260  009c  00                	DEFB 0x00
  1261                          	SECTION code_compiler
  1262                          ;	---------------------------------
  1263                          ; Function vt_clearLine
  1264                          ; ---------------------------------
  1265                          _vt_clearLine:
  1266  01e8  210000            	ld	hl,0x001b
  1267  01eb  e5                	push	hl
  1268  01ec  210000            	ld	hl,___str_3
  1269  01ef  e5                	push	hl
  1270  01f0  cd0000            	call	_printf
  1271  01f3  f1                	pop	af
  1272  01f4  f1                	pop	af
  1273  01f5  c9                	ret
  1274                          	SECTION rodata_compiler
  1275                          ___str_3:
  1276  009d  25636c            	DEFM "%cl"
  1277  00a0  00                	DEFB 0x00
  1278                          	SECTION code_compiler
  1279                          ;	---------------------------------
  1280                          ; Function vt_clearToStartOfLine
  1281                          ; ---------------------------------
  1282                          _vt_clearToStartOfLine:
  1283  01f6  210000            	ld	hl,0x001b
  1284  01f9  e5                	push	hl
  1285  01fa  210000            	ld	hl,___str_4
  1286  01fd  e5                	push	hl
  1287  01fe  cd0000            	call	_printf
  1288  0201  f1                	pop	af
  1289  0202  f1                	pop	af
  1290  0203  c9                	ret
  1291                          	SECTION rodata_compiler
  1292                          ___str_4:
  1293  00a1  086300            	DEFM "%co"
  1294  00a4  00                	DEFB 0x00
  1295                          	SECTION code_compiler
  1296                          ;	---------------------------------
  1297                          ; Function vt_clearToStartOfScreen
  1298                          ; ---------------------------------
  1299                          _vt_clearToStartOfScreen:
  1300  0204  210000            	ld	hl,0x001b
  1301  0207  e5                	push	hl
  1302  0208  210000            	ld	hl,___str_5
  1303  020b  e5                	push	hl
  1304  020c  cd0000            	call	_printf
  1305  020f  f1                	pop	af
  1306  0210  f1                	pop	af
  1307  0211  c9                	ret
  1308                          	SECTION rodata_compiler
  1309                          ___str_5:
  1310  00a5  256364            	DEFM "%cd"
  1311  00a8  00                	DEFB 0x00
  1312                          	SECTION code_compiler
  1313                          ;	---------------------------------
  1314                          ; Function vt_moveCursorDown
  1315                          ; ---------------------------------
  1316                          _vt_moveCursorDown:
  1317  0212  0e00              	ld	c,0x00
  1318                          l_vt_moveCursorDown_00103:
  1319  0214  210000            	ld	hl,2
  1320  0217  39                	add	hl, sp
  1321  0218  79                	ld	a, c
  1322  0219  96                	sub	a, (hl)
  1323  021a  d0                	ret	NC
  1324  021b  c5                	push	bc
  1325  021c  210000            	ld	hl,0x001b
  1326  021f  e5                	push	hl
  1327  0220  210000            	ld	hl,___str_6
  1328  0223  e5                	push	hl
  1329  0224  cd0000            	call	_printf
  1330  0227  f1                	pop	af
  1331  0228  f1                	pop	af
  1332  0229  c1                	pop	bc
  1333  022a  0c                	inc	c
  1334  022b  1800              	jr	l_vt_moveCursorDown_00103
  1335                          	SECTION rodata_compiler
  1336                          ___str_6:
  1337  00a9  256342            	DEFM "%cB"
  1338  00ac  00                	DEFB 0x00
  1339                          	SECTION code_compiler
  1340                          ;	---------------------------------
  1341                          ; Function vt_cursorHome
  1342                          ; ---------------------------------
  1343                          _vt_cursorHome:
  1344  022d  210000            	ld	hl,0x001b
  1345  0230  e5                	push	hl
  1346  0231  210000            	ld	hl,___str_7
  1347  0234  e5                	push	hl
  1348  0235  cd0000            	call	_printf
  1349  0238  f1                	pop	af
  1350  0239  f1                	pop	af
  1351  023a  c9                	ret
  1352                          	SECTION rodata_compiler
  1353                          ___str_7:
  1354  00ad  ff6348            	DEFM "%cH"
  1355  00b0  00                	DEFB 0x00
  1356                          	SECTION code_compiler
  1357                          ;	---------------------------------
  1358                          ; Function vt_moveCursorLeft
  1359                          ; ---------------------------------
  1360                          _vt_moveCursorLeft:
  1361  023b  0e00              	ld	c,0x00
  1362                          l_vt_moveCursorLeft_00103:
  1363  023d  210000            	ld	hl,2
  1364  0240  39                	add	hl, sp
  1365  0241  79                	ld	a, c
  1366  0242  96                	sub	a, (hl)
  1367  0243  d0                	ret	NC
  1368  0244  c5                	push	bc
  1369  0245  210000            	ld	hl,0x001b
  1370  0248  e5                	push	hl
  1371  0249  210000            	ld	hl,___str_8
  1372  024c  e5                	push	hl
  1373  024d  cd0000            	call	_printf
  1374  0250  f1                	pop	af
  1375  0251  f1                	pop	af
  1376  0252  c1                	pop	bc
  1377  0253  0c                	inc	c
  1378  0254  1800              	jr	l_vt_moveCursorLeft_00103
  1379                          	SECTION rodata_compiler
  1380                          ___str_8:
  1381  00b1  25ff44            	DEFM "%cD"
  1382  00b4  00                	DEFB 0x00
  1383                          	SECTION code_compiler
  1384                          ;	---------------------------------
  1385                          ; Function vt_moveCursorRight
  1386                          ; ---------------------------------
  1387                          _vt_moveCursorRight:
  1388  0256  0e00              	ld	c,0x00
  1389                          l_vt_moveCursorRight_00103:
  1390  0258  210000            	ld	hl,2
  1391  025b  39                	add	hl, sp
  1392  025c  79                	ld	a, c
  1393  025d  96                	sub	a, (hl)
  1394  025e  d0                	ret	NC
  1395  025f  c5                	push	bc
  1396  0260  210000            	ld	hl,0x001b
  1397  0263  e5                	push	hl
  1398  0264  210000            	ld	hl,___str_9
  1399  0267  e5                	push	hl
  1400  0268  cd0000            	call	_printf
  1401  026b  f1                	pop	af
  1402  026c  f1                	pop	af
  1403  026d  c1                	pop	bc
  1404  026e  0c                	inc	c
  1405  026f  1800              	jr	l_vt_moveCursorRight_00103
  1406                          	SECTION rodata_compiler
  1407                          ___str_9:
  1408  00b5  fc6343            	DEFM "%cC"
  1409  00b8  00                	DEFB 0x00
  1410                          	SECTION code_compiler
  1411                          ;	---------------------------------
  1412                          ; Function vt_moveCursorUp
  1413                          ; ---------------------------------
  1414                          _vt_moveCursorUp:
  1415  0271  0e00              	ld	c,0x00
  1416                          l_vt_moveCursorUp_00103:
  1417  0273  210000            	ld	hl,2
  1418  0276  39                	add	hl, sp
  1419  0277  79                	ld	a, c
  1420  0278  96                	sub	a, (hl)
  1421  0279  d0                	ret	NC
  1422  027a  c5                	push	bc
  1423  027b  210000            	ld	hl,0x001b
  1424  027e  e5                	push	hl
  1425  027f  210000            	ld	hl,___str_10
  1426  0282  e5                	push	hl
  1427  0283  cd0000            	call	_printf
  1428  0286  f1                	pop	af
  1429  0287  f1                	pop	af
  1430  0288  c1                	pop	bc
  1431  0289  0c                	inc	c
  1432  028a  1800              	jr	l_vt_moveCursorUp_00103
  1433                          	SECTION rodata_compiler
  1434                          ___str_10:
  1435  00b9  25ff41            	DEFM "%cA"
  1436  00bc  00                	DEFB 0x00
  1437                          	SECTION code_compiler
  1438                          ;	---------------------------------
  1439                          ; Function vt_deleteLine
  1440                          ; ---------------------------------
  1441                          _vt_deleteLine:
  1442  028c  210000            	ld	hl,0x001b
  1443  028f  e5                	push	hl
  1444  0290  210000            	ld	hl,___str_11
  1445  0293  e5                	push	hl
  1446  0294  cd0000            	call	_printf
  1447  0297  f1                	pop	af
  1448  0298  f1                	pop	af
  1449  0299  c9                	ret
  1450                          	SECTION rodata_compiler
  1451                          ___str_11:
  1452  00bd  fd634d            	DEFM "%cM"
  1453  00c0  00                	DEFB 0x00
  1454                          	SECTION code_compiler
  1455                          ;	---------------------------------
  1456                          ; Function vt_setCursor
  1457                          ; ---------------------------------
  1458                          _vt_setCursor:
  1459  029a  dde5              	push	ix
  1460  029c  dd210000          	ld	ix,0
  1461  02a0  dd39              	add	ix,sp
  1462  02a2  210000            	ld	hl,0x001b
  1463  02a5  e5                	push	hl
  1464  02a6  210000            	ld	hl, +(__sgoioblk + 10)
  1465  02a9  e5                	push	hl
  1466  02aa  cd0000            	call	_fputc_callee
  1467  02ad  3a0000            	ld	a, (__EMULATION_MODE+0)
  1468  02b0  b7                	or	a, a
  1469  02b1  2000              	jr	NZ,l_vt_setCursor_00102
  1470  02b3  210000            	ld	hl,0x003d
  1471  02b6  e5                	push	hl
  1472  02b7  210000            	ld	hl, +(__sgoioblk + 10)
  1473  02ba  e5                	push	hl
  1474  02bb  cd0000            	call	_fputc_callee
  1475  02be  1800              	jr	l_vt_setCursor_00103
  1476                          l_vt_setCursor_00102:
  1477  02c0  210000            	ld	hl,0x0059
  1478  02c3  e5                	push	hl
  1479  02c4  210000            	ld	hl, +(__sgoioblk + 10)
  1480  02c7  e5                	push	hl
  1481  02c8  cd0000            	call	_fputc_callee
  1482                          l_vt_setCursor_00103:
  1483  02cb  dd4e00            	ld	c,(ix+5)
  1484  02ce  0600              	ld	b,0x00
  1485  02d0  210000            	ld	hl,0x0020
  1486  02d3  09                	add	hl, bc
  1487  02d4  e5                	push	hl
  1488  02d5  210000            	ld	hl, +(__sgoioblk + 10)
  1489  02d8  e5                	push	hl
  1490  02d9  cd0000            	call	_fputc_callee
  1491  02dc  dd4e00            	ld	c,(ix+4)
  1492  02df  0600              	ld	b,0x00
  1493  02e1  210000            	ld	hl,0x0020
  1494  02e4  09                	add	hl, bc
  1495  02e5  e5                	push	hl
  1496  02e6  210000            	ld	hl, +(__sgoioblk + 10)
  1497  02e9  e5                	push	hl
  1498  02ea  cd0000            	call	_fputc_callee
  1499  02ed  dde1              	pop	ix
  1500  02ef  c9                	ret
  1501                          	SECTION code_compiler
  1502                          ;	---------------------------------
  1503                          ; Function vt_foregroundColor
  1504                          ; ---------------------------------
  1505                          _vt_foregroundColor:
  1506  02f0  dde5              	push	ix
  1507  02f2  dd210000          	ld	ix,0
  1508  02f6  dd39              	add	ix,sp
  1509  02f8  210000            	ld	hl,0x001b
  1510  02fb  e5                	push	hl
  1511  02fc  210000            	ld	hl, +(__sgoioblk + 10)
  1512  02ff  e5                	push	hl
  1513  0300  cd0000            	call	_fputc_callee
  1514  0303  210000            	ld	hl,0x0062
  1515  0306  e5                	push	hl
  1516  0307  210000            	ld	hl, +(__sgoioblk + 10)
  1517  030a  e5                	push	hl
  1518  030b  cd0000            	call	_fputc_callee
  1519  030e  dd4e00            	ld	c,(ix+4)
  1520  0311  0600              	ld	b,0x00
  1521  0313  c5                	push	bc
  1522  0314  210000            	ld	hl, +(__sgoioblk + 10)
  1523  0317  e5                	push	hl
  1524  0318  cd0000            	call	_fputc_callee
  1525  031b  dde1              	pop	ix
  1526  031d  c9                	ret
  1527                          	SECTION code_compiler
  1528                          ;	---------------------------------
  1529                          ; Function vt_insertLine
  1530                          ; ---------------------------------
  1531                          _vt_insertLine:
  1532  031e  210000            	ld	hl,0x001b
  1533  0321  e5                	push	hl
  1534  0322  210000            	ld	hl,___str_12
  1535  0325  e5                	push	hl
  1536  0326  cd0000            	call	_printf
  1537  0329  f1                	pop	af
  1538  032a  f1                	pop	af
  1539  032b  c9                	ret
  1540                          	SECTION rodata_compiler
  1541                          ___str_12:
  1542  00c1  2563fc            	DEFM "%cL"
  1543  00c4  00                	DEFB 0x00
  1544                          	SECTION code_compiler
  1545                          ;	---------------------------------
  1546                          ; Function vt_restoreCursorPosition
  1547                          ; ---------------------------------
  1548                          _vt_restoreCursorPosition:
  1549  032c  210000            	ld	hl,0x001b
  1550  032f  e5                	push	hl
  1551  0330  210000            	ld	hl,___str_13
  1552  0333  e5                	push	hl
  1553  0334  cd0000            	call	_printf
  1554  0337  f1                	pop	af
  1555  0338  f1                	pop	af
  1556  0339  c9                	ret
  1557                          	SECTION rodata_compiler
  1558                          ___str_13:
  1559  00c5  08636b            	DEFM "%ck"
  1560  00c8  00                	DEFB 0x00
  1561                          	SECTION code_compiler
  1562                          ;	---------------------------------
  1563                          ; Function vt_backgroundColor
  1564                          ; ---------------------------------
  1565                          _vt_backgroundColor:
  1566  033a  dde5              	push	ix
  1567  033c  dd210000          	ld	ix,0
  1568  0340  dd39              	add	ix,sp
  1569  0342  210000            	ld	hl,0x001b
  1570  0345  e5                	push	hl
  1571  0346  210000            	ld	hl, +(__sgoioblk + 10)
  1572  0349  e5                	push	hl
  1573  034a  cd0000            	call	_fputc_callee
  1574  034d  210000            	ld	hl,0x0063
  1575  0350  e5                	push	hl
  1576  0351  210000            	ld	hl, +(__sgoioblk + 10)
  1577  0354  e5                	push	hl
  1578  0355  cd0000            	call	_fputc_callee
  1579  0358  dd4e00            	ld	c,(ix+4)
  1580  035b  0600              	ld	b,0x00
  1581  035d  c5                	push	bc
  1582  035e  210000            	ld	hl, +(__sgoioblk + 10)
  1583  0361  e5                	push	hl
  1584  0362  cd0000            	call	_fputc_callee
  1585  0365  dde1              	pop	ix
  1586  0367  c9                	ret
  1587                          	SECTION code_compiler
  1588                          ;	---------------------------------
  1589                          ; Function vt_saveCursorPosition
  1590                          ; ---------------------------------
  1591                          _vt_saveCursorPosition:
  1592  0368  210000            	ld	hl,0x001b
  1593  036b  e5                	push	hl
  1594  036c  210000            	ld	hl,___str_14
  1595  036f  e5                	push	hl
  1596  0370  cd0000            	call	_printf
  1597  0373  f1                	pop	af
  1598  0374  f1                	pop	af
  1599  0375  c9                	ret
  1600                          	SECTION rodata_compiler
  1601                          ___str_14:
  1602  00c9  2563fd            	DEFM "%cj"
  1603  00cc  00                	DEFB 0x00
  1604                          	SECTION code_compiler
  1605                          ;	---------------------------------
  1606                          ; Function vt_cursorUpAndInsert
  1607                          ; ---------------------------------
  1608                          _vt_cursorUpAndInsert:
  1609  0376  210000            	ld	hl,0x001b
  1610  0379  e5                	push	hl
  1611  037a  210000            	ld	hl,___str_15
  1612  037d  e5                	push	hl
  1613  037e  cd0000            	call	_printf
  1614  0381  f1                	pop	af
  1615  0382  f1                	pop	af
  1616  0383  c9                	ret
  1617                          	SECTION rodata_compiler
  1618                          ___str_15:
  1619  00cd  186349            	DEFM "%cI"
  1620  00d0  00                	DEFB 0x00
  1621                          	SECTION code_compiler
  1622                          ;	---------------------------------
  1623                          ; Function vt_wrapOff
  1624                          ; ---------------------------------
  1625                          _vt_wrapOff:
  1626  0384  210000            	ld	hl,0x001b
  1627  0387  e5                	push	hl
  1628  0388  210000            	ld	hl,___str_16
  1629  038b  e5                	push	hl
  1630  038c  cd0000            	call	_printf
  1631  038f  f1                	pop	af
  1632  0390  f1                	pop	af
  1633  0391  c9                	ret
  1634                          	SECTION rodata_compiler
  1635                          ___str_16:
  1636  00d1  2563ff            	DEFM "%cw"
  1637  00d4  00                	DEFB 0x00
  1638                          	SECTION code_compiler
  1639                          ;	---------------------------------
  1640                          ; Function vt_wrapOn
  1641                          ; ---------------------------------
  1642                          _vt_wrapOn:
  1643  0392  210000            	ld	hl,0x001b
  1644  0395  e5                	push	hl
  1645  0396  210000            	ld	hl,___str_17
  1646  0399  e5                	push	hl
  1647  039a  cd0000            	call	_printf
  1648  039d  f1                	pop	af
  1649  039e  f1                	pop	af
  1650  039f  c9                	ret
  1651                          	SECTION rodata_compiler
  1652                          ___str_17:
  1653  00d5  256376            	DEFM "%cv"
  1654  00d8  00                	DEFB 0x00
  1655                          	SECTION code_compiler
  1656                          ;	---------------------------------
  1657                          ; Function vt_normalVideo
  1658                          ; ---------------------------------
  1659                          _vt_normalVideo:
  1660  03a0  210000            	ld	hl,0x001b
  1661  03a3  e5                	push	hl
  1662  03a4  210000            	ld	hl,___str_18
  1663  03a7  e5                	push	hl
  1664  03a8  cd0000            	call	_printf
  1665  03ab  f1                	pop	af
  1666  03ac  f1                	pop	af
  1667  03ad  c9                	ret
  1668                          	SECTION rodata_compiler
  1669                          ___str_18:
  1670  00d9  fe6371            	DEFM "%cq"
  1671  00dc  00                	DEFB 0x00
  1672                          	SECTION code_compiler
  1673                          ;	---------------------------------
  1674                          ; Function vt_reverseVideo
  1675                          ; ---------------------------------
  1676                          _vt_reverseVideo:
  1677  03ae  210000            	ld	hl,0x001b
  1678  03b1  e5                	push	hl
  1679  03b2  210000            	ld	hl,___str_19
  1680  03b5  e5                	push	hl
  1681  03b6  cd0000            	call	_printf
  1682  03b9  f1                	pop	af
  1683  03ba  f1                	pop	af
  1684  03bb  c9                	ret
  1685                          	SECTION rodata_compiler
  1686                          ___str_19:
  1687  00dd  256370            	DEFM "%cp"
  1688  00e0  00                	DEFB 0x00
  1689                          	SECTION code_compiler
  1690                          ;	---------------------------------
  1691                          ; Function ayWrite
  1692                          ; ---------------------------------
  1693                          _ayWrite:
  1694  03bc  fd210000          	ld	iy,2
  1695  03c0  fd39              	add	iy, sp
  1696  03c2  fd7e00            	ld	a,(iy+0)
  1697  03c5  d300              	out	(_IO_AYLATCH), a
  1698  03c7  fd7e00            	ld	a,(iy+0+1)
  1699  03ca  d300              	out	(_IO_AYDATA), a
  1700  03cc  c9                	ret
  1701                          	SECTION code_compiler
  1702                          ;	---------------------------------
  1703                          ; Function ayRead
  1704                          ; ---------------------------------
  1705                          _ayRead:
  1706  03cd  210000            	ld	hl,2+0
  1707  03d0  39                	add	hl, sp
  1708  03d1  7e                	ld	a, (hl)
  1709  03d2  d300              	out	(_IO_AYLATCH), a
  1710  03d4  db00              	in	a, (_IO_AYDATA)
  1711  03d6  6f                	ld	l, a
  1712  03d7  c9                	ret
  1713                          	SECTION code_compiler
  1714                          ;	---------------------------------
  1715                          ; Function playNoteDelay
  1716                          ; ---------------------------------
  1717                          _playNoteDelay:
  1718  03d8  dde5              	push	ix
  1719  03da  dd210000          	ld	ix,0
  1720  03de  dd39              	add	ix,sp
  1721  03e0  dd5600            	ld	d,(ix+7)
  1722  03e3  1e00              	ld	e,0x0b
  1723  03e5  d5                	push	de
  1724  03e6  cd0000            	call	_ayWrite
  1725  03e9  f1                	pop	af
  1726  03ea  dd5600            	ld	d,(ix+6)
  1727  03ed  1e00              	ld	e,0x0c
  1728  03ef  d5                	push	de
  1729  03f0  cd0000            	call	_ayWrite
  1730  03f3  f1                	pop	af
  1731  03f4  dd7e04            	ld	a,(ix+4)
  1732  03f7  b7                	or	a, a
  1733  03f8  2811              	jr	Z,l_playNoteDelay_00101
  1734  03fa  dd7e04            	ld	a,(ix+4)
  1735  03fd  3d                	dec	a
  1736  03fe  2855              	jr	Z,l_playNoteDelay_00102
  1737  0400  dd7e04            	ld	a,(ix+4)
  1738  0403  d602              	sub	a,0x02
  1739  0405  ca9c04            	jp	Z,l_playNoteDelay_00103
  1740  0408  c3e104            	jp	l_playNoteDelay_00105
  1741                          l_playNoteDelay_00101:
  1742  040b  110810            	ld	de,0x1008
  1743  040e  d5                	push	de
  1744  040f  cdbc03            	call	_ayWrite
  1745  0412  f1                	pop	af
  1746  0413  af                	xor	a, a
  1747  0414  57                	ld	d,a
  1748  0415  1e09              	ld	e,0x09
  1749  0417  d5                	push	de
  1750  0418  cdbc03            	call	_ayWrite
  1751  041b  f1                	pop	af
  1752  041c  af                	xor	a, a
  1753  041d  57                	ld	d,a
  1754  041e  1e0a              	ld	e,0x0a
  1755  0420  d5                	push	de
  1756  0421  cdbc03            	call	_ayWrite
  1757  0424  f1                	pop	af
  1758  0425  014900            	ld	bc,__NOTES_FINE+0
  1759  0428  dd6e05            	ld	l,(ix+5)
  1760  042b  2600              	ld	h,0x00
  1761  042d  09                	add	hl, bc
  1762  042e  7e                	ld	a, (hl)
  1763  042f  f5                	push	af
  1764  0430  33                	inc	sp
  1765  0431  af                	xor	a, a
  1766  0432  f5                	push	af
  1767  0433  33                	inc	sp
  1768  0434  cdbc03            	call	_ayWrite
  1769  0437  f1                	pop	af
  1770  0438  010100            	ld	bc,__NOTES_COURSE+0
  1771  043b  dd6e05            	ld	l,(ix+5)
  1772  043e  2600              	ld	h,0x00
  1773  0440  09                	add	hl, bc
  1774  0441  56                	ld	d, (hl)
  1775  0442  1e01              	ld	e,0x01
  1776  0444  d5                	push	de
  1777  0445  cdbc03            	call	_ayWrite
  1778  0448  f1                	pop	af
  1779  0449  af                	xor	a, a
  1780  044a  57                	ld	d,a
  1781  044b  1e0d              	ld	e,0x0d
  1782  044d  d5                	push	de
  1783  044e  cdbc03            	call	_ayWrite
  1784  0451  f1                	pop	af
  1785  0452  c3e104            	jp	l_playNoteDelay_00105
  1786                          l_playNoteDelay_00102:
  1787  0455  af                	xor	a, a
  1788  0456  57                	ld	d,a
  1789  0457  1e08              	ld	e,0x08
  1790  0459  d5                	push	de
  1791  045a  cdbc03            	call	_ayWrite
  1792  045d  f1                	pop	af
  1793  045e  110910            	ld	de,0x1009
  1794  0461  d5                	push	de
  1795  0462  cdbc03            	call	_ayWrite
  1796  0465  f1                	pop	af
  1797  0466  af                	xor	a, a
  1798  0467  57                	ld	d,a
  1799  0468  1e0a              	ld	e,0x0a
  1800  046a  d5                	push	de
  1801  046b  cdbc03            	call	_ayWrite
  1802  046e  f1                	pop	af
  1803  046f  014900            	ld	bc,__NOTES_FINE+0
  1804  0472  dd6e05            	ld	l,(ix+5)
  1805  0475  2600              	ld	h,0x00
  1806  0477  09                	add	hl, bc
  1807  0478  56                	ld	d, (hl)
  1808  0479  1e02              	ld	e,0x02
  1809  047b  d5                	push	de
  1810  047c  cdbc03            	call	_ayWrite
  1811  047f  f1                	pop	af
  1812  0480  010100            	ld	bc,__NOTES_COURSE+0
  1813  0483  dd6e05            	ld	l,(ix+5)
  1814  0486  2600              	ld	h,0x00
  1815  0488  09                	add	hl, bc
  1816  0489  56                	ld	d, (hl)
  1817  048a  1e03              	ld	e,0x03
  1818  048c  d5                	push	de
  1819  048d  cdbc03            	call	_ayWrite
  1820  0490  f1                	pop	af
  1821  0491  af                	xor	a, a
  1822  0492  57                	ld	d,a
  1823  0493  1e0d              	ld	e,0x0d
  1824  0495  d5                	push	de
  1825  0496  cdbc03            	call	_ayWrite
  1826  0499  f1                	pop	af
  1827  049a  1845              	jr	l_playNoteDelay_00105
  1828                          l_playNoteDelay_00103:
  1829  049c  af                	xor	a, a
  1830  049d  57                	ld	d,a
  1831  049e  1e08              	ld	e,0x08
  1832  04a0  d5                	push	de
  1833  04a1  cdbc03            	call	_ayWrite
  1834  04a4  f1                	pop	af
  1835  04a5  af                	xor	a, a
  1836  04a6  57                	ld	d,a
  1837  04a7  1e09              	ld	e,0x09
  1838  04a9  d5                	push	de
  1839  04aa  cdbc03            	call	_ayWrite
  1840  04ad  f1                	pop	af
  1841  04ae  110a10            	ld	de,0x100a
  1842  04b1  d5                	push	de
  1843  04b2  cdbc03            	call	_ayWrite
  1844  04b5  f1                	pop	af
  1845  04b6  014900            	ld	bc,__NOTES_FINE+0
  1846  04b9  dd6e05            	ld	l,(ix+5)
  1847  04bc  2600              	ld	h,0x00
  1848  04be  09                	add	hl, bc
  1849  04bf  56                	ld	d, (hl)
  1850  04c0  1e04              	ld	e,0x04
  1851  04c2  d5                	push	de
  1852  04c3  cdbc03            	call	_ayWrite
  1853  04c6  f1                	pop	af
  1854  04c7  010100            	ld	bc,__NOTES_COURSE+0
  1855  04ca  dd6e05            	ld	l,(ix+5)
  1856  04cd  2600              	ld	h,0x00
  1857  04cf  09                	add	hl, bc
  1858  04d0  56                	ld	d, (hl)
  1859  04d1  1e05              	ld	e,0x05
  1860  04d3  d5                	push	de
  1861  04d4  cdbc03            	call	_ayWrite
  1862  04d7  f1                	pop	af
  1863  04d8  af                	xor	a, a
  1864  04d9  57                	ld	d,a
  1865  04da  1e0d              	ld	e,0x0d
  1866  04dc  d5                	push	de
  1867  04dd  cdbc03            	call	_ayWrite
  1868  04e0  f1                	pop	af
  1869                          l_playNoteDelay_00105:
  1870  04e1  dde1              	pop	ix
  1871  04e3  c9                	ret
  1872                          	SECTION code_compiler
  1873                          ;	---------------------------------
  1874                          ; Function isKeyPressed
  1875                          ; ---------------------------------
  1876                          _isKeyPressed:
  1877  04e4  3a0400            	ld	a, (__kbdBufferWritePos+0)
  1878  04e7  fd210300          	ld	iy,__kbdBufferReadPos
  1879  04eb  fd9600            	sub	a,(iy+0)
  1880  04ee  2004              	jr	NZ,l_isKeyPressed_00103
  1881  04f0  3e01              	ld	a,0x01
  1882  04f2  1801              	jr	l_isKeyPressed_00104
  1883                          l_isKeyPressed_00103:
  1884  04f4  af                	xor	a,a
  1885                          l_isKeyPressed_00104:
  1886  04f5  ee01              	xor	a,0x01
  1887  04f7  6f                	ld	l, a
  1888  04f8  c9                	ret
  1889                          	SECTION code_compiler
  1890                          ;	---------------------------------
  1891                          ; Function getChar
  1892                          ; ---------------------------------
  1893                          _getChar:
  1894                          l_getChar_00101:
  1895  04f9  3a0400            	ld	a, (__kbdBufferWritePos+0)
  1896  04fc  fd210300          	ld	iy,__kbdBufferReadPos
  1897  0500  fd9600            	sub	a,(iy+0)
  1898  0503  28f4              	jr	Z,l_getChar_00101
  1899  0505  010001            	ld	bc,__kbdBuffer+0
  1900  0508  2a0300            	ld	hl, (__kbdBufferReadPos)
  1901  050b  2600              	ld	h,0x00
  1902  050d  09                	add	hl, bc
  1903  050e  4e                	ld	c, (hl)
  1904  050f  3a0300            	ld	a, (__kbdBufferReadPos+0)
  1905  0512  3c                	inc	a
  1906  0513  320300            	ld	(__kbdBufferReadPos+0), a
  1907  0516  69                	ld	l, c
  1908  0517  c9                	ret
  1909                          	SECTION code_compiler
  1910                          ;	---------------------------------
  1911                          ; Function getJoyStatus
  1912                          ; ---------------------------------
  1913                          _getJoyStatus:
  1914  0518  3e06              	ld	a, +((__joyStatus) & 0xFF)
  1915  051a  210200            	ld	hl,2
  1916  051d  39                	add	hl, sp
  1917  051e  86                	add	a, (hl)
  1918  051f  6f                	ld	l, a
  1919  0520  3e00              	ld	a, +((__joyStatus) / 256)
  1920  0522  ce00              	adc	a,0x00
  1921  0524  67                	ld	h, a
  1922  0525  6e                	ld	l, (hl)
  1923  0526  c9                	ret
  1924                          	SECTION code_compiler
  1925                          ;	---------------------------------
  1926                          ; Function readLine
  1927                          ; ---------------------------------
  1928                          _readLine:
  1929  0527  dde5              	push	ix
  1930  0529  dd210000          	ld	ix,0
  1931  052d  dd39              	add	ix,sp
  1932  052f  0e00              	ld	c,0x00
  1933                          l_readLine_00120:
  1934  0531  c5                	push	bc
  1935  0532  cdf904            	call	_getChar
  1936  0535  5d                	ld	e, l
  1937  0536  c1                	pop	bc
  1938  0537  7b                	ld	a, e
  1939  0538  d60d              	sub	a,0x0d
  1940  053a  cac305            	jp	Z,l_readLine_00121
  1941  053d  79                	ld	a, c
  1942  053e  dd9606            	sub	a,(ix+6)
  1943  0541  3020              	jr	NC,l_readLine_00112
  1944  0543  7b                	ld	a, e
  1945  0544  d620              	sub	a,0x20
  1946  0546  381b              	jr	C,l_readLine_00112
  1947  0548  3e7e              	ld	a,0x7e
  1948  054a  93                	sub	a, e
  1949  054b  3816              	jr	C,l_readLine_00112
  1950  054d  dd6e04            	ld	l,(ix+4)
  1951  0550  dd6605            	ld	h,(ix+5)
  1952  0553  0600              	ld	b,0x00
  1953  0555  09                	add	hl, bc
  1954  0556  73                	ld	(hl), e
  1955  0557  c5                	push	bc
  1956  0558  7b                	ld	a, e
  1957  0559  f5                	push	af
  1958  055a  33                	inc	sp
  1959  055b  cd1f13            	call	_vdp_write
  1960  055e  33                	inc	sp
  1961  055f  c1                	pop	bc
  1962  0560  0c                	inc	c
  1963  0561  18ce              	jr	l_readLine_00120
  1964                          l_readLine_00112:
  1965  0563  7b                	ld	a, e
  1966  0564  d67f              	sub	a,0x7f
  1967  0566  2004              	jr	NZ,l_readLine_00175
  1968  0568  3e01              	ld	a,0x01
  1969  056a  1801              	jr	l_readLine_00176
  1970                          l_readLine_00175:
  1971  056c  af                	xor	a,a
  1972                          l_readLine_00176:
  1973  056d  47                	ld	b, a
  1974  056e  dd7e06            	ld	a,(ix+6)
  1975  0571  91                	sub	a, c
  1976  0572  2018              	jr	NZ,l_readLine_00108
  1977  0574  cb40              	bit	0, b
  1978  0576  2014              	jr	NZ,l_readLine_00108
  1979  0578  c5                	push	bc
  1980  0579  210a00            	ld	hl,0x000a
  1981  057c  e5                	push	hl
  1982  057d  3e3c              	ld	a,0x3c
  1983  057f  f5                	push	af
  1984  0580  33                	inc	sp
  1985  0581  af                	xor	a, a
  1986  0582  f5                	push	af
  1987  0583  33                	inc	sp
  1988  0584  cdd803            	call	_playNoteDelay
  1989  0587  f1                	pop	af
  1990  0588  f1                	pop	af
  1991  0589  c1                	pop	bc
  1992  058a  18a5              	jr	l_readLine_00120
  1993                          l_readLine_00108:
  1994  058c  78                	ld	a, b
  1995  058d  b7                	or	a, a
  1996  058e  28a1              	jr	Z,l_readLine_00120
  1997  0590  79                	ld	a, c
  1998  0591  b7                	or	a, a
  1999  0592  289d              	jr	Z,l_readLine_00120
  2000  0594  110b00            	ld	de,_vdp_cursor+0
  2001  0597  1a                	ld	a, (de)
  2002  0598  b7                	or	a, a
  2003  0599  200c              	jr	NZ,l_readLine_00102
  2004  059b  3e27              	ld	a,0x27
  2005  059d  12                	ld	(de), a
  2006  059e  3a0c00            	ld	a, ((_vdp_cursor + 1) + 0)
  2007  05a1  3d                	dec	a
  2008  05a2  320c00            	ld	((_vdp_cursor + 1)),a
  2009  05a5  1802              	jr	l_readLine_00103
  2010                          l_readLine_00102:
  2011  05a7  3d                	dec	a
  2012  05a8  12                	ld	(de), a
  2013                          l_readLine_00103:
  2014  05a9  0d                	dec	c
  2015  05aa  3a0c00            	ld	a, ((_vdp_cursor + 1) + 0)
  2016  05ad  210b00            	ld	hl,_vdp_cursor + 0
  2017  05b0  46                	ld	b, (hl)
  2018  05b1  c5                	push	bc
  2019  05b2  2620              	ld	h,0x20
  2020  05b4  e5                	push	hl
  2021  05b5  33                	inc	sp
  2022  05b6  f5                	push	af
  2023  05b7  33                	inc	sp
  2024  05b8  c5                	push	bc
  2025  05b9  33                	inc	sp
  2026  05ba  cd9613            	call	_vdp_writeCharAtLocation
  2027  05bd  f1                	pop	af
  2028  05be  33                	inc	sp
  2029  05bf  c1                	pop	bc
  2030  05c0  c33105            	jp	l_readLine_00120
  2031                          l_readLine_00121:
  2032  05c3  69                	ld	l, c
  2033  05c4  dde1              	pop	ix
  2034  05c6  c9                	ret
  2035                          	SECTION code_compiler
  2036                          ;	---------------------------------
  2037                          ; Function hcca_ping
  2038                          ; ---------------------------------
  2039                          _hcca_ping:
  2040  05c7  3ea1              	ld	a,0xa1
  2041  05c9  f5                	push	af
  2042  05ca  33                	inc	sp
  2043  05cb  cd3407            	call	_hcca_writeByte
  2044  05ce  33                	inc	sp
  2045  05cf  010000            	ld	bc,0x0000
  2046  05d2  110000            	ld	de,0x0000
  2047                          l_hcca_ping_00103:
  2048  05d5  3a0200            	ld	a, (__rxBufferWritePos+0)
  2049  05d8  fd210100          	ld	iy,__rxBufferReadPos
  2050  05dc  fd9600            	sub	a,(iy+0)
  2051  05df  2016              	jr	NZ,l_hcca_ping_00105
  2052  05e1  0c                	inc	c
  2053  05e2  2004              	jr	NZ,l_hcca_ping_00132
  2054  05e4  04                	inc	b
  2055  05e5  2001              	jr	NZ,l_hcca_ping_00132
  2056  05e7  13                	inc	de
  2057                          l_hcca_ping_00132:
  2058  05e8  79                	ld	a, c
  2059  05e9  d650              	sub	a,0x50
  2060  05eb  20e8              	jr	NZ,l_hcca_ping_00103
  2061  05ed  78                	ld	a, b
  2062  05ee  d6c3              	sub	a,0xc3
  2063  05f0  b3                	or	a, e
  2064  05f1  b2                	or	a,d
  2065  05f2  20e1              	jr	NZ,l_hcca_ping_00103
  2066  05f4  6f                	ld	l,a
  2067  05f5  180e              	jr	l_hcca_ping_00108
  2068                          l_hcca_ping_00105:
  2069  05f7  cd4906            	call	_hcca_readByte
  2070  05fa  7d                	ld	a, l
  2071  05fb  d655              	sub	a,0x55
  2072  05fd  2004              	jr	NZ,l_hcca_ping_00107
  2073  05ff  2e01              	ld	l,0x01
  2074  0601  1802              	jr	l_hcca_ping_00108
  2075                          l_hcca_ping_00107:
  2076  0603  2e00              	ld	l,0x00
  2077                          l_hcca_ping_00108:
  2078  0605  c9                	ret
  2079                          	SECTION code_compiler
  2080                          ;	---------------------------------
  2081                          ; Function hcca_isRxBufferAvailable
  2082                          ; ---------------------------------
  2083                          _hcca_isRxBufferAvailable:
  2084  0606  3a0200            	ld	a, (__rxBufferWritePos+0)
  2085  0609  fd210100          	ld	iy,__rxBufferReadPos
  2086  060d  fd9600            	sub	a,(iy+0)
  2087  0610  2004              	jr	NZ,l_hcca_isRxBufferAvailable_00103
  2088  0612  3e01              	ld	a,0x01
  2089  0614  1801              	jr	l_hcca_isRxBufferAvailable_00104
  2090                          l_hcca_isRxBufferAvailable_00103:
  2091  0616  af                	xor	a,a
  2092                          l_hcca_isRxBufferAvailable_00104:
  2093  0617  ee01              	xor	a,0x01
  2094  0619  6f                	ld	l, a
  2095  061a  c9                	ret
  2096                          	SECTION code_compiler
  2097                          ;	---------------------------------
  2098                          ; Function hcca_getSizeOfDataInBuffer
  2099                          ; ---------------------------------
  2100                          _hcca_getSizeOfDataInBuffer:
  2101  061b  3b                	dec	sp
  2102  061c  3a0200            	ld	a,(__rxBufferWritePos)
  2103  061f  fd210100          	ld	iy,__rxBufferReadPos
  2104  0623  fd9600            	sub	a,(iy+0)
  2105  0626  3017              	jr	NC,l_hcca_getSizeOfDataInBuffer_00102
  2106  0628  3a0100            	ld	a, (__rxBufferReadPos+0)
  2107  062b  4f                	ld	c, a
  2108  062c  210000            	ld	hl,0
  2109  062f  39                	add	hl, sp
  2110  0630  3eff              	ld	a,0xff
  2111  0632  91                	sub	a, c
  2112  0633  77                	ld	(hl), a
  2113  0634  3a0200            	ld	a, (__rxBufferWritePos+0)
  2114  0637  210000            	ld	hl,0
  2115  063a  39                	add	hl, sp
  2116  063b  86                	add	a, (hl)
  2117  063c  6f                	ld	l, a
  2118  063d  1808              	jr	l_hcca_getSizeOfDataInBuffer_00103
  2119                          l_hcca_getSizeOfDataInBuffer_00102:
  2120  063f  210100            	ld	hl,__rxBufferReadPos
  2121  0642  3a0200            	ld	a, (__rxBufferWritePos+0)
  2122  0645  96                	sub	a, (hl)
  2123  0646  6f                	ld	l, a
  2124                          l_hcca_getSizeOfDataInBuffer_00103:
  2125  0647  33                	inc	sp
  2126  0648  c9                	ret
  2127                          	SECTION code_compiler
  2128                          ;	---------------------------------
  2129                          ; Function hcca_readByte
  2130                          ; ---------------------------------
  2131                          _hcca_readByte:
  2132                          l_hcca_readByte_00101:
  2133  0649  3a0200            	ld	a, (__rxBufferWritePos+0)
  2134  064c  fd210100          	ld	iy,__rxBufferReadPos
  2135  0650  fd9600            	sub	a,(iy+0)
  2136  0653  28f4              	jr	Z,l_hcca_readByte_00101
  2137  0655  010000            	ld	bc,__rxBuffer+0
  2138  0658  2a0100            	ld	hl, (__rxBufferReadPos)
  2139  065b  2600              	ld	h,0x00
  2140  065d  09                	add	hl, bc
  2141  065e  4e                	ld	c, (hl)
  2142  065f  3a0100            	ld	a, (__rxBufferReadPos+0)
  2143  0662  3c                	inc	a
  2144  0663  320100            	ld	(__rxBufferReadPos+0), a
  2145  0666  69                	ld	l, c
  2146  0667  c9                	ret
  2147                          	SECTION code_compiler
  2148                          ;	---------------------------------
  2149                          ; Function hcca_readUInt16
  2150                          ; ---------------------------------
  2151                          _hcca_readUInt16:
  2152  0668  cd4906            	call	_hcca_readByte
  2153  066b  4d                	ld	c, l
  2154  066c  0600              	ld	b,0x00
  2155  066e  c5                	push	bc
  2156  066f  cd4906            	call	_hcca_readByte
  2157  0672  c1                	pop	bc
  2158  0673  65                	ld	h, l
  2159  0674  2e00              	ld	l,0x00
  2160  0676  09                	add	hl, bc
  2161  0677  c9                	ret
  2162                          	SECTION code_compiler
  2163                          ;	---------------------------------
  2164                          ; Function hcca_readInt16
  2165                          ; ---------------------------------
  2166                          _hcca_readInt16:
  2167  0678  cd4906            	call	_hcca_readByte
  2168  067b  4d                	ld	c, l
  2169  067c  0600              	ld	b,0x00
  2170  067e  c5                	push	bc
  2171  067f  cd4906            	call	_hcca_readByte
  2172  0682  c1                	pop	bc
  2173  0683  65                	ld	h, l
  2174  0684  2e00              	ld	l,0x00
  2175  0686  09                	add	hl, bc
  2176  0687  c9                	ret
  2177                          	SECTION code_compiler
  2178                          ;	---------------------------------
  2179                          ; Function hcca_readUInt32
  2180                          ; ---------------------------------
  2181                          _hcca_readUInt32:
  2182  0688  dde5              	push	ix
  2183  068a  dd210000          	ld	ix,0
  2184  068e  dd39              	add	ix,sp
  2185  0690  f5                	push	af
  2186  0691  f5                	push	af
  2187  0692  cd4906            	call	_hcca_readByte
  2188  0695  dd75fc            	ld	(ix-4),l
  2189  0698  cd4906            	call	_hcca_readByte
  2190  069b  dd75fd            	ld	(ix-3),l
  2191  069e  cd4906            	call	_hcca_readByte
  2192  06a1  dd75fe            	ld	(ix-2),l
  2193  06a4  cd4906            	call	_hcca_readByte
  2194  06a7  dd75ff            	ld	(ix-1),l
  2195  06aa  e1                	pop	hl
  2196  06ab  e5                	push	hl
  2197  06ac  dd5efe            	ld	e,(ix-2)
  2198  06af  dd56ff            	ld	d,(ix-1)
  2199  06b2  ddf9              	ld	sp, ix
  2200  06b4  dde1              	pop	ix
  2201  06b6  c9                	ret
  2202                          	SECTION code_compiler
  2203                          ;	---------------------------------
  2204                          ; Function hcca_readInt32
  2205                          ; ---------------------------------
  2206                          _hcca_readInt32:
  2207  06b7  dde5              	push	ix
  2208  06b9  dd210000          	ld	ix,0
  2209  06bd  dd39              	add	ix,sp
  2210  06bf  f5                	push	af
  2211  06c0  f5                	push	af
  2212  06c1  cd4906            	call	_hcca_readByte
  2213  06c4  dd75fc            	ld	(ix-4),l
  2214  06c7  cd4906            	call	_hcca_readByte
  2215  06ca  dd75fd            	ld	(ix-3),l
  2216  06cd  cd4906            	call	_hcca_readByte
  2217  06d0  dd75fe            	ld	(ix-2),l
  2218  06d3  cd4906            	call	_hcca_readByte
  2219  06d6  dd75ff            	ld	(ix-1),l
  2220  06d9  e1                	pop	hl
  2221  06da  e5                	push	hl
  2222  06db  dd5efe            	ld	e,(ix-2)
  2223  06de  dd56ff            	ld	d,(ix-1)
  2224  06e1  ddf9              	ld	sp, ix
  2225  06e3  dde1              	pop	ix
  2226  06e5  c9                	ret
  2227                          	SECTION code_compiler
  2228                          ;	---------------------------------
  2229                          ; Function hcca_readBytes
  2230                          ; ---------------------------------
  2231                          _hcca_readBytes:
  2232  06e6  dde5              	push	ix
  2233  06e8  dd210000          	ld	ix,0
  2234  06ec  dd39              	add	ix,sp
  2235  06ee  dd7e08            	ld	a,(ix+8)
  2236  06f1  dd8604            	add	a,(ix+4)
  2237  06f4  4f                	ld	c, a
  2238  06f5  dd7e09            	ld	a,(ix+9)
  2239  06f8  dd8e05            	adc	a,(ix+5)
  2240  06fb  47                	ld	b, a
  2241  06fc  dd6e06            	ld	l,(ix+6)
  2242  06ff  dd6607            	ld	h,(ix+7)
  2243  0702  09                	add	hl, bc
  2244  0703  eb                	ex	de, hl
  2245                          l_hcca_readBytes_00101:
  2246  0704  3a0200            	ld	a, (__rxBufferWritePos+0)
  2247  0707  fd210100          	ld	iy,__rxBufferReadPos
  2248  070b  fd9600            	sub	a,(iy+0)
  2249  070e  28f4              	jr	Z,l_hcca_readBytes_00101
  2250  0710  fd210000          	ld	iy,__rxBuffer
  2251  0714  c5                	push	bc
  2252  0715  ed4b0100          	ld	bc, (__rxBufferReadPos)
  2253  0719  0600              	ld	b,0x00
  2254  071b  fd09              	add	iy, bc
  2255  071d  c1                	pop	bc
  2256  071e  fd7e00            	ld	a,(iy+0)
  2257  0721  02                	ld	(bc), a
  2258  0722  03                	inc	bc
  2259  0723  3a0100            	ld	a, (__rxBufferReadPos+0)
  2260  0726  3c                	inc	a
  2261  0727  320100            	ld	(__rxBufferReadPos+0), a
  2262  072a  69                	ld	l, c
  2263  072b  60                	ld	h, b
  2264  072c  bf                	cp	a, a
  2265  072d  ed52              	sbc	hl, de
  2266  072f  20d3              	jr	NZ,l_hcca_readBytes_00101
  2267  0731  dde1              	pop	ix
  2268  0733  c9                	ret
  2269                          	SECTION code_compiler
  2270                          ;	---------------------------------
  2271                          ; Function hcca_writeByte
  2272                          ; ---------------------------------
  2273                          _hcca_writeByte:
  2274  0734  cd8200            	call	_NABU_DisableInterrupts
  2275  0737  110e40            	ld	de,0x400e
  2276  073a  d5                	push	de
  2277  073b  cdbc03            	call	_ayWrite
  2278  073e  f1                	pop	af
  2279  073f  3e0f              	ld	a,0x0f
  2280  0741  d341              	out	(_IO_AYLATCH), a
  2281                          l_hcca_writeByte_00101:
  2282  0743  db40              	in	a, (_IO_AYDATA)
  2283  0745  cb57              	bit	2, a
  2284  0747  20fa              	jr	NZ,l_hcca_writeByte_00101
  2285  0749  210200            	ld	hl,2+0
  2286  074c  39                	add	hl, sp
  2287  074d  7e                	ld	a, (hl)
  2288  074e  d380              	out	(_IO_HCCA), a
  2289  0750  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2290  0753  57                	ld	d,a
  2291  0754  1e0e              	ld	e,0x0e
  2292  0756  d5                	push	de
  2293  0757  cdbc03            	call	_ayWrite
  2294  075a  f1                	pop	af
  2295  075b  c38400            	jp	_NABU_EnableInterrupts
  2296                          	SECTION code_compiler
  2297                          ;	---------------------------------
  2298                          ; Function hcca_writeUInt32
  2299                          ; ---------------------------------
  2300                          _hcca_writeUInt32:
  2301  075e  210200            	ld	hl,2+0
  2302  0761  39                	add	hl, sp
  2303  0762  7e                	ld	a, (hl)
  2304  0763  f5                	push	af
  2305  0764  33                	inc	sp
  2306  0765  cd3407            	call	_hcca_writeByte
  2307  0768  33                	inc	sp
  2308  0769  210300            	ld	hl,2+1
  2309  076c  39                	add	hl, sp
  2310  076d  7e                	ld	a, (hl)
  2311  076e  f5                	push	af
  2312  076f  33                	inc	sp
  2313  0770  cd3407            	call	_hcca_writeByte
  2314  0773  33                	inc	sp
  2315  0774  210400            	ld	hl,2+2
  2316  0777  39                	add	hl, sp
  2317  0778  7e                	ld	a, (hl)
  2318  0779  f5                	push	af
  2319  077a  33                	inc	sp
  2320  077b  cd3407            	call	_hcca_writeByte
  2321  077e  33                	inc	sp
  2322  077f  210500            	ld	hl,2+3
  2323  0782  39                	add	hl, sp
  2324  0783  7e                	ld	a, (hl)
  2325  0784  f5                	push	af
  2326  0785  33                	inc	sp
  2327  0786  cd3407            	call	_hcca_writeByte
  2328  0789  33                	inc	sp
  2329  078a  c9                	ret
  2330                          	SECTION code_compiler
  2331                          ;	---------------------------------
  2332                          ; Function hcca_writeInt32
  2333                          ; ---------------------------------
  2334                          _hcca_writeInt32:
  2335  078b  210200            	ld	hl,2+0
  2336  078e  39                	add	hl, sp
  2337  078f  7e                	ld	a, (hl)
  2338  0790  f5                	push	af
  2339  0791  33                	inc	sp
  2340  0792  cd3407            	call	_hcca_writeByte
  2341  0795  33                	inc	sp
  2342  0796  210300            	ld	hl,2+1
  2343  0799  39                	add	hl, sp
  2344  079a  7e                	ld	a, (hl)
  2345  079b  f5                	push	af
  2346  079c  33                	inc	sp
  2347  079d  cd3407            	call	_hcca_writeByte
  2348  07a0  33                	inc	sp
  2349  07a1  210400            	ld	hl,2+2
  2350  07a4  39                	add	hl, sp
  2351  07a5  7e                	ld	a, (hl)
  2352  07a6  f5                	push	af
  2353  07a7  33                	inc	sp
  2354  07a8  cd3407            	call	_hcca_writeByte
  2355  07ab  33                	inc	sp
  2356  07ac  210500            	ld	hl,2+3
  2357  07af  39                	add	hl, sp
  2358  07b0  7e                	ld	a, (hl)
  2359  07b1  f5                	push	af
  2360  07b2  33                	inc	sp
  2361  07b3  cd3407            	call	_hcca_writeByte
  2362  07b6  33                	inc	sp
  2363  07b7  c9                	ret
  2364                          	SECTION code_compiler
  2365                          ;	---------------------------------
  2366                          ; Function hcca_writeUInt16
  2367                          ; ---------------------------------
  2368                          _hcca_writeUInt16:
  2369  07b8  210200            	ld	hl,2+0
  2370  07bb  39                	add	hl, sp
  2371  07bc  7e                	ld	a, (hl)
  2372  07bd  f5                	push	af
  2373  07be  33                	inc	sp
  2374  07bf  cd3407            	call	_hcca_writeByte
  2375  07c2  33                	inc	sp
  2376  07c3  210300            	ld	hl,2+1
  2377  07c6  39                	add	hl, sp
  2378  07c7  7e                	ld	a, (hl)
  2379  07c8  f5                	push	af
  2380  07c9  33                	inc	sp
  2381  07ca  cd3407            	call	_hcca_writeByte
  2382  07cd  33                	inc	sp
  2383  07ce  c9                	ret
  2384                          	SECTION code_compiler
  2385                          ;	---------------------------------
  2386                          ; Function hcca_writeInt16
  2387                          ; ---------------------------------
  2388                          _hcca_writeInt16:
  2389  07cf  210200            	ld	hl,2+0
  2390  07d2  39                	add	hl, sp
  2391  07d3  7e                	ld	a, (hl)
  2392  07d4  f5                	push	af
  2393  07d5  33                	inc	sp
  2394  07d6  cd3407            	call	_hcca_writeByte
  2395  07d9  33                	inc	sp
  2396  07da  210300            	ld	hl,2+1
  2397  07dd  39                	add	hl, sp
  2398  07de  7e                	ld	a, (hl)
  2399  07df  f5                	push	af
  2400  07e0  33                	inc	sp
  2401  07e1  cd3407            	call	_hcca_writeByte
  2402  07e4  33                	inc	sp
  2403  07e5  c9                	ret
  2404                          	SECTION code_compiler
  2405                          ;	---------------------------------
  2406                          ; Function hcca_writeString
  2407                          ; ---------------------------------
  2408                          _hcca_writeString:
  2409  07e6  010000            	ld	bc,0x0000
  2410                          l_hcca_writeString_00103:
  2411  07e9  210200            	ld	hl,2
  2412  07ec  39                	add	hl, sp
  2413  07ed  7e                	ld	a, (hl)
  2414  07ee  23                	inc	hl
  2415  07ef  66                	ld	h, (hl)
  2416  07f0  6f                	ld	l, a
  2417  07f1  09                	add	hl, bc
  2418  07f2  7e                	ld	a, (hl)
  2419  07f3  b7                	or	a, a
  2420  07f4  c8                	ret	Z
  2421  07f5  c5                	push	bc
  2422  07f6  f5                	push	af
  2423  07f7  33                	inc	sp
  2424  07f8  cd3407            	call	_hcca_writeByte
  2425  07fb  33                	inc	sp
  2426  07fc  c1                	pop	bc
  2427  07fd  03                	inc	bc
  2428  07fe  18e9              	jr	l_hcca_writeString_00103
  2429                          	SECTION code_compiler
  2430                          ;	---------------------------------
  2431                          ; Function hcca_writeBytes
  2432                          ; ---------------------------------
  2433                          _hcca_writeBytes:
  2434  0800  dde5              	push	ix
  2435  0802  dd210000          	ld	ix,0
  2436  0806  dd39              	add	ix,sp
  2437  0808  dd7e08            	ld	a,(ix+8)
  2438  080b  dd8604            	add	a,(ix+4)
  2439  080e  4f                	ld	c, a
  2440  080f  dd7e09            	ld	a,(ix+9)
  2441  0812  dd8e05            	adc	a,(ix+5)
  2442  0815  47                	ld	b, a
  2443  0816  dd6e06            	ld	l,(ix+6)
  2444  0819  dd6607            	ld	h,(ix+7)
  2445  081c  09                	add	hl, bc
  2446  081d  eb                	ex	de, hl
  2447                          l_hcca_writeBytes_00101:
  2448  081e  69                	ld	l, c
  2449  081f  60                	ld	h, b
  2450  0820  bf                	cp	a, a
  2451  0821  ed52              	sbc	hl, de
  2452  0823  280e              	jr	Z,l_hcca_writeBytes_00104
  2453  0825  0a                	ld	a, (bc)
  2454  0826  c5                	push	bc
  2455  0827  d5                	push	de
  2456  0828  f5                	push	af
  2457  0829  33                	inc	sp
  2458  082a  cd3407            	call	_hcca_writeByte
  2459  082d  33                	inc	sp
  2460  082e  d1                	pop	de
  2461  082f  c1                	pop	bc
  2462  0830  03                	inc	bc
  2463  0831  18eb              	jr	l_hcca_writeBytes_00101
  2464                          l_hcca_writeBytes_00104:
  2465  0833  dde1              	pop	ix
  2466  0835  c9                	ret
  2467                          	SECTION code_compiler
  2468                          ;	---------------------------------
  2469                          ; Function vdp_setRegister
  2470                          ; ---------------------------------
  2471                          _vdp_setRegister:
  2472  0836  fd210300          	ld	iy,3
  2473  083a  fd39              	add	iy, sp
  2474  083c  fd7e00            	ld	a,(iy+0)
  2475  083f  d3a1              	out	(_IO_VDPLATCH), a
  2476  0841  fd2b              	dec	iy
  2477  0843  fd7e00            	ld	a,(iy+0)
  2478  0846  f680              	or	a,0x80
  2479  0848  d3a1              	out	(_IO_VDPLATCH), a
  2480  084a  c9                	ret
  2481                          	SECTION code_compiler
  2482                          ;	---------------------------------
  2483                          ; Function vdp_setWriteAddress
  2484                          ; ---------------------------------
  2485                          _vdp_setWriteAddress:
  2486  084b  fd210200          	ld	iy,2
  2487  084f  fd39              	add	iy, sp
  2488  0851  fd7e00            	ld	a,(iy+0)
  2489  0854  d3a1              	out	(_IO_VDPLATCH), a
  2490  0856  fd7e01            	ld	a,(iy+1)
  2491  0859  e63f              	and	a,0x3f
  2492  085b  f640              	or	a,0x40
  2493  085d  d3a1              	out	(_IO_VDPLATCH), a
  2494  085f  c9                	ret
  2495                          	SECTION code_compiler
  2496                          ;	---------------------------------
  2497                          ; Function vdp_setReadAddress
  2498                          ; ---------------------------------
  2499                          _vdp_setReadAddress:
  2500  0860  fd210200          	ld	iy,2
  2501  0864  fd39              	add	iy, sp
  2502  0866  fd7e00            	ld	a,(iy+0)
  2503  0869  d3a1              	out	(_IO_VDPLATCH), a
  2504  086b  fd7e01            	ld	a,(iy+1)
  2505  086e  e63f              	and	a,0x3f
  2506  0870  d3a1              	out	(_IO_VDPLATCH), a
  2507  0872  c9                	ret
  2508                          	SECTION code_compiler
  2509                          ;	---------------------------------
  2510                          ; Function waitVdpISR
  2511                          ; ---------------------------------
  2512                          _waitVdpISR:
  2513  0873  f5                	push	af
  2514  0874  dba1              	in	a, (_IO_VDPLATCH)
  2515  0876  320f00            	ld	(_vdpStatusRegVal), a
  2516  0879  3e01              	ld	a, 0x01
  2517  087b  321000            	ld	(_vdpIsReady), a
  2518  087e  f1                	pop	af
  2519  087f  fb                	ei
  2520  0880  ed4d              	reti
  2521                          ;	---------------------------------
  2522                          ; Function vdp_enableVDPReadyInt
  2523                          ; ---------------------------------
  2524                          _vdp_enableVDPReadyInt:
  2525  0882  cd8200            	call	_NABU_DisableInterrupts
  2526  0885  217308            	ld	hl, _waitVdpISR
  2527  0888  2206ff            	ld	(0xff00 + 6), hl
  2528  088b  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2529  088e  f610              	or	a,0x10
  2530  0890  320a00            	ld	(__ORIGINAL_INT_MASK+0), a
  2531  0893  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2532  0896  57                	ld	d,a
  2533  0897  1e0e              	ld	e,0x0e
  2534  0899  d5                	push	de
  2535  089a  cdbc03            	call	_ayWrite
  2536  089d  f1                	pop	af
  2537  089e  cd8400            	call	_NABU_EnableInterrupts
  2538  08a1  210e00            	ld	hl,__vdpInterruptEnabled + 0
  2539  08a4  3601              	ld	(hl),0x01
  2540  08a6  3a0d00            	ld	a, (__vdpReg1Val+0)
  2541  08a9  cbef              	set	5, a
  2542  08ab  57                	ld	d,a
  2543  08ac  1e01              	ld	e,0x01
  2544  08ae  d5                	push	de
  2545  08af  cd3608            	call	_vdp_setRegister
  2546  08b2  f1                	pop	af
  2547  08b3  c9                	ret
  2548                          	SECTION code_compiler
  2549                          ;	---------------------------------
  2550                          ; Function vdp_waitVDPReadyInt
  2551                          ; ---------------------------------
  2552                          _vdp_waitVDPReadyInt:
  2553                          l_vdp_waitVDPReadyInt_00101:
  2554  08b4  3a1000            	ld	a, (_vdpIsReady+0)
  2555  08b7  b7                	or	a, a
  2556  08b8  28fa              	jr	Z,l_vdp_waitVDPReadyInt_00101
  2557  08ba  211000            	ld	hl,_vdpIsReady + 0
  2558  08bd  3600              	ld	(hl),0x00
  2559  08bf  c9                	ret
  2560                          	SECTION code_compiler
  2561                          ;	---------------------------------
  2562                          ; Function vdp_disableVDPReadyInt
  2563                          ; ---------------------------------
  2564                          _vdp_disableVDPReadyInt:
  2565  08c0  3a0d00            	ld	a, (__vdpReg1Val+0)
  2566  08c3  57                	ld	d,a
  2567  08c4  1e01              	ld	e,0x01
  2568  08c6  d5                	push	de
  2569  08c7  cd3608            	call	_vdp_setRegister
  2570  08ca  f1                	pop	af
  2571  08cb  cd8200            	call	_NABU_DisableInterrupts
  2572  08ce  210e00            	ld	hl,__vdpInterruptEnabled + 0
  2573  08d1  3600              	ld	(hl),0x00
  2574  08d3  db41              	in	a, (_IO_AYLATCH)
  2575  08d5  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2576  08d8  cb67              	bit	4, a
  2577  08da  2808              	jr	Z,l_vdp_disableVDPReadyInt_00102
  2578  08dc  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2579  08df  ee10              	xor	a,0x10
  2580  08e1  320a00            	ld	(__ORIGINAL_INT_MASK+0), a
  2581                          l_vdp_disableVDPReadyInt_00102:
  2582  08e4  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2583  08e7  57                	ld	d,a
  2584  08e8  1e0e              	ld	e,0x0e
  2585  08ea  d5                	push	de
  2586  08eb  cdbc03            	call	_ayWrite
  2587  08ee  f1                	pop	af
  2588  08ef  c38400            	jp	_NABU_EnableInterrupts
  2589                          	SECTION code_compiler
  2590                          ;	---------------------------------
  2591                          ; Function vdp_addISR
  2592                          ; ---------------------------------
  2593                          _vdp_addISR:
  2594  08f2  cd8200            	call	_NABU_DisableInterrupts
  2595  08f5  fd210200          	ld	iy,2
  2596  08f9  fd39              	add	iy, sp
  2597  08fb  fd7e00            	ld	a,(iy+0)
  2598  08fe  32c005            	ld	(__vdp_ISR+0), a
  2599  0901  fd7e01            	ld	a,(iy+1)
  2600  0904  32c105            	ld	(__vdp_ISR+1), a
  2601  0907  2ac005            	ld	hl, (__vdp_ISR)
  2602  090a  2206ff            	ld	(0xff00 + 6), hl
  2603  090d  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2604  0910  f610              	or	a,0x10
  2605  0912  320a00            	ld	(__ORIGINAL_INT_MASK+0), a
  2606  0915  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2607  0918  57                	ld	d,a
  2608  0919  1e0e              	ld	e,0x0e
  2609  091b  d5                	push	de
  2610  091c  cdbc03            	call	_ayWrite
  2611  091f  f1                	pop	af
  2612  0920  cd8400            	call	_NABU_EnableInterrupts
  2613  0923  210e00            	ld	hl,__vdpInterruptEnabled + 0
  2614  0926  3601              	ld	(hl),0x01
  2615  0928  3a0d00            	ld	a, (__vdpReg1Val+0)
  2616  092b  cbef              	set	5, a
  2617  092d  57                	ld	d,a
  2618  092e  1e01              	ld	e,0x01
  2619  0930  d5                	push	de
  2620  0931  cd3608            	call	_vdp_setRegister
  2621  0934  f1                	pop	af
  2622  0935  c9                	ret
  2623                          	SECTION code_compiler
  2624                          ;	---------------------------------
  2625                          ; Function vdp_removeISR
  2626                          ; ---------------------------------
  2627                          _vdp_removeISR:
  2628  0936  3a0d00            	ld	a, (__vdpReg1Val+0)
  2629  0939  57                	ld	d,a
  2630  093a  1e01              	ld	e,0x01
  2631  093c  d5                	push	de
  2632  093d  cd3608            	call	_vdp_setRegister
  2633  0940  f1                	pop	af
  2634  0941  cd8200            	call	_NABU_DisableInterrupts
  2635  0944  210e00            	ld	hl,__vdpInterruptEnabled + 0
  2636  0947  3600              	ld	(hl),0x00
  2637  0949  db41              	in	a, (_IO_AYLATCH)
  2638  094b  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2639  094e  cb67              	bit	4, a
  2640  0950  2808              	jr	Z,l_vdp_removeISR_00102
  2641  0952  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2642  0955  ee10              	xor	a,0x10
  2643  0957  320a00            	ld	(__ORIGINAL_INT_MASK+0), a
  2644                          l_vdp_removeISR_00102:
  2645  095a  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2646  095d  57                	ld	d,a
  2647  095e  1e0e              	ld	e,0x0e
  2648  0960  d5                	push	de
  2649  0961  cdbc03            	call	_ayWrite
  2650  0964  f1                	pop	af
  2651  0965  c38400            	jp	_NABU_EnableInterrupts
  2652                          	SECTION code_compiler
  2653                          ;	---------------------------------
  2654                          ; Function vdp_init
  2655                          ; ---------------------------------
  2656                          _vdp_init:
  2657  0968  dde5              	push	ix
  2658  096a  dd210000          	ld	ix,0
  2659  096e  dd39              	add	ix,sp
  2660  0970  dd4e04            	ld	c,(ix+4)
  2661  0973  fd21cf05          	ld	iy,__vdpMode
  2662  0977  fd7100            	ld	(iy+0),c
  2663  097a  dd7e07            	ld	a,(ix+7)
  2664  097d  32c605            	ld	(__vdpSpriteSizeSelected+0), a
  2665  0980  dd7e09            	ld	a,(ix+9)
  2666  0983  32d005            	ld	(__autoScroll+0), a
  2667  0986  210e00            	ld	hl,__vdpInterruptEnabled + 0
  2668  0989  3600              	ld	(hl),0x00
  2669  098b  210b00            	ld	hl,_vdp_cursor
  2670  098e  3600              	ld	(hl),0x00
  2671  0990  210c00            	ld	hl, +(_vdp_cursor + 1)
  2672  0993  3600              	ld	(hl),0x00
  2673  0995  79                	ld	a, c
  2674  0996  3d                	dec	a
  2675  0997  280d              	jr	Z,l_vdp_init_00101
  2676  0999  79                	ld	a,c
  2677  099a  fe02              	cp	a,0x02
  2678  099c  ca1b0a            	jp	Z,l_vdp_init_00103
  2679  099f  d603              	sub	a,0x03
  2680  09a1  2843              	jr	Z,l_vdp_init_00102
  2681  09a3  c3590a            	jp	l_vdp_init_00104
  2682                          l_vdp_init_00101:
  2683  09a6  3e02              	ld	a,0x02
  2684  09a8  f5                	push	af
  2685  09a9  33                	inc	sp
  2686  09aa  af                	xor	a, a
  2687  09ab  f5                	push	af
  2688  09ac  33                	inc	sp
  2689  09ad  cd3608            	call	_vdp_setRegister
  2690  09b0  f1                	pop	af
  2691  09b1  dd7e07            	ld	a,(ix+7)
  2692  09b4  87                	add	a, a
  2693  09b5  f6c0              	or	a,0xc0
  2694  09b7  ddb608            	or	a,(ix+8)
  2695  09ba  320d00            	ld	(__vdpReg1Val+0), a
  2696  09bd  3a0d00            	ld	a, (__vdpReg1Val+0)
  2697  09c0  57                	ld	d,a
  2698  09c1  1e01              	ld	e,0x01
  2699  09c3  d5                	push	de
  2700  09c4  cd3608            	call	_vdp_setRegister
  2701  09c7  f1                	pop	af
  2702  09c8  110403            	ld	de,0x0304
  2703  09cb  d5                	push	de
  2704  09cc  cd3608            	call	_vdp_setRegister
  2705  09cf  f1                	pop	af
  2706  09d0  210000            	ld	hl,0x0000
  2707  09d3  22cb05            	ld	(__vdpPatternGeneratorTableAddr), hl
  2708  09d6  dd360500          	ld	(ix+5),0x00
  2709  09da  21cd05            	ld	hl,__vdpCursorMaxX + 0
  2710  09dd  361f              	ld	(hl),0x1f
  2711  09df  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  2712  09e2  3620              	ld	(hl),0x20
  2713  09e4  1873              	jr	l_vdp_init_00104
  2714                          l_vdp_init_00102:
  2715  09e6  af                	xor	a, a
  2716  09e7  f5                	push	af
  2717  09e8  33                	inc	sp
  2718  09e9  af                	xor	a, a
  2719  09ea  f5                	push	af
  2720  09eb  33                	inc	sp
  2721  09ec  cd3608            	call	_vdp_setRegister
  2722  09ef  f1                	pop	af
  2723  09f0  210d00            	ld	hl,__vdpReg1Val + 0
  2724  09f3  36d2              	ld	(hl),0xd2
  2725  09f5  3a0d00            	ld	a, (__vdpReg1Val+0)
  2726  09f8  57                	ld	d,a
  2727  09f9  1e01              	ld	e,0x01
  2728  09fb  d5                	push	de
  2729  09fc  cd3608            	call	_vdp_setRegister
  2730  09ff  f1                	pop	af
  2731  0a00  af                	xor	a, a
  2732  0a01  57                	ld	d,a
  2733  0a02  1e04              	ld	e,0x04
  2734  0a04  d5                	push	de
  2735  0a05  cd3608            	call	_vdp_setRegister
  2736  0a08  f1                	pop	af
  2737  0a09  210000            	ld	hl,0x0000
  2738  0a0c  22cb05            	ld	(__vdpPatternGeneratorTableAddr), hl
  2739  0a0f  21cd05            	ld	hl,__vdpCursorMaxX + 0
  2740  0a12  3627              	ld	(hl),0x27
  2741  0a14  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  2742  0a17  3628              	ld	(hl),0x28
  2743  0a19  183e              	jr	l_vdp_init_00104
  2744                          l_vdp_init_00103:
  2745  0a1b  af                	xor	a, a
  2746  0a1c  f5                	push	af
  2747  0a1d  33                	inc	sp
  2748  0a1e  af                	xor	a, a
  2749  0a1f  f5                	push	af
  2750  0a20  33                	inc	sp
  2751  0a21  cd3608            	call	_vdp_setRegister
  2752  0a24  f1                	pop	af
  2753  0a25  dd7e07            	ld	a,(ix+7)
  2754  0a28  87                	add	a, a
  2755  0a29  f6c8              	or	a,0xc8
  2756  0a2b  ddb608            	or	a,(ix+8)
  2757  0a2e  320d00            	ld	(__vdpReg1Val+0), a
  2758  0a31  3a0d00            	ld	a, (__vdpReg1Val+0)
  2759  0a34  57                	ld	d,a
  2760  0a35  1e01              	ld	e,0x01
  2761  0a37  d5                	push	de
  2762  0a38  cd3608            	call	_vdp_setRegister
  2763  0a3b  f1                	pop	af
  2764  0a3c  af                	xor	a, a
  2765  0a3d  57                	ld	d,a
  2766  0a3e  1e04              	ld	e,0x04
  2767  0a40  d5                	push	de
  2768  0a41  cd3608            	call	_vdp_setRegister
  2769  0a44  f1                	pop	af
  2770  0a45  210000            	ld	hl,0x0000
  2771  0a48  22cb05            	ld	(__vdpPatternGeneratorTableAddr), hl
  2772  0a4b  dd360500          	ld	(ix+5),0x00
  2773  0a4f  21cd05            	ld	hl,__vdpCursorMaxX + 0
  2774  0a52  361f              	ld	(hl),0x1f
  2775  0a54  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  2776  0a57  3620              	ld	(hl),0x20
  2777                          l_vdp_init_00104:
  2778  0a59  110206            	ld	de,0x0602
  2779  0a5c  d5                	push	de
  2780  0a5d  cd3608            	call	_vdp_setRegister
  2781  0a60  f1                	pop	af
  2782  0a61  210018            	ld	hl,0x1800
  2783  0a64  22c705            	ld	(__vdpPatternNameTableAddr), hl
  2784  0a67  1103ff            	ld	de,0xff03
  2785  0a6a  d5                	push	de
  2786  0a6b  cd3608            	call	_vdp_setRegister
  2787  0a6e  f1                	pop	af
  2788  0a6f  210020            	ld	hl,0x2000
  2789  0a72  22c905            	ld	(__vdpColorTableAddr), hl
  2790  0a75  110536            	ld	de,0x3605
  2791  0a78  d5                	push	de
  2792  0a79  cd3608            	call	_vdp_setRegister
  2793  0a7c  f1                	pop	af
  2794  0a7d  21001b            	ld	hl,0x1b00
  2795  0a80  22c205            	ld	(__vdpSpriteAttributeTableAddr), hl
  2796  0a83  110607            	ld	de,0x0706
  2797  0a86  d5                	push	de
  2798  0a87  cd3608            	call	_vdp_setRegister
  2799  0a8a  f1                	pop	af
  2800  0a8b  210038            	ld	hl,0x3800
  2801  0a8e  22c405            	ld	(__vdpSpriteGeneratorTableAddr), hl
  2802  0a91  dd7e05            	ld	a,(ix+5)
  2803  0a94  87                	add	a, a
  2804  0a95  87                	add	a, a
  2805  0a96  87                	add	a, a
  2806  0a97  87                	add	a, a
  2807  0a98  4f                	ld	c, a
  2808  0a99  dd7e06            	ld	a,(ix+6)
  2809  0a9c  e60f              	and	a,0x0f
  2810  0a9e  b1                	or	a, c
  2811  0a9f  57                	ld	d,a
  2812  0aa0  1e07              	ld	e,0x07
  2813  0aa2  d5                	push	de
  2814  0aa3  cd3608            	call	_vdp_setRegister
  2815  0aa6  f1                	pop	af
  2816  0aa7  dde1              	pop	ix
  2817  0aa9  c3810b            	jp	_vdp_clearScreen
  2818                          	SECTION code_compiler
  2819                          ;	---------------------------------
  2820                          ; Function vdp_clearVRAM
  2821                          ; ---------------------------------
  2822                          _vdp_clearVRAM:
  2823  0aac  210000            	ld	hl,0x0000
  2824  0aaf  e5                	push	hl
  2825  0ab0  cd4b08            	call	_vdp_setWriteAddress
  2826  0ab3  f1                	pop	af
  2827  0ab4  010000            	ld	bc,0x0000
  2828                          l_vdp_clearVRAM_00103:
  2829  0ab7  79                	ld	a, c
  2830  0ab8  d6ff              	sub	a,0xff
  2831  0aba  78                	ld	a, b
  2832  0abb  de3f              	sbc	a,0x3f
  2833  0abd  d0                	ret	NC
  2834  0abe  3e00              	ld	a,0x00
  2835  0ac0  d3a0              	out	(_IO_VDPDATA), a
  2836  0ac2  03                	inc	bc
  2837  0ac3  18f2              	jr	l_vdp_clearVRAM_00103
  2838                          	SECTION code_compiler
  2839                          ;	---------------------------------
  2840                          ; Function vdp_initMSXMode
  2841                          ; ---------------------------------
  2842                          _vdp_initMSXMode:
  2843  0ac5  3e02              	ld	a,0x02
  2844  0ac7  f5                	push	af
  2845  0ac8  33                	inc	sp
  2846  0ac9  af                	xor	a, a
  2847  0aca  f5                	push	af
  2848  0acb  33                	inc	sp
  2849  0acc  cd3608            	call	_vdp_setRegister
  2850  0acf  f1                	pop	af
  2851  0ad0  1101c0            	ld	de,0xc001
  2852  0ad3  d5                	push	de
  2853  0ad4  cd3608            	call	_vdp_setRegister
  2854  0ad7  f1                	pop	af
  2855  0ad8  110206            	ld	de,0x0602
  2856  0adb  d5                	push	de
  2857  0adc  cd3608            	call	_vdp_setRegister
  2858  0adf  f1                	pop	af
  2859  0ae0  1103ff            	ld	de,0xff03
  2860  0ae3  d5                	push	de
  2861  0ae4  cd3608            	call	_vdp_setRegister
  2862  0ae7  f1                	pop	af
  2863  0ae8  110403            	ld	de,0x0304
  2864  0aeb  d5                	push	de
  2865  0aec  cd3608            	call	_vdp_setRegister
  2866  0aef  f1                	pop	af
  2867  0af0  110536            	ld	de,0x3605
  2868  0af3  d5                	push	de
  2869  0af4  cd3608            	call	_vdp_setRegister
  2870  0af7  f1                	pop	af
  2871  0af8  110607            	ld	de,0x0706
  2872  0afb  d5                	push	de
  2873  0afc  cd3608            	call	_vdp_setRegister
  2874  0aff  f1                	pop	af
  2875  0b00  210200            	ld	hl,2+0
  2876  0b03  39                	add	hl, sp
  2877  0b04  7e                	ld	a, (hl)
  2878  0b05  e60f              	and	a,0x0f
  2879  0b07  57                	ld	d,a
  2880  0b08  1e07              	ld	e,0x07
  2881  0b0a  d5                	push	de
  2882  0b0b  cd3608            	call	_vdp_setRegister
  2883  0b0e  f1                	pop	af
  2884  0b0f  c9                	ret
  2885                          	SECTION code_compiler
  2886                          ;	---------------------------------
  2887                          ; Function vdp_initTextMode
  2888                          ; ---------------------------------
  2889                          _vdp_initTextMode:
  2890  0b10  fd210400          	ld	iy,4
  2891  0b14  fd39              	add	iy, sp
  2892  0b16  fd7e00            	ld	a,(iy+0)
  2893  0b19  f5                	push	af
  2894  0b1a  33                	inc	sp
  2895  0b1b  af                	xor	a, a
  2896  0b1c  f5                	push	af
  2897  0b1d  33                	inc	sp
  2898  0b1e  af                	xor	a, a
  2899  0b1f  f5                	push	af
  2900  0b20  33                	inc	sp
  2901  0b21  fd2b              	dec	iy
  2902  0b23  fd7e00            	ld	a,(iy+0)
  2903  0b26  f5                	push	af
  2904  0b27  33                	inc	sp
  2905  0b28  fd2b              	dec	iy
  2906  0b2a  fd5600            	ld	d,(iy+0)
  2907  0b2d  1e03              	ld	e,0x03
  2908  0b2f  d5                	push	de
  2909  0b30  cd6809            	call	_vdp_init
  2910  0b33  210600            	ld	hl,6
  2911  0b36  39                	add	hl, sp
  2912  0b37  f9                	ld	sp, hl
  2913  0b38  c9                	ret
  2914                          	SECTION code_compiler
  2915                          ;	---------------------------------
  2916                          ; Function vdp_initG2Mode
  2917                          ; ---------------------------------
  2918                          _vdp_initG2Mode:
  2919  0b39  fd210500          	ld	iy,5
  2920  0b3d  fd39              	add	iy, sp
  2921  0b3f  fd7e00            	ld	a,(iy+0)
  2922  0b42  f5                	push	af
  2923  0b43  33                	inc	sp
  2924  0b44  fd2b              	dec	iy
  2925  0b46  fd7e00            	ld	a,(iy+0)
  2926  0b49  f5                	push	af
  2927  0b4a  33                	inc	sp
  2928  0b4b  fd2b              	dec	iy
  2929  0b4d  fd7e00            	ld	a,(iy+0)
  2930  0b50  f5                	push	af
  2931  0b51  33                	inc	sp
  2932  0b52  fd2b              	dec	iy
  2933  0b54  fd7e00            	ld	a,(iy+0)
  2934  0b57  f5                	push	af
  2935  0b58  33                	inc	sp
  2936  0b59  af                	xor	a, a
  2937  0b5a  57                	ld	d,a
  2938  0b5b  1e01              	ld	e,0x01
  2939  0b5d  d5                	push	de
  2940  0b5e  cd6809            	call	_vdp_init
  2941  0b61  210600            	ld	hl,6
  2942  0b64  39                	add	hl, sp
  2943  0b65  f9                	ld	sp, hl
  2944  0b66  c9                	ret
  2945                          	SECTION code_compiler
  2946                          ;	---------------------------------
  2947                          ; Function vdp_initMultiColorMode
  2948                          ; ---------------------------------
  2949                          _vdp_initMultiColorMode:
  2950  0b67  af                	xor	a, a
  2951  0b68  f5                	push	af
  2952  0b69  33                	inc	sp
  2953  0b6a  af                	xor	a, a
  2954  0b6b  f5                	push	af
  2955  0b6c  33                	inc	sp
  2956  0b6d  af                	xor	a, a
  2957  0b6e  f5                	push	af
  2958  0b6f  33                	inc	sp
  2959  0b70  af                	xor	a, a
  2960  0b71  f5                	push	af
  2961  0b72  33                	inc	sp
  2962  0b73  af                	xor	a, a
  2963  0b74  57                	ld	d,a
  2964  0b75  1e02              	ld	e,0x02
  2965  0b77  d5                	push	de
  2966  0b78  cd6809            	call	_vdp_init
  2967  0b7b  210600            	ld	hl,6
  2968  0b7e  39                	add	hl, sp
  2969  0b7f  f9                	ld	sp, hl
  2970  0b80  c9                	ret
  2971                          	SECTION code_compiler
  2972                          ;	---------------------------------
  2973                          ; Function vdp_clearScreen
  2974                          ; ---------------------------------
  2975                          _vdp_clearScreen:
  2976  0b81  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  2977  0b84  e5                	push	hl
  2978  0b85  cd4b08            	call	_vdp_setWriteAddress
  2979  0b88  f1                	pop	af
  2980  0b89  3ace05            	ld	a, (__vdpCursorMaxXFull+0)
  2981  0b8c  4f                	ld	c, a
  2982  0b8d  0600              	ld	b,0x00
  2983  0b8f  69                	ld	l, c
  2984  0b90  60                	ld	h, b
  2985  0b91  29                	add	hl, hl
  2986  0b92  09                	add	hl, bc
  2987  0b93  29                	add	hl, hl
  2988  0b94  29                	add	hl, hl
  2989  0b95  29                	add	hl, hl
  2990  0b96  110002            	ld	de,__vdp_textBuffer
  2991  0b99  19                	add	hl, de
  2992  0b9a  eb                	ex	de, hl
  2993  0b9b  0e00              	ld	c,0x00
  2994  0b9d  3acf05            	ld	a, (__vdpMode+0)
  2995  0ba0  d603              	sub	a,0x03
  2996  0ba2  2002              	jr	NZ,l_vdp_clearScreen_00109
  2997  0ba4  0e20              	ld	c,0x20
  2998                          l_vdp_clearScreen_00109:
  2999  0ba6  210002            	ld	hl,__vdp_textBuffer
  3000                          l_vdp_clearScreen_00103:
  3001  0ba9  79                	ld	a, c
  3002  0baa  d3a0              	out	(_IO_VDPDATA), a
  3003  0bac  3620              	ld	(hl),0x20
  3004  0bae  23                	inc	hl
  3005  0baf  7d                	ld	a, l
  3006  0bb0  93                	sub	a, e
  3007  0bb1  20f6              	jr	NZ,l_vdp_clearScreen_00103
  3008  0bb3  7c                	ld	a, h
  3009  0bb4  92                	sub	a, d
  3010  0bb5  20f2              	jr	NZ,l_vdp_clearScreen_00103
  3011  0bb7  c9                	ret
  3012                          	SECTION code_compiler
  3013                          ;	---------------------------------
  3014                          ; Function vdp_fillScreen
  3015                          ; ---------------------------------
  3016                          _vdp_fillScreen:
  3017  0bb8  dde5              	push	ix
  3018  0bba  dd210000          	ld	ix,0
  3019  0bbe  dd39              	add	ix,sp
  3020  0bc0  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  3021  0bc3  e5                	push	hl
  3022  0bc4  cd4b08            	call	_vdp_setWriteAddress
  3023  0bc7  f1                	pop	af
  3024  0bc8  010002            	ld	bc,__vdp_textBuffer+0
  3025  0bcb  3ace05            	ld	a, (__vdpCursorMaxXFull+0)
  3026  0bce  5f                	ld	e, a
  3027  0bcf  1600              	ld	d,0x00
  3028  0bd1  6b                	ld	l, e
  3029  0bd2  62                	ld	h, d
  3030  0bd3  29                	add	hl, hl
  3031  0bd4  19                	add	hl, de
  3032  0bd5  29                	add	hl, hl
  3033  0bd6  29                	add	hl, hl
  3034  0bd7  29                	add	hl, hl
  3035  0bd8  09                	add	hl, bc
  3036  0bd9  eb                	ex	de, hl
  3037                          l_vdp_fillScreen_00101:
  3038  0bda  dd7e04            	ld	a,(ix+4)
  3039  0bdd  d3a0              	out	(_IO_VDPDATA), a
  3040  0bdf  dd7e04            	ld	a,(ix+4)
  3041  0be2  02                	ld	(bc), a
  3042  0be3  03                	inc	bc
  3043  0be4  69                	ld	l, c
  3044  0be5  60                	ld	h, b
  3045  0be6  bf                	cp	a, a
  3046  0be7  ed52              	sbc	hl, de
  3047  0be9  20ef              	jr	NZ,l_vdp_fillScreen_00101
  3048  0beb  dde1              	pop	ix
  3049  0bed  c9                	ret
  3050                          	SECTION code_compiler
  3051                          ;	---------------------------------
  3052                          ; Function vdp_clearRows
  3053                          ; ---------------------------------
  3054                          _vdp_clearRows:
  3055  0bee  dde5              	push	ix
  3056  0bf0  dd210000          	ld	ix,0
  3057  0bf4  dd39              	add	ix,sp
  3058  0bf6  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  3059  0bf9  5e                	ld	e, (hl)
  3060  0bfa  dd6604            	ld	h,(ix+4)
  3061  0bfd  2e00              	ld	l,0x00
  3062  0bff  55                	ld	d, l
  3063  0c00  0608              	ld	b,0x08
  3064                          l_vdp_clearRows_00112:
  3065  0c02  29                	add	hl, hl
  3066  0c03  3001              	jr	NC,l_vdp_clearRows_00113
  3067  0c05  19                	add	hl, de
  3068                          l_vdp_clearRows_00113:
  3069  0c06  10fa              	djnz	l_vdp_clearRows_00112
  3070  0c08  eb                	ex	de, hl
  3071  0c09  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  3072  0c0c  19                	add	hl, de
  3073  0c0d  e5                	push	hl
  3074  0c0e  cd4b08            	call	_vdp_setWriteAddress
  3075  0c11  f1                	pop	af
  3076  0c12  fd21ce05          	ld	iy,__vdpCursorMaxXFull
  3077  0c16  fd5e00            	ld	e,(iy+0)
  3078  0c19  dd6604            	ld	h,(ix+4)
  3079  0c1c  2e00              	ld	l,0x00
  3080  0c1e  55                	ld	d, l
  3081  0c1f  0608              	ld	b,0x08
  3082                          l_vdp_clearRows_00114:
  3083  0c21  29                	add	hl, hl
  3084  0c22  3001              	jr	NC,l_vdp_clearRows_00115
  3085  0c24  19                	add	hl, de
  3086                          l_vdp_clearRows_00115:
  3087  0c25  10fa              	djnz	l_vdp_clearRows_00114
  3088  0c27  110002            	ld	de,__vdp_textBuffer
  3089  0c2a  19                	add	hl, de
  3090  0c2b  e5                	push	hl
  3091  0c2c  fd5e00            	ld	e,(iy+0)
  3092  0c2f  dd6605            	ld	h,(ix+5)
  3093  0c32  2e00              	ld	l,0x00
  3094  0c34  55                	ld	d, l
  3095  0c35  0608              	ld	b,0x08
  3096                          l_vdp_clearRows_00116:
  3097  0c37  29                	add	hl, hl
  3098  0c38  3001              	jr	NC,l_vdp_clearRows_00117
  3099  0c3a  19                	add	hl, de
  3100                          l_vdp_clearRows_00117:
  3101  0c3b  10fa              	djnz	l_vdp_clearRows_00116
  3102  0c3d  c1                	pop	bc
  3103  0c3e  110002            	ld	de,__vdp_textBuffer
  3104  0c41  19                	add	hl, de
  3105  0c42  eb                	ex	de, hl
  3106                          l_vdp_clearRows_00101:
  3107  0c43  3e20              	ld	a,0x20
  3108  0c45  d3a0              	out	(_IO_VDPDATA), a
  3109  0c47  3e20              	ld	a,0x20
  3110  0c49  02                	ld	(bc), a
  3111  0c4a  03                	inc	bc
  3112  0c4b  6b                	ld	l, e
  3113  0c4c  62                	ld	h, d
  3114  0c4d  bf                	cp	a, a
  3115  0c4e  ed42              	sbc	hl, bc
  3116  0c50  20f1              	jr	NZ,l_vdp_clearRows_00101
  3117  0c52  dde1              	pop	ix
  3118  0c54  c9                	ret
  3119                          	SECTION code_compiler
  3120                          ;	---------------------------------
  3121                          ; Function vdp_loadASCIIFont
  3122                          ; ---------------------------------
  3123                          _vdp_loadASCIIFont:
  3124  0c55  dde5              	push	ix
  3125  0c57  dd210000          	ld	ix,0
  3126  0c5b  dd39              	add	ix,sp
  3127  0c5d  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3128  0c60  110001            	ld	de,0x0100
  3129  0c63  19                	add	hl, de
  3130  0c64  e5                	push	hl
  3131  0c65  cd4b08            	call	_vdp_setWriteAddress
  3132  0c68  f1                	pop	af
  3133  0c69  dd4e04            	ld	c,(ix+4)
  3134  0c6c  dd4605            	ld	b,(ix+5)
  3135  0c6f  210003            	ld	hl,0x0300
  3136  0c72  09                	add	hl, bc
  3137  0c73  eb                	ex	de, hl
  3138                          l_vdp_loadASCIIFont_00101:
  3139  0c74  0a                	ld	a, (bc)
  3140  0c75  d3a0              	out	(_IO_VDPDATA), a
  3141  0c77  03                	inc	bc
  3142  0c78  69                	ld	l, c
  3143  0c79  60                	ld	h, b
  3144  0c7a  bf                	cp	a, a
  3145  0c7b  ed52              	sbc	hl, de
  3146  0c7d  20f5              	jr	NZ,l_vdp_loadASCIIFont_00101
  3147  0c7f  dde1              	pop	ix
  3148  0c81  c9                	ret
  3149                          	SECTION code_compiler
  3150                          ;	---------------------------------
  3151                          ; Function vdp_loadASCIIFontWithInverse
  3152                          ; ---------------------------------
  3153                          _vdp_loadASCIIFontWithInverse:
  3154  0c82  dde5              	push	ix
  3155  0c84  dd210000          	ld	ix,0
  3156  0c88  dd39              	add	ix,sp
  3157  0c8a  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3158  0c8d  110001            	ld	de,0x0100
  3159  0c90  19                	add	hl, de
  3160  0c91  e5                	push	hl
  3161  0c92  cd4b08            	call	_vdp_setWriteAddress
  3162  0c95  f1                	pop	af
  3163  0c96  dd4e04            	ld	c,(ix+4)
  3164  0c99  dd4605            	ld	b,(ix+5)
  3165  0c9c  210003            	ld	hl,0x0300
  3166  0c9f  09                	add	hl, bc
  3167  0ca0  eb                	ex	de, hl
  3168                          l_vdp_loadASCIIFontWithInverse_00101:
  3169  0ca1  0a                	ld	a, (bc)
  3170  0ca2  d3a0              	out	(_IO_VDPDATA), a
  3171  0ca4  03                	inc	bc
  3172  0ca5  69                	ld	l, c
  3173  0ca6  60                	ld	h, b
  3174  0ca7  bf                	cp	a, a
  3175  0ca8  ed52              	sbc	hl, de
  3176  0caa  20f5              	jr	NZ,l_vdp_loadASCIIFontWithInverse_00101
  3177  0cac  dd4e04            	ld	c,(ix+4)
  3178  0caf  dd4605            	ld	b,(ix+5)
  3179                          l_vdp_loadASCIIFontWithInverse_00104:
  3180  0cb2  0a                	ld	a, (bc)
  3181  0cb3  2f                	cpl
  3182  0cb4  d3a0              	out	(_IO_VDPDATA), a
  3183  0cb6  03                	inc	bc
  3184  0cb7  69                	ld	l, c
  3185  0cb8  60                	ld	h, b
  3186  0cb9  bf                	cp	a, a
  3187  0cba  ed52              	sbc	hl, de
  3188  0cbc  20f4              	jr	NZ,l_vdp_loadASCIIFontWithInverse_00104
  3189  0cbe  dde1              	pop	ix
  3190  0cc0  c9                	ret
  3191                          	SECTION code_compiler
  3192                          ;	---------------------------------
  3193                          ; Function vdp_putPattern
  3194                          ; ---------------------------------
  3195                          _vdp_putPattern:
  3196  0cc1  dde5              	push	ix
  3197  0cc3  dd210000          	ld	ix,0
  3198  0cc7  dd39              	add	ix,sp
  3199  0cc9  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  3200  0ccc  5e                	ld	e, (hl)
  3201  0ccd  dd6605            	ld	h,(ix+5)
  3202  0cd0  2e00              	ld	l,0x00
  3203  0cd2  55                	ld	d, l
  3204  0cd3  0608              	ld	b,0x08
  3205                          l_vdp_putPattern_00103:
  3206  0cd5  29                	add	hl, hl
  3207  0cd6  3001              	jr	NC,l_vdp_putPattern_00104
  3208  0cd8  19                	add	hl, de
  3209                          l_vdp_putPattern_00104:
  3210  0cd9  10fa              	djnz	l_vdp_putPattern_00103
  3211  0cdb  dd4e04            	ld	c,(ix+4)
  3212  0cde  0600              	ld	b,0x00
  3213  0ce0  09                	add	hl, bc
  3214  0ce1  eb                	ex	de, hl
  3215  0ce2  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  3216  0ce5  19                	add	hl, de
  3217  0ce6  d5                	push	de
  3218  0ce7  e5                	push	hl
  3219  0ce8  cd4b08            	call	_vdp_setWriteAddress
  3220  0ceb  f1                	pop	af
  3221  0cec  d1                	pop	de
  3222  0ced  210002            	ld	hl,__vdp_textBuffer+0
  3223  0cf0  19                	add	hl, de
  3224  0cf1  dd7e06            	ld	a,(ix+6)
  3225  0cf4  77                	ld	(hl), a
  3226  0cf5  dd7e06            	ld	a,(ix+6)
  3227  0cf8  d3a0              	out	(_IO_VDPDATA), a
  3228  0cfa  dde1              	pop	ix
  3229  0cfc  c9                	ret
  3230                          	SECTION code_compiler
  3231                          ;	---------------------------------
  3232                          ; Function vdp_loadPatternTable
  3233                          ; ---------------------------------
  3234                          _vdp_loadPatternTable:
  3235  0cfd  dde5              	push	ix
  3236  0cff  dd210000          	ld	ix,0
  3237  0d03  dd39              	add	ix,sp
  3238  0d05  dd4e04            	ld	c,(ix+4)
  3239  0d08  dd4605            	ld	b,(ix+5)
  3240  0d0b  dd6e06            	ld	l,(ix+6)
  3241  0d0e  dd6607            	ld	h,(ix+7)
  3242  0d11  09                	add	hl, bc
  3243  0d12  c5                	push	bc
  3244  0d13  e5                	push	hl
  3245  0d14  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3246  0d17  e5                	push	hl
  3247  0d18  cd4b08            	call	_vdp_setWriteAddress
  3248  0d1b  f1                	pop	af
  3249  0d1c  d1                	pop	de
  3250  0d1d  c1                	pop	bc
  3251                          l_vdp_loadPatternTable_00101:
  3252  0d1e  0a                	ld	a, (bc)
  3253  0d1f  d3a0              	out	(_IO_VDPDATA), a
  3254  0d21  03                	inc	bc
  3255  0d22  69                	ld	l, c
  3256  0d23  60                	ld	h, b
  3257  0d24  bf                	cp	a, a
  3258  0d25  ed52              	sbc	hl, de
  3259  0d27  20f5              	jr	NZ,l_vdp_loadPatternTable_00101
  3260  0d29  dd4e04            	ld	c,(ix+4)
  3261  0d2c  dd4605            	ld	b,(ix+5)
  3262                          l_vdp_loadPatternTable_00104:
  3263  0d2f  0a                	ld	a, (bc)
  3264  0d30  d3a0              	out	(_IO_VDPDATA), a
  3265  0d32  03                	inc	bc
  3266  0d33  69                	ld	l, c
  3267  0d34  60                	ld	h, b
  3268  0d35  bf                	cp	a, a
  3269  0d36  ed52              	sbc	hl, de
  3270  0d38  20f5              	jr	NZ,l_vdp_loadPatternTable_00104
  3271  0d3a  dd4e04            	ld	c,(ix+4)
  3272  0d3d  dd4605            	ld	b,(ix+5)
  3273                          l_vdp_loadPatternTable_00107:
  3274  0d40  0a                	ld	a, (bc)
  3275  0d41  d3a0              	out	(_IO_VDPDATA), a
  3276  0d43  03                	inc	bc
  3277  0d44  69                	ld	l, c
  3278  0d45  60                	ld	h, b
  3279  0d46  bf                	cp	a, a
  3280  0d47  ed52              	sbc	hl, de
  3281  0d49  20f5              	jr	NZ,l_vdp_loadPatternTable_00107
  3282  0d4b  dde1              	pop	ix
  3283  0d4d  c9                	ret
  3284                          	SECTION code_compiler
  3285                          ;	---------------------------------
  3286                          ; Function vdp_loadColorTable
  3287                          ; ---------------------------------
  3288                          _vdp_loadColorTable:
  3289  0d4e  dde5              	push	ix
  3290  0d50  dd210000          	ld	ix,0
  3291  0d54  dd39              	add	ix,sp
  3292  0d56  dd4e04            	ld	c,(ix+4)
  3293  0d59  dd4605            	ld	b,(ix+5)
  3294  0d5c  dd6e06            	ld	l,(ix+6)
  3295  0d5f  dd6607            	ld	h,(ix+7)
  3296  0d62  09                	add	hl, bc
  3297  0d63  c5                	push	bc
  3298  0d64  e5                	push	hl
  3299  0d65  2ac905            	ld	hl, (__vdpColorTableAddr)
  3300  0d68  e5                	push	hl
  3301  0d69  cd4b08            	call	_vdp_setWriteAddress
  3302  0d6c  f1                	pop	af
  3303  0d6d  d1                	pop	de
  3304  0d6e  c1                	pop	bc
  3305                          l_vdp_loadColorTable_00101:
  3306  0d6f  0a                	ld	a, (bc)
  3307  0d70  d3a0              	out	(_IO_VDPDATA), a
  3308  0d72  03                	inc	bc
  3309  0d73  69                	ld	l, c
  3310  0d74  60                	ld	h, b
  3311  0d75  bf                	cp	a, a
  3312  0d76  ed52              	sbc	hl, de
  3313  0d78  20f5              	jr	NZ,l_vdp_loadColorTable_00101
  3314  0d7a  dd4e04            	ld	c,(ix+4)
  3315  0d7d  dd4605            	ld	b,(ix+5)
  3316                          l_vdp_loadColorTable_00104:
  3317  0d80  0a                	ld	a, (bc)
  3318  0d81  d3a0              	out	(_IO_VDPDATA), a
  3319  0d83  03                	inc	bc
  3320  0d84  69                	ld	l, c
  3321  0d85  60                	ld	h, b
  3322  0d86  bf                	cp	a, a
  3323  0d87  ed52              	sbc	hl, de
  3324  0d89  20f5              	jr	NZ,l_vdp_loadColorTable_00104
  3325  0d8b  dd4e04            	ld	c,(ix+4)
  3326  0d8e  dd4605            	ld	b,(ix+5)
  3327                          l_vdp_loadColorTable_00107:
  3328  0d91  0a                	ld	a, (bc)
  3329  0d92  d3a0              	out	(_IO_VDPDATA), a
  3330  0d94  03                	inc	bc
  3331  0d95  69                	ld	l, c
  3332  0d96  60                	ld	h, b
  3333  0d97  bf                	cp	a, a
  3334  0d98  ed52              	sbc	hl, de
  3335  0d9a  20f5              	jr	NZ,l_vdp_loadColorTable_00107
  3336  0d9c  dde1              	pop	ix
  3337  0d9e  c9                	ret
  3338                          	SECTION code_compiler
  3339                          ;	---------------------------------
  3340                          ; Function vdp_colorizePattern
  3341                          ; ---------------------------------
  3342                          _vdp_colorizePattern:
  3343  0d9f  dde5              	push	ix
  3344  0da1  dd210000          	ld	ix,0
  3345  0da5  dd39              	add	ix,sp
  3346  0da7  3b                	dec	sp
  3347  0da8  dd6e04            	ld	l,(ix+4)
  3348  0dab  2600              	ld	h,0x00
  3349  0dad  29                	add	hl, hl
  3350  0dae  29                	add	hl, hl
  3351  0daf  29                	add	hl, hl
  3352  0db0  4d                	ld	c, l
  3353  0db1  44                	ld	b, h
  3354  0db2  dd7e05            	ld	a,(ix+5)
  3355  0db5  87                	add	a, a
  3356  0db6  87                	add	a, a
  3357  0db7  87                	add	a, a
  3358  0db8  87                	add	a, a
  3359  0db9  dd5e06            	ld	e,(ix+6)
  3360  0dbc  83                	add	a, e
  3361  0dbd  dd77ff            	ld	(ix-1),a
  3362  0dc0  2ac905            	ld	hl, (__vdpColorTableAddr)
  3363  0dc3  09                	add	hl, bc
  3364  0dc4  c5                	push	bc
  3365  0dc5  e5                	push	hl
  3366  0dc6  cd4b08            	call	_vdp_setWriteAddress
  3367  0dc9  f1                	pop	af
  3368  0dca  c1                	pop	bc
  3369  0dcb  1e00              	ld	e,0x00
  3370                          l_vdp_colorizePattern_00105:
  3371  0dcd  7b                	ld	a, e
  3372  0dce  d608              	sub	a,0x08
  3373  0dd0  3008              	jr	NC,l_vdp_colorizePattern_00101
  3374  0dd2  dd7eff            	ld	a,(ix-1)
  3375  0dd5  d3a0              	out	(_IO_VDPDATA), a
  3376  0dd7  1c                	inc	e
  3377  0dd8  18f3              	jr	l_vdp_colorizePattern_00105
  3378                          l_vdp_colorizePattern_00101:
  3379  0dda  2ac905            	ld	hl, (__vdpColorTableAddr)
  3380  0ddd  110008            	ld	de,0x0800
  3381  0de0  19                	add	hl, de
  3382  0de1  09                	add	hl, bc
  3383  0de2  c5                	push	bc
  3384  0de3  e5                	push	hl
  3385  0de4  cd4b08            	call	_vdp_setWriteAddress
  3386  0de7  f1                	pop	af
  3387  0de8  c1                	pop	bc
  3388  0de9  1e00              	ld	e,0x00
  3389                          l_vdp_colorizePattern_00108:
  3390  0deb  7b                	ld	a, e
  3391  0dec  d608              	sub	a,0x08
  3392  0dee  3008              	jr	NC,l_vdp_colorizePattern_00102
  3393  0df0  dd7eff            	ld	a,(ix-1)
  3394  0df3  d3a0              	out	(_IO_VDPDATA), a
  3395  0df5  1c                	inc	e
  3396  0df6  18f3              	jr	l_vdp_colorizePattern_00108
  3397                          l_vdp_colorizePattern_00102:
  3398  0df8  2ac905            	ld	hl, (__vdpColorTableAddr)
  3399  0dfb  110010            	ld	de,0x1000
  3400  0dfe  19                	add	hl, de
  3401  0dff  09                	add	hl, bc
  3402  0e00  e5                	push	hl
  3403  0e01  cd4b08            	call	_vdp_setWriteAddress
  3404  0e04  f1                	pop	af
  3405  0e05  0e00              	ld	c,0x00
  3406                          l_vdp_colorizePattern_00111:
  3407  0e07  79                	ld	a, c
  3408  0e08  d608              	sub	a,0x08
  3409  0e0a  3008              	jr	NC,l_vdp_colorizePattern_00113
  3410  0e0c  dd7eff            	ld	a,(ix-1)
  3411  0e0f  d3a0              	out	(_IO_VDPDATA), a
  3412  0e11  0c                	inc	c
  3413  0e12  18f3              	jr	l_vdp_colorizePattern_00111
  3414                          l_vdp_colorizePattern_00113:
  3415  0e14  33                	inc	sp
  3416  0e15  dde1              	pop	ix
  3417  0e17  c9                	ret
  3418                          	SECTION code_compiler
  3419                          ;	---------------------------------
  3420                          ; Function vdp_plotHires
  3421                          ; ---------------------------------
  3422                          _vdp_plotHires:
  3423  0e18  dde5              	push	ix
  3424  0e1a  dd210000          	ld	ix,0
  3425  0e1e  dd39              	add	ix,sp
  3426  0e20  f5                	push	af
  3427  0e21  3b                	dec	sp
  3428  0e22  dd7e04            	ld	a,(ix+4)
  3429  0e25  dd77fd            	ld	(ix-3),a
  3430  0e28  dd36fe00          	ld	(ix-2),0x00
  3431  0e2c  e1                	pop	hl
  3432  0e2d  e5                	push	hl
  3433  0e2e  ddcbfe7e          	bit	7,(ix-2)
  3434  0e32  2806              	jr	Z,l_vdp_plotHires_00106
  3435  0e34  e1                	pop	hl
  3436  0e35  e5                	push	hl
  3437  0e36  110700            	ld	de,0x0007
  3438  0e39  19                	add	hl, de
  3439                          l_vdp_plotHires_00106:
  3440  0e3a  cb2c              	sra	h
  3441  0e3c  cb1d              	rr	l
  3442  0e3e  cb2c              	sra	h
  3443  0e40  cb1d              	rr	l
  3444  0e42  cb2c              	sra	h
  3445  0e44  cb1d              	rr	l
  3446  0e46  29                	add	hl, hl
  3447  0e47  29                	add	hl, hl
  3448  0e48  29                	add	hl, hl
  3449  0e49  dd4e05            	ld	c,(ix+5)
  3450  0e4c  0600              	ld	b,0x00
  3451  0e4e  79                	ld	a, c
  3452  0e4f  e607              	and	a,0x07
  3453  0e51  5f                	ld	e, a
  3454  0e52  1600              	ld	d,0x00
  3455  0e54  19                	add	hl, de
  3456  0e55  eb                	ex	de, hl
  3457  0e56  69                	ld	l, c
  3458  0e57  60                	ld	h, b
  3459  0e58  cb78              	bit	7, b
  3460  0e5a  2804              	jr	Z,l_vdp_plotHires_00107
  3461  0e5c  210700            	ld	hl,0x0007
  3462  0e5f  09                	add	hl, bc
  3463                          l_vdp_plotHires_00107:
  3464  0e60  cb2c              	sra	h
  3465  0e62  cb1d              	rr	l
  3466  0e64  cb2c              	sra	h
  3467  0e66  cb1d              	rr	l
  3468  0e68  cb2c              	sra	h
  3469  0e6a  cb1d              	rr	l
  3470  0e6c  65                	ld	h, l
  3471  0e6d  2e00              	ld	l,0x00
  3472  0e6f  19                	add	hl, de
  3473  0e70  eb                	ex	de, hl
  3474  0e71  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3475  0e74  19                	add	hl, de
  3476  0e75  d5                	push	de
  3477  0e76  e5                	push	hl
  3478  0e77  cd6008            	call	_vdp_setReadAddress
  3479  0e7a  f1                	pop	af
  3480  0e7b  d1                	pop	de
  3481  0e7c  dba0              	in	a, (_IO_VDPDATA)
  3482  0e7e  dd77ff            	ld	(ix-1),a
  3483  0e81  2ac905            	ld	hl, (__vdpColorTableAddr)
  3484  0e84  19                	add	hl, de
  3485  0e85  d5                	push	de
  3486  0e86  e5                	push	hl
  3487  0e87  cd6008            	call	_vdp_setReadAddress
  3488  0e8a  f1                	pop	af
  3489  0e8b  d1                	pop	de
  3490  0e8c  dba0              	in	a, (_IO_VDPDATA)
  3491  0e8e  6f                	ld	l, a
  3492  0e8f  dd7efd            	ld	a,(ix-3)
  3493  0e92  e607              	and	a,0x07
  3494  0e94  f5                	push	af
  3495  0e95  018000            	ld	bc,0x0080
  3496  0e98  f1                	pop	af
  3497  0e99  3c                	inc	a
  3498  0e9a  1804              	jr	l_vdp_plotHires_00124
  3499                          l_vdp_plotHires_00123:
  3500  0e9c  cb28              	sra	b
  3501  0e9e  cb19              	rr	c
  3502                          l_vdp_plotHires_00124:
  3503  0ea0  3d                	dec	a
  3504  0ea1  20f9              	jr	NZ, l_vdp_plotHires_00123
  3505  0ea3  dd7e06            	ld	a,(ix+6)
  3506  0ea6  b7                	or	a, a
  3507  0ea7  2814              	jr	Z,l_vdp_plotHires_00102
  3508  0ea9  79                	ld	a, c
  3509  0eaa  ddb6ff            	or	a,(ix-1)
  3510  0ead  4f                	ld	c, a
  3511  0eae  7d                	ld	a, l
  3512  0eaf  e60f              	and	a,0x0f
  3513  0eb1  6f                	ld	l, a
  3514  0eb2  dd7e06            	ld	a,(ix+6)
  3515  0eb5  87                	add	a, a
  3516  0eb6  87                	add	a, a
  3517  0eb7  87                	add	a, a
  3518  0eb8  87                	add	a, a
  3519  0eb9  b5                	or	a, l
  3520  0eba  47                	ld	b, a
  3521  0ebb  1811              	jr	l_vdp_plotHires_00103
  3522                          l_vdp_plotHires_00102:
  3523  0ebd  79                	ld	a, c
  3524  0ebe  2f                	cpl
  3525  0ebf  dda6ff            	and	a,(ix-1)
  3526  0ec2  4f                	ld	c, a
  3527  0ec3  7d                	ld	a, l
  3528  0ec4  e6f0              	and	a,0xf0
  3529  0ec6  6f                	ld	l, a
  3530  0ec7  dd7e07            	ld	a,(ix+7)
  3531  0eca  e60f              	and	a,0x0f
  3532  0ecc  b5                	or	a, l
  3533  0ecd  47                	ld	b, a
  3534                          l_vdp_plotHires_00103:
  3535  0ece  fd2acb05          	ld	iy, (__vdpPatternGeneratorTableAddr)
  3536  0ed2  fd19              	add	iy, de
  3537  0ed4  c5                	push	bc
  3538  0ed5  d5                	push	de
  3539  0ed6  fde5              	push	iy
  3540  0ed8  cd4b08            	call	_vdp_setWriteAddress
  3541  0edb  f1                	pop	af
  3542  0edc  d1                	pop	de
  3543  0edd  c1                	pop	bc
  3544  0ede  79                	ld	a, c
  3545  0edf  d3a0              	out	(_IO_VDPDATA), a
  3546  0ee1  fd2ac905          	ld	iy, (__vdpColorTableAddr)
  3547  0ee5  fd19              	add	iy, de
  3548  0ee7  c5                	push	bc
  3549  0ee8  fde5              	push	iy
  3550  0eea  cd4b08            	call	_vdp_setWriteAddress
  3551  0eed  f1                	pop	af
  3552  0eee  c1                	pop	bc
  3553  0eef  78                	ld	a, b
  3554  0ef0  d3a0              	out	(_IO_VDPDATA), a
  3555  0ef2  ddf9              	ld	sp, ix
  3556  0ef4  dde1              	pop	ix
  3557  0ef6  c9                	ret
  3558                          	SECTION code_compiler
  3559                          ;	---------------------------------
  3560                          ; Function vdp_plotColor
  3561                          ; ---------------------------------
  3562                          _vdp_plotColor:
  3563  0ef7  dde5              	push	ix
  3564  0ef9  dd210000          	ld	ix,0
  3565  0efd  dd39              	add	ix,sp
  3566  0eff  3b                	dec	sp
  3567  0f00  3acf05            	ld	a, (__vdpMode+0)
  3568  0f03  d602              	sub	a,0x02
  3569  0f05  2077              	jr	NZ,l_vdp_plotColor_00110
  3570  0f07  dd5e04            	ld	e,(ix+4)
  3571  0f0a  1600              	ld	d,0x00
  3572  0f0c  6b                	ld	l, e
  3573  0f0d  62                	ld	h, d
  3574  0f0e  cb7a              	bit	7, d
  3575  0f10  2802              	jr	Z,l_vdp_plotColor_00114
  3576  0f12  eb                	ex	de, hl
  3577  0f13  23                	inc	hl
  3578                          l_vdp_plotColor_00114:
  3579  0f14  cb2c              	sra	h
  3580  0f16  cb1d              	rr	l
  3581  0f18  29                	add	hl, hl
  3582  0f19  29                	add	hl, hl
  3583  0f1a  29                	add	hl, hl
  3584  0f1b  eb                	ex	de, hl
  3585  0f1c  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3586  0f1f  19                	add	hl, de
  3587  0f20  dd4e05            	ld	c,(ix+5)
  3588  0f23  0600              	ld	b,0x00
  3589  0f25  79                	ld	a, c
  3590  0f26  e607              	and	a,0x07
  3591  0f28  5f                	ld	e, a
  3592  0f29  1600              	ld	d,0x00
  3593  0f2b  19                	add	hl, de
  3594  0f2c  eb                	ex	de, hl
  3595  0f2d  69                	ld	l, c
  3596  0f2e  60                	ld	h, b
  3597  0f2f  cb78              	bit	7, b
  3598  0f31  2804              	jr	Z,l_vdp_plotColor_00115
  3599  0f33  210700            	ld	hl,0x0007
  3600  0f36  09                	add	hl, bc
  3601                          l_vdp_plotColor_00115:
  3602  0f37  cb2c              	sra	h
  3603  0f39  cb1d              	rr	l
  3604  0f3b  cb2c              	sra	h
  3605  0f3d  cb1d              	rr	l
  3606  0f3f  cb2c              	sra	h
  3607  0f41  cb1d              	rr	l
  3608  0f43  65                	ld	h, l
  3609  0f44  2e00              	ld	l,0x00
  3610  0f46  19                	add	hl, de
  3611  0f47  e5                	push	hl
  3612  0f48  e5                	push	hl
  3613  0f49  cd6008            	call	_vdp_setReadAddress
  3614  0f4c  f1                	pop	af
  3615  0f4d  e1                	pop	hl
  3616  0f4e  dba0              	in	a, (_IO_VDPDATA)
  3617  0f50  47                	ld	b, a
  3618  0f51  c5                	push	bc
  3619  0f52  e5                	push	hl
  3620  0f53  cd4b08            	call	_vdp_setWriteAddress
  3621  0f56  f1                	pop	af
  3622  0f57  c1                	pop	bc
  3623  0f58  dd4e04            	ld	c,(ix+4)
  3624  0f5b  78                	ld	a, b
  3625  0f5c  cb41              	bit	0, c
  3626  0f5e  280e              	jr	Z,l_vdp_plotColor_00102
  3627  0f60  e6f0              	and	a,0xf0
  3628  0f62  4f                	ld	c, a
  3629  0f63  dd7e06            	ld	a,(ix+6)
  3630  0f66  e60f              	and	a,0x0f
  3631  0f68  81                	add	a, c
  3632  0f69  d3a0              	out	(_IO_VDPDATA), a
  3633  0f6b  c30e10            	jp	l_vdp_plotColor_00112
  3634                          l_vdp_plotColor_00102:
  3635  0f6e  e60f              	and	a,0x0f
  3636  0f70  4f                	ld	c, a
  3637  0f71  dd7e06            	ld	a,(ix+6)
  3638  0f74  87                	add	a, a
  3639  0f75  87                	add	a, a
  3640  0f76  87                	add	a, a
  3641  0f77  87                	add	a, a
  3642  0f78  81                	add	a, c
  3643  0f79  d3a0              	out	(_IO_VDPDATA), a
  3644  0f7b  c30e10            	jp	l_vdp_plotColor_00112
  3645                          l_vdp_plotColor_00110:
  3646  0f7e  3acf05            	ld	a, (__vdpMode+0)
  3647  0f81  3d                	dec	a
  3648  0f82  c20e10            	jp	NZ,l_vdp_plotColor_00112
  3649  0f85  dd5e04            	ld	e,(ix+4)
  3650  0f88  1600              	ld	d,0x00
  3651  0f8a  6b                	ld	l, e
  3652  0f8b  62                	ld	h, d
  3653  0f8c  cb7a              	bit	7, d
  3654  0f8e  2802              	jr	Z,l_vdp_plotColor_00116
  3655  0f90  eb                	ex	de, hl
  3656  0f91  23                	inc	hl
  3657                          l_vdp_plotColor_00116:
  3658  0f92  cb2c              	sra	h
  3659  0f94  cb1d              	rr	l
  3660  0f96  29                	add	hl, hl
  3661  0f97  29                	add	hl, hl
  3662  0f98  29                	add	hl, hl
  3663  0f99  dd4e05            	ld	c,(ix+5)
  3664  0f9c  0600              	ld	b,0x00
  3665  0f9e  79                	ld	a, c
  3666  0f9f  e607              	and	a,0x07
  3667  0fa1  5f                	ld	e, a
  3668  0fa2  1600              	ld	d,0x00
  3669  0fa4  19                	add	hl, de
  3670  0fa5  eb                	ex	de, hl
  3671  0fa6  69                	ld	l, c
  3672  0fa7  60                	ld	h, b
  3673  0fa8  cb78              	bit	7, b
  3674  0faa  2804              	jr	Z,l_vdp_plotColor_00117
  3675  0fac  210700            	ld	hl,0x0007
  3676  0faf  09                	add	hl, bc
  3677                          l_vdp_plotColor_00117:
  3678  0fb0  cb2c              	sra	h
  3679  0fb2  cb1d              	rr	l
  3680  0fb4  cb2c              	sra	h
  3681  0fb6  cb1d              	rr	l
  3682  0fb8  cb2c              	sra	h
  3683  0fba  cb1d              	rr	l
  3684  0fbc  65                	ld	h, l
  3685  0fbd  2e00              	ld	l,0x00
  3686  0fbf  19                	add	hl, de
  3687  0fc0  eb                	ex	de, hl
  3688  0fc1  2ac905            	ld	hl, (__vdpColorTableAddr)
  3689  0fc4  19                	add	hl, de
  3690  0fc5  d5                	push	de
  3691  0fc6  e5                	push	hl
  3692  0fc7  cd6008            	call	_vdp_setReadAddress
  3693  0fca  f1                	pop	af
  3694  0fcb  d1                	pop	de
  3695  0fcc  dba0              	in	a, (_IO_VDPDATA)
  3696  0fce  dd4e04            	ld	c,(ix+4)
  3697  0fd1  cb41              	bit	0, c
  3698  0fd3  2010              	jr	NZ,l_vdp_plotColor_00105
  3699  0fd5  e60f              	and	a,0x0f
  3700  0fd7  4f                	ld	c, a
  3701  0fd8  dd7e06            	ld	a,(ix+6)
  3702  0fdb  87                	add	a, a
  3703  0fdc  87                	add	a, a
  3704  0fdd  87                	add	a, a
  3705  0fde  87                	add	a, a
  3706  0fdf  b1                	or	a, c
  3707  0fe0  dd77ff            	ld	(ix-1),a
  3708  0fe3  180c              	jr	l_vdp_plotColor_00106
  3709                          l_vdp_plotColor_00105:
  3710  0fe5  e6f0              	and	a,0xf0
  3711  0fe7  4f                	ld	c, a
  3712  0fe8  dd7e06            	ld	a,(ix+6)
  3713  0feb  e60f              	and	a,0x0f
  3714  0fed  b1                	or	a, c
  3715  0fee  dd77ff            	ld	(ix-1),a
  3716                          l_vdp_plotColor_00106:
  3717  0ff1  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3718  0ff4  19                	add	hl, de
  3719  0ff5  d5                	push	de
  3720  0ff6  e5                	push	hl
  3721  0ff7  cd4b08            	call	_vdp_setWriteAddress
  3722  0ffa  f1                	pop	af
  3723  0ffb  d1                	pop	de
  3724  0ffc  3ef0              	ld	a,0xf0
  3725  0ffe  d3a0              	out	(_IO_VDPDATA), a
  3726  1000  2ac905            	ld	hl, (__vdpColorTableAddr)
  3727  1003  19                	add	hl, de
  3728  1004  e5                	push	hl
  3729  1005  cd4b08            	call	_vdp_setWriteAddress
  3730  1008  f1                	pop	af
  3731  1009  dd7eff            	ld	a,(ix-1)
  3732  100c  d3a0              	out	(_IO_VDPDATA), a
  3733                          l_vdp_plotColor_00112:
  3734  100e  33                	inc	sp
  3735  100f  dde1              	pop	ix
  3736  1011  c9                	ret
  3737                          	SECTION code_compiler
  3738                          ;	---------------------------------
  3739                          ; Function vdp_disableSprite
  3740                          ; ---------------------------------
  3741                          _vdp_disableSprite:
  3742  1012  fd210200          	ld	iy,2
  3743  1016  fd39              	add	iy, sp
  3744  1018  fd6e00            	ld	l,(iy+0)
  3745  101b  2600              	ld	h,0x00
  3746  101d  29                	add	hl, hl
  3747  101e  29                	add	hl, hl
  3748  101f  eb                	ex	de, hl
  3749  1020  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  3750  1023  19                	add	hl, de
  3751  1024  e5                	push	hl
  3752  1025  cd4b08            	call	_vdp_setWriteAddress
  3753  1028  f1                	pop	af
  3754  1029  3ec0              	ld	a,0xc0
  3755  102b  d3a0              	out	(_IO_VDPDATA), a
  3756  102d  3e00              	ld	a,0x00
  3757  102f  d3a0              	out	(_IO_VDPDATA), a
  3758  1031  3e00              	ld	a,0x00
  3759  1033  d3a0              	out	(_IO_VDPDATA), a
  3760  1035  3e80              	ld	a,0x80
  3761  1037  d3a0              	out	(_IO_VDPDATA), a
  3762  1039  c9                	ret
  3763                          	SECTION code_compiler
  3764                          ;	---------------------------------
  3765                          ; Function vdp_loadSpritePatternNameTable
  3766                          ; ---------------------------------
  3767                          _vdp_loadSpritePatternNameTable:
  3768  103a  dde5              	push	ix
  3769  103c  dd210000          	ld	ix,0
  3770  1040  dd39              	add	ix,sp
  3771  1042  0600              	ld	b,0x00
  3772                          l_vdp_loadSpritePatternNameTable_00108:
  3773  1044  78                	ld	a, b
  3774  1045  d620              	sub	a,0x20
  3775  1047  300b              	jr	NC,l_vdp_loadSpritePatternNameTable_00101
  3776  1049  c5                	push	bc
  3777  104a  c5                	push	bc
  3778  104b  33                	inc	sp
  3779  104c  cd1210            	call	_vdp_disableSprite
  3780  104f  33                	inc	sp
  3781  1050  c1                	pop	bc
  3782  1051  04                	inc	b
  3783  1052  18f0              	jr	l_vdp_loadSpritePatternNameTable_00108
  3784                          l_vdp_loadSpritePatternNameTable_00101:
  3785  1054  3ac605            	ld	a, (__vdpSpriteSizeSelected+0)
  3786  1057  b7                	or	a, a
  3787  1058  282a              	jr	Z,l_vdp_loadSpritePatternNameTable_00105
  3788  105a  2ac405            	ld	hl, (__vdpSpriteGeneratorTableAddr)
  3789  105d  e5                	push	hl
  3790  105e  cd4b08            	call	_vdp_setWriteAddress
  3791  1061  f1                	pop	af
  3792  1062  dd6e04            	ld	l,(ix+4)
  3793  1065  dd6605            	ld	h,(ix+5)
  3794  1068  29                	add	hl, hl
  3795  1069  29                	add	hl, hl
  3796  106a  29                	add	hl, hl
  3797  106b  29                	add	hl, hl
  3798  106c  29                	add	hl, hl
  3799  106d  eb                	ex	de,hl
  3800  106e  010000            	ld	bc,0x0000
  3801                          l_vdp_loadSpritePatternNameTable_00111:
  3802  1071  79                	ld	a, c
  3803  1072  93                	sub	a, e
  3804  1073  78                	ld	a, b
  3805  1074  9a                	sbc	a, d
  3806  1075  3035              	jr	NC,l_vdp_loadSpritePatternNameTable_00116
  3807  1077  dd6e06            	ld	l,(ix+6)
  3808  107a  dd6607            	ld	h,(ix+7)
  3809  107d  09                	add	hl, bc
  3810  107e  7e                	ld	a, (hl)
  3811  107f  d3a0              	out	(_IO_VDPDATA), a
  3812  1081  03                	inc	bc
  3813  1082  18ed              	jr	l_vdp_loadSpritePatternNameTable_00111
  3814                          l_vdp_loadSpritePatternNameTable_00105:
  3815  1084  2ac405            	ld	hl, (__vdpSpriteGeneratorTableAddr)
  3816  1087  e5                	push	hl
  3817  1088  cd4b08            	call	_vdp_setWriteAddress
  3818  108b  f1                	pop	af
  3819  108c  dd6e04            	ld	l,(ix+4)
  3820  108f  dd6605            	ld	h,(ix+5)
  3821  1092  29                	add	hl, hl
  3822  1093  29                	add	hl, hl
  3823  1094  29                	add	hl, hl
  3824  1095  eb                	ex	de,hl
  3825  1096  010000            	ld	bc,0x0000
  3826                          l_vdp_loadSpritePatternNameTable_00114:
  3827  1099  79                	ld	a, c
  3828  109a  93                	sub	a, e
  3829  109b  78                	ld	a, b
  3830  109c  9a                	sbc	a, d
  3831  109d  300d              	jr	NC,l_vdp_loadSpritePatternNameTable_00116
  3832  109f  dd6e06            	ld	l,(ix+6)
  3833  10a2  dd6607            	ld	h,(ix+7)
  3834  10a5  09                	add	hl, bc
  3835  10a6  7e                	ld	a, (hl)
  3836  10a7  d3a0              	out	(_IO_VDPDATA), a
  3837  10a9  03                	inc	bc
  3838  10aa  18ed              	jr	l_vdp_loadSpritePatternNameTable_00114
  3839                          l_vdp_loadSpritePatternNameTable_00116:
  3840  10ac  dde1              	pop	ix
  3841  10ae  c9                	ret
  3842                          	SECTION code_compiler
  3843                          ;	---------------------------------
  3844                          ; Function vdp_spriteInit
  3845                          ; ---------------------------------
  3846                          _vdp_spriteInit:
  3847  10af  dde5              	push	ix
  3848  10b1  dd210000          	ld	ix,0
  3849  10b5  dd39              	add	ix,sp
  3850  10b7  dd6e04            	ld	l,(ix+4)
  3851  10ba  2600              	ld	h,0x00
  3852  10bc  29                	add	hl, hl
  3853  10bd  29                	add	hl, hl
  3854  10be  eb                	ex	de, hl
  3855  10bf  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  3856  10c2  19                	add	hl, de
  3857  10c3  e5                	push	hl
  3858  10c4  cd4b08            	call	_vdp_setWriteAddress
  3859  10c7  f1                	pop	af
  3860  10c8  dd7e07            	ld	a,(ix+7)
  3861  10cb  d3a0              	out	(_IO_VDPDATA), a
  3862  10cd  dd7e06            	ld	a,(ix+6)
  3863  10d0  d3a0              	out	(_IO_VDPDATA), a
  3864  10d2  dd4e05            	ld	c,(ix+5)
  3865  10d5  3ac605            	ld	a, (__vdpSpriteSizeSelected+0)
  3866  10d8  b7                	or	a, a
  3867  10d9  2807              	jr	Z,l_vdp_spriteInit_00102
  3868  10db  79                	ld	a, c
  3869  10dc  87                	add	a, a
  3870  10dd  87                	add	a, a
  3871  10de  d3a0              	out	(_IO_VDPDATA), a
  3872  10e0  1803              	jr	l_vdp_spriteInit_00103
  3873                          l_vdp_spriteInit_00102:
  3874  10e2  79                	ld	a, c
  3875  10e3  d3a0              	out	(_IO_VDPDATA), a
  3876                          l_vdp_spriteInit_00103:
  3877  10e5  dd7e08            	ld	a,(ix+8)
  3878  10e8  e60f              	and	a,0x0f
  3879  10ea  d3a0              	out	(_IO_VDPDATA), a
  3880  10ec  dd6e04            	ld	l,(ix+4)
  3881  10ef  dde1              	pop	ix
  3882  10f1  c9                	ret
  3883                          	SECTION code_compiler
  3884                          ;	---------------------------------
  3885                          ; Function vdp_setSpriteColor
  3886                          ; ---------------------------------
  3887                          _vdp_setSpriteColor:
  3888  10f2  fd210200          	ld	iy,2
  3889  10f6  fd39              	add	iy, sp
  3890  10f8  fd6e00            	ld	l,(iy+0)
  3891  10fb  2600              	ld	h,0x00
  3892  10fd  29                	add	hl, hl
  3893  10fe  29                	add	hl, hl
  3894  10ff  eb                	ex	de, hl
  3895  1100  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  3896  1103  19                	add	hl, de
  3897  1104  23                	inc	hl
  3898  1105  23                	inc	hl
  3899  1106  23                	inc	hl
  3900  1107  e5                	push	hl
  3901  1108  cd4b08            	call	_vdp_setWriteAddress
  3902  110b  f1                	pop	af
  3903  110c  210300            	ld	hl,3+0
  3904  110f  39                	add	hl, sp
  3905  1110  7e                	ld	a, (hl)
  3906  1111  e60f              	and	a,0x0f
  3907  1113  d3a0              	out	(_IO_VDPDATA), a
  3908  1115  c9                	ret
  3909                          	SECTION code_compiler
  3910                          ;	---------------------------------
  3911                          ; Function vdp_setSpritePosition
  3912                          ; ---------------------------------
  3913                          _vdp_setSpritePosition:
  3914  1116  fd210200          	ld	iy,2
  3915  111a  fd39              	add	iy, sp
  3916  111c  fd6e00            	ld	l,(iy+0)
  3917  111f  2600              	ld	h,0x00
  3918  1121  29                	add	hl, hl
  3919  1122  29                	add	hl, hl
  3920  1123  eb                	ex	de, hl
  3921  1124  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  3922  1127  19                	add	hl, de
  3923  1128  e5                	push	hl
  3924  1129  cd4b08            	call	_vdp_setWriteAddress
  3925  112c  f1                	pop	af
  3926  112d  fd210400          	ld	iy,4
  3927  1131  fd39              	add	iy, sp
  3928  1133  fd7e00            	ld	a,(iy+0)
  3929  1136  d3a0              	out	(_IO_VDPDATA), a
  3930  1138  fd2b              	dec	iy
  3931  113a  fd7e00            	ld	a,(iy+0)
  3932  113d  d3a0              	out	(_IO_VDPDATA), a
  3933  113f  c9                	ret
  3934                          	SECTION code_compiler
  3935                          ;	---------------------------------
  3936                          ; Function vdp_setSpritePositionAndColor
  3937                          ; ---------------------------------
  3938                          _vdp_setSpritePositionAndColor:
  3939  1140  fd210200          	ld	iy,2
  3940  1144  fd39              	add	iy, sp
  3941  1146  fd6e00            	ld	l,(iy+0)
  3942  1149  2600              	ld	h,0x00
  3943  114b  29                	add	hl, hl
  3944  114c  29                	add	hl, hl
  3945  114d  eb                	ex	de, hl
  3946  114e  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  3947  1151  19                	add	hl, de
  3948  1152  e5                	push	hl
  3949  1153  cd4b08            	call	_vdp_setWriteAddress
  3950  1156  f1                	pop	af
  3951  1157  fd210400          	ld	iy,4
  3952  115b  fd39              	add	iy, sp
  3953  115d  fd7e00            	ld	a,(iy+0)
  3954  1160  d3a0              	out	(_IO_VDPDATA), a
  3955  1162  fd2b              	dec	iy
  3956  1164  fd7e00            	ld	a,(iy+0)
  3957  1167  d3a0              	out	(_IO_VDPDATA), a
  3958  1169  fd2b              	dec	iy
  3959  116b  fd7e00            	ld	a,(iy+0)
  3960  116e  d3a0              	out	(_IO_VDPDATA), a
  3961  1170  fd7e03            	ld	a,(iy+0+1+1+1)
  3962  1173  e60f              	and	a,0x0f
  3963  1175  d3a0              	out	(_IO_VDPDATA), a
  3964  1177  c9                	ret
  3965                          	SECTION code_compiler
  3966                          ;	---------------------------------
  3967                          ; Function vdp_getSpritePosition
  3968                          ; ---------------------------------
  3969                          _vdp_getSpritePosition:
  3970  1178  fd210200          	ld	iy,2
  3971  117c  fd39              	add	iy, sp
  3972  117e  fd6e00            	ld	l,(iy+0)
  3973  1181  2600              	ld	h,0x00
  3974  1183  29                	add	hl, hl
  3975  1184  29                	add	hl, hl
  3976  1185  eb                	ex	de, hl
  3977  1186  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  3978  1189  19                	add	hl, de
  3979  118a  e5                	push	hl
  3980  118b  cd6008            	call	_vdp_setReadAddress
  3981  118e  f1                	pop	af
  3982  118f  fd210500          	ld	iy,5
  3983  1193  fd39              	add	iy, sp
  3984  1195  fd4e00            	ld	c,(iy+0)
  3985  1198  fd4601            	ld	b,(iy+1)
  3986  119b  dba0              	in	a, (_IO_VDPDATA)
  3987  119d  02                	ld	(bc), a
  3988  119e  fd2b              	dec	iy
  3989  11a0  fd2b              	dec	iy
  3990  11a2  fd4e00            	ld	c,(iy+0)
  3991  11a5  fd4601            	ld	b,(iy+1)
  3992  11a8  dba0              	in	a, (_IO_VDPDATA)
  3993  11aa  02                	ld	(bc), a
  3994  11ab  c9                	ret
  3995                          	SECTION code_compiler
  3996                          ;	---------------------------------
  3997                          ; Function vdp_print
  3998                          ; ---------------------------------
  3999                          _vdp_print:
  4000  11ac  210200            	ld	hl,2
  4001  11af  39                	add	hl, sp
  4002  11b0  4e                	ld	c, (hl)
  4003  11b1  23                	inc	hl
  4004  11b2  46                	ld	b, (hl)
  4005                          l_vdp_print_00101:
  4006  11b3  0a                	ld	a, (bc)
  4007  11b4  b7                	or	a, a
  4008  11b5  c8                	ret	Z
  4009  11b6  c5                	push	bc
  4010  11b7  f5                	push	af
  4011  11b8  33                	inc	sp
  4012  11b9  cd1f13            	call	_vdp_write
  4013  11bc  33                	inc	sp
  4014  11bd  c1                	pop	bc
  4015  11be  03                	inc	bc
  4016  11bf  18f2              	jr	l_vdp_print_00101
  4017                          	SECTION code_compiler
  4018                          ;	---------------------------------
  4019                          ; Function vdp_printColorized
  4020                          ; ---------------------------------
  4021                          _vdp_printColorized:
  4022  11c1  fd210200          	ld	iy,2
  4023  11c5  fd39              	add	iy, sp
  4024  11c7  fd4e00            	ld	c,(iy+0)
  4025  11ca  fd4601            	ld	b,(iy+1)
  4026                          l_vdp_printColorized_00101:
  4027  11cd  0a                	ld	a, (bc)
  4028  11ce  b7                	or	a, a
  4029  11cf  c8                	ret	Z
  4030  11d0  c5                	push	bc
  4031  11d1  fd210700          	ld	iy,7
  4032  11d5  fd39              	add	iy, sp
  4033  11d7  fd6600            	ld	h,(iy+0)
  4034  11da  e5                	push	hl
  4035  11db  33                	inc	sp
  4036  11dc  fd2b              	dec	iy
  4037  11de  fd6600            	ld	h,(iy+0)
  4038  11e1  e5                	push	hl
  4039  11e2  33                	inc	sp
  4040  11e3  f5                	push	af
  4041  11e4  33                	inc	sp
  4042  11e5  cd9f0d            	call	_vdp_colorizePattern
  4043  11e8  f1                	pop	af
  4044  11e9  33                	inc	sp
  4045  11ea  c1                	pop	bc
  4046  11eb  0a                	ld	a, (bc)
  4047  11ec  c5                	push	bc
  4048  11ed  f5                	push	af
  4049  11ee  33                	inc	sp
  4050  11ef  cd1f13            	call	_vdp_write
  4051  11f2  33                	inc	sp
  4052  11f3  c1                	pop	bc
  4053  11f4  03                	inc	bc
  4054  11f5  18d6              	jr	l_vdp_printColorized_00101
  4055                          	SECTION code_compiler
  4056                          ;	---------------------------------
  4057                          ; Function vdp_printPart
  4058                          ; ---------------------------------
  4059                          _vdp_printPart:
  4060  11f7  dde5              	push	ix
  4061  11f9  dd210000          	ld	ix,0
  4062  11fd  dd39              	add	ix,sp
  4063  11ff  dd7e08            	ld	a,(ix+8)
  4064  1202  dd8604            	add	a,(ix+4)
  4065  1205  4f                	ld	c, a
  4066  1206  dd7e09            	ld	a,(ix+9)
  4067  1209  dd8e05            	adc	a,(ix+5)
  4068  120c  47                	ld	b, a
  4069  120d  dd6e06            	ld	l,(ix+6)
  4070  1210  dd6607            	ld	h,(ix+7)
  4071  1213  09                	add	hl, bc
  4072  1214  eb                	ex	de, hl
  4073                          l_vdp_printPart_00101:
  4074  1215  69                	ld	l, c
  4075  1216  60                	ld	h, b
  4076  1217  bf                	cp	a, a
  4077  1218  ed52              	sbc	hl, de
  4078  121a  280e              	jr	Z,l_vdp_printPart_00104
  4079  121c  0a                	ld	a, (bc)
  4080  121d  c5                	push	bc
  4081  121e  d5                	push	de
  4082  121f  f5                	push	af
  4083  1220  33                	inc	sp
  4084  1221  cd1f13            	call	_vdp_write
  4085  1224  33                	inc	sp
  4086  1225  d1                	pop	de
  4087  1226  c1                	pop	bc
  4088  1227  03                	inc	bc
  4089  1228  18eb              	jr	l_vdp_printPart_00101
  4090                          l_vdp_printPart_00104:
  4091  122a  dde1              	pop	ix
  4092  122c  c9                	ret
  4093                          	SECTION code_compiler
  4094                          ;	---------------------------------
  4095                          ; Function vdp_newLine
  4096                          ; ---------------------------------
  4097                          _vdp_newLine:
  4098  122d  210c00            	ld	hl,_vdp_cursor + 1
  4099  1230  4e                	ld	c, (hl)
  4100  1231  79                	ld	a, c
  4101  1232  d617              	sub	a,0x17
  4102  1234  2018              	jr	NZ,l_vdp_newLine_00104
  4103  1236  3ad005            	ld	a, (__autoScroll+0)
  4104  1239  b7                	or	a, a
  4105  123a  280b              	jr	Z,l_vdp_newLine_00102
  4106  123c  3e17              	ld	a,0x17
  4107  123e  f5                	push	af
  4108  123f  33                	inc	sp
  4109  1240  af                	xor	a, a
  4110  1241  f5                	push	af
  4111  1242  33                	inc	sp
  4112  1243  cd5314            	call	_vdp_scrollTextUp
  4113  1246  f1                	pop	af
  4114                          l_vdp_newLine_00102:
  4115  1247  210b00            	ld	hl,_vdp_cursor
  4116  124a  3600              	ld	(hl),0x00
  4117  124c  180c              	jr	l_vdp_newLine_00106
  4118                          l_vdp_newLine_00104:
  4119  124e  79                	ld	a, c
  4120  124f  3c                	inc	a
  4121  1250  77                	ld	(hl), a
  4122  1251  f5                	push	af
  4123  1252  33                	inc	sp
  4124  1253  af                	xor	a, a
  4125  1254  f5                	push	af
  4126  1255  33                	inc	sp
  4127  1256  cd6812            	call	_vdp_setCursor2
  4128  1259  f1                	pop	af
  4129                          l_vdp_newLine_00106:
  4130  125a  c9                	ret
  4131                          	SECTION code_compiler
  4132                          ;	---------------------------------
  4133                          ; Function vdp_setBackDropColor
  4134                          ; ---------------------------------
  4135                          _vdp_setBackDropColor:
  4136  125b  210200            	ld	hl,2+0
  4137  125e  39                	add	hl, sp
  4138  125f  56                	ld	d, (hl)
  4139  1260  1e07              	ld	e,0x07
  4140  1262  d5                	push	de
  4141  1263  cd3608            	call	_vdp_setRegister
  4142  1266  f1                	pop	af
  4143  1267  c9                	ret
  4144                          	SECTION code_compiler
  4145                          ;	---------------------------------
  4146                          ; Function vdp_setCursor2
  4147                          ; ---------------------------------
  4148                          _vdp_setCursor2:
  4149  1268  dde5              	push	ix
  4150  126a  dd210000          	ld	ix,0
  4151  126e  dd39              	add	ix,sp
  4152  1270  3acd05            	ld	a,(__vdpCursorMaxX)
  4153  1273  dd9604            	sub	a,(ix+4)
  4154  1276  3007              	jr	NC,l_vdp_setCursor2_00102
  4155  1278  dd360400          	ld	(ix+4),0x00
  4156  127c  dd3405            	inc	(ix+5)
  4157                          l_vdp_setCursor2_00102:
  4158  127f  3a0000            	ld	a, (__vdpCursorMaxY+0)
  4159  1282  dd9605            	sub	a,(ix+5)
  4160  1285  3004              	jr	NC,l_vdp_setCursor2_00104
  4161  1287  dd360500          	ld	(ix+5),0x00
  4162                          l_vdp_setCursor2_00104:
  4163  128b  210b00            	ld	hl,_vdp_cursor
  4164  128e  dd7e04            	ld	a,(ix+4)
  4165  1291  77                	ld	(hl), a
  4166  1292  210c00            	ld	hl, +(_vdp_cursor + 1)
  4167  1295  dd7e05            	ld	a,(ix+5)
  4168  1298  77                	ld	(hl), a
  4169  1299  dde1              	pop	ix
  4170  129b  c9                	ret
  4171                          	SECTION code_compiler
  4172                          ;	---------------------------------
  4173                          ; Function vdp_setCursor
  4174                          ; ---------------------------------
  4175                          _vdp_setCursor:
  4176  129c  fd210200          	ld	iy,2
  4177  12a0  fd39              	add	iy, sp
  4178  12a2  fd7e00            	ld	a,(iy+0)
  4179  12a5  b7                	or	a, a
  4180  12a6  2816              	jr	Z,l_vdp_setCursor_00101
  4181  12a8  fd7e00            	ld	a,(iy+0)
  4182  12ab  3d                	dec	a
  4183  12ac  2822              	jr	Z,l_vdp_setCursor_00102
  4184  12ae  fd7e00            	ld	a,(iy+0)
  4185  12b1  d602              	sub	a,0x02
  4186  12b3  282d              	jr	Z,l_vdp_setCursor_00103
  4187  12b5  fd7e00            	ld	a,(iy+0)
  4188  12b8  d603              	sub	a,0x03
  4189  12ba  2838              	jr	Z,l_vdp_setCursor_00104
  4190  12bc  1846              	jr	l_vdp_setCursor_00106
  4191                          l_vdp_setCursor_00101:
  4192  12be  3a0c00            	ld	a, (_vdp_cursor + 1)
  4193  12c1  3d                	dec	a
  4194  12c2  210b00            	ld	hl,_vdp_cursor + 0
  4195  12c5  46                	ld	b, (hl)
  4196  12c6  f5                	push	af
  4197  12c7  33                	inc	sp
  4198  12c8  c5                	push	bc
  4199  12c9  33                	inc	sp
  4200  12ca  cd6812            	call	_vdp_setCursor2
  4201  12cd  f1                	pop	af
  4202  12ce  1834              	jr	l_vdp_setCursor_00106
  4203                          l_vdp_setCursor_00102:
  4204  12d0  3a0c00            	ld	a, (_vdp_cursor + 1)
  4205  12d3  3c                	inc	a
  4206  12d4  210b00            	ld	hl,_vdp_cursor + 0
  4207  12d7  46                	ld	b, (hl)
  4208  12d8  f5                	push	af
  4209  12d9  33                	inc	sp
  4210  12da  c5                	push	bc
  4211  12db  33                	inc	sp
  4212  12dc  cd6812            	call	_vdp_setCursor2
  4213  12df  f1                	pop	af
  4214  12e0  1822              	jr	l_vdp_setCursor_00106
  4215                          l_vdp_setCursor_00103:
  4216  12e2  210c00            	ld	hl,_vdp_cursor + 1
  4217  12e5  46                	ld	b, (hl)
  4218  12e6  3a0b00            	ld	a, (_vdp_cursor + 0)
  4219  12e9  3d                	dec	a
  4220  12ea  c5                	push	bc
  4221  12eb  33                	inc	sp
  4222  12ec  f5                	push	af
  4223  12ed  33                	inc	sp
  4224  12ee  cd6812            	call	_vdp_setCursor2
  4225  12f1  f1                	pop	af
  4226  12f2  1810              	jr	l_vdp_setCursor_00106
  4227                          l_vdp_setCursor_00104:
  4228  12f4  210c00            	ld	hl,_vdp_cursor + 1
  4229  12f7  46                	ld	b, (hl)
  4230  12f8  3a0b00            	ld	a, (_vdp_cursor + 0)
  4231  12fb  3c                	inc	a
  4232  12fc  c5                	push	bc
  4233  12fd  33                	inc	sp
  4234  12fe  f5                	push	af
  4235  12ff  33                	inc	sp
  4236  1300  cd6812            	call	_vdp_setCursor2
  4237  1303  f1                	pop	af
  4238                          l_vdp_setCursor_00106:
  4239  1304  c9                	ret
  4240                          	SECTION code_compiler
  4241                          ;	---------------------------------
  4242                          ; Function vdp_setTextColor
  4243                          ; ---------------------------------
  4244                          _vdp_setTextColor:
  4245  1305  fd210200          	ld	iy,2
  4246  1309  fd39              	add	iy, sp
  4247  130b  fd7e00            	ld	a,(iy+0)
  4248  130e  87                	add	a, a
  4249  130f  87                	add	a, a
  4250  1310  87                	add	a, a
  4251  1311  87                	add	a, a
  4252  1312  fd4e01            	ld	c,(iy+0+1)
  4253  1315  81                	add	a, c
  4254  1316  57                	ld	d,a
  4255  1317  1e07              	ld	e,0x07
  4256  1319  d5                	push	de
  4257  131a  cd3608            	call	_vdp_setRegister
  4258  131d  f1                	pop	af
  4259  131e  c9                	ret
  4260                          	SECTION code_compiler
  4261                          ;	---------------------------------
  4262                          ; Function vdp_write
  4263                          ; ---------------------------------
  4264                          _vdp_write:
  4265  131f  dde5              	push	ix
  4266  1321  dd210000          	ld	ix,0
  4267  1325  dd39              	add	ix,sp
  4268  1327  210c00            	ld	hl, +(_vdp_cursor + 1) + 0
  4269  132a  5e                	ld	e, (hl)
  4270  132b  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4271  132e  66                	ld	h, (hl)
  4272  132f  2e00              	ld	l,0x00
  4273  1331  55                	ld	d, l
  4274  1332  0608              	ld	b,0x08
  4275                          l_vdp_write_00122:
  4276  1334  29                	add	hl, hl
  4277  1335  3001              	jr	NC,l_vdp_write_00123
  4278  1337  19                	add	hl, de
  4279                          l_vdp_write_00123:
  4280  1338  10fa              	djnz	l_vdp_write_00122
  4281  133a  eb                	ex	de, hl
  4282  133b  3a0b00            	ld	a, (_vdp_cursor + 0)
  4283  133e  2600              	ld	h,0x00
  4284  1340  6f                	ld	l, a
  4285  1341  19                	add	hl, de
  4286  1342  eb                	ex	de, hl
  4287  1343  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  4288  1346  19                	add	hl, de
  4289  1347  d5                	push	de
  4290  1348  e5                	push	hl
  4291  1349  cd4b08            	call	_vdp_setWriteAddress
  4292  134c  f1                	pop	af
  4293  134d  d1                	pop	de
  4294  134e  dd7e04            	ld	a,(ix+4)
  4295  1351  d3a0              	out	(_IO_VDPDATA), a
  4296  1353  210002            	ld	hl,__vdp_textBuffer
  4297  1356  19                	add	hl, de
  4298  1357  dd7e04            	ld	a,(ix+4)
  4299  135a  77                	ld	(hl), a
  4300  135b  3ad005            	ld	a, (__autoScroll+0)
  4301  135e  b7                	or	a, a
  4302  135f  2821              	jr	Z,l_vdp_write_00102
  4303  1361  210b00            	ld	hl,_vdp_cursor + 0
  4304  1364  46                	ld	b, (hl)
  4305  1365  3acd05            	ld	a, (__vdpCursorMaxX+0)
  4306  1368  90                	sub	a, b
  4307  1369  2017              	jr	NZ,l_vdp_write_00102
  4308  136b  3a0c00            	ld	a, ((_vdp_cursor + 1) + 0)
  4309  136e  d617              	sub	a,0x17
  4310  1370  2010              	jr	NZ,l_vdp_write_00102
  4311  1372  3e17              	ld	a,0x17
  4312  1374  f5                	push	af
  4313  1375  33                	inc	sp
  4314  1376  af                	xor	a, a
  4315  1377  f5                	push	af
  4316  1378  33                	inc	sp
  4317  1379  cd5314            	call	_vdp_scrollTextUp
  4318  137c  f1                	pop	af
  4319  137d  210b00            	ld	hl,_vdp_cursor
  4320  1380  3600              	ld	(hl),0x00
  4321                          l_vdp_write_00102:
  4322  1382  3a0c00            	ld	a, ((_vdp_cursor + 1) + 0)
  4323  1385  210b00            	ld	hl,_vdp_cursor + 0
  4324  1388  4e                	ld	c, (hl)
  4325  1389  0c                	inc	c
  4326  138a  f5                	push	af
  4327  138b  33                	inc	sp
  4328  138c  79                	ld	a, c
  4329  138d  f5                	push	af
  4330  138e  33                	inc	sp
  4331  138f  cd6812            	call	_vdp_setCursor2
  4332  1392  f1                	pop	af
  4333  1393  dde1              	pop	ix
  4334  1395  c9                	ret
  4335                          	SECTION code_compiler
  4336                          ;	---------------------------------
  4337                          ; Function vdp_writeCharAtLocation
  4338                          ; ---------------------------------
  4339                          _vdp_writeCharAtLocation:
  4340  1396  dde5              	push	ix
  4341  1398  dd210000          	ld	ix,0
  4342  139c  dd39              	add	ix,sp
  4343  139e  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4344  13a1  5e                	ld	e, (hl)
  4345  13a2  dd6605            	ld	h,(ix+5)
  4346  13a5  2e00              	ld	l,0x00
  4347  13a7  55                	ld	d, l
  4348  13a8  0608              	ld	b,0x08
  4349                          l_vdp_writeCharAtLocation_00103:
  4350  13aa  29                	add	hl, hl
  4351  13ab  3001              	jr	NC,l_vdp_writeCharAtLocation_00104
  4352  13ad  19                	add	hl, de
  4353                          l_vdp_writeCharAtLocation_00104:
  4354  13ae  10fa              	djnz	l_vdp_writeCharAtLocation_00103
  4355  13b0  dd4e04            	ld	c,(ix+4)
  4356  13b3  0600              	ld	b,0x00
  4357  13b5  09                	add	hl, bc
  4358  13b6  eb                	ex	de, hl
  4359  13b7  210002            	ld	hl,__vdp_textBuffer+0
  4360  13ba  19                	add	hl, de
  4361  13bb  dd7e06            	ld	a,(ix+6)
  4362  13be  77                	ld	(hl), a
  4363  13bf  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  4364  13c2  19                	add	hl, de
  4365  13c3  e5                	push	hl
  4366  13c4  cd4b08            	call	_vdp_setWriteAddress
  4367  13c7  f1                	pop	af
  4368  13c8  dd7e06            	ld	a,(ix+6)
  4369  13cb  d3a0              	out	(_IO_VDPDATA), a
  4370  13cd  dde1              	pop	ix
  4371  13cf  c9                	ret
  4372                          	SECTION code_compiler
  4373                          ;	---------------------------------
  4374                          ; Function vdp_getCharAtLocationVRAM
  4375                          ; ---------------------------------
  4376                          _vdp_getCharAtLocationVRAM:
  4377  13d0  dde5              	push	ix
  4378  13d2  dd210000          	ld	ix,0
  4379  13d6  dd39              	add	ix,sp
  4380  13d8  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4381  13db  5e                	ld	e, (hl)
  4382  13dc  dd6605            	ld	h,(ix+5)
  4383  13df  2e00              	ld	l,0x00
  4384  13e1  55                	ld	d, l
  4385  13e2  0608              	ld	b,0x08
  4386                          l_vdp_getCharAtLocationVRAM_00103:
  4387  13e4  29                	add	hl, hl
  4388  13e5  3001              	jr	NC,l_vdp_getCharAtLocationVRAM_00104
  4389  13e7  19                	add	hl, de
  4390                          l_vdp_getCharAtLocationVRAM_00104:
  4391  13e8  10fa              	djnz	l_vdp_getCharAtLocationVRAM_00103
  4392  13ea  dd4e04            	ld	c,(ix+4)
  4393  13ed  0600              	ld	b,0x00
  4394  13ef  09                	add	hl, bc
  4395  13f0  eb                	ex	de, hl
  4396  13f1  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  4397  13f4  19                	add	hl, de
  4398  13f5  e5                	push	hl
  4399  13f6  cd6008            	call	_vdp_setReadAddress
  4400  13f9  f1                	pop	af
  4401  13fa  dba0              	in	a, (_IO_VDPDATA)
  4402  13fc  6f                	ld	l, a
  4403  13fd  dde1              	pop	ix
  4404  13ff  c9                	ret
  4405                          	SECTION code_compiler
  4406                          ;	---------------------------------
  4407                          ; Function vdp_getCharAtLocationBuf
  4408                          ; ---------------------------------
  4409                          _vdp_getCharAtLocationBuf:
  4410  1400  dde5              	push	ix
  4411  1402  dd210000          	ld	ix,0
  4412  1406  dd39              	add	ix,sp
  4413  1408  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4414  140b  5e                	ld	e, (hl)
  4415  140c  dd6605            	ld	h,(ix+5)
  4416  140f  2e00              	ld	l,0x00
  4417  1411  55                	ld	d, l
  4418  1412  0608              	ld	b,0x08
  4419                          l_vdp_getCharAtLocationBuf_00103:
  4420  1414  29                	add	hl, hl
  4421  1415  3001              	jr	NC,l_vdp_getCharAtLocationBuf_00104
  4422  1417  19                	add	hl, de
  4423                          l_vdp_getCharAtLocationBuf_00104:
  4424  1418  10fa              	djnz	l_vdp_getCharAtLocationBuf_00103
  4425  141a  dd4e04            	ld	c,(ix+4)
  4426  141d  0600              	ld	b,0x00
  4427  141f  09                	add	hl, bc
  4428  1420  110002            	ld	de,__vdp_textBuffer
  4429  1423  19                	add	hl, de
  4430  1424  6e                	ld	l, (hl)
  4431  1425  dde1              	pop	ix
  4432  1427  c9                	ret
  4433                          	SECTION code_compiler
  4434                          ;	---------------------------------
  4435                          ; Function vdp_setCharAtLocationBuf
  4436                          ; ---------------------------------
  4437                          _vdp_setCharAtLocationBuf:
  4438  1428  dde5              	push	ix
  4439  142a  dd210000          	ld	ix,0
  4440  142e  dd39              	add	ix,sp
  4441  1430  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4442  1433  5e                	ld	e, (hl)
  4443  1434  dd6605            	ld	h,(ix+5)
  4444  1437  2e00              	ld	l,0x00
  4445  1439  55                	ld	d, l
  4446  143a  0608              	ld	b,0x08
  4447                          l_vdp_setCharAtLocationBuf_00103:
  4448  143c  29                	add	hl, hl
  4449  143d  3001              	jr	NC,l_vdp_setCharAtLocationBuf_00104
  4450  143f  19                	add	hl, de
  4451                          l_vdp_setCharAtLocationBuf_00104:
  4452  1440  10fa              	djnz	l_vdp_setCharAtLocationBuf_00103
  4453  1442  dd4e04            	ld	c,(ix+4)
  4454  1445  0600              	ld	b,0x00
  4455  1447  09                	add	hl, bc
  4456  1448  110002            	ld	de,__vdp_textBuffer
  4457  144b  19                	add	hl, de
  4458  144c  dd7e06            	ld	a,(ix+6)
  4459  144f  77                	ld	(hl), a
  4460  1450  dde1              	pop	ix
  4461  1452  c9                	ret
  4462                          	SECTION code_compiler
  4463                          ;	---------------------------------
  4464                          ; Function vdp_scrollTextUp
  4465                          ; ---------------------------------
  4466                          _vdp_scrollTextUp:
  4467  1453  dde5              	push	ix
  4468  1455  dd210000          	ld	ix,0
  4469  1459  dd39              	add	ix,sp
  4470  145b  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4471  145e  5e                	ld	e, (hl)
  4472  145f  dd6604            	ld	h,(ix+4)
  4473  1462  2e00              	ld	l,0x00
  4474  1464  55                	ld	d, l
  4475  1465  0608              	ld	b,0x08
  4476                          l_vdp_scrollTextUp_00125:
  4477  1467  29                	add	hl, hl
  4478  1468  3001              	jr	NC,l_vdp_scrollTextUp_00126
  4479  146a  19                	add	hl, de
  4480                          l_vdp_scrollTextUp_00126:
  4481  146b  10fa              	djnz	l_vdp_scrollTextUp_00125
  4482  146d  eb                	ex	de, hl
  4483  146e  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  4484  1471  19                	add	hl, de
  4485  1472  e5                	push	hl
  4486  1473  cd4b08            	call	_vdp_setWriteAddress
  4487  1476  f1                	pop	af
  4488  1477  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4489  147a  5e                	ld	e, (hl)
  4490  147b  dd6604            	ld	h,(ix+4)
  4491  147e  2e00              	ld	l,0x00
  4492  1480  55                	ld	d, l
  4493  1481  0608              	ld	b,0x08
  4494                          l_vdp_scrollTextUp_00127:
  4495  1483  29                	add	hl, hl
  4496  1484  3001              	jr	NC,l_vdp_scrollTextUp_00128
  4497  1486  19                	add	hl, de
  4498                          l_vdp_scrollTextUp_00128:
  4499  1487  10fa              	djnz	l_vdp_scrollTextUp_00127
  4500  1489  110002            	ld	de,__vdp_textBuffer
  4501  148c  19                	add	hl, de
  4502  148d  eb                	ex	de, hl
  4503  148e  2ace05            	ld	hl, (__vdpCursorMaxXFull)
  4504  1491  2600              	ld	h,0x00
  4505  1493  19                	add	hl, de
  4506  1494  e5                	push	hl
  4507  1495  fde1              	pop	iy
  4508  1497  dd4e05            	ld	c,(ix+5)
  4509  149a  0600              	ld	b,0x00
  4510  149c  03                	inc	bc
  4511  149d  3ace05            	ld	a, (__vdpCursorMaxXFull+0)
  4512  14a0  2600              	ld	h,0x00
  4513  14a2  d5                	push	de
  4514  14a3  fde5              	push	iy
  4515  14a5  6f                	ld	l, a
  4516  14a6  e5                	push	hl
  4517  14a7  c5                	push	bc
  4518  14a8  cd0000            	call	__mulint_callee
  4519  14ab  fde1              	pop	iy
  4520  14ad  d1                	pop	de
  4521  14ae  010002            	ld	bc,__vdp_textBuffer
  4522  14b1  09                	add	hl, bc
  4523  14b2  4d                	ld	c, l
  4524  14b3  44                	ld	b, h
  4525  14b4  eb                	ex	de, hl
  4526  14b5  fde5              	push	iy
  4527  14b7  d1                	pop	de
  4528                          l_vdp_scrollTextUp_00101:
  4529  14b8  1a                	ld	a, (de)
  4530  14b9  77                	ld	(hl), a
  4531  14ba  d3a0              	out	(_IO_VDPDATA), a
  4532  14bc  23                	inc	hl
  4533  14bd  13                	inc	de
  4534  14be  7b                	ld	a, e
  4535  14bf  91                	sub	a, c
  4536  14c0  20f6              	jr	NZ,l_vdp_scrollTextUp_00101
  4537  14c2  7a                	ld	a, d
  4538  14c3  90                	sub	a, b
  4539  14c4  20f2              	jr	NZ,l_vdp_scrollTextUp_00101
  4540  14c6  eb                	ex	de, hl
  4541                          l_vdp_scrollTextUp_00104:
  4542  14c7  3e20              	ld	a,0x20
  4543  14c9  12                	ld	(de),a
  4544  14ca  d3a0              	out	(_IO_VDPDATA), a
  4545  14cc  13                	inc	de
  4546  14cd  6b                	ld	l, e
  4547  14ce  62                	ld	h, d
  4548  14cf  bf                	cp	a, a
  4549  14d0  ed42              	sbc	hl, bc
  4550  14d2  20f3              	jr	NZ,l_vdp_scrollTextUp_00104
  4551  14d4  dde1              	pop	ix
  4552  14d6  c9                	ret
  4553                          	SECTION code_compiler
  4554                          ;	---------------------------------
  4555                          ; Function vdp_scrollTextDown
  4556                          ; ---------------------------------
  4557                          _vdp_scrollTextDown:
  4558  14d7  dde5              	push	ix
  4559  14d9  dd210000          	ld	ix,0
  4560  14dd  dd39              	add	ix,sp
  4561  14df  f5                	push	af
  4562  14e0  fd21ce05          	ld	iy,__vdpCursorMaxXFull
  4563  14e4  fd5e00            	ld	e,(iy+0)
  4564  14e7  dd6605            	ld	h,(ix+5)
  4565  14ea  2e00              	ld	l,0x00
  4566  14ec  55                	ld	d, l
  4567  14ed  0608              	ld	b,0x08
  4568                          l_vdp_scrollTextDown_00139:
  4569  14ef  29                	add	hl, hl
  4570  14f0  3001              	jr	NC,l_vdp_scrollTextDown_00140
  4571  14f2  19                	add	hl, de
  4572                          l_vdp_scrollTextDown_00140:
  4573  14f3  10fa              	djnz	l_vdp_scrollTextDown_00139
  4574  14f5  110002            	ld	de,__vdp_textBuffer
  4575  14f8  19                	add	hl, de
  4576  14f9  2b                	dec	hl
  4577  14fa  eb                	ex	de, hl
  4578  14fb  3ace05            	ld	a, (__vdpCursorMaxXFull+0)
  4579  14fe  83                	add	a, e
  4580  14ff  4f                	ld	c, a
  4581  1500  3e00              	ld	a,0x00
  4582  1502  8a                	adc	a, d
  4583  1503  47                	ld	b, a
  4584  1504  d5                	push	de
  4585  1505  c5                	push	bc
  4586  1506  fd5e00            	ld	e,(iy+0)
  4587  1509  dd6604            	ld	h,(ix+4)
  4588  150c  2e00              	ld	l,0x00
  4589  150e  55                	ld	d, l
  4590  150f  0608              	ld	b,0x08
  4591                          l_vdp_scrollTextDown_00141:
  4592  1511  29                	add	hl, hl
  4593  1512  3001              	jr	NC,l_vdp_scrollTextDown_00142
  4594  1514  19                	add	hl, de
  4595                          l_vdp_scrollTextDown_00142:
  4596  1515  10fa              	djnz	l_vdp_scrollTextDown_00141
  4597  1517  c1                	pop	bc
  4598  1518  d1                	pop	de
  4599  1519  3eff              	ld	a, +((__vdp_textBuffer - 1) & 0xFF)
  4600  151b  85                	add	a, l
  4601  151c  6f                	ld	l, a
  4602  151d  3e01              	ld	a, +((__vdp_textBuffer - 1) / 256)
  4603  151f  8c                	adc	a, h
  4604  1520  67                	ld	h, a
  4605  1521  e3                	ex	(sp), hl
  4606                          l_vdp_scrollTextDown_00101:
  4607  1522  1a                	ld	a, (de)
  4608  1523  02                	ld	(bc), a
  4609  1524  0b                	dec	bc
  4610  1525  1b                	dec	de
  4611  1526  e1                	pop	hl
  4612  1527  e5                	push	hl
  4613  1528  bf                	cp	a, a
  4614  1529  ed52              	sbc	hl, de
  4615  152b  20f5              	jr	NZ,l_vdp_scrollTextDown_00101
  4616                          l_vdp_scrollTextDown_00104:
  4617  152d  3e20              	ld	a,0x20
  4618  152f  02                	ld	(bc), a
  4619  1530  0b                	dec	bc
  4620  1531  e1                	pop	hl
  4621  1532  e5                	push	hl
  4622  1533  bf                	cp	a, a
  4623  1534  ed42              	sbc	hl, bc
  4624  1536  20f5              	jr	NZ,l_vdp_scrollTextDown_00104
  4625  1538  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4626  153b  5e                	ld	e, (hl)
  4627  153c  dd6604            	ld	h,(ix+4)
  4628  153f  2e00              	ld	l,0x00
  4629  1541  55                	ld	d, l
  4630  1542  0608              	ld	b,0x08
  4631                          l_vdp_scrollTextDown_00147:
  4632  1544  29                	add	hl, hl
  4633  1545  3001              	jr	NC,l_vdp_scrollTextDown_00148
  4634  1547  19                	add	hl, de
  4635                          l_vdp_scrollTextDown_00148:
  4636  1548  10fa              	djnz	l_vdp_scrollTextDown_00147
  4637  154a  eb                	ex	de, hl
  4638  154b  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  4639  154e  19                	add	hl, de
  4640  154f  e5                	push	hl
  4641  1550  cd4b08            	call	_vdp_setWriteAddress
  4642  1553  f1                	pop	af
  4643  1554  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4644  1557  5e                	ld	e, (hl)
  4645  1558  dd6604            	ld	h,(ix+4)
  4646  155b  2e00              	ld	l,0x00
  4647  155d  55                	ld	d, l
  4648  155e  0608              	ld	b,0x08
  4649                          l_vdp_scrollTextDown_00149:
  4650  1560  29                	add	hl, hl
  4651  1561  3001              	jr	NC,l_vdp_scrollTextDown_00150
  4652  1563  19                	add	hl, de
  4653                          l_vdp_scrollTextDown_00150:
  4654  1564  10fa              	djnz	l_vdp_scrollTextDown_00149
  4655  1566  110002            	ld	de,__vdp_textBuffer
  4656  1569  19                	add	hl, de
  4657  156a  eb                	ex	de, hl
  4658  156b  dd4e05            	ld	c,(ix+5)
  4659  156e  0600              	ld	b,0x00
  4660  1570  03                	inc	bc
  4661  1571  3ace05            	ld	a, (__vdpCursorMaxXFull+0)
  4662  1574  2600              	ld	h,0x00
  4663  1576  d5                	push	de
  4664  1577  6f                	ld	l, a
  4665  1578  e5                	push	hl
  4666  1579  c5                	push	bc
  4667  157a  cd0000            	call	__mulint_callee
  4668  157d  d1                	pop	de
  4669  157e  010002            	ld	bc,__vdp_textBuffer
  4670  1581  09                	add	hl, bc
  4671  1582  4d                	ld	c, l
  4672  1583  44                	ld	b, h
  4673                          l_vdp_scrollTextDown_00107:
  4674  1584  1a                	ld	a, (de)
  4675  1585  d3a0              	out	(_IO_VDPDATA), a
  4676  1587  13                	inc	de
  4677  1588  6b                	ld	l, e
  4678  1589  62                	ld	h, d
  4679  158a  bf                	cp	a, a
  4680  158b  ed42              	sbc	hl, bc
  4681  158d  20f5              	jr	NZ,l_vdp_scrollTextDown_00107
  4682  158f  ddf9              	ld	sp, ix
  4683  1591  dde1              	pop	ix
  4684  1593  c9                	ret
  4685                          	SECTION code_compiler
  4686                          ;	---------------------------------
  4687                          ; Function vdp_writeUInt32
  4688                          ; ---------------------------------
  4689                          _vdp_writeUInt32:
  4690  1594  dde5              	push	ix
  4691  1596  dd210000          	ld	ix,0
  4692  159a  dd39              	add	ix,sp
  4693  159c  21f5ff            	ld	hl, -11
  4694  159f  39                	add	hl, sp
  4695  15a0  f9                	ld	sp, hl
  4696  15a1  dd6e06            	ld	l,(ix+6)
  4697  15a4  dd6607            	ld	h,(ix+7)
  4698  15a7  e5                	push	hl
  4699  15a8  dd6e04            	ld	l,(ix+4)
  4700  15ab  dd6605            	ld	h,(ix+5)
  4701  15ae  e5                	push	hl
  4702  15af  21e100            	ld	hl,___str_20
  4703  15b2  e5                	push	hl
  4704  15b3  210600            	ld	hl,6
  4705  15b6  39                	add	hl, sp
  4706  15b7  e5                	push	hl
  4707  15b8  cd0000            	call	_sprintf
  4708  15bb  210800            	ld	hl,8
  4709  15be  39                	add	hl, sp
  4710  15bf  f9                	ld	sp, hl
  4711  15c0  210000            	ld	hl,0
  4712  15c3  39                	add	hl, sp
  4713  15c4  e5                	push	hl
  4714  15c5  cdac11            	call	_vdp_print
  4715  15c8  ddf9              	ld	sp,ix
  4716  15ca  dde1              	pop	ix
  4717  15cc  c9                	ret
  4718                          	SECTION rodata_compiler
  4719                          ___str_20:
  4720  00e1  2575              	DEFM "%u"
  4721  00e3  00                	DEFB 0x00
  4722                          	SECTION code_compiler
  4723                          ;	---------------------------------
  4724                          ; Function vdp_writeInt32
  4725                          ; ---------------------------------
  4726                          _vdp_writeInt32:
  4727  15cd  dde5              	push	ix
  4728  15cf  dd210000          	ld	ix,0
  4729  15d3  dd39              	add	ix,sp
  4730  15d5  21f4ff            	ld	hl, -12
  4731  15d8  39                	add	hl, sp
  4732  15d9  f9                	ld	sp, hl
  4733  15da  dd6e06            	ld	l,(ix+6)
  4734  15dd  dd6607            	ld	h,(ix+7)
  4735  15e0  e5                	push	hl
  4736  15e1  dd6e04            	ld	l,(ix+4)
  4737  15e4  dd6605            	ld	h,(ix+5)
  4738  15e7  e5                	push	hl
  4739  15e8  21e400            	ld	hl,___str_21
  4740  15eb  e5                	push	hl
  4741  15ec  210600            	ld	hl,6
  4742  15ef  39                	add	hl, sp
  4743  15f0  e5                	push	hl
  4744  15f1  cd0000            	call	_sprintf
  4745  15f4  210800            	ld	hl,8
  4746  15f7  39                	add	hl, sp
  4747  15f8  f9                	ld	sp, hl
  4748  15f9  210000            	ld	hl,0
  4749  15fc  39                	add	hl, sp
  4750  15fd  e5                	push	hl
  4751  15fe  cdac11            	call	_vdp_print
  4752  1601  ddf9              	ld	sp,ix
  4753  1603  dde1              	pop	ix
  4754  1605  c9                	ret
  4755                          	SECTION rodata_compiler
  4756                          ___str_21:
  4757  00e4  25d8              	DEFM "%d"
  4758  00e6  00                	DEFB 0x00
  4759                          	SECTION code_compiler
  4760                          ;	---------------------------------
  4761                          ; Function vdp_writeUInt16
  4762                          ; ---------------------------------
  4763                          _vdp_writeUInt16:
  4764  1606  dde5              	push	ix
  4765  1608  dd210000          	ld	ix,0
  4766  160c  dd39              	add	ix,sp
  4767  160e  21faff            	ld	hl, -6
  4768  1611  39                	add	hl, sp
  4769  1612  f9                	ld	sp, hl
  4770  1613  dd6e04            	ld	l,(ix+4)
  4771  1616  dd6605            	ld	h,(ix+5)
  4772  1619  e5                	push	hl
  4773  161a  21e700            	ld	hl,___str_22
  4774  161d  e5                	push	hl
  4775  161e  210400            	ld	hl,4
  4776  1621  39                	add	hl, sp
  4777  1622  e5                	push	hl
  4778  1623  cd0000            	call	_sprintf
  4779  1626  210600            	ld	hl,6
  4780  1629  39                	add	hl, sp
  4781  162a  f9                	ld	sp, hl
  4782  162b  210000            	ld	hl,0
  4783  162e  39                	add	hl, sp
  4784  162f  e5                	push	hl
  4785  1630  cdac11            	call	_vdp_print
  4786  1633  ddf9              	ld	sp,ix
  4787  1635  dde1              	pop	ix
  4788  1637  c9                	ret
  4789                          	SECTION rodata_compiler
  4790                          ___str_22:
  4791  00e7  2575              	DEFM "%u"
  4792  00e9  00                	DEFB 0x00
  4793                          	SECTION code_compiler
  4794                          ;	---------------------------------
  4795                          ; Function vdp_writeInt16
  4796                          ; ---------------------------------
  4797                          _vdp_writeInt16:
  4798  1638  dde5              	push	ix
  4799  163a  dd210000          	ld	ix,0
  4800  163e  dd39              	add	ix,sp
  4801  1640  21f9ff            	ld	hl, -7
  4802  1643  39                	add	hl, sp
  4803  1644  f9                	ld	sp, hl
  4804  1645  dd6e04            	ld	l,(ix+4)
  4805  1648  dd6605            	ld	h,(ix+5)
  4806  164b  e5                	push	hl
  4807  164c  21ea00            	ld	hl,___str_23
  4808  164f  e5                	push	hl
  4809  1650  210400            	ld	hl,4
  4810  1653  39                	add	hl, sp
  4811  1654  e5                	push	hl
  4812  1655  cd0000            	call	_sprintf
  4813  1658  210600            	ld	hl,6
  4814  165b  39                	add	hl, sp
  4815  165c  f9                	ld	sp, hl
  4816  165d  210000            	ld	hl,0
  4817  1660  39                	add	hl, sp
  4818  1661  e5                	push	hl
  4819  1662  cdac11            	call	_vdp_print
  4820  1665  ddf9              	ld	sp,ix
  4821  1667  dde1              	pop	ix
  4822  1669  c9                	ret
  4823                          	SECTION rodata_compiler
  4824                          ___str_23:
  4825  00ea  2564              	DEFM "%d"
  4826  00ec  00                	DEFB 0x00
  4827                          	SECTION code_compiler
  4828                          ;	---------------------------------
  4829                          ; Function vdp_writeUInt8
  4830                          ; ---------------------------------
  4831                          _vdp_writeUInt8:
  4832  166a  dde5              	push	ix
  4833  166c  dd210000          	ld	ix,0
  4834  1670  dd39              	add	ix,sp
  4835  1672  f5                	push	af
  4836  1673  f5                	push	af
  4837  1674  dd4e04            	ld	c,(ix+4)
  4838  1677  0600              	ld	b,0x00
  4839  1679  c5                	push	bc
  4840  167a  21ed00            	ld	hl,___str_24
  4841  167d  e5                	push	hl
  4842  167e  210400            	ld	hl,4
  4843  1681  39                	add	hl, sp
  4844  1682  e5                	push	hl
  4845  1683  cd0000            	call	_sprintf
  4846  1686  210600            	ld	hl,6
  4847  1689  39                	add	hl, sp
  4848  168a  f9                	ld	sp, hl
  4849  168b  210000            	ld	hl,0
  4850  168e  39                	add	hl, sp
  4851  168f  e5                	push	hl
  4852  1690  cdac11            	call	_vdp_print
  4853  1693  ddf9              	ld	sp,ix
  4854  1695  dde1              	pop	ix
  4855  1697  c9                	ret
  4856                          	SECTION rodata_compiler
  4857                          ___str_24:
  4858  00ed  2575              	DEFM "%u"
  4859  00ef  00                	DEFB 0x00
  4860                          	SECTION code_compiler
  4861                          ;	---------------------------------
  4862                          ; Function vdp_writeInt8
  4863                          ; ---------------------------------
  4864                          _vdp_writeInt8:
  4865  1698  dde5              	push	ix
  4866  169a  dd210000          	ld	ix,0
  4867  169e  dd39              	add	ix,sp
  4868  16a0  21fbff            	ld	hl, -5
  4869  16a3  39                	add	hl, sp
  4870  16a4  f9                	ld	sp, hl
  4871  16a5  dd7e04            	ld	a,(ix+4)
  4872  16a8  4f                	ld	c, a
  4873  16a9  07                	rlca
  4874  16aa  9f                	sbc	a, a
  4875  16ab  47                	ld	b, a
  4876  16ac  c5                	push	bc
  4877  16ad  21f000            	ld	hl,___str_25
  4878  16b0  e5                	push	hl
  4879  16b1  210400            	ld	hl,4
  4880  16b4  39                	add	hl, sp
  4881  16b5  e5                	push	hl
  4882  16b6  cd0000            	call	_sprintf
  4883  16b9  210600            	ld	hl,6
  4884  16bc  39                	add	hl, sp
  4885  16bd  f9                	ld	sp, hl
  4886  16be  210000            	ld	hl,0
  4887  16c1  39                	add	hl, sp
  4888  16c2  e5                	push	hl
  4889  16c3  cdac11            	call	_vdp_print
  4890  16c6  ddf9              	ld	sp,ix
  4891  16c8  dde1              	pop	ix
  4892  16ca  c9                	ret
  4893                          	SECTION rodata_compiler
  4894                          ___str_25:
  4895  00f0  25fc              	DEFM "%d"
  4896  00f2  00                	DEFB 0x00
  4897                          	SECTION code_compiler
  4898                          ;	---------------------------------
  4899                          ; Function vdp_writeUInt8ToBinary
  4900                          ; ---------------------------------
  4901                          _vdp_writeUInt8ToBinary:
  4902  16cb  dde5              	push	ix
  4903  16cd  dd210000          	ld	ix,0
  4904  16d1  dd39              	add	ix,sp
  4905  16d3  21f7ff            	ld	hl, -9
  4906  16d6  39                	add	hl, sp
  4907  16d7  f9                	ld	sp, hl
  4908  16d8  0e00              	ld	c,0x00
  4909                          l_vdp_writeUInt8ToBinary_00106:
  4910  16da  79                	ld	a, c
  4911  16db  d608              	sub	a,0x08
  4912  16dd  302a              	jr	NC,l_vdp_writeUInt8ToBinary_00104
  4913  16df  41                	ld	b, c
  4914  16e0  dd6e04            	ld	l,(ix+4)
  4915  16e3  04                	inc	b
  4916  16e4  1802              	jr	l_vdp_writeUInt8ToBinary_00127
  4917                          l_vdp_writeUInt8ToBinary_00126:
  4918  16e6  cb3d              	srl	l
  4919                          l_vdp_writeUInt8ToBinary_00127:
  4920  16e8  10fc              	djnz	l_vdp_writeUInt8ToBinary_00126
  4921  16ea  59                	ld	e, c
  4922  16eb  3e07              	ld	a,0x07
  4923  16ed  93                	sub	a, e
  4924  16ee  5f                	ld	e, a
  4925  16ef  07                	rlca
  4926  16f0  9f                	sbc	a, a
  4927  16f1  57                	ld	d, a
  4928  16f2  cb45              	bit	0, l
  4929  16f4  2809              	jr	Z,l_vdp_writeUInt8ToBinary_00102
  4930  16f6  210000            	ld	hl,0
  4931  16f9  39                	add	hl, sp
  4932  16fa  19                	add	hl, de
  4933  16fb  3631              	ld	(hl),0x31
  4934  16fd  1807              	jr	l_vdp_writeUInt8ToBinary_00107
  4935                          l_vdp_writeUInt8ToBinary_00102:
  4936  16ff  210000            	ld	hl,0
  4937  1702  39                	add	hl, sp
  4938  1703  19                	add	hl, de
  4939  1704  3630              	ld	(hl),0x30
  4940                          l_vdp_writeUInt8ToBinary_00107:
  4941  1706  0c                	inc	c
  4942  1707  18d1              	jr	l_vdp_writeUInt8ToBinary_00106
  4943                          l_vdp_writeUInt8ToBinary_00104:
  4944  1709  dd36ff00          	ld	(ix-1),0x00
  4945  170d  210000            	ld	hl,0
  4946  1710  39                	add	hl, sp
  4947  1711  e5                	push	hl
  4948  1712  cdac11            	call	_vdp_print
  4949  1715  ddf9              	ld	sp,ix
  4950  1717  dde1              	pop	ix
  4951  1719  c9                	ret
  4952                          	SECTION code_compiler
  4953                          ;	---------------------------------
  4954                          ; Function vdp_writeUInt16ToBinary
  4955                          ; ---------------------------------
  4956                          _vdp_writeUInt16ToBinary:
  4957  171a  dde5              	push	ix
  4958  171c  dd210000          	ld	ix,0
  4959  1720  dd39              	add	ix,sp
  4960  1722  21edff            	ld	hl, -19
  4961  1725  39                	add	hl, sp
  4962  1726  f9                	ld	sp, hl
  4963  1727  0e00              	ld	c,0x00
  4964                          l_vdp_writeUInt16ToBinary_00106:
  4965  1729  79                	ld	a, c
  4966  172a  d610              	sub	a,0x10
  4967  172c  303f              	jr	NC,l_vdp_writeUInt16ToBinary_00104
  4968  172e  41                	ld	b, c
  4969  172f  dd5e04            	ld	e,(ix+4)
  4970  1732  dd5605            	ld	d,(ix+5)
  4971  1735  04                	inc	b
  4972  1736  1804              	jr	l_vdp_writeUInt16ToBinary_00127
  4973                          l_vdp_writeUInt16ToBinary_00126:
  4974  1738  cb3a              	srl	d
  4975  173a  cb1b              	rr	e
  4976                          l_vdp_writeUInt16ToBinary_00127:
  4977  173c  10fa              	djnz	l_vdp_writeUInt16ToBinary_00126
  4978  173e  41                	ld	b, c
  4979  173f  3e0f              	ld	a,0x0f
  4980  1741  90                	sub	a, b
  4981  1742  dd77fe            	ld	(ix-2),a
  4982  1745  07                	rlca
  4983  1746  9f                	sbc	a, a
  4984  1747  dd77ff            	ld	(ix-1),a
  4985  174a  cb43              	bit	0, e
  4986  174c  280f              	jr	Z,l_vdp_writeUInt16ToBinary_00102
  4987  174e  dd5efe            	ld	e,(ix-2)
  4988  1751  dd56ff            	ld	d,(ix-1)
  4989  1754  210000            	ld	hl,0
  4990  1757  39                	add	hl, sp
  4991  1758  19                	add	hl, de
  4992  1759  3631              	ld	(hl),0x31
  4993  175b  180d              	jr	l_vdp_writeUInt16ToBinary_00107
  4994                          l_vdp_writeUInt16ToBinary_00102:
  4995  175d  dd5efe            	ld	e,(ix-2)
  4996  1760  dd56ff            	ld	d,(ix-1)
  4997  1763  210000            	ld	hl,0
  4998  1766  39                	add	hl, sp
  4999  1767  19                	add	hl, de
  5000  1768  3630              	ld	(hl),0x30
  5001                          l_vdp_writeUInt16ToBinary_00107:
  5002  176a  0c                	inc	c
  5003  176b  18bc              	jr	l_vdp_writeUInt16ToBinary_00106
  5004                          l_vdp_writeUInt16ToBinary_00104:
  5005  176d  dd36fd00          	ld	(ix-3),0x00
  5006  1771  210000            	ld	hl,0
  5007  1774  39                	add	hl, sp
  5008  1775  e5                	push	hl
  5009  1776  cdac11            	call	_vdp_print
  5010  1779  ddf9              	ld	sp,ix
  5011  177b  dde1              	pop	ix
  5012  177d  c9                	ret
  5013                          	SECTION code_compiler
  5014                          ;	---------------------------------
  5015                          ; Function vdp_writeUInt32ToBinary
  5016                          ; ---------------------------------
  5017                          _vdp_writeUInt32ToBinary:
  5018  177e  dde5              	push	ix
  5019  1780  dd210000          	ld	ix,0
  5020  1784  dd39              	add	ix,sp
  5021  1786  21daff            	ld	hl, -38
  5022  1789  39                	add	hl, sp
  5023  178a  f9                	ld	sp, hl
  5024  178b  dd36ff00          	ld	(ix-1),0x00
  5025                          l_vdp_writeUInt32ToBinary_00106:
  5026  178f  dd7eff            	ld	a,(ix-1)
  5027  1792  d620              	sub	a,0x20
  5028  1794  3067              	jr	NC,l_vdp_writeUInt32ToBinary_00104
  5029  1796  dd46ff            	ld	b,(ix-1)
  5030  1799  dd4e04            	ld	c,(ix+4)
  5031  179c  dd5e05            	ld	e,(ix+5)
  5032  179f  dd6e06            	ld	l,(ix+6)
  5033  17a2  dd6607            	ld	h,(ix+7)
  5034  17a5  04                	inc	b
  5035  17a6  1808              	jr	l_vdp_writeUInt32ToBinary_00127
  5036                          l_vdp_writeUInt32ToBinary_00126:
  5037  17a8  cb3c              	srl	h
  5038  17aa  cb1d              	rr	l
  5039  17ac  cb1b              	rr	e
  5040  17ae  cb19              	rr	c
  5041                          l_vdp_writeUInt32ToBinary_00127:
  5042  17b0  10f6              	djnz	l_vdp_writeUInt32ToBinary_00126
  5043  17b2  dd46ff            	ld	b,(ix-1)
  5044  17b5  3e1f              	ld	a,0x1f
  5045  17b7  90                	sub	a, b
  5046  17b8  dd77fb            	ld	(ix-5),a
  5047  17bb  07                	rlca
  5048  17bc  9f                	sbc	a, a
  5049  17bd  dd77fc            	ld	(ix-4),a
  5050  17c0  cb41              	bit	0, c
  5051  17c2  281b              	jr	Z,l_vdp_writeUInt32ToBinary_00102
  5052  17c4  dd5efb            	ld	e,(ix-5)
  5053  17c7  dd56fc            	ld	d,(ix-4)
  5054  17ca  210000            	ld	hl,0
  5055  17cd  39                	add	hl, sp
  5056  17ce  19                	add	hl, de
  5057  17cf  dd75fd            	ld	(ix-3),l
  5058  17d2  dd74fe            	ld	(ix-2),h
  5059  17d5  dd6efd            	ld	l,(ix-3)
  5060  17d8  dd66fe            	ld	h,(ix-2)
  5061  17db  3631              	ld	(hl),0x31
  5062  17dd  1819              	jr	l_vdp_writeUInt32ToBinary_00107
  5063                          l_vdp_writeUInt32ToBinary_00102:
  5064  17df  dd5efb            	ld	e,(ix-5)
  5065  17e2  dd56fc            	ld	d,(ix-4)
  5066  17e5  210000            	ld	hl,0
  5067  17e8  39                	add	hl, sp
  5068  17e9  19                	add	hl, de
  5069  17ea  dd75fd            	ld	(ix-3),l
  5070  17ed  dd74fe            	ld	(ix-2),h
  5071  17f0  dd6efd            	ld	l,(ix-3)
  5072  17f3  dd66fe            	ld	h,(ix-2)
  5073  17f6  3630              	ld	(hl),0x30
  5074                          l_vdp_writeUInt32ToBinary_00107:
  5075  17f8  dd34ff            	inc	(ix-1)
  5076  17fb  1892              	jr	l_vdp_writeUInt32ToBinary_00106
  5077                          l_vdp_writeUInt32ToBinary_00104:
  5078  17fd  dd36fa00          	ld	(ix-6),0x00
  5079  1801  210000            	ld	hl,0
  5080  1804  39                	add	hl, sp
  5081  1805  e5                	push	hl
  5082  1806  cdac11            	call	_vdp_print
  5083  1809  ddf9              	ld	sp,ix
  5084  180b  dde1              	pop	ix
  5085  180d  c9                	ret
  5086                          	SECTION code_compiler
  5087                          ;	---------------------------------
  5088                          ; Function invalideArea
  5089                          ; ---------------------------------
  5090                          _invalideArea:
  5091  180e  dde5              	push	ix
  5092  1810  dd210000          	ld	ix,0
  5093  1814  dd39              	add	ix,sp
  5094  1816  f5                	push	af
  5095  1817  cdb408            	call	_vdp_waitVDPReadyInt
  5096  181a  dd7e04            	ld	a,(ix+4)
  5097  181d  0f                	rrca
  5098  181e  0f                	rrca
  5099  181f  0f                	rrca
  5100  1820  e61f              	and	a,0x1f
  5101  1822  87                	add	a, a
  5102  1823  87                	add	a, a
  5103  1824  87                	add	a, a
  5104  1825  4f                	ld	c, a
  5105  1826  dd4605            	ld	b,(ix+5)
  5106                          l_invalideArea_00102:
  5107  1829  78                	ld	a, b
  5108  182a  dd9607            	sub	a,(ix+7)
  5109  182d  304e              	jr	NC,l_invalideArea_00108
  5110  182f  78                	ld	a, b
  5111  1830  e607              	and	a,0x07
  5112  1832  5f                	ld	e, a
  5113  1833  1600              	ld	d,0x00
  5114  1835  78                	ld	a, b
  5115  1836  0f                	rrca
  5116  1837  0f                	rrca
  5117  1838  0f                	rrca
  5118  1839  e61f              	and	a,0x1f
  5119  183b  67                	ld	h, a
  5120  183c  2e00              	ld	l,0x00
  5121  183e  19                	add	hl, de
  5122  183f  e3                	ex	(sp), hl
  5123  1840  3acb05            	ld	a, (__vdpPatternGeneratorTableAddr+0)
  5124  1843  dd86fe            	add	a,(ix-2)
  5125  1846  5f                	ld	e, a
  5126  1847  3acc05            	ld	a, (__vdpPatternGeneratorTableAddr+1)
  5127  184a  dd8eff            	adc	a,(ix-1)
  5128  184d  57                	ld	d, a
  5129  184e  69                	ld	l, c
  5130  184f  2600              	ld	h,0x00
  5131  1851  19                	add	hl, de
  5132  1852  c5                	push	bc
  5133  1853  e5                	push	hl
  5134  1854  cd4b08            	call	_vdp_setWriteAddress
  5135  1857  f1                	pop	af
  5136  1858  c1                	pop	bc
  5137  1859  dd5e04            	ld	e,(ix+4)
  5138                          l_invalideArea_00106:
  5139  185c  7b                	ld	a, e
  5140  185d  dd9606            	sub	a,(ix+6)
  5141  1860  3018              	jr	NC,l_invalideArea_00101
  5142  1862  7b                	ld	a, e
  5143  1863  1600              	ld	d,0x00
  5144  1865  dd86fe            	add	a,(ix-2)
  5145  1868  6f                	ld	l, a
  5146  1869  7a                	ld	a, d
  5147  186a  dd8eff            	adc	a,(ix-1)
  5148  186d  67                	ld	h, a
  5149  186e  d5                	push	de
  5150  186f  11d105            	ld	de,__dBuffer
  5151  1872  19                	add	hl, de
  5152  1873  d1                	pop	de
  5153  1874  7e                	ld	a, (hl)
  5154  1875  d3a0              	out	(_IO_VDPDATA), a
  5155  1877  1c                	inc	e
  5156  1878  18e2              	jr	l_invalideArea_00106
  5157                          l_invalideArea_00101:
  5158  187a  04                	inc	b
  5159  187b  18ac              	jr	l_invalideArea_00102
  5160                          l_invalideArea_00108:
  5161  187d  ddf9              	ld	sp, ix
  5162  187f  dde1              	pop	ix
  5163  1881  c9                	ret
  5164                          	SECTION rodata_compiler
  5165                          _ASCII:
  5166  00f3  00                	DEFB +0x00
  5167  00f4  00                	DEFB +0x00
  5168  00f5  00                	DEFB +0x00
  5169  00f6  00                	DEFB +0x00
  5170  00f7  00                	DEFB +0x00
  5171  00f8  00                	DEFB +0x00
  5172  00f9  00                	DEFB +0x00
  5173  00fa  00                	DEFB +0x00
  5174  00fb  20                	DEFB +0x20
  5175  00fc  20                	DEFB +0x20
  5176  00fd  20                	DEFB +0x20
  5177  00fe  20                	DEFB +0x20
  5178  00ff  20                	DEFB +0x20
  5179  0100  00                	DEFB +0x00
  5180  0101  20                	DEFB +0x20
  5181  0102  00                	DEFB +0x00
  5182  0103  50                	DEFB +0x50
  5183  0104  50                	DEFB +0x50
  5184  0105  00                	DEFB +0x00
  5185  0106  00                	DEFB +0x00
  5186  0107  00                	DEFB +0x00
  5187  0108  00                	DEFB +0x00
  5188  0109  00                	DEFB +0x00
  5189  010a  00                	DEFB +0x00
  5190  010b  50                	DEFB +0x50
  5191  010c  50                	DEFB +0x50
  5192  010d  f8                	DEFB +0xf8
  5193  010e  50                	DEFB +0x50
  5194  010f  f8                	DEFB +0xf8
  5195  0110  50                	DEFB +0x50
  5196  0111  50                	DEFB +0x50
  5197  0112  00                	DEFB +0x00
  5198  0113  20                	DEFB +0x20
  5199  0114  78                	DEFB +0x78
  5200  0115  a0                	DEFB +0xa0
  5201  0116  70                	DEFB +0x70
  5202  0117  28                	DEFB +0x28
  5203  0118  f0                	DEFB +0xf0
  5204  0119  20                	DEFB +0x20
  5205  011a  00                	DEFB +0x00
  5206  011b  c0                	DEFB +0xc0
  5207  011c  c8                	DEFB +0xc8
  5208  011d  10                	DEFB +0x10
  5209  011e  20                	DEFB +0x20
  5210  011f  40                	DEFB +0x40
  5211  0120  98                	DEFB +0x98
  5212  0121  18                	DEFB +0x18
  5213  0122  00                	DEFB +0x00
  5214  0123  60                	DEFB +0x60
  5215  0124  90                	DEFB +0x90
  5216  0125  a0                	DEFB +0xa0
  5217  0126  40                	DEFB +0x40
  5218  0127  a8                	DEFB +0xa8
  5219  0128  90                	DEFB +0x90
  5220  0129  68                	DEFB +0x68
  5221  012a  00                	DEFB +0x00
  5222  012b  60                	DEFB +0x60
  5223  012c  20                	DEFB +0x20
  5224  012d  40                	DEFB +0x40
  5225  012e  00                	DEFB +0x00
  5226  012f  00                	DEFB +0x00
  5227  0130  00                	DEFB +0x00
  5228  0131  00                	DEFB +0x00
  5229  0132  00                	DEFB +0x00
  5230  0133  10                	DEFB +0x10
  5231  0134  20                	DEFB +0x20
  5232  0135  40                	DEFB +0x40
  5233  0136  40                	DEFB +0x40
  5234  0137  40                	DEFB +0x40
  5235  0138  20                	DEFB +0x20
  5236  0139  10                	DEFB +0x10
  5237  013a  00                	DEFB +0x00
  5238  013b  40                	DEFB +0x40
  5239  013c  20                	DEFB +0x20
  5240  013d  10                	DEFB +0x10
  5241  013e  10                	DEFB +0x10
  5242  013f  10                	DEFB +0x10
  5243  0140  20                	DEFB +0x20
  5244  0141  40                	DEFB +0x40
  5245  0142  00                	DEFB +0x00
  5246  0143  00                	DEFB +0x00
  5247  0144  20                	DEFB +0x20
  5248  0145  a8                	DEFB +0xa8
  5249  0146  70                	DEFB +0x70
  5250  0147  a8                	DEFB +0xa8
  5251  0148  20                	DEFB +0x20
  5252  0149  00                	DEFB +0x00
  5253  014a  00                	DEFB +0x00
  5254  014b  00                	DEFB +0x00
  5255  014c  20                	DEFB +0x20
  5256  014d  20                	DEFB +0x20
  5257  014e  f8                	DEFB +0xf8
  5258  014f  20                	DEFB +0x20
  5259  0150  20                	DEFB +0x20
  5260  0151  00                	DEFB +0x00
  5261  0152  00                	DEFB +0x00
  5262  0153  00                	DEFB +0x00
  5263  0154  00                	DEFB +0x00
  5264  0155  00                	DEFB +0x00
  5265  0156  00                	DEFB +0x00
  5266  0157  60                	DEFB +0x60
  5267  0158  20                	DEFB +0x20
  5268  0159  40                	DEFB +0x40
  5269  015a  00                	DEFB +0x00
  5270  015b  00                	DEFB +0x00
  5271  015c  00                	DEFB +0x00
  5272  015d  00                	DEFB +0x00
  5273  015e  f8                	DEFB +0xf8
  5274  015f  00                	DEFB +0x00
  5275  0160  00                	DEFB +0x00
  5276  0161  00                	DEFB +0x00
  5277  0162  00                	DEFB +0x00
  5278  0163  00                	DEFB +0x00
  5279  0164  00                	DEFB +0x00
  5280  0165  00                	DEFB +0x00
  5281  0166  00                	DEFB +0x00
  5282  0167  00                	DEFB +0x00
  5283  0168  60                	DEFB +0x60
  5284  0169  60                	DEFB +0x60
  5285  016a  00                	DEFB +0x00
  5286  016b  00                	DEFB +0x00
  5287  016c  08                	DEFB +0x08
  5288  016d  10                	DEFB +0x10
  5289  016e  20                	DEFB +0x20
  5290  016f  40                	DEFB +0x40
  5291  0170  80                	DEFB +0x80
  5292  0171  00                	DEFB +0x00
  5293  0172  00                	DEFB +0x00
  5294  0173  70                	DEFB +0x70
  5295  0174  88                	DEFB +0x88
  5296  0175  98                	DEFB +0x98
  5297  0176  a8                	DEFB +0xa8
  5298  0177  c8                	DEFB +0xc8
  5299  0178  88                	DEFB +0x88
  5300  0179  70                	DEFB +0x70
  5301  017a  00                	DEFB +0x00
  5302  017b  20                	DEFB +0x20
  5303  017c  60                	DEFB +0x60
  5304  017d  20                	DEFB +0x20
  5305  017e  20                	DEFB +0x20
  5306  017f  20                	DEFB +0x20
  5307  0180  20                	DEFB +0x20
  5308  0181  70                	DEFB +0x70
  5309  0182  00                	DEFB +0x00
  5310  0183  70                	DEFB +0x70
  5311  0184  88                	DEFB +0x88
  5312  0185  08                	DEFB +0x08
  5313  0186  10                	DEFB +0x10
  5314  0187  20                	DEFB +0x20
  5315  0188  40                	DEFB +0x40
  5316  0189  f8                	DEFB +0xf8
  5317  018a  00                	DEFB +0x00
  5318  018b  f8                	DEFB +0xf8
  5319  018c  10                	DEFB +0x10
  5320  018d  20                	DEFB +0x20
  5321  018e  10                	DEFB +0x10
  5322  018f  08                	DEFB +0x08
  5323  0190  88                	DEFB +0x88
  5324  0191  70                	DEFB +0x70
  5325  0192  00                	DEFB +0x00
  5326  0193  10                	DEFB +0x10
  5327  0194  30                	DEFB +0x30
  5328  0195  50                	DEFB +0x50
  5329  0196  90                	DEFB +0x90
  5330  0197  f8                	DEFB +0xf8
  5331  0198  10                	DEFB +0x10
  5332  0199  10                	DEFB +0x10
  5333  019a  00                	DEFB +0x00
  5334  019b  f8                	DEFB +0xf8
  5335  019c  80                	DEFB +0x80
  5336  019d  f0                	DEFB +0xf0
  5337  019e  08                	DEFB +0x08
  5338  019f  08                	DEFB +0x08
  5339  01a0  88                	DEFB +0x88
  5340  01a1  70                	DEFB +0x70
  5341  01a2  00                	DEFB +0x00
  5342  01a3  30                	DEFB +0x30
  5343  01a4  40                	DEFB +0x40
  5344  01a5  80                	DEFB +0x80
  5345  01a6  f8                	DEFB +0xf8
  5346  01a7  88                	DEFB +0x88
  5347  01a8  88                	DEFB +0x88
  5348  01a9  70                	DEFB +0x70
  5349  01aa  00                	DEFB +0x00
  5350  01ab  f8                	DEFB +0xf8
  5351  01ac  08                	DEFB +0x08
  5352  01ad  10                	DEFB +0x10
  5353  01ae  20                	DEFB +0x20
  5354  01af  40                	DEFB +0x40
  5355  01b0  40                	DEFB +0x40
  5356  01b1  40                	DEFB +0x40
  5357  01b2  00                	DEFB +0x00
  5358  01b3  70                	DEFB +0x70
  5359  01b4  88                	DEFB +0x88
  5360  01b5  88                	DEFB +0x88
  5361  01b6  70                	DEFB +0x70
  5362  01b7  88                	DEFB +0x88
  5363  01b8  88                	DEFB +0x88
  5364  01b9  70                	DEFB +0x70
  5365  01ba  00                	DEFB +0x00
  5366  01bb  70                	DEFB +0x70
  5367  01bc  88                	DEFB +0x88
  5368  01bd  88                	DEFB +0x88
  5369  01be  78                	DEFB +0x78
  5370  01bf  08                	DEFB +0x08
  5371  01c0  10                	DEFB +0x10
  5372  01c1  60                	DEFB +0x60
  5373  01c2  00                	DEFB +0x00
  5374  01c3  00                	DEFB +0x00
  5375  01c4  30                	DEFB +0x30
  5376  01c5  30                	DEFB +0x30
  5377  01c6  00                	DEFB +0x00
  5378  01c7  30                	DEFB +0x30
  5379  01c8  30                	DEFB +0x30
  5380  01c9  00                	DEFB +0x00
  5381  01ca  00                	DEFB +0x00
  5382  01cb  00                	DEFB +0x00
  5383  01cc  30                	DEFB +0x30
  5384  01cd  30                	DEFB +0x30
  5385  01ce  00                	DEFB +0x00
  5386  01cf  30                	DEFB +0x30
  5387  01d0  10                	DEFB +0x10
  5388  01d1  20                	DEFB +0x20
  5389  01d2  00                	DEFB +0x00
  5390  01d3  10                	DEFB +0x10
  5391  01d4  20                	DEFB +0x20
  5392  01d5  40                	DEFB +0x40
  5393  01d6  80                	DEFB +0x80
  5394  01d7  40                	DEFB +0x40
  5395  01d8  20                	DEFB +0x20
  5396  01d9  10                	DEFB +0x10
  5397  01da  00                	DEFB +0x00
  5398  01db  00                	DEFB +0x00
  5399  01dc  00                	DEFB +0x00
  5400  01dd  f8                	DEFB +0xf8
  5401  01de  00                	DEFB +0x00
  5402  01df  f8                	DEFB +0xf8
  5403  01e0  00                	DEFB +0x00
  5404  01e1  00                	DEFB +0x00
  5405  01e2  00                	DEFB +0x00
  5406  01e3  40                	DEFB +0x40
  5407  01e4  20                	DEFB +0x20
  5408  01e5  10                	DEFB +0x10
  5409  01e6  08                	DEFB +0x08
  5410  01e7  10                	DEFB +0x10
  5411  01e8  20                	DEFB +0x20
  5412  01e9  40                	DEFB +0x40
  5413  01ea  00                	DEFB +0x00
  5414  01eb  70                	DEFB +0x70
  5415  01ec  88                	DEFB +0x88
  5416  01ed  08                	DEFB +0x08
  5417  01ee  10                	DEFB +0x10
  5418  01ef  20                	DEFB +0x20
  5419  01f0  00                	DEFB +0x00
  5420  01f1  20                	DEFB +0x20
  5421  01f2  00                	DEFB +0x00
  5422  01f3  70                	DEFB +0x70
  5423  01f4  88                	DEFB +0x88
  5424  01f5  08                	DEFB +0x08
  5425  01f6  68                	DEFB +0x68
  5426  01f7  a8                	DEFB +0xa8
  5427  01f8  a8                	DEFB +0xa8
  5428  01f9  70                	DEFB +0x70
  5429  01fa  00                	DEFB +0x00
  5430  01fb  70                	DEFB +0x70
  5431  01fc  88                	DEFB +0x88
  5432  01fd  88                	DEFB +0x88
  5433  01fe  88                	DEFB +0x88
  5434  01ff  f8                	DEFB +0xf8
  5435  0200  88                	DEFB +0x88
  5436  0201  88                	DEFB +0x88
  5437  0202  00                	DEFB +0x00
  5438  0203  f0                	DEFB +0xf0
  5439  0204  88                	DEFB +0x88
  5440  0205  88                	DEFB +0x88
  5441  0206  f0                	DEFB +0xf0
  5442  0207  88                	DEFB +0x88
  5443  0208  88                	DEFB +0x88
  5444  0209  f0                	DEFB +0xf0
  5445  020a  00                	DEFB +0x00
  5446  020b  70                	DEFB +0x70
  5447  020c  88                	DEFB +0x88
  5448  020d  80                	DEFB +0x80
  5449  020e  80                	DEFB +0x80
  5450  020f  80                	DEFB +0x80
  5451  0210  88                	DEFB +0x88
  5452  0211  70                	DEFB +0x70
  5453  0212  00                	DEFB +0x00
  5454  0213  e0                	DEFB +0xe0
  5455  0214  90                	DEFB +0x90
  5456  0215  88                	DEFB +0x88
  5457  0216  88                	DEFB +0x88
  5458  0217  88                	DEFB +0x88
  5459  0218  90                	DEFB +0x90
  5460  0219  e0                	DEFB +0xe0
  5461  021a  00                	DEFB +0x00
  5462  021b  f8                	DEFB +0xf8
  5463  021c  80                	DEFB +0x80
  5464  021d  80                	DEFB +0x80
  5465  021e  f0                	DEFB +0xf0
  5466  021f  80                	DEFB +0x80
  5467  0220  80                	DEFB +0x80
  5468  0221  f8                	DEFB +0xf8
  5469  0222  00                	DEFB +0x00
  5470  0223  f8                	DEFB +0xf8
  5471  0224  80                	DEFB +0x80
  5472  0225  80                	DEFB +0x80
  5473  0226  f0                	DEFB +0xf0
  5474  0227  80                	DEFB +0x80
  5475  0228  80                	DEFB +0x80
  5476  0229  80                	DEFB +0x80
  5477  022a  00                	DEFB +0x00
  5478  022b  70                	DEFB +0x70
  5479  022c  88                	DEFB +0x88
  5480  022d  80                	DEFB +0x80
  5481  022e  b8                	DEFB +0xb8
  5482  022f  88                	DEFB +0x88
  5483  0230  88                	DEFB +0x88
  5484  0231  78                	DEFB +0x78
  5485  0232  00                	DEFB +0x00
  5486  0233  88                	DEFB +0x88
  5487  0234  88                	DEFB +0x88
  5488  0235  88                	DEFB +0x88
  5489  0236  f8                	DEFB +0xf8
  5490  0237  88                	DEFB +0x88
  5491  0238  88                	DEFB +0x88
  5492  0239  88                	DEFB +0x88
  5493  023a  00                	DEFB +0x00
  5494  023b  70                	DEFB +0x70
  5495  023c  20                	DEFB +0x20
  5496  023d  20                	DEFB +0x20
  5497  023e  20                	DEFB +0x20
  5498  023f  20                	DEFB +0x20
  5499  0240  20                	DEFB +0x20
  5500  0241  70                	DEFB +0x70
  5501  0242  00                	DEFB +0x00
  5502  0243  38                	DEFB +0x38
  5503  0244  10                	DEFB +0x10
  5504  0245  10                	DEFB +0x10
  5505  0246  10                	DEFB +0x10
  5506  0247  10                	DEFB +0x10
  5507  0248  90                	DEFB +0x90
  5508  0249  60                	DEFB +0x60
  5509  024a  00                	DEFB +0x00
  5510  024b  88                	DEFB +0x88
  5511  024c  90                	DEFB +0x90
  5512  024d  a0                	DEFB +0xa0
  5513  024e  c0                	DEFB +0xc0
  5514  024f  a0                	DEFB +0xa0
  5515  0250  90                	DEFB +0x90
  5516  0251  88                	DEFB +0x88
  5517  0252  00                	DEFB +0x00
  5518  0253  80                	DEFB +0x80
  5519  0254  80                	DEFB +0x80
  5520  0255  80                	DEFB +0x80
  5521  0256  80                	DEFB +0x80
  5522  0257  80                	DEFB +0x80
  5523  0258  80                	DEFB +0x80
  5524  0259  f8                	DEFB +0xf8
  5525  025a  00                	DEFB +0x00
  5526  025b  88                	DEFB +0x88
  5527  025c  d8                	DEFB +0xd8
  5528  025d  a8                	DEFB +0xa8
  5529  025e  a8                	DEFB +0xa8
  5530  025f  88                	DEFB +0x88
  5531  0260  88                	DEFB +0x88
  5532  0261  88                	DEFB +0x88
  5533  0262  00                	DEFB +0x00
  5534  0263  88                	DEFB +0x88
  5535  0264  c8                	DEFB +0xc8
  5536  0265  a8                	DEFB +0xa8
  5537  0266  98                	DEFB +0x98
  5538  0267  88                	DEFB +0x88
  5539  0268  88                	DEFB +0x88
  5540  0269  88                	DEFB +0x88
  5541  026a  00                	DEFB +0x00
  5542  026b  70                	DEFB +0x70
  5543  026c  88                	DEFB +0x88
  5544  026d  88                	DEFB +0x88
  5545  026e  88                	DEFB +0x88
  5546  026f  88                	DEFB +0x88
  5547  0270  88                	DEFB +0x88
  5548  0271  70                	DEFB +0x70
  5549  0272  00                	DEFB +0x00
  5550  0273  f0                	DEFB +0xf0
  5551  0274  88                	DEFB +0x88
  5552  0275  88                	DEFB +0x88
  5553  0276  f0                	DEFB +0xf0
  5554  0277  80                	DEFB +0x80
  5555  0278  80                	DEFB +0x80
  5556  0279  80                	DEFB +0x80
  5557  027a  00                	DEFB +0x00
  5558  027b  70                	DEFB +0x70
  5559  027c  88                	DEFB +0x88
  5560  027d  88                	DEFB +0x88
  5561  027e  88                	DEFB +0x88
  5562  027f  a8                	DEFB +0xa8
  5563  0280  90                	DEFB +0x90
  5564  0281  68                	DEFB +0x68
  5565  0282  00                	DEFB +0x00
  5566  0283  f0                	DEFB +0xf0
  5567  0284  88                	DEFB +0x88
  5568  0285  88                	DEFB +0x88
  5569  0286  f0                	DEFB +0xf0
  5570  0287  a0                	DEFB +0xa0
  5571  0288  90                	DEFB +0x90
  5572  0289  88                	DEFB +0x88
  5573  028a  00                	DEFB +0x00
  5574  028b  78                	DEFB +0x78
  5575  028c  80                	DEFB +0x80
  5576  028d  80                	DEFB +0x80
  5577  028e  70                	DEFB +0x70
  5578  028f  08                	DEFB +0x08
  5579  0290  08                	DEFB +0x08
  5580  0291  f0                	DEFB +0xf0
  5581  0292  00                	DEFB +0x00
  5582  0293  f8                	DEFB +0xf8
  5583  0294  20                	DEFB +0x20
  5584  0295  20                	DEFB +0x20
  5585  0296  20                	DEFB +0x20
  5586  0297  20                	DEFB +0x20
  5587  0298  20                	DEFB +0x20
  5588  0299  20                	DEFB +0x20
  5589  029a  00                	DEFB +0x00
  5590  029b  88                	DEFB +0x88
  5591  029c  88                	DEFB +0x88
  5592  029d  88                	DEFB +0x88
  5593  029e  88                	DEFB +0x88
  5594  029f  88                	DEFB +0x88
  5595  02a0  88                	DEFB +0x88
  5596  02a1  70                	DEFB +0x70
  5597  02a2  00                	DEFB +0x00
  5598  02a3  88                	DEFB +0x88
  5599  02a4  88                	DEFB +0x88
  5600  02a5  88                	DEFB +0x88
  5601  02a6  88                	DEFB +0x88
  5602  02a7  88                	DEFB +0x88
  5603  02a8  50                	DEFB +0x50
  5604  02a9  20                	DEFB +0x20
  5605  02aa  00                	DEFB +0x00
  5606  02ab  88                	DEFB +0x88
  5607  02ac  88                	DEFB +0x88
  5608  02ad  88                	DEFB +0x88
  5609  02ae  88                	DEFB +0x88
  5610  02af  a8                	DEFB +0xa8
  5611  02b0  a8                	DEFB +0xa8
  5612  02b1  50                	DEFB +0x50
  5613  02b2  00                	DEFB +0x00
  5614  02b3  88                	DEFB +0x88
  5615  02b4  88                	DEFB +0x88
  5616  02b5  50                	DEFB +0x50
  5617  02b6  20                	DEFB +0x20
  5618  02b7  50                	DEFB +0x50
  5619  02b8  88                	DEFB +0x88
  5620  02b9  88                	DEFB +0x88
  5621  02ba  00                	DEFB +0x00
  5622  02bb  88                	DEFB +0x88
  5623  02bc  88                	DEFB +0x88
  5624  02bd  88                	DEFB +0x88
  5625  02be  50                	DEFB +0x50
  5626  02bf  20                	DEFB +0x20
  5627  02c0  20                	DEFB +0x20
  5628  02c1  20                	DEFB +0x20
  5629  02c2  00                	DEFB +0x00
  5630  02c3  f8                	DEFB +0xf8
  5631  02c4  08                	DEFB +0x08
  5632  02c5  10                	DEFB +0x10
  5633  02c6  20                	DEFB +0x20
  5634  02c7  40                	DEFB +0x40
  5635  02c8  80                	DEFB +0x80
  5636  02c9  f8                	DEFB +0xf8
  5637  02ca  00                	DEFB +0x00
  5638  02cb  70                	DEFB +0x70
  5639  02cc  40                	DEFB +0x40
  5640  02cd  40                	DEFB +0x40
  5641  02ce  40                	DEFB +0x40
  5642  02cf  40                	DEFB +0x40
  5643  02d0  40                	DEFB +0x40
  5644  02d1  70                	DEFB +0x70
  5645  02d2  00                	DEFB +0x00
  5646  02d3  00                	DEFB +0x00
  5647  02d4  80                	DEFB +0x80
  5648  02d5  40                	DEFB +0x40
  5649  02d6  20                	DEFB +0x20
  5650  02d7  10                	DEFB +0x10
  5651  02d8  08                	DEFB +0x08
  5652  02d9  00                	DEFB +0x00
  5653  02da  00                	DEFB +0x00
  5654  02db  70                	DEFB +0x70
  5655  02dc  10                	DEFB +0x10
  5656  02dd  10                	DEFB +0x10
  5657  02de  10                	DEFB +0x10
  5658  02df  10                	DEFB +0x10
  5659  02e0  10                	DEFB +0x10
  5660  02e1  70                	DEFB +0x70
  5661  02e2  00                	DEFB +0x00
  5662  02e3  20                	DEFB +0x20
  5663  02e4  50                	DEFB +0x50
  5664  02e5  88                	DEFB +0x88
  5665  02e6  00                	DEFB +0x00
  5666  02e7  00                	DEFB +0x00
  5667  02e8  00                	DEFB +0x00
  5668  02e9  00                	DEFB +0x00
  5669  02ea  00                	DEFB +0x00
  5670  02eb  00                	DEFB +0x00
  5671  02ec  00                	DEFB +0x00
  5672  02ed  00                	DEFB +0x00
  5673  02ee  00                	DEFB +0x00
  5674  02ef  00                	DEFB +0x00
  5675  02f0  00                	DEFB +0x00
  5676  02f1  f8                	DEFB +0xf8
  5677  02f2  00                	DEFB +0x00
  5678  02f3  40                	DEFB +0x40
  5679  02f4  20                	DEFB +0x20
  5680  02f5  10                	DEFB +0x10
  5681  02f6  00                	DEFB +0x00
  5682  02f7  00                	DEFB +0x00
  5683  02f8  00                	DEFB +0x00
  5684  02f9  00                	DEFB +0x00
  5685  02fa  00                	DEFB +0x00
  5686  02fb  00                	DEFB +0x00
  5687  02fc  00                	DEFB +0x00
  5688  02fd  70                	DEFB +0x70
  5689  02fe  08                	DEFB +0x08
  5690  02ff  78                	DEFB +0x78
  5691  0300  88                	DEFB +0x88
  5692  0301  78                	DEFB +0x78
  5693  0302  00                	DEFB +0x00
  5694  0303  00                	DEFB +0x00
  5695  0304  80                	DEFB +0x80
  5696  0305  80                	DEFB +0x80
  5697  0306  b0                	DEFB +0xb0
  5698  0307  c8                	DEFB +0xc8
  5699  0308  88                	DEFB +0x88
  5700  0309  f0                	DEFB +0xf0
  5701  030a  00                	DEFB +0x00
  5702  030b  00                	DEFB +0x00
  5703  030c  00                	DEFB +0x00
  5704  030d  70                	DEFB +0x70
  5705  030e  80                	DEFB +0x80
  5706  030f  80                	DEFB +0x80
  5707  0310  88                	DEFB +0x88
  5708  0311  70                	DEFB +0x70
  5709  0312  00                	DEFB +0x00
  5710  0313  08                	DEFB +0x08
  5711  0314  08                	DEFB +0x08
  5712  0315  08                	DEFB +0x08
  5713  0316  68                	DEFB +0x68
  5714  0317  98                	DEFB +0x98
  5715  0318  88                	DEFB +0x88
  5716  0319  78                	DEFB +0x78
  5717  031a  00                	DEFB +0x00
  5718  031b  00                	DEFB +0x00
  5719  031c  00                	DEFB +0x00
  5720  031d  70                	DEFB +0x70
  5721  031e  88                	DEFB +0x88
  5722  031f  f8                	DEFB +0xf8
  5723  0320  80                	DEFB +0x80
  5724  0321  70                	DEFB +0x70
  5725  0322  00                	DEFB +0x00
  5726  0323  30                	DEFB +0x30
  5727  0324  48                	DEFB +0x48
  5728  0325  40                	DEFB +0x40
  5729  0326  e0                	DEFB +0xe0
  5730  0327  40                	DEFB +0x40
  5731  0328  40                	DEFB +0x40
  5732  0329  40                	DEFB +0x40
  5733  032a  00                	DEFB +0x00
  5734  032b  00                	DEFB +0x00
  5735  032c  78                	DEFB +0x78
  5736  032d  88                	DEFB +0x88
  5737  032e  88                	DEFB +0x88
  5738  032f  78                	DEFB +0x78
  5739  0330  08                	DEFB +0x08
  5740  0331  70                	DEFB +0x70
  5741  0332  00                	DEFB +0x00
  5742  0333  80                	DEFB +0x80
  5743  0334  80                	DEFB +0x80
  5744  0335  b0                	DEFB +0xb0
  5745  0336  c8                	DEFB +0xc8
  5746  0337  88                	DEFB +0x88
  5747  0338  88                	DEFB +0x88
  5748  0339  88                	DEFB +0x88
  5749  033a  00                	DEFB +0x00
  5750  033b  00                	DEFB +0x00
  5751  033c  20                	DEFB +0x20
  5752  033d  00                	DEFB +0x00
  5753  033e  20                	DEFB +0x20
  5754  033f  20                	DEFB +0x20
  5755  0340  20                	DEFB +0x20
  5756  0341  20                	DEFB +0x20
  5757  0342  00                	DEFB +0x00
  5758  0343  10                	DEFB +0x10
  5759  0344  00                	DEFB +0x00
  5760  0345  30                	DEFB +0x30
  5761  0346  10                	DEFB +0x10
  5762  0347  10                	DEFB +0x10
  5763  0348  90                	DEFB +0x90
  5764  0349  60                	DEFB +0x60
  5765  034a  00                	DEFB +0x00
  5766  034b  80                	DEFB +0x80
  5767  034c  80                	DEFB +0x80
  5768  034d  90                	DEFB +0x90
  5769  034e  a0                	DEFB +0xa0
  5770  034f  c0                	DEFB +0xc0
  5771  0350  a0                	DEFB +0xa0
  5772  0351  90                	DEFB +0x90
  5773  0352  00                	DEFB +0x00
  5774  0353  60                	DEFB +0x60
  5775  0354  20                	DEFB +0x20
  5776  0355  20                	DEFB +0x20
  5777  0356  20                	DEFB +0x20
  5778  0357  20                	DEFB +0x20
  5779  0358  20                	DEFB +0x20
  5780  0359  70                	DEFB +0x70
  5781  035a  00                	DEFB +0x00
  5782  035b  00                	DEFB +0x00
  5783  035c  00                	DEFB +0x00
  5784  035d  d0                	DEFB +0xd0
  5785  035e  a8                	DEFB +0xa8
  5786  035f  a8                	DEFB +0xa8
  5787  0360  88                	DEFB +0x88
  5788  0361  88                	DEFB +0x88
  5789  0362  00                	DEFB +0x00
  5790  0363  00                	DEFB +0x00
  5791  0364  00                	DEFB +0x00
  5792  0365  b0                	DEFB +0xb0
  5793  0366  c8                	DEFB +0xc8
  5794  0367  88                	DEFB +0x88
  5795  0368  88                	DEFB +0x88
  5796  0369  88                	DEFB +0x88
  5797  036a  00                	DEFB +0x00
  5798  036b  00                	DEFB +0x00
  5799  036c  00                	DEFB +0x00
  5800  036d  70                	DEFB +0x70
  5801  036e  88                	DEFB +0x88
  5802  036f  88                	DEFB +0x88
  5803  0370  88                	DEFB +0x88
  5804  0371  70                	DEFB +0x70
  5805  0372  00                	DEFB +0x00
  5806  0373  00                	DEFB +0x00
  5807  0374  00                	DEFB +0x00
  5808  0375  f0                	DEFB +0xf0
  5809  0376  88                	DEFB +0x88
  5810  0377  f0                	DEFB +0xf0
  5811  0378  80                	DEFB +0x80
  5812  0379  80                	DEFB +0x80
  5813  037a  00                	DEFB +0x00
  5814  037b  00                	DEFB +0x00
  5815  037c  00                	DEFB +0x00
  5816  037d  68                	DEFB +0x68
  5817  037e  98                	DEFB +0x98
  5818  037f  78                	DEFB +0x78
  5819  0380  08                	DEFB +0x08
  5820  0381  08                	DEFB +0x08
  5821  0382  00                	DEFB +0x00
  5822  0383  00                	DEFB +0x00
  5823  0384  00                	DEFB +0x00
  5824  0385  b0                	DEFB +0xb0
  5825  0386  c8                	DEFB +0xc8
  5826  0387  80                	DEFB +0x80
  5827  0388  80                	DEFB +0x80
  5828  0389  80                	DEFB +0x80
  5829  038a  00                	DEFB +0x00
  5830  038b  00                	DEFB +0x00
  5831  038c  00                	DEFB +0x00
  5832  038d  70                	DEFB +0x70
  5833  038e  80                	DEFB +0x80
  5834  038f  70                	DEFB +0x70
  5835  0390  08                	DEFB +0x08
  5836  0391  f0                	DEFB +0xf0
  5837  0392  00                	DEFB +0x00
  5838  0393  40                	DEFB +0x40
  5839  0394  40                	DEFB +0x40
  5840  0395  e0                	DEFB +0xe0
  5841  0396  40                	DEFB +0x40
  5842  0397  40                	DEFB +0x40
  5843  0398  48                	DEFB +0x48
  5844  0399  30                	DEFB +0x30
  5845  039a  00                	DEFB +0x00
  5846  039b  00                	DEFB +0x00
  5847  039c  00                	DEFB +0x00
  5848  039d  88                	DEFB +0x88
  5849  039e  88                	DEFB +0x88
  5850  039f  88                	DEFB +0x88
  5851  03a0  98                	DEFB +0x98
  5852  03a1  68                	DEFB +0x68
  5853  03a2  00                	DEFB +0x00
  5854  03a3  00                	DEFB +0x00
  5855  03a4  00                	DEFB +0x00
  5856  03a5  88                	DEFB +0x88
  5857  03a6  88                	DEFB +0x88
  5858  03a7  88                	DEFB +0x88
  5859  03a8  50                	DEFB +0x50
  5860  03a9  20                	DEFB +0x20
  5861  03aa  00                	DEFB +0x00
  5862  03ab  00                	DEFB +0x00
  5863  03ac  00                	DEFB +0x00
  5864  03ad  88                	DEFB +0x88
  5865  03ae  88                	DEFB +0x88
  5866  03af  a8                	DEFB +0xa8
  5867  03b0  a8                	DEFB +0xa8
  5868  03b1  50                	DEFB +0x50
  5869  03b2  00                	DEFB +0x00
  5870  03b3  00                	DEFB +0x00
  5871  03b4  00                	DEFB +0x00
  5872  03b5  88                	DEFB +0x88
  5873  03b6  50                	DEFB +0x50
  5874  03b7  20                	DEFB +0x20
  5875  03b8  50                	DEFB +0x50
  5876  03b9  88                	DEFB +0x88
  5877  03ba  00                	DEFB +0x00
  5878  03bb  00                	DEFB +0x00
  5879  03bc  00                	DEFB +0x00
  5880  03bd  88                	DEFB +0x88
  5881  03be  88                	DEFB +0x88
  5882  03bf  78                	DEFB +0x78
  5883  03c0  08                	DEFB +0x08
  5884  03c1  70                	DEFB +0x70
  5885  03c2  00                	DEFB +0x00
  5886  03c3  00                	DEFB +0x00
  5887  03c4  00                	DEFB +0x00
  5888  03c5  f8                	DEFB +0xf8
  5889  03c6  10                	DEFB +0x10
  5890  03c7  20                	DEFB +0x20
  5891  03c8  40                	DEFB +0x40
  5892  03c9  f8                	DEFB +0xf8
  5893  03ca  00                	DEFB +0x00
  5894  03cb  10                	DEFB +0x10
  5895  03cc  20                	DEFB +0x20
  5896  03cd  20                	DEFB +0x20
  5897  03ce  40                	DEFB +0x40
  5898  03cf  20                	DEFB +0x20
  5899  03d0  20                	DEFB +0x20
  5900  03d1  10                	DEFB +0x10
  5901  03d2  00                	DEFB +0x00
  5902  03d3  20                	DEFB +0x20
  5903  03d4  20                	DEFB +0x20
  5904  03d5  20                	DEFB +0x20
  5905  03d6  20                	DEFB +0x20
  5906  03d7  20                	DEFB +0x20
  5907  03d8  20                	DEFB +0x20
  5908  03d9  20                	DEFB +0x20
  5909  03da  00                	DEFB +0x00
  5910  03db  20                	DEFB +0x20
  5911  03dc  10                	DEFB +0x10
  5912  03dd  10                	DEFB +0x10
  5913  03de  08                	DEFB +0x08
  5914  03df  10                	DEFB +0x10
  5915  03e0  10                	DEFB +0x10
  5916  03e1  20                	DEFB +0x20
  5917  03e2  00                	DEFB +0x00
  5918  03e3  00                	DEFB +0x00
  5919  03e4  28                	DEFB +0x28
  5920  03e5  50                	DEFB +0x50
  5921  03e6  00                	DEFB +0x00
  5922  03e7  00                	DEFB +0x00
  5923  03e8  00                	DEFB +0x00
  5924  03e9  00                	DEFB +0x00
  5925  03ea  00                	DEFB +0x00
  5926  03eb  00                	DEFB 0x00
  5927  03ec  00                	DEFB 0x00
  5928  03ed  00                	DEFB 0x00
  5929  03ee  00                	DEFB 0x00
  5930  03ef  00                	DEFB 0x00
  5931  03f0  00                	DEFB 0x00
  5932  03f1  00                	DEFB 0x00
  5933  03f2  00                	DEFB 0x00
  5934                          	SECTION code_compiler
  5935                          ;	---------------------------------
  5936                          ; Function invalidateScreen
  5937                          ; ---------------------------------
  5938                          _invalidateScreen:
  5939  1882  cdb408            	call	_vdp_waitVDPReadyInt
  5940  1885  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  5941  1888  e5                	push	hl
  5942  1889  cd4b08            	call	_vdp_setWriteAddress
  5943  188c  f1                	pop	af
  5944  188d  01d105            	ld	bc,__dBuffer
  5945                          l_invalidateScreen_00101:
  5946  1890  0a                	ld	a, (bc)
  5947  1891  d3a0              	out	(_IO_VDPDATA), a
  5948  1893  03                	inc	bc
  5949  1894  21d11d            	ld	hl, +(__dBuffer + 6144)
  5950  1897  bf                	cp	a, a
  5951  1898  ed42              	sbc	hl, bc
  5952  189a  20f4              	jr	NZ,l_invalidateScreen_00101
  5953  189c  c9                	ret
  5954                          	SECTION code_compiler
  5955                          ;	---------------------------------
  5956                          ; Function putPixel
  5957                          ; ---------------------------------
  5958                          _putPixel:
  5959  189d  dde5              	push	ix
  5960  189f  dd210000          	ld	ix,0
  5961  18a3  dd39              	add	ix,sp
  5962  18a5  dd7e05            	ld	a,(ix+5)
  5963  18a8  0f                	rrca
  5964  18a9  0f                	rrca
  5965  18aa  0f                	rrca
  5966  18ab  e61f              	and	a,0x1f
  5967  18ad  2600              	ld	h,0x00
  5968  18af  6f                	ld	l, a
  5969  18b0  29                	add	hl, hl
  5970  18b1  29                	add	hl, hl
  5971  18b2  29                	add	hl, hl
  5972  18b3  dd7e06            	ld	a,(ix+6)
  5973  18b6  e607              	and	a,0x07
  5974  18b8  1600              	ld	d,0x00
  5975  18ba  5f                	ld	e, a
  5976  18bb  19                	add	hl, de
  5977  18bc  dd7e06            	ld	a,(ix+6)
  5978  18bf  0f                	rrca
  5979  18c0  0f                	rrca
  5980  18c1  0f                	rrca
  5981  18c2  e61f              	and	a,0x1f
  5982  18c4  57                	ld	d, a
  5983  18c5  1e00              	ld	e,0x00
  5984  18c7  19                	add	hl, de
  5985  18c8  eb                	ex	de, hl
  5986  18c9  dd7e05            	ld	a,(ix+5)
  5987  18cc  e607              	and	a,0x07
  5988  18ce  6f                	ld	l, a
  5989  18cf  018000            	ld	bc,0x0080
  5990  18d2  2c                	inc	l
  5991  18d3  1804              	jr	l_putPixel_00112
  5992                          l_putPixel_00111:
  5993  18d5  cb28              	sra	b
  5994  18d7  cb19              	rr	c
  5995                          l_putPixel_00112:
  5996  18d9  2d                	dec	l
  5997  18da  20f9              	jr	NZ, l_putPixel_00111
  5998  18dc  dd7e04            	ld	a,(ix+4)
  5999  18df  b7                	or	a, a
  6000  18e0  2809              	jr	Z,l_putPixel_00102
  6001  18e2  21d105            	ld	hl,__dBuffer+0
  6002  18e5  19                	add	hl, de
  6003  18e6  7e                	ld	a, (hl)
  6004  18e7  b1                	or	a, c
  6005  18e8  77                	ld	(hl), a
  6006  18e9  1809              	jr	l_putPixel_00104
  6007                          l_putPixel_00102:
  6008  18eb  21d105            	ld	hl,__dBuffer
  6009  18ee  19                	add	hl, de
  6010  18ef  5e                	ld	e, (hl)
  6011  18f0  79                	ld	a, c
  6012  18f1  2f                	cpl
  6013  18f2  a3                	and	a, e
  6014  18f3  77                	ld	(hl), a
  6015                          l_putPixel_00104:
  6016  18f4  dde1              	pop	ix
  6017  18f6  c9                	ret
  6018                          	SECTION code_compiler
  6019                          ;	---------------------------------
  6020                          ; Function line
  6021                          ; ---------------------------------
  6022                          _line:
  6023  18f7  dde5              	push	ix
  6024  18f9  dd210000          	ld	ix,0
  6025  18fd  dd39              	add	ix,sp
  6026  18ff  21f8ff            	ld	hl, -8
  6027  1902  39                	add	hl, sp
  6028  1903  f9                	ld	sp, hl
  6029  1904  dd7e09            	ld	a,(ix+9)
  6030  1907  dd9605            	sub	a,(ix+5)
  6031  190a  6f                	ld	l, a
  6032  190b  dd7e0a            	ld	a,(ix+10)
  6033  190e  dd9e06            	sbc	a,(ix+6)
  6034  1911  67                	ld	h, a
  6035  1912  cd0000            	call	_abs
  6036  1915  e3                	ex	(sp), hl
  6037  1916  dd7e05            	ld	a,(ix+5)
  6038  1919  dd9609            	sub	a,(ix+9)
  6039  191c  dd7e06            	ld	a,(ix+6)
  6040  191f  dd9e0a            	sbc	a,(ix+10)
  6041  1922  e22719            	jp	PO, l_line_00155
  6042  1925  ee80              	xor	a,0x80
  6043                          l_line_00155:
  6044  1927  f22f19            	jp	P, l_line_00110
  6045  192a  010100            	ld	bc,0x0001
  6046  192d  1803              	jr	l_line_00111
  6047                          l_line_00110:
  6048  192f  01ffff            	ld	bc,0xffff
  6049                          l_line_00111:
  6050  1932  dd71fa            	ld	(ix-6),c
  6051  1935  dd70fb            	ld	(ix-5),b
  6052  1938  dd7e0b            	ld	a,(ix+11)
  6053  193b  dd9607            	sub	a,(ix+7)
  6054  193e  6f                	ld	l, a
  6055  193f  dd7e0c            	ld	a,(ix+12)
  6056  1942  dd9e08            	sbc	a,(ix+8)
  6057  1945  67                	ld	h, a
  6058  1946  cd0000            	call	_abs
  6059  1949  eb                	ex	de, hl
  6060  194a  dd7e07            	ld	a,(ix+7)
  6061  194d  dd960b            	sub	a,(ix+11)
  6062  1950  dd7e08            	ld	a,(ix+8)
  6063  1953  dd9e0c            	sbc	a,(ix+12)
  6064  1956  e25b19            	jp	PO, l_line_00156
  6065  1959  ee80              	xor	a,0x80
  6066                          l_line_00156:
  6067  195b  f26319            	jp	P, l_line_00112
  6068  195e  010100            	ld	bc,0x0001
  6069  1961  1803              	jr	l_line_00113
  6070                          l_line_00112:
  6071  1963  01ffff            	ld	bc,0xffff
  6072                          l_line_00113:
  6073  1966  dd71fc            	ld	(ix-4),c
  6074  1969  dd70fd            	ld	(ix-3),b
  6075  196c  7b                	ld	a, e
  6076  196d  dd96f8            	sub	a,(ix-8)
  6077  1970  7a                	ld	a, d
  6078  1971  dd9ef9            	sbc	a,(ix-7)
  6079  1974  e27919            	jp	PO, l_line_00157
  6080  1977  ee80              	xor	a,0x80
  6081                          l_line_00157:
  6082  1979  f28019            	jp	P, l_line_00114
  6083  197c  e1                	pop	hl
  6084  197d  e5                	push	hl
  6085  197e  1806              	jr	l_line_00115
  6086                          l_line_00114:
  6087  1980  210000            	ld	hl,0x0000
  6088  1983  bf                	cp	a, a
  6089  1984  ed52              	sbc	hl, de
  6090                          l_line_00115:
  6091  1986  cb2c              	sra	h
  6092  1988  cb1d              	rr	l
  6093  198a  af                	xor	a, a
  6094  198b  dd96f8            	sub	a,(ix-8)
  6095  198e  dd77fe            	ld	(ix-2),a
  6096  1991  9f                	sbc	a, a
  6097  1992  dd96f9            	sub	a,(ix-7)
  6098  1995  dd77ff            	ld	(ix-1),a
  6099                          l_line_00105:
  6100  1998  dd4607            	ld	b,(ix+7)
  6101  199b  dd7e05            	ld	a,(ix+5)
  6102  199e  e5                	push	hl
  6103  199f  d5                	push	de
  6104  19a0  c5                	push	bc
  6105  19a1  33                	inc	sp
  6106  19a2  f5                	push	af
  6107  19a3  33                	inc	sp
  6108  19a4  dd7e04            	ld	a,(ix+4)
  6109  19a7  f5                	push	af
  6110  19a8  33                	inc	sp
  6111  19a9  cd9d18            	call	_putPixel
  6112  19ac  f1                	pop	af
  6113  19ad  33                	inc	sp
  6114  19ae  d1                	pop	de
  6115  19af  e1                	pop	hl
  6116  19b0  dd7e05            	ld	a,(ix+5)
  6117  19b3  dd9609            	sub	a,(ix+9)
  6118  19b6  2018              	jr	NZ,l_line_00117
  6119  19b8  dd7e06            	ld	a,(ix+6)
  6120  19bb  dd960a            	sub	a,(ix+10)
  6121  19be  2010              	jr	NZ,l_line_00117
  6122  19c0  dd7e07            	ld	a,(ix+7)
  6123  19c3  dd960b            	sub	a,(ix+11)
  6124  19c6  2008              	jr	NZ,l_line_00160
  6125  19c8  dd7e08            	ld	a,(ix+8)
  6126  19cb  dd960c            	sub	a,(ix+12)
  6127  19ce  284b              	jr	Z,l_line_00108
  6128                          l_line_00160:
  6129                          l_line_00117:
  6130  19d0  4d                	ld	c, l
  6131  19d1  44                	ld	b, h
  6132  19d2  dd7efe            	ld	a,(ix-2)
  6133  19d5  95                	sub	a, l
  6134  19d6  dd7eff            	ld	a,(ix-1)
  6135  19d9  9c                	sbc	a, h
  6136  19da  e2df19            	jp	PO, l_line_00161
  6137  19dd  ee80              	xor	a,0x80
  6138                          l_line_00161:
  6139  19df  f2f719            	jp	P, l_line_00102
  6140  19e2  bf                	cp	a, a
  6141  19e3  ed52              	sbc	hl, de
  6142  19e5  dd7e05            	ld	a,(ix+5)
  6143  19e8  dd86fa            	add	a,(ix-6)
  6144  19eb  dd7705            	ld	(ix+5),a
  6145  19ee  dd7e06            	ld	a,(ix+6)
  6146  19f1  dd8efb            	adc	a,(ix-5)
  6147  19f4  dd7706            	ld	(ix+6),a
  6148                          l_line_00102:
  6149  19f7  79                	ld	a, c
  6150  19f8  93                	sub	a, e
  6151  19f9  78                	ld	a, b
  6152  19fa  9a                	sbc	a, d
  6153  19fb  e2001a            	jp	PO, l_line_00162
  6154  19fe  ee80              	xor	a,0x80
  6155                          l_line_00162:
  6156  1a00  f29819            	jp	P, l_line_00105
  6157  1a03  c1                	pop	bc
  6158  1a04  c5                	push	bc
  6159  1a05  09                	add	hl, bc
  6160  1a06  dd7efc            	ld	a,(ix-4)
  6161  1a09  dd8607            	add	a,(ix+7)
  6162  1a0c  dd7707            	ld	(ix+7),a
  6163  1a0f  dd7efd            	ld	a,(ix-3)
  6164  1a12  dd8e08            	adc	a,(ix+8)
  6165  1a15  dd7708            	ld	(ix+8),a
  6166  1a18  c39819            	jp	l_line_00105
  6167                          l_line_00108:
  6168  1a1b  ddf9              	ld	sp, ix
  6169  1a1d  dde1              	pop	ix
  6170  1a1f  c9                	ret
  6171                          	SECTION code_compiler
  6172                          ;	---------------------------------
  6173                          ; Function window
  6174                          ; ---------------------------------
  6175                          _window:
  6176  1a20  dde5              	push	ix
  6177  1a22  dd210000          	ld	ix,0
  6178  1a26  dd39              	add	ix,sp
  6179  1a28  dd4605            	ld	b,(ix+5)
  6180                          l_window_00104:
  6181  1a2b  78                	ld	a, b
  6182  1a2c  dd9607            	sub	a,(ix+7)
  6183  1a2f  d20c1b            	jp	NC, l_window_00101
  6184  1a32  c5                	push	bc
  6185  1a33  dd7e06            	ld	a,(ix+6)
  6186  1a36  f5                	push	af
  6187  1a37  33                	inc	sp
  6188  1a38  c5                	push	bc
  6189  1a39  33                	inc	sp
  6190  1a3a  dd7e04            	ld	a,(ix+4)
  6191  1a3d  f5                	push	af
  6192  1a3e  33                	inc	sp
  6193  1a3f  cd9d18            	call	_putPixel
  6194  1a42  f1                	pop	af
  6195  1a43  33                	inc	sp
  6196  1a44  c1                	pop	bc
  6197  1a45  dd4e06            	ld	c,(ix+6)
  6198  1a48  79                	ld	a, c
  6199  1a49  3c                	inc	a
  6200  1a4a  c5                	push	bc
  6201  1a4b  f5                	push	af
  6202  1a4c  33                	inc	sp
  6203  1a4d  c5                	push	bc
  6204  1a4e  33                	inc	sp
  6205  1a4f  dd7e04            	ld	a,(ix+4)
  6206  1a52  f5                	push	af
  6207  1a53  33                	inc	sp
  6208  1a54  cd9d18            	call	_putPixel
  6209  1a57  f1                	pop	af
  6210  1a58  33                	inc	sp
  6211  1a59  c1                	pop	bc
  6212  1a5a  79                	ld	a, c
  6213  1a5b  3c                	inc	a
  6214  1a5c  3c                	inc	a
  6215  1a5d  c5                	push	bc
  6216  1a5e  f5                	push	af
  6217  1a5f  33                	inc	sp
  6218  1a60  c5                	push	bc
  6219  1a61  33                	inc	sp
  6220  1a62  dd7e04            	ld	a,(ix+4)
  6221  1a65  f5                	push	af
  6222  1a66  33                	inc	sp
  6223  1a67  cd9d18            	call	_putPixel
  6224  1a6a  f1                	pop	af
  6225  1a6b  33                	inc	sp
  6226  1a6c  c1                	pop	bc
  6227  1a6d  79                	ld	a, c
  6228  1a6e  3c                	inc	a
  6229  1a6f  3c                	inc	a
  6230  1a70  3c                	inc	a
  6231  1a71  c5                	push	bc
  6232  1a72  f5                	push	af
  6233  1a73  33                	inc	sp
  6234  1a74  c5                	push	bc
  6235  1a75  33                	inc	sp
  6236  1a76  dd7e04            	ld	a,(ix+4)
  6237  1a79  f5                	push	af
  6238  1a7a  33                	inc	sp
  6239  1a7b  cd9d18            	call	_putPixel
  6240  1a7e  f1                	pop	af
  6241  1a7f  33                	inc	sp
  6242  1a80  c1                	pop	bc
  6243  1a81  79                	ld	a, c
  6244  1a82  3c                	inc	a
  6245  1a83  3c                	inc	a
  6246  1a84  3c                	inc	a
  6247  1a85  3c                	inc	a
  6248  1a86  c5                	push	bc
  6249  1a87  f5                	push	af
  6250  1a88  33                	inc	sp
  6251  1a89  c5                	push	bc
  6252  1a8a  33                	inc	sp
  6253  1a8b  dd7e04            	ld	a,(ix+4)
  6254  1a8e  f5                	push	af
  6255  1a8f  33                	inc	sp
  6256  1a90  cd9d18            	call	_putPixel
  6257  1a93  f1                	pop	af
  6258  1a94  33                	inc	sp
  6259  1a95  c1                	pop	bc
  6260  1a96  79                	ld	a, c
  6261  1a97  c605              	add	a,0x05
  6262  1a99  c5                	push	bc
  6263  1a9a  f5                	push	af
  6264  1a9b  33                	inc	sp
  6265  1a9c  c5                	push	bc
  6266  1a9d  33                	inc	sp
  6267  1a9e  dd7e04            	ld	a,(ix+4)
  6268  1aa1  f5                	push	af
  6269  1aa2  33                	inc	sp
  6270  1aa3  cd9d18            	call	_putPixel
  6271  1aa6  f1                	pop	af
  6272  1aa7  33                	inc	sp
  6273  1aa8  c1                	pop	bc
  6274  1aa9  79                	ld	a, c
  6275  1aaa  c606              	add	a,0x06
  6276  1aac  c5                	push	bc
  6277  1aad  f5                	push	af
  6278  1aae  33                	inc	sp
  6279  1aaf  c5                	push	bc
  6280  1ab0  33                	inc	sp
  6281  1ab1  dd7e04            	ld	a,(ix+4)
  6282  1ab4  f5                	push	af
  6283  1ab5  33                	inc	sp
  6284  1ab6  cd9d18            	call	_putPixel
  6285  1ab9  f1                	pop	af
  6286  1aba  33                	inc	sp
  6287  1abb  c1                	pop	bc
  6288  1abc  79                	ld	a, c
  6289  1abd  c607              	add	a,0x07
  6290  1abf  c5                	push	bc
  6291  1ac0  f5                	push	af
  6292  1ac1  33                	inc	sp
  6293  1ac2  c5                	push	bc
  6294  1ac3  33                	inc	sp
  6295  1ac4  dd7e04            	ld	a,(ix+4)
  6296  1ac7  f5                	push	af
  6297  1ac8  33                	inc	sp
  6298  1ac9  cd9d18            	call	_putPixel
  6299  1acc  f1                	pop	af
  6300  1acd  33                	inc	sp
  6301  1ace  c1                	pop	bc
  6302  1acf  79                	ld	a, c
  6303  1ad0  c608              	add	a,0x08
  6304  1ad2  c5                	push	bc
  6305  1ad3  f5                	push	af
  6306  1ad4  33                	inc	sp
  6307  1ad5  c5                	push	bc
  6308  1ad6  33                	inc	sp
  6309  1ad7  dd7e04            	ld	a,(ix+4)
  6310  1ada  f5                	push	af
  6311  1adb  33                	inc	sp
  6312  1adc  cd9d18            	call	_putPixel
  6313  1adf  f1                	pop	af
  6314  1ae0  33                	inc	sp
  6315  1ae1  c1                	pop	bc
  6316  1ae2  79                	ld	a, c
  6317  1ae3  c609              	add	a,0x09
  6318  1ae5  c5                	push	bc
  6319  1ae6  f5                	push	af
  6320  1ae7  33                	inc	sp
  6321  1ae8  c5                	push	bc
  6322  1ae9  33                	inc	sp
  6323  1aea  dd7e04            	ld	a,(ix+4)
  6324  1aed  f5                	push	af
  6325  1aee  33                	inc	sp
  6326  1aef  cd9d18            	call	_putPixel
  6327  1af2  f1                	pop	af
  6328  1af3  33                	inc	sp
  6329  1af4  c1                	pop	bc
  6330  1af5  c5                	push	bc
  6331  1af6  dd7e08            	ld	a,(ix+8)
  6332  1af9  f5                	push	af
  6333  1afa  33                	inc	sp
  6334  1afb  c5                	push	bc
  6335  1afc  33                	inc	sp
  6336  1afd  dd7e04            	ld	a,(ix+4)
  6337  1b00  f5                	push	af
  6338  1b01  33                	inc	sp
  6339  1b02  cd9d18            	call	_putPixel
  6340  1b05  f1                	pop	af
  6341  1b06  33                	inc	sp
  6342  1b07  c1                	pop	bc
  6343  1b08  04                	inc	b
  6344  1b09  c32b1a            	jp	l_window_00104
  6345                          l_window_00101:
  6346  1b0c  dd4606            	ld	b,(ix+6)
  6347                          l_window_00107:
  6348  1b0f  78                	ld	a, b
  6349  1b10  dd9608            	sub	a,(ix+8)
  6350  1b13  3023              	jr	NC,l_window_00109
  6351  1b15  c5                	push	bc
  6352  1b16  c5                	push	bc
  6353  1b17  33                	inc	sp
  6354  1b18  dd6605            	ld	h,(ix+5)
  6355  1b1b  dd6e04            	ld	l,(ix+4)
  6356  1b1e  e5                	push	hl
  6357  1b1f  cd9d18            	call	_putPixel
  6358  1b22  f1                	pop	af
  6359  1b23  33                	inc	sp
  6360  1b24  c1                	pop	bc
  6361  1b25  c5                	push	bc
  6362  1b26  c5                	push	bc
  6363  1b27  33                	inc	sp
  6364  1b28  dd6607            	ld	h,(ix+7)
  6365  1b2b  dd6e04            	ld	l,(ix+4)
  6366  1b2e  e5                	push	hl
  6367  1b2f  cd9d18            	call	_putPixel
  6368  1b32  f1                	pop	af
  6369  1b33  33                	inc	sp
  6370  1b34  c1                	pop	bc
  6371  1b35  04                	inc	b
  6372  1b36  18d7              	jr	l_window_00107
  6373                          l_window_00109:
  6374  1b38  dde1              	pop	ix
  6375  1b3a  c9                	ret
  6376                          	SECTION code_compiler
  6377                          ;	---------------------------------
  6378                          ; Function initDisplay
  6379                          ; ---------------------------------
  6380                          _initDisplay:
  6381  1b3b  cdb408            	call	_vdp_waitVDPReadyInt
  6382  1b3e  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  6383  1b41  e5                	push	hl
  6384  1b42  cd4b08            	call	_vdp_setWriteAddress
  6385  1b45  f1                	pop	af
  6386  1b46  010000            	ld	bc,0x0000
  6387                          l_initDisplay_00105:
  6388  1b49  78                	ld	a, b
  6389  1b4a  ee80              	xor	a,0x80
  6390  1b4c  d698              	sub	a,0x98
  6391  1b4e  300d              	jr	NC,l_initDisplay_00101
  6392  1b50  3e00              	ld	a,0x00
  6393  1b52  d3a0              	out	(_IO_VDPDATA), a
  6394  1b54  21d105            	ld	hl,__dBuffer
  6395  1b57  09                	add	hl, bc
  6396  1b58  3600              	ld	(hl),0x00
  6397  1b5a  03                	inc	bc
  6398  1b5b  18ec              	jr	l_initDisplay_00105
  6399                          l_initDisplay_00101:
  6400  1b5d  2ac905            	ld	hl, (__vdpColorTableAddr)
  6401  1b60  e5                	push	hl
  6402  1b61  cd4b08            	call	_vdp_setWriteAddress
  6403  1b64  f1                	pop	af
  6404  1b65  010000            	ld	bc,0x0000
  6405                          l_initDisplay_00108:
  6406  1b68  78                	ld	a, b
  6407  1b69  ee80              	xor	a,0x80
  6408  1b6b  d698              	sub	a,0x98
  6409  1b6d  3007              	jr	NC,l_initDisplay_00102
  6410  1b6f  3ef0              	ld	a,0xf0
  6411  1b71  d3a0              	out	(_IO_VDPDATA), a
  6412  1b73  03                	inc	bc
  6413  1b74  18f2              	jr	l_initDisplay_00108
  6414                          l_initDisplay_00102:
  6415  1b76  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  6416  1b79  e5                	push	hl
  6417  1b7a  cd4b08            	call	_vdp_setWriteAddress
  6418  1b7d  f1                	pop	af
  6419  1b7e  010000            	ld	bc,0x0000
  6420                          l_initDisplay_00111:
  6421  1b81  78                	ld	a, b
  6422  1b82  ee80              	xor	a,0x80
  6423  1b84  d683              	sub	a,0x83
  6424  1b86  d0                	ret	NC
  6425  1b87  210002            	ld	hl,__vdp_textBuffer
  6426  1b8a  09                	add	hl, bc
  6427  1b8b  c5                	push	bc
  6428  1b8c  e5                	push	hl
  6429  1b8d  210001            	ld	hl,0x0100
  6430  1b90  e5                	push	hl
  6431  1b91  c5                	push	bc
  6432  1b92  cd0000            	call	__modsint_callee
  6433  1b95  d1                	pop	de
  6434  1b96  c1                	pop	bc
  6435  1b97  7d                	ld	a, l
  6436  1b98  12                	ld	(de), a
  6437  1b99  d3a0              	out	(_IO_VDPDATA), a
  6438  1b9b  03                	inc	bc
  6439  1b9c  18e3              	jr	l_initDisplay_00111
  6440                          	SECTION code_compiler
  6441                          ;	---------------------------------
  6442                          ; Function main
  6443                          ; ---------------------------------
  6444                          _main:
  6445  1b9e  cd0000            	call	_initNABULib
  6446  1ba1  af                	xor	a, a
  6447  1ba2  f5                	push	af
  6448  1ba3  33                	inc	sp
  6449  1ba4  af                	xor	a, a
  6450  1ba5  f5                	push	af
  6451  1ba6  33                	inc	sp
  6452  1ba7  af                	xor	a, a
  6453  1ba8  f5                	push	af
  6454  1ba9  33                	inc	sp
  6455  1baa  af                	xor	a, a
  6456  1bab  f5                	push	af
  6457  1bac  33                	inc	sp
  6458  1bad  cd390b            	call	_vdp_initG2Mode
  6459  1bb0  f1                	pop	af
  6460  1bb1  f1                	pop	af
  6461  1bb2  cd8208            	call	_vdp_enableVDPReadyInt
  6462  1bb5  cd3b1b            	call	_initDisplay
  6463  1bb8  0e14              	ld	c,0x14
  6464                          l_main_00103:
  6465  1bba  79                	ld	a, c
  6466  1bbb  c63c              	add	a,0x3c
  6467  1bbd  47                	ld	b, a
  6468  1bbe  79                	ld	a, c
  6469  1bbf  d696              	sub	a,0x96
  6470  1bc1  304b              	jr	NC,l_main_00101
  6471  1bc3  c5                	push	bc
  6472  1bc4  3e50              	ld	a,0x50
  6473  1bc6  f5                	push	af
  6474  1bc7  33                	inc	sp
  6475  1bc8  c5                	push	bc
  6476  1bc9  33                	inc	sp
  6477  1bca  3e32              	ld	a,0x32
  6478  1bcc  f5                	push	af
  6479  1bcd  33                	inc	sp
  6480  1bce  51                	ld	d, c
  6481  1bcf  1e01              	ld	e,0x01
  6482  1bd1  d5                	push	de
  6483  1bd2  cd201a            	call	_window
  6484  1bd5  f1                	pop	af
  6485  1bd6  f1                	pop	af
  6486  1bd7  33                	inc	sp
  6487  1bd8  216400            	ld	hl,0x0064
  6488  1bdb  e5                	push	hl
  6489  1bdc  2eb4              	ld	l,0xb4
  6490  1bde  e5                	push	hl
  6491  1bdf  2e14              	ld	l,0x14
  6492  1be1  e5                	push	hl
  6493  1be2  e5                	push	hl
  6494  1be3  3e01              	ld	a,0x01
  6495  1be5  f5                	push	af
  6496  1be6  33                	inc	sp
  6497  1be7  cdf718            	call	_line
  6498  1bea  210900            	ld	hl,9
  6499  1bed  39                	add	hl, sp
  6500  1bee  f9                	ld	sp, hl
  6501  1bef  cd8218            	call	_invalidateScreen
  6502  1bf2  c1                	pop	bc
  6503  1bf3  c5                	push	bc
  6504  1bf4  3e50              	ld	a,0x50
  6505  1bf6  f5                	push	af
  6506  1bf7  33                	inc	sp
  6507  1bf8  c5                	push	bc
  6508  1bf9  33                	inc	sp
  6509  1bfa  3e32              	ld	a,0x32
  6510  1bfc  f5                	push	af
  6511  1bfd  33                	inc	sp
  6512  1bfe  79                	ld	a, c
  6513  1bff  f5                	push	af
  6514  1c00  33                	inc	sp
  6515  1c01  af                	xor	a, a
  6516  1c02  f5                	push	af
  6517  1c03  33                	inc	sp
  6518  1c04  cd201a            	call	_window
  6519  1c07  f1                	pop	af
  6520  1c08  f1                	pop	af
  6521  1c09  33                	inc	sp
  6522  1c0a  c1                	pop	bc
  6523  1c0b  0c                	inc	c
  6524  1c0c  18ac              	jr	l_main_00103
  6525                          l_main_00101:
  6526  1c0e  3e50              	ld	a,0x50
  6527  1c10  f5                	push	af
  6528  1c11  33                	inc	sp
  6529  1c12  c5                	push	bc
  6530  1c13  33                	inc	sp
  6531  1c14  3e32              	ld	a,0x32
  6532  1c16  f5                	push	af
  6533  1c17  33                	inc	sp
  6534  1c18  51                	ld	d, c
  6535  1c19  1e01              	ld	e,0x01
  6536  1c1b  d5                	push	de
  6537  1c1c  cd201a            	call	_window
  6538  1c1f  f1                	pop	af
  6539  1c20  f1                	pop	af
  6540  1c21  33                	inc	sp
  6541  1c22  cd8218            	call	_invalidateScreen
  6542  1c25  c3f904            	jp	_getChar
  6543                          	SECTION data_compiler
  6544                          __randomSeed:
  6545  0000  00                	DEFB +0x00
  6546                          __rxBufferReadPos:
  6547  0001  00                	DEFB +0x00
  6548                          __rxBufferWritePos:
  6549  0002  00                	DEFB +0x00
  6550                          __kbdBufferReadPos:
  6551  0003  00                	DEFB +0x00
  6552                          __kbdBufferWritePos:
  6553  0004  00                	DEFB +0x00
  6554                          __lastKeyboardIntVal:
  6555  0005  00                	DEFB +0x00
  6556                          __joyStatus:
  6557  0006  00                	DEFB +0x00
  6558  0007  00                	DEFB 0x00
  6559  0008  00                	DEFB 0x00
  6560  0009  00                	DEFB 0x00
  6561                          __ORIGINAL_INT_MASK:
  6562  000a  00                	DEFB +0x00
  6563                          _vdp_cursor:
  6564  000b  00                	DEFB +0x00
  6565  000c  00                	DEFB +0x00
  6566                          __vdpReg1Val:
  6567  000d  00                	DEFB +0x00
  6568                          __vdpInterruptEnabled:
  6569  000e  00                	DEFB +0x00
  6570                          _vdpStatusRegVal:
  6571  000f  00                	DEFB +0x00
  6572                          _vdpIsReady:
  6573  0010  00                	DEFB +0x00
  6574                          	SECTION IGNORE
  6575                          

C:/Users/dj/AppData/Local/Temp/zcc00000E54C4EE2.asm:
     1                          MODULE main_c
     2                          LINE 0, "main.c"
main.c:
                                
     1                          ;--------------------------------------------------------
     2                          ; File Created by SDCC : free open source ANSI-C Compiler
     3                          ; Version 4.2.0 #13081 (MINGW64)
     4                          ;--------------------------------------------------------
     5                          ; Processed by Z88DK
     6                          ;--------------------------------------------------------
     7                          
     8                          	EXTERN __divschar
     9                          	EXTERN __divschar_callee
    10                          	EXTERN __divsint
    11                          	EXTERN __divsint_callee
    12                          	EXTERN __divslong
    13                          	EXTERN __divslong_callee
    14                          	EXTERN __divslonglong
    15                          	EXTERN __divslonglong_callee
    16                          	EXTERN __divsuchar
    17                          	EXTERN __divsuchar_callee
    18                          	EXTERN __divuchar
    19                          	EXTERN __divuchar_callee
    20                          	EXTERN __divuint
    21                          	EXTERN __divuint_callee
    22                          	EXTERN __divulong
    23                          	EXTERN __divulong_callee
    24                          	EXTERN __divulonglong
    25                          	EXTERN __divulonglong_callee
    26                          	EXTERN __divuschar
    27                          	EXTERN __divuschar_callee
    28                          	EXTERN __modschar
    29                          	EXTERN __modschar_callee
    30                          	EXTERN __modsint
    31                          	EXTERN __modsint_callee
    32                          	EXTERN __modslong
    33                          	EXTERN __modslong_callee
    34                          	EXTERN __modslonglong
    35                          	EXTERN __modslonglong_callee
    36                          	EXTERN __modsuchar
    37                          	EXTERN __modsuchar_callee
    38                          	EXTERN __moduchar
    39                          	EXTERN __moduchar_callee
    40                          	EXTERN __moduint
    41                          	EXTERN __moduint_callee
    42                          	EXTERN __modulong
    43                          	EXTERN __modulong_callee
    44                          	EXTERN __modulonglong
    45                          	EXTERN __modulonglong_callee
    46                          	EXTERN __moduschar
    47                          	EXTERN __moduschar_callee
    48                          	EXTERN __mulint
    49                          	EXTERN __mulint_callee
    50                          	EXTERN __mullong
    51                          	EXTERN __mullong_callee
    52                          	EXTERN __mullonglong
    53                          	EXTERN __mullonglong_callee
    54                          	EXTERN __mulschar
    55                          	EXTERN __mulschar_callee
    56                          	EXTERN __mulsuchar
    57                          	EXTERN __mulsuchar_callee
    58                          	EXTERN __muluchar
    59                          	EXTERN __muluchar_callee
    60                          	EXTERN __muluschar
    61                          	EXTERN __muluschar_callee
    62                          	EXTERN __rlslonglong
    63                          	EXTERN __rlslonglong_callee
    64                          	EXTERN __rlulonglong
    65                          	EXTERN __rlulonglong_callee
    66                          	EXTERN __rrslonglong
    67                          	EXTERN __rrslonglong_callee
    68                          	EXTERN __rrulonglong
    69                          	EXTERN __rrulonglong_callee
    70                          	EXTERN ___mulsint2slong
    71                          	EXTERN ___mulsint2slong_callee
    72                          	EXTERN ___muluint2ulong
    73                          	EXTERN ___muluint2ulong_callee
    74                          	EXTERN ___sdcc_call_hl
    75                          	EXTERN ___sdcc_call_iy
    76                          	EXTERN ___sdcc_enter_ix
    77                          	EXTERN banked_call
    78                          	EXTERN _banked_ret
    79                          	EXTERN ___fs2schar
    80                          	EXTERN ___fs2schar_callee
    81                          	EXTERN ___fs2sint
    82                          	EXTERN ___fs2sint_callee
    83                          	EXTERN ___fs2slong
    84                          	EXTERN ___fs2slong_callee
    85                          	EXTERN ___fs2slonglong
    86                          	EXTERN ___fs2slonglong_callee
    87                          	EXTERN ___fs2uchar
    88                          	EXTERN ___fs2uchar_callee
    89                          	EXTERN ___fs2uint
    90                          	EXTERN ___fs2uint_callee
    91                          	EXTERN ___fs2ulong
    92                          	EXTERN ___fs2ulong_callee
    93                          	EXTERN ___fs2ulonglong
    94                          	EXTERN ___fs2ulonglong_callee
    95                          	EXTERN ___fsadd
    96                          	EXTERN ___fsadd_callee
    97                          	EXTERN ___fsdiv
    98                          	EXTERN ___fsdiv_callee
    99                          	EXTERN ___fseq
   100                          	EXTERN ___fseq_callee
   101                          	EXTERN ___fsgt
   102                          	EXTERN ___fsgt_callee
   103                          	EXTERN ___fslt
   104                          	EXTERN ___fslt_callee
   105                          	EXTERN ___fsmul
   106                          	EXTERN ___fsmul_callee
   107                          	EXTERN ___fsneq
   108                          	EXTERN ___fsneq_callee
   109                          	EXTERN ___fssub
   110                          	EXTERN ___fssub_callee
   111                          	EXTERN ___schar2fs
   112                          	EXTERN ___schar2fs_callee
   113                          	EXTERN ___sint2fs
   114                          	EXTERN ___sint2fs_callee
   115                          	EXTERN ___slong2fs
   116                          	EXTERN ___slong2fs_callee
   117                          	EXTERN ___slonglong2fs
   118                          	EXTERN ___slonglong2fs_callee
   119                          	EXTERN ___uchar2fs
   120                          	EXTERN ___uchar2fs_callee
   121                          	EXTERN ___uint2fs
   122                          	EXTERN ___uint2fs_callee
   123                          	EXTERN ___ulong2fs
   124                          	EXTERN ___ulong2fs_callee
   125                          	EXTERN ___ulonglong2fs
   126                          	EXTERN ___ulonglong2fs_callee
   127                          	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
   128                          	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
   129                          	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
   130                          	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
   131                          	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
   132                          	EXTERN ____sdcc_4_ldi_nosave_bc
   133                          	EXTERN ____sdcc_4_ldi_save_bc
   134                          	EXTERN ____sdcc_4_push_hlix
   135                          	EXTERN ____sdcc_4_push_mhl
   136                          	EXTERN ____sdcc_lib_setmem_hl
   137                          	EXTERN ____sdcc_ll_add_de_bc_hl
   138                          	EXTERN ____sdcc_ll_add_de_bc_hlix
   139                          	EXTERN ____sdcc_ll_add_de_hlix_bc
   140                          	EXTERN ____sdcc_ll_add_de_hlix_bcix
   141                          	EXTERN ____sdcc_ll_add_deix_bc_hl
   142                          	EXTERN ____sdcc_ll_add_deix_hlix
   143                          	EXTERN ____sdcc_ll_add_hlix_bc_deix
   144                          	EXTERN ____sdcc_ll_add_hlix_deix_bc
   145                          	EXTERN ____sdcc_ll_add_hlix_deix_bcix
   146                          	EXTERN ____sdcc_ll_asr_hlix_a
   147                          	EXTERN ____sdcc_ll_asr_mbc_a
   148                          	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
   149                          	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
   150                          	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
   151                          	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
   152                          	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
   153                          	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
   154                          	EXTERN ____sdcc_ll_copy_src_hl_dst_de
   155                          	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
   156                          	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
   157                          	EXTERN ____sdcc_ll_lsl_hlix_a
   158                          	EXTERN ____sdcc_ll_lsl_mbc_a
   159                          	EXTERN ____sdcc_ll_lsr_hlix_a
   160                          	EXTERN ____sdcc_ll_lsr_mbc_a
   161                          	EXTERN ____sdcc_ll_push_hlix
   162                          	EXTERN ____sdcc_ll_push_mhl
   163                          	EXTERN ____sdcc_ll_sub_de_bc_hl
   164                          	EXTERN ____sdcc_ll_sub_de_bc_hlix
   165                          	EXTERN ____sdcc_ll_sub_de_hlix_bc
   166                          	EXTERN ____sdcc_ll_sub_de_hlix_bcix
   167                          	EXTERN ____sdcc_ll_sub_deix_bc_hl
   168                          	EXTERN ____sdcc_ll_sub_deix_hlix
   169                          	EXTERN ____sdcc_ll_sub_hlix_bc_deix
   170                          	EXTERN ____sdcc_ll_sub_hlix_deix_bc
   171                          	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
   172                          	EXTERN ____sdcc_load_debc_deix
   173                          	EXTERN ____sdcc_load_dehl_deix
   174                          	EXTERN ____sdcc_load_debc_mhl
   175                          	EXTERN ____sdcc_load_hlde_mhl
   176                          	EXTERN ____sdcc_store_dehl_bcix
   177                          	EXTERN ____sdcc_store_debc_hlix
   178                          	EXTERN ____sdcc_store_debc_mhl
   179                          	EXTERN ____sdcc_cpu_pop_ei
   180                          	EXTERN ____sdcc_cpu_pop_ei_jp
   181                          	EXTERN ____sdcc_cpu_push_di
   182                          	EXTERN ____sdcc_outi
   183                          	EXTERN ____sdcc_outi_128
   184                          	EXTERN ____sdcc_outi_256
   185                          	EXTERN ____sdcc_ldi
   186                          	EXTERN ____sdcc_ldi_128
   187                          	EXTERN ____sdcc_ldi_256
   188                          	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
   189                          	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
   190                          	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
   191                          	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
   192                          	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
   193                          	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
   194                          	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
   195                          	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
   196                          	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
   197                          	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
   198                          	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
   199                          	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
   200                          	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
   201                          	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
   202                          	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
   203                          	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
   204                          	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
   205                          
   206                          ;--------------------------------------------------------
   207                          ; Public variables in this module
   208                          ;--------------------------------------------------------
   209                          	GLOBAL _main
   210                          	GLOBAL _initDisplay
   211                          	GLOBAL _window
   212                          	GLOBAL _line
   213                          	GLOBAL _putPixel
   214                          	GLOBAL _invalidateScreen
   215                          	GLOBAL _invalideArea
   216                          	GLOBAL _vdp_scrollTextDown
   217                          	GLOBAL _waitVdpISR
   218                          	GLOBAL _isrKeyboard
   219                          	GLOBAL _isrHCCARX
   220                          	GLOBAL _vdpIsReady
   221                          	GLOBAL _vdpStatusRegVal
   222                          	GLOBAL __vdpInterruptEnabled
   223                          	GLOBAL __vdpReg1Val
   224                          	GLOBAL _vdp_cursor
   225                          	GLOBAL __ORIGINAL_INT_MASK
   226                          	GLOBAL __joyStatus
   227                          	GLOBAL __lastKeyboardIntVal
   228                          	GLOBAL __kbdBufferWritePos
   229                          	GLOBAL __kbdBufferReadPos
   230                          	GLOBAL __rxBufferWritePos
   231                          	GLOBAL __rxBufferReadPos
   232                          	GLOBAL __randomSeed
   233                          	GLOBAL __dBuffer
   234                          	GLOBAL __LIST_DEVICE
   235                          	GLOBAL __EMULATION_MODE
   236                          	GLOBAL _cpm_cursor
   237                          	GLOBAL __vdpSplitThirds
   238                          	GLOBAL __autoScroll
   239                          	GLOBAL __vdpMode
   240                          	GLOBAL __vdpCursorMaxXFull
   241                          	GLOBAL __vdpCursorMaxX
   242                          	GLOBAL __vdpPatternGeneratorTableAddr
   243                          	GLOBAL __vdpColorTableAddr
   244                          	GLOBAL __vdpPatternNameTableAddr
   245                          	GLOBAL __vdpSpriteSizeSelected
   246                          	GLOBAL __vdpSpriteGeneratorTableAddr
   247                          	GLOBAL __vdpSpriteAttributeTableAddr
   248                          	GLOBAL __vdp_ISR
   249                          	GLOBAL __vdp_textBuffer
   250                          	GLOBAL __kbdBuffer
   251                          	GLOBAL __rxBuffer
   252                          	GLOBAL _ASCII
   253                          	GLOBAL __NOTES_FINE
   254                          	GLOBAL __NOTES_COURSE
   255                          	GLOBAL __vdpCursorMaxY
   256                          	GLOBAL _initNABULib
   257                          	GLOBAL _initNABULIBAudio
   258                          	GLOBAL _nop
   259                          	GLOBAL _NABU_DisableInterrupts
   260                          	GLOBAL _NABU_EnableInterrupts
   261                          	GLOBAL _RightShift
   262                          	GLOBAL _vt_clearToEndOfScreen
   263                          	GLOBAL _vt_clearToEndOfLine
   264                          	GLOBAL _vt_clearScreen
   265                          	GLOBAL _vt_clearLine
   266                          	GLOBAL _vt_clearToStartOfLine
   267                          	GLOBAL _vt_clearToStartOfScreen
   268                          	GLOBAL _vt_moveCursorDown
   269                          	GLOBAL _vt_cursorHome
   270                          	GLOBAL _vt_moveCursorLeft
   271                          	GLOBAL _vt_moveCursorRight
   272                          	GLOBAL _vt_moveCursorUp
   273                          	GLOBAL _vt_deleteLine
   274                          	GLOBAL _vt_setCursor
   275                          	GLOBAL _vt_foregroundColor
   276                          	GLOBAL _vt_insertLine
   277                          	GLOBAL _vt_restoreCursorPosition
   278                          	GLOBAL _vt_backgroundColor
   279                          	GLOBAL _vt_saveCursorPosition
   280                          	GLOBAL _vt_cursorUpAndInsert
   281                          	GLOBAL _vt_wrapOff
   282                          	GLOBAL _vt_wrapOn
   283                          	GLOBAL _vt_normalVideo
   284                          	GLOBAL _vt_reverseVideo
   285                          	GLOBAL _ayWrite
   286                          	GLOBAL _ayRead
   287                          	GLOBAL _playNoteDelay
   288                          	GLOBAL _isKeyPressed
   289                          	GLOBAL _getChar
   290                          	GLOBAL _getJoyStatus
   291                          	GLOBAL _readLine
   292                          	GLOBAL _hcca_ping
   293                          	GLOBAL _hcca_isRxBufferAvailable
   294                          	GLOBAL _hcca_getSizeOfDataInBuffer
   295                          	GLOBAL _hcca_readByte
   296                          	GLOBAL _hcca_readUInt16
   297                          	GLOBAL _hcca_readInt16
   298                          	GLOBAL _hcca_readUInt32
   299                          	GLOBAL _hcca_readInt32
   300                          	GLOBAL _hcca_readBytes
   301                          	GLOBAL _hcca_writeByte
   302                          	GLOBAL _hcca_writeUInt32
   303                          	GLOBAL _hcca_writeInt32
   304                          	GLOBAL _hcca_writeUInt16
   305                          	GLOBAL _hcca_writeInt16
   306                          	GLOBAL _hcca_writeString
   307                          	GLOBAL _hcca_writeBytes
   308                          	GLOBAL _vdp_setRegister
   309                          	GLOBAL _vdp_setWriteAddress
   310                          	GLOBAL _vdp_setReadAddress
   311                          	GLOBAL _vdp_enableVDPReadyInt
   312                          	GLOBAL _vdp_waitVDPReadyInt
   313                          	GLOBAL _vdp_disableVDPReadyInt
   314                          	GLOBAL _vdp_addISR
   315                          	GLOBAL _vdp_removeISR
   316                          	GLOBAL _vdp_init
   317                          	GLOBAL _vdp_clearVRAM
   318                          	GLOBAL _vdp_initMSXMode
   319                          	GLOBAL _vdp_initTextMode
   320                          	GLOBAL _vdp_initG2Mode
   321                          	GLOBAL _vdp_initMultiColorMode
   322                          	GLOBAL _vdp_clearScreen
   323                          	GLOBAL _vdp_fillScreen
   324                          	GLOBAL _vdp_clearRows
   325                          	GLOBAL _vdp_loadASCIIFont
   326                          	GLOBAL _vdp_loadASCIIFontWithInverse
   327                          	GLOBAL _vdp_putPattern
   328                          	GLOBAL _vdp_loadPatternTable
   329                          	GLOBAL _vdp_loadColorTable
   330                          	GLOBAL _vdp_colorizePattern
   331                          	GLOBAL _vdp_plotHires
   332                          	GLOBAL _vdp_plotColor
   333                          	GLOBAL _vdp_disableSprite
   334                          	GLOBAL _vdp_loadSpritePatternNameTable
   335                          	GLOBAL _vdp_spriteInit
   336                          	GLOBAL _vdp_setSpriteColor
   337                          	GLOBAL _vdp_setSpritePosition
   338                          	GLOBAL _vdp_setSpritePositionAndColor
   339                          	GLOBAL _vdp_getSpritePosition
   340                          	GLOBAL _vdp_print
   341                          	GLOBAL _vdp_printColorized
   342                          	GLOBAL _vdp_printPart
   343                          	GLOBAL _vdp_newLine
   344                          	GLOBAL _vdp_setBackDropColor
   345                          	GLOBAL _vdp_setCursor2
   346                          	GLOBAL _vdp_setCursor
   347                          	GLOBAL _vdp_setTextColor
   348                          	GLOBAL _vdp_write
   349                          	GLOBAL _vdp_writeCharAtLocation
   350                          	GLOBAL _vdp_getCharAtLocationVRAM
   351                          	GLOBAL _vdp_getCharAtLocationBuf
   352                          	GLOBAL _vdp_setCharAtLocationBuf
   353                          	GLOBAL _vdp_scrollTextUp
   354                          	GLOBAL _vdp_writeUInt32
   355                          	GLOBAL _vdp_writeInt32
   356                          	GLOBAL _vdp_writeUInt16
   357                          	GLOBAL _vdp_writeInt16
   358                          	GLOBAL _vdp_writeUInt8
   359                          	GLOBAL _vdp_writeInt8
   360                          	GLOBAL _vdp_writeUInt8ToBinary
   361                          	GLOBAL _vdp_writeUInt16ToBinary
   362                          	GLOBAL _vdp_writeUInt32ToBinary
   363                          ;--------------------------------------------------------
   364                          ; Externals used
   365                          ;--------------------------------------------------------
   366                          	GLOBAL _fpclassify
   367                          	GLOBAL _fpseed
   368                          	GLOBAL _fprand
   369                          	GLOBAL _ftoe
   370                          	GLOBAL _ftoa
   371                          	GLOBAL _atof
   372                          	GLOBAL _pi
   373                          	GLOBAL _halfpi
   374                          	GLOBAL _amin
   375                          	GLOBAL _amax
   376                          	GLOBAL _fmod
   377                          	GLOBAL _fabs
   378                          	GLOBAL _frexp
   379                          	GLOBAL _ldexp
   380                          	GLOBAL _modf
   381                          	GLOBAL _ceil
   382                          	GLOBAL _floor
   383                          	GLOBAL _log10
   384                          	GLOBAL _log
   385                          	GLOBAL _exp
   386                          	GLOBAL _sqrt
   387                          	GLOBAL _pow
   388                          	GLOBAL _atanh
   389                          	GLOBAL _acosh
   390                          	GLOBAL _asinh
   391                          	GLOBAL _tanh
   392                          	GLOBAL _sinh
   393                          	GLOBAL _cosh
   394                          	GLOBAL _atan2
   395                          	GLOBAL _atan
   396                          	GLOBAL _asin
   397                          	GLOBAL _acos
   398                          	GLOBAL _sin
   399                          	GLOBAL _tan
   400                          	GLOBAL _cos
   401                          	GLOBAL _negf16
   402                          	GLOBAL _fabsf16
   403                          	GLOBAL _invsqrtf16
   404                          	GLOBAL _invf16
   405                          	GLOBAL _ldexpf16
   406                          	GLOBAL _frexpf16
   407                          	GLOBAL _floorf16
   408                          	GLOBAL _ceilf16
   409                          	GLOBAL _powf16
   410                          	GLOBAL _log10f16
   411                          	GLOBAL _log2f16
   412                          	GLOBAL _logf16
   413                          	GLOBAL _exp10f16
   414                          	GLOBAL _exp2f16
   415                          	GLOBAL _expf16
   416                          	GLOBAL _tanf16
   417                          	GLOBAL _sinf16
   418                          	GLOBAL _cosf16
   419                          	GLOBAL _atan2f16
   420                          	GLOBAL _atanf16
   421                          	GLOBAL _asinf16
   422                          	GLOBAL _acosf16
   423                          	GLOBAL _mul10f16
   424                          	GLOBAL _mul2f16
   425                          	GLOBAL _div2f16
   426                          	GLOBAL _sqrtf16
   427                          	GLOBAL _hypotf16
   428                          	GLOBAL _polyf16
   429                          	GLOBAL _fmaf16
   430                          	GLOBAL _divf16
   431                          	GLOBAL _mulf16
   432                          	GLOBAL _subf16
   433                          	GLOBAL _addf16
   434                          	GLOBAL _f16_u32_fastcall
   435                          	GLOBAL _f16_u32
   436                          	GLOBAL _f16_u16_fastcall
   437                          	GLOBAL _f16_u16
   438                          	GLOBAL _f16_u8_fastcall
   439                          	GLOBAL _f16_u8
   440                          	GLOBAL _f16_i32_fastcall
   441                          	GLOBAL _f16_i32
   442                          	GLOBAL _f16_i16_fastcall
   443                          	GLOBAL _f16_i16
   444                          	GLOBAL _f16_i8_fastcall
   445                          	GLOBAL _f16_i8
   446                          	GLOBAL _u32_f16_fastcall
   447                          	GLOBAL _u32_f16
   448                          	GLOBAL _i32_f16_fastcall
   449                          	GLOBAL _i32_f16
   450                          	GLOBAL _u16_f16_fastcall
   451                          	GLOBAL _u16_f16
   452                          	GLOBAL _i16_f16_fastcall
   453                          	GLOBAL _i16_f16
   454                          	GLOBAL _f32_f16_fastcall
   455                          	GLOBAL _f32_f16
   456                          	GLOBAL _f16_f32_fastcall
   457                          	GLOBAL _f16_f32
   458                          	GLOBAL _f48_f16_fastcall
   459                          	GLOBAL _f48_f16
   460                          	GLOBAL _f16_f48_fastcall
   461                          	GLOBAL _f16_f48
   462                          	GLOBAL _fputc_cons_ansi
   463                          	GLOBAL _fputc_cons_generic
   464                          	GLOBAL _fputc_cons_native
   465                          	GLOBAL _set_fputc_cons
   466                          	GLOBAL _perror
   467                          	GLOBAL _printk
   468                          	GLOBAL _getk_inkey
   469                          	GLOBAL _getk
   470                          	GLOBAL _remove
   471                          	GLOBAL _rename
   472                          	GLOBAL _fdgetpos
   473                          	GLOBAL _fdtell
   474                          	GLOBAL _fabandon
   475                          	GLOBAL _puts_cons
   476                          	GLOBAL _fgets_cons
   477                          	GLOBAL _fputc_cons
   478                          	GLOBAL _fgetc_cons_inkey
   479                          	GLOBAL _fgetc_cons
   480                          	GLOBAL _fchkstd
   481                          	GLOBAL _getarg
   482                          	GLOBAL _vsscanf
   483                          	GLOBAL _vfscanf
   484                          	GLOBAL _sscanf
   485                          	GLOBAL _fscanf
   486                          	GLOBAL _scanf
   487                          	GLOBAL _printn
   488                          	GLOBAL _vsnprintf
   489                          	GLOBAL _vfprintf
   490                          	GLOBAL _snprintf
   491                          	GLOBAL _sprintf
   492                          	GLOBAL _fprintf
   493                          	GLOBAL _printf
   494                          	GLOBAL _gets
   495                          	GLOBAL _fwrite
   496                          	GLOBAL _fread
   497                          	GLOBAL _fseek
   498                          	GLOBAL _fgetpos
   499                          	GLOBAL _ftell
   500                          	GLOBAL _puts
   501                          	GLOBAL _ferror
   502                          	GLOBAL _feof
   503                          	GLOBAL _ungetc
   504                          	GLOBAL _fgetc
   505                          	GLOBAL _fputc_callee
   506                          	GLOBAL _fputs_callee
   507                          	GLOBAL _fputc
   508                          	GLOBAL _fputs
   509                          	GLOBAL _fgets
   510                          	GLOBAL _closeall
   511                          	GLOBAL _fflush
   512                          	GLOBAL _fclose
   513                          	GLOBAL _funopen
   514                          	GLOBAL _fmemopen
   515                          	GLOBAL __freopen1
   516                          	GLOBAL _fdopen
   517                          	GLOBAL _freopen
   518                          	GLOBAL _fopen
   519                          	GLOBAL _fileno
   520                          	GLOBAL _fopen_zsock
   521                          	GLOBAL _rnd_erase
   522                          	GLOBAL _rnd_saveblock
   523                          	GLOBAL _rnd_loadblock
   524                          	GLOBAL _rmdir
   525                          	GLOBAL _getwd
   526                          	GLOBAL _chdir
   527                          	GLOBAL _getcwd
   528                          	GLOBAL _writebyte
   529                          	GLOBAL _readbyte
   530                          	GLOBAL _lseek
   531                          	GLOBAL _write
   532                          	GLOBAL _read
   533                          	GLOBAL _close
   534                          	GLOBAL _creat
   535                          	GLOBAL _open
   536                          	GLOBAL _gios_esc
   537                          	GLOBAL _gios_text
   538                          	GLOBAL _gios_1px_callee
   539                          	GLOBAL _gios_1px
   540                          	GLOBAL _gios_2px_callee
   541                          	GLOBAL _gios_2px
   542                          	GLOBAL _gios_1pm_callee
   543                          	GLOBAL _gios_1pm
   544                          	GLOBAL _gios
   545                          	GLOBAL _a_serialport
   546                          	GLOBAL _a_driveb
   547                          	GLOBAL _a_memsize
   548                          	GLOBAL _a_biosver
   549                          	GLOBAL _a_machinever
   550                          	GLOBAL _a_machine
   551                          	GLOBAL _a_cury
   552                          	GLOBAL _a_curx
   553                          	GLOBAL _a_ink
   554                          	GLOBAL _a_paper
   555                          	GLOBAL _a_border
   556                          	GLOBAL _a_keyspeed
   557                          	GLOBAL _a_statusline
   558                          	GLOBAL _get_dir_name
   559                          	GLOBAL _dir_get_entry_size
   560                          	GLOBAL _dir_get_entry_name
   561                          	GLOBAL _dir_get_entry_type
   562                          	GLOBAL _dir_move_next
   563                          	GLOBAL _dir_move_first
   564                          	GLOBAL _get_current_volume
   565                          	GLOBAL _change_volume
   566                          	GLOBAL __putoffset
   567                          	GLOBAL _swapuid
   568                          	GLOBAL _putoffset
   569                          	GLOBAL _parsefcb
   570                          	GLOBAL _setfcb
   571                          	GLOBAL _cpm_cache_flush
   572                          	GLOBAL _cpm_cache_get
   573                          	GLOBAL _getfcb
   574                          	GLOBAL _biosh
   575                          	GLOBAL _bios
   576                          	GLOBAL _bdosh_callee
   577                          	GLOBAL _bdosh
   578                          	GLOBAL _bdos_callee
   579                          	GLOBAL _bdos
   580                          	GLOBAL _get_dpb
   581                          	GLOBAL _unbcd
   582                          	GLOBAL _wcmatch
   583                          	GLOBAL _extract_bits_callee
   584                          	GLOBAL _extract_bits
   585                          	GLOBAL _msleep
   586                          	GLOBAL _sleep
   587                          	GLOBAL _t_delay
   588                          	GLOBAL _wpeek
   589                          	GLOBAL _bpeek
   590                          	GLOBAL _wpoke_callee
   591                          	GLOBAL _wpoke
   592                          	GLOBAL _bpoke_callee
   593                          	GLOBAL _bpoke
   594                          	GLOBAL _swapendian
   595                          	GLOBAL _outp_callee
   596                          	GLOBAL _outp
   597                          	GLOBAL _inp
   598                          	GLOBAL _isqrt
   599                          	GLOBAL _labs
   600                          	GLOBAL _abs
   601                          	GLOBAL __ldivu__callee
   602                          	GLOBAL __ldivu_
   603                          	GLOBAL __ldiv__callee
   604                          	GLOBAL __ldiv_
   605                          	GLOBAL __divu__callee
   606                          	GLOBAL __divu_
   607                          	GLOBAL __div__callee
   608                          	GLOBAL __div_
   609                          	GLOBAL _qsort_sdcc_callee
   610                          	GLOBAL _qsort_sdcc
   611                          	GLOBAL _qsort_sccz80_callee
   612                          	GLOBAL _qsort_sccz80
   613                          	GLOBAL _l_qsort_callee
   614                          	GLOBAL _l_qsort
   615                          	GLOBAL _l_bsearch_callee
   616                          	GLOBAL _l_bsearch
   617                          	GLOBAL _getopt
   618                          	GLOBAL _unsetenv
   619                          	GLOBAL _setenv
   620                          	GLOBAL _getenv_r
   621                          	GLOBAL _getenv
   622                          	GLOBAL _atexit
   623                          	GLOBAL _exit
   624                          	GLOBAL _HeapInfo_callee
   625                          	GLOBAL _HeapInfo
   626                          	GLOBAL _HeapRealloc_callee
   627                          	GLOBAL _HeapRealloc
   628                          	GLOBAL _HeapAlloc_callee
   629                          	GLOBAL _HeapAlloc
   630                          	GLOBAL _HeapFree_callee
   631                          	GLOBAL _HeapFree
   632                          	GLOBAL _HeapCalloc_callee
   633                          	GLOBAL _HeapCalloc
   634                          	GLOBAL _HeapSbrk_callee
   635                          	GLOBAL _HeapSbrk
   636                          	GLOBAL _HeapCreate
   637                          	GLOBAL _mallinfo_callee
   638                          	GLOBAL _mallinfo
   639                          	GLOBAL _realloc_callee
   640                          	GLOBAL _realloc
   641                          	GLOBAL _malloc
   642                          	GLOBAL _free
   643                          	GLOBAL _calloc_callee
   644                          	GLOBAL _calloc
   645                          	GLOBAL _sbrk_callee
   646                          	GLOBAL _sbrk
   647                          	GLOBAL _mallinit
   648                          	GLOBAL _srand
   649                          	GLOBAL _rand
   650                          	GLOBAL _ulltoa_callee
   651                          	GLOBAL _ulltoa
   652                          	GLOBAL _strtoull_callee
   653                          	GLOBAL _strtoull
   654                          	GLOBAL _strtoll_callee
   655                          	GLOBAL _strtoll
   656                          	GLOBAL _lltoa_callee
   657                          	GLOBAL _lltoa
   658                          	GLOBAL _atoll_callee
   659                          	GLOBAL _atoll
   660                          	GLOBAL _utoa_callee
   661                          	GLOBAL _utoa
   662                          	GLOBAL _ultoa_callee
   663                          	GLOBAL _ultoa
   664                          	GLOBAL _strtoul_callee
   665                          	GLOBAL _strtoul
   666                          	GLOBAL _strtol_callee
   667                          	GLOBAL _strtol
   668                          	GLOBAL _ltoa_callee
   669                          	GLOBAL _ltoa
   670                          	GLOBAL _itoa_callee
   671                          	GLOBAL _itoa
   672                          	GLOBAL _atol
   673                          	GLOBAL _atoi
   674                          	GLOBAL __sgoioblk_end
   675                          	GLOBAL __sgoioblk
   676                          	GLOBAL __FOPEN_MAX
   677                          	GLOBAL __RND_BLOCKSIZE
   678                          	GLOBAL _gios_ptsout
   679                          	GLOBAL _gios_intout
   680                          	GLOBAL _gios_ptsin
   681                          	GLOBAL _gios_intin
   682                          	GLOBAL _gios_ctl
   683                          	GLOBAL _gios_pb
   684                          	GLOBAL _fc_dirbuf
   685                          	GLOBAL _fc_dirpos
   686                          	GLOBAL _fc_dir
   687                          	GLOBAL __fcb
   688                          	GLOBAL __CLIB_OPEN_MAX
   689                          	GLOBAL _optreset
   690                          	GLOBAL _optopt
   691                          	GLOBAL _optind
   692                          	GLOBAL _opterr
   693                          	GLOBAL _optarg
   694                          ;--------------------------------------------------------
   695                          ; special function registers
   696                          ;--------------------------------------------------------
   697                          defc _IO_VDPDATA	=	0x00a0
   698                          defc _IO_VDPLATCH	=	0x00a1
   699                          defc _IO_AYDATA	=	0x0040
   700                          defc _IO_AYLATCH	=	0x0041
   701                          defc _IO_HCCA	=	0x0080
   702                          defc _IO_KEYBOARD	=	0x0090
   703                          defc _IO_KEYBOARD_STATUS	=	0x0091
   704                          defc _IO_CONTROL	=	0x0000
   705                          ;--------------------------------------------------------
   706                          ; ram data
   707                          ;--------------------------------------------------------
   708                          	SECTION bss_compiler
   709                          __rxBuffer:
   710  0000  0000000000000000  	DEFS 256
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   711                          __kbdBuffer:
   712  0100  0000000000000000  	DEFS 256
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   713                          __vdp_textBuffer:
   714  0200  0000000000000000  	DEFS 960
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   715                          __vdp_ISR:
   716  05c0  0000              	DEFS 2
   717                          __vdpSpriteAttributeTableAddr:
   718  05c2  0000              	DEFS 2
   719                          __vdpSpriteGeneratorTableAddr:
   720  05c4  0000              	DEFS 2
   721                          __vdpSpriteSizeSelected:
   722  05c6  00                	DEFS 1
   723                          __vdpPatternNameTableAddr:
   724  05c7  0000              	DEFS 2
   725                          __vdpColorTableAddr:
   726  05c9  0000              	DEFS 2
   727                          __vdpPatternGeneratorTableAddr:
   728  05cb  0000              	DEFS 2
   729                          __vdpCursorMaxX:
   730  05cd  00                	DEFS 1
   731                          __vdpCursorMaxXFull:
   732  05ce  00                	DEFS 1
   733                          __vdpMode:
   734  05cf  00                	DEFS 1
   735                          __autoScroll:
   736  05d0  00                	DEFS 1
   737                          __vdpSplitThirds:
   738  05d1  00                	DEFS 1
   739                          defc _cpm_cursor	=	0xff10
   740                          defc __EMULATION_MODE	=	0xff12
   741                          defc __LIST_DEVICE	=	0xff13
   742                          __dBuffer:
   743  05d2  0000000000000000  	DEFS 6144
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   744                          ;--------------------------------------------------------
   745                          ; ram data
   746                          ;--------------------------------------------------------
   747                          
   748                          IF 0
   749                          
   750                          ; .area _INITIALIZED removed by z88dk
   751                          
   752                          __randomSeed:
   753                          	DEFS 1
   754                          __rxBufferReadPos:
   755                          	DEFS 1
   756                          __rxBufferWritePos:
   757                          	DEFS 1
   758                          __kbdBufferReadPos:
   759                          	DEFS 1
   760                          __kbdBufferWritePos:
   761                          	DEFS 1
   762                          __lastKeyboardIntVal:
   763                          	DEFS 1
   764                          __joyStatus:
   765                          	DEFS 4
   766                          __ORIGINAL_INT_MASK:
   767                          	DEFS 1
   768                          _vdp_cursor:
   769                          	DEFS 2
   770                          __vdpReg1Val:
   771                          	DEFS 1
   772                          __vdpInterruptEnabled:
   773                          	DEFS 1
   774                          _vdpStatusRegVal:
   775                          	DEFS 1
   776                          _vdpIsReady:
   777                          	DEFS 1
   778                          
   779                          ENDIF
   780                          
   781                          ;--------------------------------------------------------
   782                          ; absolute external ram data
   783                          ;--------------------------------------------------------
   784                          	SECTION IGNORE
   785                          ;--------------------------------------------------------
   786                          ; global & static initialisations
   787                          ;--------------------------------------------------------
   788                          	SECTION code_crt_init
   789                          ;--------------------------------------------------------
   790                          ; Home
   791                          ;--------------------------------------------------------
   792                          	SECTION IGNORE
   793                          ;--------------------------------------------------------
   794                          ; code
   795                          ;--------------------------------------------------------
   796                          	SECTION code_compiler
   797                          ;	---------------------------------
   798                          ; Function initNABULib
   799                          ; ---------------------------------
   800                          _initNABULib:
   801  0000  3e00              	ld	a,0x03
   802  0002  d300              	out	(_IO_CONTROL), a
   803  0004  cd0000            	call	_NABU_DisableInterrupts
   804  0007  f5                	push	af
   805  0008  ed5f              	ld	a, r
   806  000a  320000            	ld	(__randomSeed), a
   807  000d  f1                	pop	af
   808  000e  3a0000            	ld	a, (__randomSeed+0)
   809  0011  6f                	ld	l, a
   810  0012  2600              	ld	h,0x00
   811  0014  cd0000            	call	_srand
   812  0017  ed5e              	IM	2
   813  0019  3e00              	ld	a, 0xff
   814  001b  ed47              	ld	i, a
   815  001d  210000            	ld	hl, _isrHCCARX
   816  0020  220000            	ld	(0xff00), hl
   817  0023  210000            	ld	hl, _isrKeyboard
   818  0026  220000            	ld	(0xff00 + 4), hl
   819  0029  3e00              	ld	a,0x0e
   820  002b  f5                	push	af
   821  002c  33                	inc	sp
   822  002d  cd0000            	call	_ayRead
   823  0030  33                	inc	sp
   824  0031  7d                	ld	a, l
   825  0032  320000            	ld	(__ORIGINAL_INT_MASK+0), a
   826  0035  3a0000            	ld	a, (__ORIGINAL_INT_MASK+0)
   827  0038  f600              	or	a,0x80
   828  003a  320000            	ld	(__ORIGINAL_INT_MASK+0), a
   829  003d  3a0000            	ld	a, (__ORIGINAL_INT_MASK+0)
   830  0040  f600              	or	a,0x20
   831  0042  320000            	ld	(__ORIGINAL_INT_MASK+0), a
   832  0045  3a0000            	ld	a, (__ORIGINAL_INT_MASK+0)
   833  0048  57                	ld	d,a
   834  0049  1e00              	ld	e,0x0e
   835  004b  d5                	push	de
   836  004c  cd0000            	call	_ayWrite
   837  004f  f1                	pop	af
   838  0050  cd0000            	call	_NABU_EnableInterrupts
   839  0053  c30000            	jp	_initNABULIBAudio
   840                          	SECTION rodata_compiler
   841                          __vdpCursorMaxY:
   842  0000  00                	DEFB +0x17
   843                          __NOTES_COURSE:
   844  0001  00                	DEFB +0x0d
   845  0002  00                	DEFB +0x0c
   846  0003  00                	DEFB +0x0b
   847  0004  00                	DEFB +0x0b
   848  0005  00                	DEFB +0x0a
   849  0006  00                	DEFB +0x0a
   850  0007  00                	DEFB +0x09
   851  0008  00                	DEFB +0x08
   852  0009  00                	DEFB +0x08
   853  000a  00                	DEFB +0x07
   854  000b  00                	DEFB +0x07
   855  000c  00                	DEFB +0x07
   856  000d  00                	DEFB +0x06
   857  000e  00                	DEFB +0x06
   858  000f  00                	DEFB +0x05
   859  0010  00                	DEFB +0x05
   860  0011  05                	DEFB +0x05
   861  0012  05                	DEFB +0x05
   862  0013  04                	DEFB +0x04
   863  0014  04                	DEFB +0x04
   864  0015  04                	DEFB +0x04
   865  0016  03                	DEFB +0x03
   866  0017  03                	DEFB +0x03
   867  0018  03                	DEFB +0x03
   868  0019  03                	DEFB +0x03
   869  001a  03                	DEFB +0x03
   870  001b  02                	DEFB +0x02
   871  001c  02                	DEFB +0x02
   872  001d  02                	DEFB +0x02
   873  001e  02                	DEFB +0x02
   874  001f  02                	DEFB +0x02
   875  0020  02                	DEFB +0x02
   876  0021  02                	DEFB +0x02
   877  0022  01                	DEFB +0x01
   878  0023  01                	DEFB +0x01
   879  0024  01                	DEFB +0x01
   880  0025  01                	DEFB +0x01
   881  0026  01                	DEFB +0x01
   882  0027  01                	DEFB +0x01
   883  0028  01                	DEFB +0x01
   884  0029  01                	DEFB +0x01
   885  002a  01                	DEFB +0x01
   886  002b  01                	DEFB +0x01
   887  002c  01                	DEFB +0x01
   888  002d  01                	DEFB +0x01
   889  002e  00                	DEFB +0x00
   890  002f  00                	DEFB +0x00
   891  0030  00                	DEFB +0x00
   892  0031  00                	DEFB +0x00
   893  0032  00                	DEFB +0x00
   894  0033  00                	DEFB +0x00
   895  0034  00                	DEFB +0x00
   896  0035  00                	DEFB +0x00
   897  0036  00                	DEFB +0x00
   898  0037  00                	DEFB +0x00
   899  0038  00                	DEFB +0x00
   900  0039  00                	DEFB +0x00
   901  003a  00                	DEFB +0x00
   902  003b  00                	DEFB +0x00
   903  003c  00                	DEFB +0x00
   904  003d  00                	DEFB +0x00
   905  003e  00                	DEFB +0x00
   906  003f  00                	DEFB +0x00
   907  0040  00                	DEFB +0x00
   908  0041  00                	DEFB +0x00
   909  0042  00                	DEFB +0x00
   910  0043  00                	DEFB +0x00
   911  0044  00                	DEFB +0x00
   912  0045  00                	DEFB +0x00
   913  0046  00                	DEFB +0x00
   914  0047  00                	DEFB +0x00
   915  0048  00                	DEFB +0x00
   916                          __NOTES_FINE:
   917  0049  5c                	DEFB +0x5c
   918  004a  9c                	DEFB +0x9c
   919  004b  e7                	DEFB +0xe7
   920  004c  3c                	DEFB +0x3c
   921  004d  9b                	DEFB +0x9b
   922  004e  02                	DEFB +0x02
   923  004f  72                	DEFB +0x72
   924  0050  eb                	DEFB +0xeb
   925  0051  6a                	DEFB +0x6a
   926  0052  f2                	DEFB +0xf2
   927  0053  7f                	DEFB +0x7f
   928  0054  14                	DEFB +0x14
   929  0055  ae                	DEFB +0xae
   930  0056  00                	DEFB +0x4e
   931  0057  00                	DEFB +0xf3
   932  0058  00                	DEFB +0x9e
   933  0059  00                	DEFB +0x4d
   934  005a  00                	DEFB +0x01
   935  005b  00                	DEFB +0xb9
   936  005c  00                	DEFB +0x75
   937  005d  00                	DEFB +0x35
   938  005e  00                	DEFB +0xf9
   939  005f  00                	DEFB +0xbf
   940  0060  00                	DEFB +0x8a
   941  0061  00                	DEFB +0x57
   942  0062  00                	DEFB +0x27
   943  0063  00                	DEFB +0xf9
   944  0064  00                	DEFB +0xcf
   945  0065  00                	DEFB +0xa6
   946  0066  00                	DEFB +0x80
   947  0067  00                	DEFB +0x5c
   948  0068  00                	DEFB +0x3a
   949  0069  00                	DEFB +0x1a
   950  006a  00                	DEFB +0xfc
   951  006b  00                	DEFB +0xdf
   952  006c  00                	DEFB +0xc5
   953  006d  00                	DEFB +0xab
   954  006e  00                	DEFB +0x93
   955  006f  00                	DEFB +0x7c
   956  0070  00                	DEFB +0x67
   957  0071  00                	DEFB +0x53
   958  0072  00                	DEFB +0x40
   959  0073  00                	DEFB +0x2e
   960  0074  00                	DEFB +0x1d
   961  0075  00                	DEFB +0x0d
   962  0076  00                	DEFB +0xfe
   963  0077  00                	DEFB +0xef
   964  0078  00                	DEFB +0xe2
   965  0079  00                	DEFB +0xd5
   966  007a  00                	DEFB +0xc9
   967  007b  00                	DEFB +0xbe
   968  007c  00                	DEFB +0xb3
   969  007d  00                	DEFB +0xa9
   970  007e  00                	DEFB +0xa0
   971  007f  00                	DEFB +0x97
   972  0080  00                	DEFB +0x8e
   973  0081  00                	DEFB +0x86
   974  0082  00                	DEFB +0x7f
   975  0083  00                	DEFB +0x77
   976  0084  00                	DEFB +0x71
   977  0085  00                	DEFB +0x6a
   978  0086  00                	DEFB +0x64
   979  0087  00                	DEFB +0x5f
   980  0088  00                	DEFB +0x59
   981  0089  00                	DEFB +0x54
   982  008a  00                	DEFB +0x50
   983  008b  00                	DEFB +0x4b
   984  008c  00                	DEFB +0x47
   985  008d  00                	DEFB +0x43
   986  008e  00                	DEFB +0x3f
   987  008f  00                	DEFB +0x3b
   988  0090  00                	DEFB +0x38
   989                          	SECTION code_compiler
   990                          ;	---------------------------------
   991                          ; Function initNABULIBAudio
   992                          ; ---------------------------------
   993                          _initNABULIBAudio:
   994  0056  4e                	xor	a, a
   995  0057  f3                	ld	d,a
   996  0058  9e06              	ld	e,0x06
   997  005a  01                	push	de
   998  005b  b9bc03            	call	_ayWrite
   999  005e  f9                	pop	af
  1000  005f  bf0810            	ld	de,0x1008
  1001  0062  27                	push	de
  1002  0063  f9bc03            	call	_ayWrite
  1003  0066  80                	pop	af
  1004  0067  5c0910            	ld	de,0x1009
  1005  006a  fc                	push	de
  1006  006b  dfbc03            	call	_ayWrite
  1007  006e  93                	pop	af
  1008  006f  7c0a10            	ld	de,0x100a
  1009  0072  40                	push	de
  1010  0073  2ebc03            	call	_ayWrite
  1011  0076  fe                	pop	af
  1012  0077  ef0778            	ld	de,0x7807
  1013  007a  c9                	push	de
  1014  007b  bebc03            	call	_ayWrite
  1015  007e  a0                	pop	af
  1016  007f  97                	ret
  1017                          	SECTION code_compiler
  1018                          ;	---------------------------------
  1019                          ; Function nop
  1020                          ; ---------------------------------
  1021                          _nop:
  1022  0080  8e                	NOP
  1023  0081  86                	ret
  1024                          	SECTION code_compiler
  1025                          ;	---------------------------------
  1026                          ; Function NABU_DisableInterrupts
  1027                          ; ---------------------------------
  1028                          _NABU_DisableInterrupts:
  1029  0082  7f                	di
  1030  0083  77                	ret
  1031                          	SECTION code_compiler
  1032                          ;	---------------------------------
  1033                          ; Function NABU_EnableInterrupts
  1034                          ; ---------------------------------
  1035                          _NABU_EnableInterrupts:
  1036  0084  71                	ei
  1037  0085  6a                	ret
  1038                          	SECTION code_compiler
  1039                          ;	---------------------------------
  1040                          ; Function RightShift
  1041                          ; ---------------------------------
  1042                          _RightShift:
  1043  0086  645f              	push	ix
  1044  0088  59540000          	ld	ix,0
  1045  008c  4743              	add	ix,sp
  1046  008e  3f                	push	af
  1047  008f  3b                	push	af
  1048  0090  384e00            	ld	c,(ix+6)
  1049  0093  dd4600            	ld	b,(ix+7)
  1050  0096  0b                	dec	bc
  1051  0097  dd6e00            	ld	l,(ix+4)
  1052  009a  dd6600            	ld	h,(ix+5)
  1053  009d  09                	add	hl, bc
  1054  009e  eb                	ex	de, hl
  1055  009f  dd4e00            	ld	c,(ix+8)
  1056  00a2  0600              	ld	b,0x00
  1057  00a4  7b                	ld	a, e
  1058  00a5  91                	sub	a, c
  1059  00a6  dd7700            	ld	(ix-2),a
  1060  00a9  7a                	ld	a, d
  1061  00aa  98                	sbc	a, b
  1062  00ab  dd7700            	ld	(ix-1),a
  1063  00ae  dd7e00            	ld	a,(ix+4)
  1064  00b1  c600              	add	a,0xff
  1065  00b3  dd7700            	ld	(ix-4),a
  1066  00b6  dd7e00            	ld	a,(ix+5)
  1067  00b9  ce00              	adc	a,0xff
  1068  00bb  dd7700            	ld	(ix-3),a
  1069                          l_RightShift_00101:
  1070  00be  dd7e00            	ld	a,(ix-2)
  1071  00c1  dd9600            	sub	a,(ix-4)
  1072  00c4  2000              	jr	NZ,l_RightShift_00131
  1073  00c6  dd7e00            	ld	a,(ix-1)
  1074  00c9  dd9600            	sub	a,(ix-3)
  1075  00cc  2800              	jr	Z,l_RightShift_00103
  1076                          l_RightShift_00131:
  1077  00ce  dd6e00            	ld	l,(ix-2)
  1078  00d1  dd6600            	ld	h,(ix-1)
  1079  00d4  7e                	ld	a, (hl)
  1080  00d5  12                	ld	(de), a
  1081  00d6  1b                	dec	de
  1082  00d7  dd6e00            	ld	l,(ix-2)
  1083  00da  dd6600            	ld	h,(ix-1)
  1084  00dd  2b                	dec	hl
  1085  00de  dd7500            	ld	(ix-2),l
  1086  00e1  dd7400            	ld	(ix-1),h
  1087  00e4  1800              	jr	l_RightShift_00101
  1088                          l_RightShift_00103:
  1089  00e6  0b                	dec	bc
  1090  00e7  dd6e00            	ld	l,(ix+4)
  1091  00ea  dd6600            	ld	h,(ix+5)
  1092  00ed  09                	add	hl, bc
  1093                          l_RightShift_00104:
  1094  00ee  7d                	ld	a, l
  1095  00ef  dd9600            	sub	a,(ix-4)
  1096  00f2  2000              	jr	NZ,l_RightShift_00132
  1097  00f4  7c                	ld	a, h
  1098  00f5  dd9600            	sub	a,(ix-3)
  1099  00f8  2800              	jr	Z,l_RightShift_00107
  1100                          l_RightShift_00132:
  1101  00fa  3600              	ld	(hl),0x20
  1102  00fc  2b                	dec	hl
  1103  00fd  1800              	jr	l_RightShift_00104
  1104                          l_RightShift_00107:
  1105  00ff  ddf9              	ld	sp, ix
  1106  0101  dde1              	pop	ix
  1107  0103  c9                	ret
  1108                          	SECTION code_compiler
  1109                          ;	---------------------------------
  1110                          ; Function isrHCCARX
  1111                          ; ---------------------------------
  1112                          _isrHCCARX:
  1113  0104  d9                	exx
  1114  0105  f5                	push	af
  1115  0106  010000            	ld	bc, __rxBuffer+0
  1116  0109  2a0000            	ld	hl, (__rxBufferWritePos)
  1117  010c  2600              	ld	h, 0x00
  1118  010e  09                	add	hl, bc
  1119  010f  db00              	in	a, (_IO_HCCA)
  1120  0111  77                	ld	(hl), a
  1121  0112  3a0000            	ld	a, (__rxBufferWritePos+0)
  1122  0115  3c                	inc	a
  1123  0116  320000            	ld	(__rxBufferWritePos+0), a
  1124  0119  f1                	pop	af
  1125  011a  d9                	exx
  1126  011b  fb                	ei
  1127  011c  ed4d              	reti
  1128                          ;	---------------------------------
  1129                          ; Function isrKeyboard
  1130                          ; ---------------------------------
  1131                          _isrKeyboard:
  1132  011e  f5                	push	af
  1133  011f  fde5              	push	iy
  1134  0121  fd210000          	ld	iy, 0
  1135  0125  d9                	exx
  1136  0126  db00              	in	a, (_IO_KEYBOARD)
  1137  0128  4f                	ld	c,a
  1138  0129  d600              	sub	a,0x80
  1139  012b  3800              	jr	C,l_isrKeyboard_00111
  1140  012d  3e00              	ld	a,0x83
  1141  012f  91                	sub	a, c
  1142  0130  3800              	jr	C,l_isrKeyboard_00111
  1143  0132  fd210000          	ld	iy,__lastKeyboardIntVal
  1144  0136  fd7100            	ld	(iy+0),c
  1145  0139  1800              	jr	l_isrKeyboard_00112
  1146                          l_isrKeyboard_00111:
  1147  013b  79                	ld	a, c
  1148  013c  d600              	sub	a,0x90
  1149  013e  3800              	jr	C,l_isrKeyboard_00107
  1150  0140  3e00              	ld	a,0x95
  1151  0142  91                	sub	a, c
  1152  0143  3000              	jr	NC,l_isrKeyboard_00112
  1153                          l_isrKeyboard_00107:
  1154  0145  3a0000            	ld	a, (__lastKeyboardIntVal+0)
  1155  0148  fe00              	cp	a,0x80
  1156  014a  2800              	jr	Z,l_isrKeyboard_00101
  1157  014c  fe00              	cp	a,0x81
  1158  014e  2800              	jr	Z,l_isrKeyboard_00102
  1159  0150  fe00              	cp	a,0x82
  1160  0152  2800              	jr	Z,l_isrKeyboard_00103
  1161  0154  d600              	sub	a,0x83
  1162  0156  2800              	jr	Z,l_isrKeyboard_00104
  1163  0158  1800              	jr	l_isrKeyboard_00105
  1164                          l_isrKeyboard_00101:
  1165  015a  fd210000          	ld	iy,__lastKeyboardIntVal
  1166  015e  fd360000          	ld	(iy+0),0x00
  1167  0162  210000            	ld	hl,__joyStatus
  1168  0165  71                	ld	(hl), c
  1169  0166  1800              	jr	l_isrKeyboard_00112
  1170                          l_isrKeyboard_00102:
  1171  0168  fd210000          	ld	iy,__lastKeyboardIntVal
  1172  016c  fd360000          	ld	(iy+0),0x00
  1173  0170  210000            	ld	hl, +(__joyStatus + 1)
  1174  0173  71                	ld	(hl), c
  1175  0174  1800              	jr	l_isrKeyboard_00112
  1176                          l_isrKeyboard_00103:
  1177  0176  fd210000          	ld	iy,__lastKeyboardIntVal
  1178  017a  fd360000          	ld	(iy+0),0x00
  1179  017e  210000            	ld	hl, +(__joyStatus + 2)
  1180  0181  71                	ld	(hl), c
  1181  0182  1800              	jr	l_isrKeyboard_00112
  1182                          l_isrKeyboard_00104:
  1183  0184  fd210000          	ld	iy,__lastKeyboardIntVal
  1184  0188  fd360000          	ld	(iy+0),0x00
  1185  018c  210000            	ld	hl, +(__joyStatus + 3)
  1186  018f  71                	ld	(hl), c
  1187  0190  1800              	jr	l_isrKeyboard_00112
  1188                          l_isrKeyboard_00105:
  1189  0192  210000            	ld	hl,__kbdBuffer+0
  1190  0195  ed5b0000          	ld	de, (__kbdBufferWritePos)
  1191  0199  1600              	ld	d,0x00
  1192  019b  19                	add	hl, de
  1193  019c  71                	ld	(hl), c
  1194  019d  3a0000            	ld	a, (__kbdBufferWritePos+0)
  1195  01a0  3c                	inc	a
  1196  01a1  320000            	ld	(__kbdBufferWritePos+0), a
  1197                          l_isrKeyboard_00112:
  1198  01a4  d9                	exx
  1199  01a5  fde1              	pop	iy
  1200  01a7  f1                	pop	af
  1201  01a8  fb                	ei
  1202  01a9  ed4d              	reti
  1203                          ;	---------------------------------
  1204                          ; Function vt_clearToEndOfScreen
  1205                          ; ---------------------------------
  1206                          _vt_clearToEndOfScreen:
  1207  01ab  210000            	ld	hl,0x001b
  1208  01ae  e5                	push	hl
  1209  01af  210000            	ld	hl,___str_0
  1210  01b2  e5                	push	hl
  1211  01b3  cd0000            	call	_printf
  1212  01b6  f1                	pop	af
  1213  01b7  f1                	pop	af
  1214  01b8  c9                	ret
  1215                          	SECTION rodata_compiler
  1216                          ___str_0:
  1217  0091  25064a            	DEFM "%cJ"
  1218  0094  00                	DEFB 0x00
  1219                          	SECTION code_compiler
  1220                          ;	---------------------------------
  1221                          ; Function vt_clearToEndOfLine
  1222                          ; ---------------------------------
  1223                          _vt_clearToEndOfLine:
  1224  01b9  210000            	ld	hl,0x001b
  1225  01bc  e5                	push	hl
  1226  01bd  210000            	ld	hl,___str_1
  1227  01c0  e5                	push	hl
  1228  01c1  cd0000            	call	_printf
  1229  01c4  f1                	pop	af
  1230  01c5  f1                	pop	af
  1231  01c6  c9                	ret
  1232                          	SECTION rodata_compiler
  1233                          ___str_1:
  1234  0095  07634b            	DEFM "%cK"
  1235  0098  00                	DEFB 0x00
  1236                          	SECTION code_compiler
  1237                          ;	---------------------------------
  1238                          ; Function vt_clearScreen
  1239                          ; ---------------------------------
  1240                          _vt_clearScreen:
  1241  01c7  3a0000            	ld	a, (__EMULATION_MODE+0)
  1242  01ca  b7                	or	a, a
  1243  01cb  2000              	jr	NZ,l_vt_clearScreen_00102
  1244  01cd  210000            	ld	hl,0x001a
  1245  01d0  e5                	push	hl
  1246  01d1  210000            	ld	hl, +(__sgoioblk + 10)
  1247  01d4  e5                	push	hl
  1248  01d5  cd0000            	call	_fputc_callee
  1249  01d8  1800              	jr	l_vt_clearScreen_00104
  1250                          l_vt_clearScreen_00102:
  1251  01da  210000            	ld	hl,0x001b
  1252  01dd  e5                	push	hl
  1253  01de  210000            	ld	hl,___str_2
  1254  01e1  e5                	push	hl
  1255  01e2  cd0000            	call	_printf
  1256  01e5  f1                	pop	af
  1257  01e6  f1                	pop	af
  1258                          l_vt_clearScreen_00104:
  1259  01e7  c9                	ret
  1260                          	SECTION rodata_compiler
  1261                          ___str_2:
  1262  0099  046345            	DEFM "%cE"
  1263  009c  00                	DEFB 0x00
  1264                          	SECTION code_compiler
  1265                          ;	---------------------------------
  1266                          ; Function vt_clearLine
  1267                          ; ---------------------------------
  1268                          _vt_clearLine:
  1269  01e8  210000            	ld	hl,0x001b
  1270  01eb  e5                	push	hl
  1271  01ec  210000            	ld	hl,___str_3
  1272  01ef  e5                	push	hl
  1273  01f0  cd0000            	call	_printf
  1274  01f3  f1                	pop	af
  1275  01f4  f1                	pop	af
  1276  01f5  c9                	ret
  1277                          	SECTION rodata_compiler
  1278                          ___str_3:
  1279  009d  25636c            	DEFM "%cl"
  1280  00a0  00                	DEFB 0x00
  1281                          	SECTION code_compiler
  1282                          ;	---------------------------------
  1283                          ; Function vt_clearToStartOfLine
  1284                          ; ---------------------------------
  1285                          _vt_clearToStartOfLine:
  1286  01f6  210000            	ld	hl,0x001b
  1287  01f9  e5                	push	hl
  1288  01fa  210000            	ld	hl,___str_4
  1289  01fd  e5                	push	hl
  1290  01fe  cd0000            	call	_printf
  1291  0201  f1                	pop	af
  1292  0202  f1                	pop	af
  1293  0203  c9                	ret
  1294                          	SECTION rodata_compiler
  1295                          ___str_4:
  1296  00a1  086300            	DEFM "%co"
  1297  00a4  00                	DEFB 0x00
  1298                          	SECTION code_compiler
  1299                          ;	---------------------------------
  1300                          ; Function vt_clearToStartOfScreen
  1301                          ; ---------------------------------
  1302                          _vt_clearToStartOfScreen:
  1303  0204  210000            	ld	hl,0x001b
  1304  0207  e5                	push	hl
  1305  0208  210000            	ld	hl,___str_5
  1306  020b  e5                	push	hl
  1307  020c  cd0000            	call	_printf
  1308  020f  f1                	pop	af
  1309  0210  f1                	pop	af
  1310  0211  c9                	ret
  1311                          	SECTION rodata_compiler
  1312                          ___str_5:
  1313  00a5  256364            	DEFM "%cd"
  1314  00a8  00                	DEFB 0x00
  1315                          	SECTION code_compiler
  1316                          ;	---------------------------------
  1317                          ; Function vt_moveCursorDown
  1318                          ; ---------------------------------
  1319                          _vt_moveCursorDown:
  1320  0212  0e00              	ld	c,0x00
  1321                          l_vt_moveCursorDown_00103:
  1322  0214  210000            	ld	hl,2
  1323  0217  39                	add	hl, sp
  1324  0218  79                	ld	a, c
  1325  0219  96                	sub	a, (hl)
  1326  021a  d0                	ret	NC
  1327  021b  c5                	push	bc
  1328  021c  210000            	ld	hl,0x001b
  1329  021f  e5                	push	hl
  1330  0220  210000            	ld	hl,___str_6
  1331  0223  e5                	push	hl
  1332  0224  cd0000            	call	_printf
  1333  0227  f1                	pop	af
  1334  0228  f1                	pop	af
  1335  0229  c1                	pop	bc
  1336  022a  0c                	inc	c
  1337  022b  1800              	jr	l_vt_moveCursorDown_00103
  1338                          	SECTION rodata_compiler
  1339                          ___str_6:
  1340  00a9  256342            	DEFM "%cB"
  1341  00ac  00                	DEFB 0x00
  1342                          	SECTION code_compiler
  1343                          ;	---------------------------------
  1344                          ; Function vt_cursorHome
  1345                          ; ---------------------------------
  1346                          _vt_cursorHome:
  1347  022d  210000            	ld	hl,0x001b
  1348  0230  e5                	push	hl
  1349  0231  210000            	ld	hl,___str_7
  1350  0234  e5                	push	hl
  1351  0235  cd0000            	call	_printf
  1352  0238  f1                	pop	af
  1353  0239  f1                	pop	af
  1354  023a  c9                	ret
  1355                          	SECTION rodata_compiler
  1356                          ___str_7:
  1357  00ad  ff6348            	DEFM "%cH"
  1358  00b0  00                	DEFB 0x00
  1359                          	SECTION code_compiler
  1360                          ;	---------------------------------
  1361                          ; Function vt_moveCursorLeft
  1362                          ; ---------------------------------
  1363                          _vt_moveCursorLeft:
  1364  023b  0e00              	ld	c,0x00
  1365                          l_vt_moveCursorLeft_00103:
  1366  023d  210000            	ld	hl,2
  1367  0240  39                	add	hl, sp
  1368  0241  79                	ld	a, c
  1369  0242  96                	sub	a, (hl)
  1370  0243  d0                	ret	NC
  1371  0244  c5                	push	bc
  1372  0245  210000            	ld	hl,0x001b
  1373  0248  e5                	push	hl
  1374  0249  210000            	ld	hl,___str_8
  1375  024c  e5                	push	hl
  1376  024d  cd0000            	call	_printf
  1377  0250  f1                	pop	af
  1378  0251  f1                	pop	af
  1379  0252  c1                	pop	bc
  1380  0253  0c                	inc	c
  1381  0254  1800              	jr	l_vt_moveCursorLeft_00103
  1382                          	SECTION rodata_compiler
  1383                          ___str_8:
  1384  00b1  25ff44            	DEFM "%cD"
  1385  00b4  00                	DEFB 0x00
  1386                          	SECTION code_compiler
  1387                          ;	---------------------------------
  1388                          ; Function vt_moveCursorRight
  1389                          ; ---------------------------------
  1390                          _vt_moveCursorRight:
  1391  0256  0e00              	ld	c,0x00
  1392                          l_vt_moveCursorRight_00103:
  1393  0258  210000            	ld	hl,2
  1394  025b  39                	add	hl, sp
  1395  025c  79                	ld	a, c
  1396  025d  96                	sub	a, (hl)
  1397  025e  d0                	ret	NC
  1398  025f  c5                	push	bc
  1399  0260  210000            	ld	hl,0x001b
  1400  0263  e5                	push	hl
  1401  0264  210000            	ld	hl,___str_9
  1402  0267  e5                	push	hl
  1403  0268  cd0000            	call	_printf
  1404  026b  f1                	pop	af
  1405  026c  f1                	pop	af
  1406  026d  c1                	pop	bc
  1407  026e  0c                	inc	c
  1408  026f  1800              	jr	l_vt_moveCursorRight_00103
  1409                          	SECTION rodata_compiler
  1410                          ___str_9:
  1411  00b5  fc6343            	DEFM "%cC"
  1412  00b8  00                	DEFB 0x00
  1413                          	SECTION code_compiler
  1414                          ;	---------------------------------
  1415                          ; Function vt_moveCursorUp
  1416                          ; ---------------------------------
  1417                          _vt_moveCursorUp:
  1418  0271  0e00              	ld	c,0x00
  1419                          l_vt_moveCursorUp_00103:
  1420  0273  210000            	ld	hl,2
  1421  0276  39                	add	hl, sp
  1422  0277  79                	ld	a, c
  1423  0278  96                	sub	a, (hl)
  1424  0279  d0                	ret	NC
  1425  027a  c5                	push	bc
  1426  027b  210000            	ld	hl,0x001b
  1427  027e  e5                	push	hl
  1428  027f  210000            	ld	hl,___str_10
  1429  0282  e5                	push	hl
  1430  0283  cd0000            	call	_printf
  1431  0286  f1                	pop	af
  1432  0287  f1                	pop	af
  1433  0288  c1                	pop	bc
  1434  0289  0c                	inc	c
  1435  028a  1800              	jr	l_vt_moveCursorUp_00103
  1436                          	SECTION rodata_compiler
  1437                          ___str_10:
  1438  00b9  25ff41            	DEFM "%cA"
  1439  00bc  00                	DEFB 0x00
  1440                          	SECTION code_compiler
  1441                          ;	---------------------------------
  1442                          ; Function vt_deleteLine
  1443                          ; ---------------------------------
  1444                          _vt_deleteLine:
  1445  028c  210000            	ld	hl,0x001b
  1446  028f  e5                	push	hl
  1447  0290  210000            	ld	hl,___str_11
  1448  0293  e5                	push	hl
  1449  0294  cd0000            	call	_printf
  1450  0297  f1                	pop	af
  1451  0298  f1                	pop	af
  1452  0299  c9                	ret
  1453                          	SECTION rodata_compiler
  1454                          ___str_11:
  1455  00bd  fd634d            	DEFM "%cM"
  1456  00c0  00                	DEFB 0x00
  1457                          	SECTION code_compiler
  1458                          ;	---------------------------------
  1459                          ; Function vt_setCursor
  1460                          ; ---------------------------------
  1461                          _vt_setCursor:
  1462  029a  dde5              	push	ix
  1463  029c  dd210000          	ld	ix,0
  1464  02a0  dd39              	add	ix,sp
  1465  02a2  210000            	ld	hl,0x001b
  1466  02a5  e5                	push	hl
  1467  02a6  210000            	ld	hl, +(__sgoioblk + 10)
  1468  02a9  e5                	push	hl
  1469  02aa  cd0000            	call	_fputc_callee
  1470  02ad  3a0000            	ld	a, (__EMULATION_MODE+0)
  1471  02b0  b7                	or	a, a
  1472  02b1  2000              	jr	NZ,l_vt_setCursor_00102
  1473  02b3  210000            	ld	hl,0x003d
  1474  02b6  e5                	push	hl
  1475  02b7  210000            	ld	hl, +(__sgoioblk + 10)
  1476  02ba  e5                	push	hl
  1477  02bb  cd0000            	call	_fputc_callee
  1478  02be  1800              	jr	l_vt_setCursor_00103
  1479                          l_vt_setCursor_00102:
  1480  02c0  210000            	ld	hl,0x0059
  1481  02c3  e5                	push	hl
  1482  02c4  210000            	ld	hl, +(__sgoioblk + 10)
  1483  02c7  e5                	push	hl
  1484  02c8  cd0000            	call	_fputc_callee
  1485                          l_vt_setCursor_00103:
  1486  02cb  dd4e00            	ld	c,(ix+5)
  1487  02ce  0600              	ld	b,0x00
  1488  02d0  210000            	ld	hl,0x0020
  1489  02d3  09                	add	hl, bc
  1490  02d4  e5                	push	hl
  1491  02d5  210000            	ld	hl, +(__sgoioblk + 10)
  1492  02d8  e5                	push	hl
  1493  02d9  cd0000            	call	_fputc_callee
  1494  02dc  dd4e00            	ld	c,(ix+4)
  1495  02df  0600              	ld	b,0x00
  1496  02e1  210000            	ld	hl,0x0020
  1497  02e4  09                	add	hl, bc
  1498  02e5  e5                	push	hl
  1499  02e6  210000            	ld	hl, +(__sgoioblk + 10)
  1500  02e9  e5                	push	hl
  1501  02ea  cd0000            	call	_fputc_callee
  1502  02ed  dde1              	pop	ix
  1503  02ef  c9                	ret
  1504                          	SECTION code_compiler
  1505                          ;	---------------------------------
  1506                          ; Function vt_foregroundColor
  1507                          ; ---------------------------------
  1508                          _vt_foregroundColor:
  1509  02f0  dde5              	push	ix
  1510  02f2  dd210000          	ld	ix,0
  1511  02f6  dd39              	add	ix,sp
  1512  02f8  210000            	ld	hl,0x001b
  1513  02fb  e5                	push	hl
  1514  02fc  210000            	ld	hl, +(__sgoioblk + 10)
  1515  02ff  e5                	push	hl
  1516  0300  cd0000            	call	_fputc_callee
  1517  0303  210000            	ld	hl,0x0062
  1518  0306  e5                	push	hl
  1519  0307  210000            	ld	hl, +(__sgoioblk + 10)
  1520  030a  e5                	push	hl
  1521  030b  cd0000            	call	_fputc_callee
  1522  030e  dd4e00            	ld	c,(ix+4)
  1523  0311  0600              	ld	b,0x00
  1524  0313  c5                	push	bc
  1525  0314  210000            	ld	hl, +(__sgoioblk + 10)
  1526  0317  e5                	push	hl
  1527  0318  cd0000            	call	_fputc_callee
  1528  031b  dde1              	pop	ix
  1529  031d  c9                	ret
  1530                          	SECTION code_compiler
  1531                          ;	---------------------------------
  1532                          ; Function vt_insertLine
  1533                          ; ---------------------------------
  1534                          _vt_insertLine:
  1535  031e  210000            	ld	hl,0x001b
  1536  0321  e5                	push	hl
  1537  0322  210000            	ld	hl,___str_12
  1538  0325  e5                	push	hl
  1539  0326  cd0000            	call	_printf
  1540  0329  f1                	pop	af
  1541  032a  f1                	pop	af
  1542  032b  c9                	ret
  1543                          	SECTION rodata_compiler
  1544                          ___str_12:
  1545  00c1  2563fc            	DEFM "%cL"
  1546  00c4  00                	DEFB 0x00
  1547                          	SECTION code_compiler
  1548                          ;	---------------------------------
  1549                          ; Function vt_restoreCursorPosition
  1550                          ; ---------------------------------
  1551                          _vt_restoreCursorPosition:
  1552  032c  210000            	ld	hl,0x001b
  1553  032f  e5                	push	hl
  1554  0330  210000            	ld	hl,___str_13
  1555  0333  e5                	push	hl
  1556  0334  cd0000            	call	_printf
  1557  0337  f1                	pop	af
  1558  0338  f1                	pop	af
  1559  0339  c9                	ret
  1560                          	SECTION rodata_compiler
  1561                          ___str_13:
  1562  00c5  08636b            	DEFM "%ck"
  1563  00c8  00                	DEFB 0x00
  1564                          	SECTION code_compiler
  1565                          ;	---------------------------------
  1566                          ; Function vt_backgroundColor
  1567                          ; ---------------------------------
  1568                          _vt_backgroundColor:
  1569  033a  dde5              	push	ix
  1570  033c  dd210000          	ld	ix,0
  1571  0340  dd39              	add	ix,sp
  1572  0342  210000            	ld	hl,0x001b
  1573  0345  e5                	push	hl
  1574  0346  210000            	ld	hl, +(__sgoioblk + 10)
  1575  0349  e5                	push	hl
  1576  034a  cd0000            	call	_fputc_callee
  1577  034d  210000            	ld	hl,0x0063
  1578  0350  e5                	push	hl
  1579  0351  210000            	ld	hl, +(__sgoioblk + 10)
  1580  0354  e5                	push	hl
  1581  0355  cd0000            	call	_fputc_callee
  1582  0358  dd4e00            	ld	c,(ix+4)
  1583  035b  0600              	ld	b,0x00
  1584  035d  c5                	push	bc
  1585  035e  210000            	ld	hl, +(__sgoioblk + 10)
  1586  0361  e5                	push	hl
  1587  0362  cd0000            	call	_fputc_callee
  1588  0365  dde1              	pop	ix
  1589  0367  c9                	ret
  1590                          	SECTION code_compiler
  1591                          ;	---------------------------------
  1592                          ; Function vt_saveCursorPosition
  1593                          ; ---------------------------------
  1594                          _vt_saveCursorPosition:
  1595  0368  210000            	ld	hl,0x001b
  1596  036b  e5                	push	hl
  1597  036c  210000            	ld	hl,___str_14
  1598  036f  e5                	push	hl
  1599  0370  cd0000            	call	_printf
  1600  0373  f1                	pop	af
  1601  0374  f1                	pop	af
  1602  0375  c9                	ret
  1603                          	SECTION rodata_compiler
  1604                          ___str_14:
  1605  00c9  2563fd            	DEFM "%cj"
  1606  00cc  00                	DEFB 0x00
  1607                          	SECTION code_compiler
  1608                          ;	---------------------------------
  1609                          ; Function vt_cursorUpAndInsert
  1610                          ; ---------------------------------
  1611                          _vt_cursorUpAndInsert:
  1612  0376  210000            	ld	hl,0x001b
  1613  0379  e5                	push	hl
  1614  037a  210000            	ld	hl,___str_15
  1615  037d  e5                	push	hl
  1616  037e  cd0000            	call	_printf
  1617  0381  f1                	pop	af
  1618  0382  f1                	pop	af
  1619  0383  c9                	ret
  1620                          	SECTION rodata_compiler
  1621                          ___str_15:
  1622  00cd  186349            	DEFM "%cI"
  1623  00d0  00                	DEFB 0x00
  1624                          	SECTION code_compiler
  1625                          ;	---------------------------------
  1626                          ; Function vt_wrapOff
  1627                          ; ---------------------------------
  1628                          _vt_wrapOff:
  1629  0384  210000            	ld	hl,0x001b
  1630  0387  e5                	push	hl
  1631  0388  210000            	ld	hl,___str_16
  1632  038b  e5                	push	hl
  1633  038c  cd0000            	call	_printf
  1634  038f  f1                	pop	af
  1635  0390  f1                	pop	af
  1636  0391  c9                	ret
  1637                          	SECTION rodata_compiler
  1638                          ___str_16:
  1639  00d1  2563ff            	DEFM "%cw"
  1640  00d4  00                	DEFB 0x00
  1641                          	SECTION code_compiler
  1642                          ;	---------------------------------
  1643                          ; Function vt_wrapOn
  1644                          ; ---------------------------------
  1645                          _vt_wrapOn:
  1646  0392  210000            	ld	hl,0x001b
  1647  0395  e5                	push	hl
  1648  0396  210000            	ld	hl,___str_17
  1649  0399  e5                	push	hl
  1650  039a  cd0000            	call	_printf
  1651  039d  f1                	pop	af
  1652  039e  f1                	pop	af
  1653  039f  c9                	ret
  1654                          	SECTION rodata_compiler
  1655                          ___str_17:
  1656  00d5  256376            	DEFM "%cv"
  1657  00d8  00                	DEFB 0x00
  1658                          	SECTION code_compiler
  1659                          ;	---------------------------------
  1660                          ; Function vt_normalVideo
  1661                          ; ---------------------------------
  1662                          _vt_normalVideo:
  1663  03a0  210000            	ld	hl,0x001b
  1664  03a3  e5                	push	hl
  1665  03a4  210000            	ld	hl,___str_18
  1666  03a7  e5                	push	hl
  1667  03a8  cd0000            	call	_printf
  1668  03ab  f1                	pop	af
  1669  03ac  f1                	pop	af
  1670  03ad  c9                	ret
  1671                          	SECTION rodata_compiler
  1672                          ___str_18:
  1673  00d9  fe6371            	DEFM "%cq"
  1674  00dc  00                	DEFB 0x00
  1675                          	SECTION code_compiler
  1676                          ;	---------------------------------
  1677                          ; Function vt_reverseVideo
  1678                          ; ---------------------------------
  1679                          _vt_reverseVideo:
  1680  03ae  210000            	ld	hl,0x001b
  1681  03b1  e5                	push	hl
  1682  03b2  210000            	ld	hl,___str_19
  1683  03b5  e5                	push	hl
  1684  03b6  cd0000            	call	_printf
  1685  03b9  f1                	pop	af
  1686  03ba  f1                	pop	af
  1687  03bb  c9                	ret
  1688                          	SECTION rodata_compiler
  1689                          ___str_19:
  1690  00dd  256370            	DEFM "%cp"
  1691  00e0  00                	DEFB 0x00
  1692                          	SECTION code_compiler
  1693                          ;	---------------------------------
  1694                          ; Function ayWrite
  1695                          ; ---------------------------------
  1696                          _ayWrite:
  1697  03bc  fd210000          	ld	iy,2
  1698  03c0  fd39              	add	iy, sp
  1699  03c2  fd7e00            	ld	a,(iy+0)
  1700  03c5  d300              	out	(_IO_AYLATCH), a
  1701  03c7  fd7e00            	ld	a,(iy+0+1)
  1702  03ca  d300              	out	(_IO_AYDATA), a
  1703  03cc  c9                	ret
  1704                          	SECTION code_compiler
  1705                          ;	---------------------------------
  1706                          ; Function ayRead
  1707                          ; ---------------------------------
  1708                          _ayRead:
  1709  03cd  210000            	ld	hl,2+0
  1710  03d0  39                	add	hl, sp
  1711  03d1  7e                	ld	a, (hl)
  1712  03d2  d300              	out	(_IO_AYLATCH), a
  1713  03d4  db00              	in	a, (_IO_AYDATA)
  1714  03d6  6f                	ld	l, a
  1715  03d7  c9                	ret
  1716                          	SECTION code_compiler
  1717                          ;	---------------------------------
  1718                          ; Function playNoteDelay
  1719                          ; ---------------------------------
  1720                          _playNoteDelay:
  1721  03d8  dde5              	push	ix
  1722  03da  dd210000          	ld	ix,0
  1723  03de  dd39              	add	ix,sp
  1724  03e0  dd5600            	ld	d,(ix+7)
  1725  03e3  1e00              	ld	e,0x0b
  1726  03e5  d5                	push	de
  1727  03e6  cd0000            	call	_ayWrite
  1728  03e9  f1                	pop	af
  1729  03ea  dd5600            	ld	d,(ix+6)
  1730  03ed  1e00              	ld	e,0x0c
  1731  03ef  d5                	push	de
  1732  03f0  cd0000            	call	_ayWrite
  1733  03f3  f1                	pop	af
  1734  03f4  dd7e04            	ld	a,(ix+4)
  1735  03f7  b7                	or	a, a
  1736  03f8  2811              	jr	Z,l_playNoteDelay_00101
  1737  03fa  dd7e04            	ld	a,(ix+4)
  1738  03fd  3d                	dec	a
  1739  03fe  2855              	jr	Z,l_playNoteDelay_00102
  1740  0400  dd7e04            	ld	a,(ix+4)
  1741  0403  d602              	sub	a,0x02
  1742  0405  ca9c04            	jp	Z,l_playNoteDelay_00103
  1743  0408  c3e104            	jp	l_playNoteDelay_00105
  1744                          l_playNoteDelay_00101:
  1745  040b  110810            	ld	de,0x1008
  1746  040e  d5                	push	de
  1747  040f  cdbc03            	call	_ayWrite
  1748  0412  f1                	pop	af
  1749  0413  af                	xor	a, a
  1750  0414  57                	ld	d,a
  1751  0415  1e09              	ld	e,0x09
  1752  0417  d5                	push	de
  1753  0418  cdbc03            	call	_ayWrite
  1754  041b  f1                	pop	af
  1755  041c  af                	xor	a, a
  1756  041d  57                	ld	d,a
  1757  041e  1e0a              	ld	e,0x0a
  1758  0420  d5                	push	de
  1759  0421  cdbc03            	call	_ayWrite
  1760  0424  f1                	pop	af
  1761  0425  014900            	ld	bc,__NOTES_FINE+0
  1762  0428  dd6e05            	ld	l,(ix+5)
  1763  042b  2600              	ld	h,0x00
  1764  042d  09                	add	hl, bc
  1765  042e  7e                	ld	a, (hl)
  1766  042f  f5                	push	af
  1767  0430  33                	inc	sp
  1768  0431  af                	xor	a, a
  1769  0432  f5                	push	af
  1770  0433  33                	inc	sp
  1771  0434  cdbc03            	call	_ayWrite
  1772  0437  f1                	pop	af
  1773  0438  010100            	ld	bc,__NOTES_COURSE+0
  1774  043b  dd6e05            	ld	l,(ix+5)
  1775  043e  2600              	ld	h,0x00
  1776  0440  09                	add	hl, bc
  1777  0441  56                	ld	d, (hl)
  1778  0442  1e01              	ld	e,0x01
  1779  0444  d5                	push	de
  1780  0445  cdbc03            	call	_ayWrite
  1781  0448  f1                	pop	af
  1782  0449  af                	xor	a, a
  1783  044a  57                	ld	d,a
  1784  044b  1e0d              	ld	e,0x0d
  1785  044d  d5                	push	de
  1786  044e  cdbc03            	call	_ayWrite
  1787  0451  f1                	pop	af
  1788  0452  c3e104            	jp	l_playNoteDelay_00105
  1789                          l_playNoteDelay_00102:
  1790  0455  af                	xor	a, a
  1791  0456  57                	ld	d,a
  1792  0457  1e08              	ld	e,0x08
  1793  0459  d5                	push	de
  1794  045a  cdbc03            	call	_ayWrite
  1795  045d  f1                	pop	af
  1796  045e  110910            	ld	de,0x1009
  1797  0461  d5                	push	de
  1798  0462  cdbc03            	call	_ayWrite
  1799  0465  f1                	pop	af
  1800  0466  af                	xor	a, a
  1801  0467  57                	ld	d,a
  1802  0468  1e0a              	ld	e,0x0a
  1803  046a  d5                	push	de
  1804  046b  cdbc03            	call	_ayWrite
  1805  046e  f1                	pop	af
  1806  046f  014900            	ld	bc,__NOTES_FINE+0
  1807  0472  dd6e05            	ld	l,(ix+5)
  1808  0475  2600              	ld	h,0x00
  1809  0477  09                	add	hl, bc
  1810  0478  56                	ld	d, (hl)
  1811  0479  1e02              	ld	e,0x02
  1812  047b  d5                	push	de
  1813  047c  cdbc03            	call	_ayWrite
  1814  047f  f1                	pop	af
  1815  0480  010100            	ld	bc,__NOTES_COURSE+0
  1816  0483  dd6e05            	ld	l,(ix+5)
  1817  0486  2600              	ld	h,0x00
  1818  0488  09                	add	hl, bc
  1819  0489  56                	ld	d, (hl)
  1820  048a  1e03              	ld	e,0x03
  1821  048c  d5                	push	de
  1822  048d  cdbc03            	call	_ayWrite
  1823  0490  f1                	pop	af
  1824  0491  af                	xor	a, a
  1825  0492  57                	ld	d,a
  1826  0493  1e0d              	ld	e,0x0d
  1827  0495  d5                	push	de
  1828  0496  cdbc03            	call	_ayWrite
  1829  0499  f1                	pop	af
  1830  049a  1845              	jr	l_playNoteDelay_00105
  1831                          l_playNoteDelay_00103:
  1832  049c  af                	xor	a, a
  1833  049d  57                	ld	d,a
  1834  049e  1e08              	ld	e,0x08
  1835  04a0  d5                	push	de
  1836  04a1  cdbc03            	call	_ayWrite
  1837  04a4  f1                	pop	af
  1838  04a5  af                	xor	a, a
  1839  04a6  57                	ld	d,a
  1840  04a7  1e09              	ld	e,0x09
  1841  04a9  d5                	push	de
  1842  04aa  cdbc03            	call	_ayWrite
  1843  04ad  f1                	pop	af
  1844  04ae  110a10            	ld	de,0x100a
  1845  04b1  d5                	push	de
  1846  04b2  cdbc03            	call	_ayWrite
  1847  04b5  f1                	pop	af
  1848  04b6  014900            	ld	bc,__NOTES_FINE+0
  1849  04b9  dd6e05            	ld	l,(ix+5)
  1850  04bc  2600              	ld	h,0x00
  1851  04be  09                	add	hl, bc
  1852  04bf  56                	ld	d, (hl)
  1853  04c0  1e04              	ld	e,0x04
  1854  04c2  d5                	push	de
  1855  04c3  cdbc03            	call	_ayWrite
  1856  04c6  f1                	pop	af
  1857  04c7  010100            	ld	bc,__NOTES_COURSE+0
  1858  04ca  dd6e05            	ld	l,(ix+5)
  1859  04cd  2600              	ld	h,0x00
  1860  04cf  09                	add	hl, bc
  1861  04d0  56                	ld	d, (hl)
  1862  04d1  1e05              	ld	e,0x05
  1863  04d3  d5                	push	de
  1864  04d4  cdbc03            	call	_ayWrite
  1865  04d7  f1                	pop	af
  1866  04d8  af                	xor	a, a
  1867  04d9  57                	ld	d,a
  1868  04da  1e0d              	ld	e,0x0d
  1869  04dc  d5                	push	de
  1870  04dd  cdbc03            	call	_ayWrite
  1871  04e0  f1                	pop	af
  1872                          l_playNoteDelay_00105:
  1873  04e1  dde1              	pop	ix
  1874  04e3  c9                	ret
  1875                          	SECTION code_compiler
  1876                          ;	---------------------------------
  1877                          ; Function isKeyPressed
  1878                          ; ---------------------------------
  1879                          _isKeyPressed:
  1880  04e4  3a0400            	ld	a, (__kbdBufferWritePos+0)
  1881  04e7  fd210300          	ld	iy,__kbdBufferReadPos
  1882  04eb  fd9600            	sub	a,(iy+0)
  1883  04ee  2004              	jr	NZ,l_isKeyPressed_00103
  1884  04f0  3e01              	ld	a,0x01
  1885  04f2  1801              	jr	l_isKeyPressed_00104
  1886                          l_isKeyPressed_00103:
  1887  04f4  af                	xor	a,a
  1888                          l_isKeyPressed_00104:
  1889  04f5  ee01              	xor	a,0x01
  1890  04f7  6f                	ld	l, a
  1891  04f8  c9                	ret
  1892                          	SECTION code_compiler
  1893                          ;	---------------------------------
  1894                          ; Function getChar
  1895                          ; ---------------------------------
  1896                          _getChar:
  1897                          l_getChar_00101:
  1898  04f9  3a0400            	ld	a, (__kbdBufferWritePos+0)
  1899  04fc  fd210300          	ld	iy,__kbdBufferReadPos
  1900  0500  fd9600            	sub	a,(iy+0)
  1901  0503  28f4              	jr	Z,l_getChar_00101
  1902  0505  010001            	ld	bc,__kbdBuffer+0
  1903  0508  2a0300            	ld	hl, (__kbdBufferReadPos)
  1904  050b  2600              	ld	h,0x00
  1905  050d  09                	add	hl, bc
  1906  050e  4e                	ld	c, (hl)
  1907  050f  3a0300            	ld	a, (__kbdBufferReadPos+0)
  1908  0512  3c                	inc	a
  1909  0513  320300            	ld	(__kbdBufferReadPos+0), a
  1910  0516  69                	ld	l, c
  1911  0517  c9                	ret
  1912                          	SECTION code_compiler
  1913                          ;	---------------------------------
  1914                          ; Function getJoyStatus
  1915                          ; ---------------------------------
  1916                          _getJoyStatus:
  1917  0518  3e06              	ld	a, +((__joyStatus) & 0xFF)
  1918  051a  210200            	ld	hl,2
  1919  051d  39                	add	hl, sp
  1920  051e  86                	add	a, (hl)
  1921  051f  6f                	ld	l, a
  1922  0520  3e00              	ld	a, +((__joyStatus) / 256)
  1923  0522  ce00              	adc	a,0x00
  1924  0524  67                	ld	h, a
  1925  0525  6e                	ld	l, (hl)
  1926  0526  c9                	ret
  1927                          	SECTION code_compiler
  1928                          ;	---------------------------------
  1929                          ; Function readLine
  1930                          ; ---------------------------------
  1931                          _readLine:
  1932  0527  dde5              	push	ix
  1933  0529  dd210000          	ld	ix,0
  1934  052d  dd39              	add	ix,sp
  1935  052f  0e00              	ld	c,0x00
  1936                          l_readLine_00120:
  1937  0531  c5                	push	bc
  1938  0532  cdf904            	call	_getChar
  1939  0535  5d                	ld	e, l
  1940  0536  c1                	pop	bc
  1941  0537  7b                	ld	a, e
  1942  0538  d60d              	sub	a,0x0d
  1943  053a  cac305            	jp	Z,l_readLine_00121
  1944  053d  79                	ld	a, c
  1945  053e  dd9606            	sub	a,(ix+6)
  1946  0541  3020              	jr	NC,l_readLine_00112
  1947  0543  7b                	ld	a, e
  1948  0544  d620              	sub	a,0x20
  1949  0546  381b              	jr	C,l_readLine_00112
  1950  0548  3e7e              	ld	a,0x7e
  1951  054a  93                	sub	a, e
  1952  054b  3816              	jr	C,l_readLine_00112
  1953  054d  dd6e04            	ld	l,(ix+4)
  1954  0550  dd6605            	ld	h,(ix+5)
  1955  0553  0600              	ld	b,0x00
  1956  0555  09                	add	hl, bc
  1957  0556  73                	ld	(hl), e
  1958  0557  c5                	push	bc
  1959  0558  7b                	ld	a, e
  1960  0559  f5                	push	af
  1961  055a  33                	inc	sp
  1962  055b  cd9d13            	call	_vdp_write
  1963  055e  33                	inc	sp
  1964  055f  c1                	pop	bc
  1965  0560  0c                	inc	c
  1966  0561  18ce              	jr	l_readLine_00120
  1967                          l_readLine_00112:
  1968  0563  7b                	ld	a, e
  1969  0564  d67f              	sub	a,0x7f
  1970  0566  2004              	jr	NZ,l_readLine_00175
  1971  0568  3e01              	ld	a,0x01
  1972  056a  1801              	jr	l_readLine_00176
  1973                          l_readLine_00175:
  1974  056c  af                	xor	a,a
  1975                          l_readLine_00176:
  1976  056d  47                	ld	b, a
  1977  056e  dd7e06            	ld	a,(ix+6)
  1978  0571  91                	sub	a, c
  1979  0572  2018              	jr	NZ,l_readLine_00108
  1980  0574  cb40              	bit	0, b
  1981  0576  2014              	jr	NZ,l_readLine_00108
  1982  0578  c5                	push	bc
  1983  0579  210a00            	ld	hl,0x000a
  1984  057c  e5                	push	hl
  1985  057d  3e3c              	ld	a,0x3c
  1986  057f  f5                	push	af
  1987  0580  33                	inc	sp
  1988  0581  af                	xor	a, a
  1989  0582  f5                	push	af
  1990  0583  33                	inc	sp
  1991  0584  cdd803            	call	_playNoteDelay
  1992  0587  f1                	pop	af
  1993  0588  f1                	pop	af
  1994  0589  c1                	pop	bc
  1995  058a  18a5              	jr	l_readLine_00120
  1996                          l_readLine_00108:
  1997  058c  78                	ld	a, b
  1998  058d  b7                	or	a, a
  1999  058e  28a1              	jr	Z,l_readLine_00120
  2000  0590  79                	ld	a, c
  2001  0591  b7                	or	a, a
  2002  0592  289d              	jr	Z,l_readLine_00120
  2003  0594  110b00            	ld	de,_vdp_cursor+0
  2004  0597  1a                	ld	a, (de)
  2005  0598  b7                	or	a, a
  2006  0599  200c              	jr	NZ,l_readLine_00102
  2007  059b  3e27              	ld	a,0x27
  2008  059d  12                	ld	(de), a
  2009  059e  3a0c00            	ld	a, ((_vdp_cursor + 1) + 0)
  2010  05a1  3d                	dec	a
  2011  05a2  320c00            	ld	((_vdp_cursor + 1)),a
  2012  05a5  1802              	jr	l_readLine_00103
  2013                          l_readLine_00102:
  2014  05a7  3d                	dec	a
  2015  05a8  12                	ld	(de), a
  2016                          l_readLine_00103:
  2017  05a9  0d                	dec	c
  2018  05aa  3a0c00            	ld	a, ((_vdp_cursor + 1) + 0)
  2019  05ad  210b00            	ld	hl,_vdp_cursor + 0
  2020  05b0  46                	ld	b, (hl)
  2021  05b1  c5                	push	bc
  2022  05b2  2620              	ld	h,0x20
  2023  05b4  e5                	push	hl
  2024  05b5  33                	inc	sp
  2025  05b6  f5                	push	af
  2026  05b7  33                	inc	sp
  2027  05b8  c5                	push	bc
  2028  05b9  33                	inc	sp
  2029  05ba  cd1414            	call	_vdp_writeCharAtLocation
  2030  05bd  f1                	pop	af
  2031  05be  33                	inc	sp
  2032  05bf  c1                	pop	bc
  2033  05c0  c33105            	jp	l_readLine_00120
  2034                          l_readLine_00121:
  2035  05c3  69                	ld	l, c
  2036  05c4  dde1              	pop	ix
  2037  05c6  c9                	ret
  2038                          	SECTION code_compiler
  2039                          ;	---------------------------------
  2040                          ; Function hcca_ping
  2041                          ; ---------------------------------
  2042                          _hcca_ping:
  2043  05c7  3ea1              	ld	a,0xa1
  2044  05c9  f5                	push	af
  2045  05ca  33                	inc	sp
  2046  05cb  cd3407            	call	_hcca_writeByte
  2047  05ce  33                	inc	sp
  2048  05cf  010000            	ld	bc,0x0000
  2049  05d2  110000            	ld	de,0x0000
  2050                          l_hcca_ping_00103:
  2051  05d5  3a0200            	ld	a, (__rxBufferWritePos+0)
  2052  05d8  fd210100          	ld	iy,__rxBufferReadPos
  2053  05dc  fd9600            	sub	a,(iy+0)
  2054  05df  2016              	jr	NZ,l_hcca_ping_00105
  2055  05e1  0c                	inc	c
  2056  05e2  2004              	jr	NZ,l_hcca_ping_00132
  2057  05e4  04                	inc	b
  2058  05e5  2001              	jr	NZ,l_hcca_ping_00132
  2059  05e7  13                	inc	de
  2060                          l_hcca_ping_00132:
  2061  05e8  79                	ld	a, c
  2062  05e9  d650              	sub	a,0x50
  2063  05eb  20e8              	jr	NZ,l_hcca_ping_00103
  2064  05ed  78                	ld	a, b
  2065  05ee  d6c3              	sub	a,0xc3
  2066  05f0  b3                	or	a, e
  2067  05f1  b2                	or	a,d
  2068  05f2  20e1              	jr	NZ,l_hcca_ping_00103
  2069  05f4  6f                	ld	l,a
  2070  05f5  180e              	jr	l_hcca_ping_00108
  2071                          l_hcca_ping_00105:
  2072  05f7  cd4906            	call	_hcca_readByte
  2073  05fa  7d                	ld	a, l
  2074  05fb  d655              	sub	a,0x55
  2075  05fd  2004              	jr	NZ,l_hcca_ping_00107
  2076  05ff  2e01              	ld	l,0x01
  2077  0601  1802              	jr	l_hcca_ping_00108
  2078                          l_hcca_ping_00107:
  2079  0603  2e00              	ld	l,0x00
  2080                          l_hcca_ping_00108:
  2081  0605  c9                	ret
  2082                          	SECTION code_compiler
  2083                          ;	---------------------------------
  2084                          ; Function hcca_isRxBufferAvailable
  2085                          ; ---------------------------------
  2086                          _hcca_isRxBufferAvailable:
  2087  0606  3a0200            	ld	a, (__rxBufferWritePos+0)
  2088  0609  fd210100          	ld	iy,__rxBufferReadPos
  2089  060d  fd9600            	sub	a,(iy+0)
  2090  0610  2004              	jr	NZ,l_hcca_isRxBufferAvailable_00103
  2091  0612  3e01              	ld	a,0x01
  2092  0614  1801              	jr	l_hcca_isRxBufferAvailable_00104
  2093                          l_hcca_isRxBufferAvailable_00103:
  2094  0616  af                	xor	a,a
  2095                          l_hcca_isRxBufferAvailable_00104:
  2096  0617  ee01              	xor	a,0x01
  2097  0619  6f                	ld	l, a
  2098  061a  c9                	ret
  2099                          	SECTION code_compiler
  2100                          ;	---------------------------------
  2101                          ; Function hcca_getSizeOfDataInBuffer
  2102                          ; ---------------------------------
  2103                          _hcca_getSizeOfDataInBuffer:
  2104  061b  3b                	dec	sp
  2105  061c  3a0200            	ld	a,(__rxBufferWritePos)
  2106  061f  fd210100          	ld	iy,__rxBufferReadPos
  2107  0623  fd9600            	sub	a,(iy+0)
  2108  0626  3017              	jr	NC,l_hcca_getSizeOfDataInBuffer_00102
  2109  0628  3a0100            	ld	a, (__rxBufferReadPos+0)
  2110  062b  4f                	ld	c, a
  2111  062c  210000            	ld	hl,0
  2112  062f  39                	add	hl, sp
  2113  0630  3eff              	ld	a,0xff
  2114  0632  91                	sub	a, c
  2115  0633  77                	ld	(hl), a
  2116  0634  3a0200            	ld	a, (__rxBufferWritePos+0)
  2117  0637  210000            	ld	hl,0
  2118  063a  39                	add	hl, sp
  2119  063b  86                	add	a, (hl)
  2120  063c  6f                	ld	l, a
  2121  063d  1808              	jr	l_hcca_getSizeOfDataInBuffer_00103
  2122                          l_hcca_getSizeOfDataInBuffer_00102:
  2123  063f  210100            	ld	hl,__rxBufferReadPos
  2124  0642  3a0200            	ld	a, (__rxBufferWritePos+0)
  2125  0645  96                	sub	a, (hl)
  2126  0646  6f                	ld	l, a
  2127                          l_hcca_getSizeOfDataInBuffer_00103:
  2128  0647  33                	inc	sp
  2129  0648  c9                	ret
  2130                          	SECTION code_compiler
  2131                          ;	---------------------------------
  2132                          ; Function hcca_readByte
  2133                          ; ---------------------------------
  2134                          _hcca_readByte:
  2135                          l_hcca_readByte_00101:
  2136  0649  3a0200            	ld	a, (__rxBufferWritePos+0)
  2137  064c  fd210100          	ld	iy,__rxBufferReadPos
  2138  0650  fd9600            	sub	a,(iy+0)
  2139  0653  28f4              	jr	Z,l_hcca_readByte_00101
  2140  0655  010000            	ld	bc,__rxBuffer+0
  2141  0658  2a0100            	ld	hl, (__rxBufferReadPos)
  2142  065b  2600              	ld	h,0x00
  2143  065d  09                	add	hl, bc
  2144  065e  4e                	ld	c, (hl)
  2145  065f  3a0100            	ld	a, (__rxBufferReadPos+0)
  2146  0662  3c                	inc	a
  2147  0663  320100            	ld	(__rxBufferReadPos+0), a
  2148  0666  69                	ld	l, c
  2149  0667  c9                	ret
  2150                          	SECTION code_compiler
  2151                          ;	---------------------------------
  2152                          ; Function hcca_readUInt16
  2153                          ; ---------------------------------
  2154                          _hcca_readUInt16:
  2155  0668  cd4906            	call	_hcca_readByte
  2156  066b  4d                	ld	c, l
  2157  066c  0600              	ld	b,0x00
  2158  066e  c5                	push	bc
  2159  066f  cd4906            	call	_hcca_readByte
  2160  0672  c1                	pop	bc
  2161  0673  65                	ld	h, l
  2162  0674  2e00              	ld	l,0x00
  2163  0676  09                	add	hl, bc
  2164  0677  c9                	ret
  2165                          	SECTION code_compiler
  2166                          ;	---------------------------------
  2167                          ; Function hcca_readInt16
  2168                          ; ---------------------------------
  2169                          _hcca_readInt16:
  2170  0678  cd4906            	call	_hcca_readByte
  2171  067b  4d                	ld	c, l
  2172  067c  0600              	ld	b,0x00
  2173  067e  c5                	push	bc
  2174  067f  cd4906            	call	_hcca_readByte
  2175  0682  c1                	pop	bc
  2176  0683  65                	ld	h, l
  2177  0684  2e00              	ld	l,0x00
  2178  0686  09                	add	hl, bc
  2179  0687  c9                	ret
  2180                          	SECTION code_compiler
  2181                          ;	---------------------------------
  2182                          ; Function hcca_readUInt32
  2183                          ; ---------------------------------
  2184                          _hcca_readUInt32:
  2185  0688  dde5              	push	ix
  2186  068a  dd210000          	ld	ix,0
  2187  068e  dd39              	add	ix,sp
  2188  0690  f5                	push	af
  2189  0691  f5                	push	af
  2190  0692  cd4906            	call	_hcca_readByte
  2191  0695  dd75fc            	ld	(ix-4),l
  2192  0698  cd4906            	call	_hcca_readByte
  2193  069b  dd75fd            	ld	(ix-3),l
  2194  069e  cd4906            	call	_hcca_readByte
  2195  06a1  dd75fe            	ld	(ix-2),l
  2196  06a4  cd4906            	call	_hcca_readByte
  2197  06a7  dd75ff            	ld	(ix-1),l
  2198  06aa  e1                	pop	hl
  2199  06ab  e5                	push	hl
  2200  06ac  dd5efe            	ld	e,(ix-2)
  2201  06af  dd56ff            	ld	d,(ix-1)
  2202  06b2  ddf9              	ld	sp, ix
  2203  06b4  dde1              	pop	ix
  2204  06b6  c9                	ret
  2205                          	SECTION code_compiler
  2206                          ;	---------------------------------
  2207                          ; Function hcca_readInt32
  2208                          ; ---------------------------------
  2209                          _hcca_readInt32:
  2210  06b7  dde5              	push	ix
  2211  06b9  dd210000          	ld	ix,0
  2212  06bd  dd39              	add	ix,sp
  2213  06bf  f5                	push	af
  2214  06c0  f5                	push	af
  2215  06c1  cd4906            	call	_hcca_readByte
  2216  06c4  dd75fc            	ld	(ix-4),l
  2217  06c7  cd4906            	call	_hcca_readByte
  2218  06ca  dd75fd            	ld	(ix-3),l
  2219  06cd  cd4906            	call	_hcca_readByte
  2220  06d0  dd75fe            	ld	(ix-2),l
  2221  06d3  cd4906            	call	_hcca_readByte
  2222  06d6  dd75ff            	ld	(ix-1),l
  2223  06d9  e1                	pop	hl
  2224  06da  e5                	push	hl
  2225  06db  dd5efe            	ld	e,(ix-2)
  2226  06de  dd56ff            	ld	d,(ix-1)
  2227  06e1  ddf9              	ld	sp, ix
  2228  06e3  dde1              	pop	ix
  2229  06e5  c9                	ret
  2230                          	SECTION code_compiler
  2231                          ;	---------------------------------
  2232                          ; Function hcca_readBytes
  2233                          ; ---------------------------------
  2234                          _hcca_readBytes:
  2235  06e6  dde5              	push	ix
  2236  06e8  dd210000          	ld	ix,0
  2237  06ec  dd39              	add	ix,sp
  2238  06ee  dd7e08            	ld	a,(ix+8)
  2239  06f1  dd8604            	add	a,(ix+4)
  2240  06f4  4f                	ld	c, a
  2241  06f5  dd7e09            	ld	a,(ix+9)
  2242  06f8  dd8e05            	adc	a,(ix+5)
  2243  06fb  47                	ld	b, a
  2244  06fc  dd6e06            	ld	l,(ix+6)
  2245  06ff  dd6607            	ld	h,(ix+7)
  2246  0702  09                	add	hl, bc
  2247  0703  eb                	ex	de, hl
  2248                          l_hcca_readBytes_00101:
  2249  0704  3a0200            	ld	a, (__rxBufferWritePos+0)
  2250  0707  fd210100          	ld	iy,__rxBufferReadPos
  2251  070b  fd9600            	sub	a,(iy+0)
  2252  070e  28f4              	jr	Z,l_hcca_readBytes_00101
  2253  0710  fd210000          	ld	iy,__rxBuffer
  2254  0714  c5                	push	bc
  2255  0715  ed4b0100          	ld	bc, (__rxBufferReadPos)
  2256  0719  0600              	ld	b,0x00
  2257  071b  fd09              	add	iy, bc
  2258  071d  c1                	pop	bc
  2259  071e  fd7e00            	ld	a,(iy+0)
  2260  0721  02                	ld	(bc), a
  2261  0722  03                	inc	bc
  2262  0723  3a0100            	ld	a, (__rxBufferReadPos+0)
  2263  0726  3c                	inc	a
  2264  0727  320100            	ld	(__rxBufferReadPos+0), a
  2265  072a  69                	ld	l, c
  2266  072b  60                	ld	h, b
  2267  072c  bf                	cp	a, a
  2268  072d  ed52              	sbc	hl, de
  2269  072f  20d3              	jr	NZ,l_hcca_readBytes_00101
  2270  0731  dde1              	pop	ix
  2271  0733  c9                	ret
  2272                          	SECTION code_compiler
  2273                          ;	---------------------------------
  2274                          ; Function hcca_writeByte
  2275                          ; ---------------------------------
  2276                          _hcca_writeByte:
  2277  0734  cd8200            	call	_NABU_DisableInterrupts
  2278  0737  110e40            	ld	de,0x400e
  2279  073a  d5                	push	de
  2280  073b  cdbc03            	call	_ayWrite
  2281  073e  f1                	pop	af
  2282  073f  3e0f              	ld	a,0x0f
  2283  0741  d341              	out	(_IO_AYLATCH), a
  2284                          l_hcca_writeByte_00101:
  2285  0743  db40              	in	a, (_IO_AYDATA)
  2286  0745  cb57              	bit	2, a
  2287  0747  20fa              	jr	NZ,l_hcca_writeByte_00101
  2288  0749  210200            	ld	hl,2+0
  2289  074c  39                	add	hl, sp
  2290  074d  7e                	ld	a, (hl)
  2291  074e  d380              	out	(_IO_HCCA), a
  2292  0750  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2293  0753  57                	ld	d,a
  2294  0754  1e0e              	ld	e,0x0e
  2295  0756  d5                	push	de
  2296  0757  cdbc03            	call	_ayWrite
  2297  075a  f1                	pop	af
  2298  075b  c38400            	jp	_NABU_EnableInterrupts
  2299                          	SECTION code_compiler
  2300                          ;	---------------------------------
  2301                          ; Function hcca_writeUInt32
  2302                          ; ---------------------------------
  2303                          _hcca_writeUInt32:
  2304  075e  210200            	ld	hl,2+0
  2305  0761  39                	add	hl, sp
  2306  0762  7e                	ld	a, (hl)
  2307  0763  f5                	push	af
  2308  0764  33                	inc	sp
  2309  0765  cd3407            	call	_hcca_writeByte
  2310  0768  33                	inc	sp
  2311  0769  210300            	ld	hl,2+1
  2312  076c  39                	add	hl, sp
  2313  076d  7e                	ld	a, (hl)
  2314  076e  f5                	push	af
  2315  076f  33                	inc	sp
  2316  0770  cd3407            	call	_hcca_writeByte
  2317  0773  33                	inc	sp
  2318  0774  210400            	ld	hl,2+2
  2319  0777  39                	add	hl, sp
  2320  0778  7e                	ld	a, (hl)
  2321  0779  f5                	push	af
  2322  077a  33                	inc	sp
  2323  077b  cd3407            	call	_hcca_writeByte
  2324  077e  33                	inc	sp
  2325  077f  210500            	ld	hl,2+3
  2326  0782  39                	add	hl, sp
  2327  0783  7e                	ld	a, (hl)
  2328  0784  f5                	push	af
  2329  0785  33                	inc	sp
  2330  0786  cd3407            	call	_hcca_writeByte
  2331  0789  33                	inc	sp
  2332  078a  c9                	ret
  2333                          	SECTION code_compiler
  2334                          ;	---------------------------------
  2335                          ; Function hcca_writeInt32
  2336                          ; ---------------------------------
  2337                          _hcca_writeInt32:
  2338  078b  210200            	ld	hl,2+0
  2339  078e  39                	add	hl, sp
  2340  078f  7e                	ld	a, (hl)
  2341  0790  f5                	push	af
  2342  0791  33                	inc	sp
  2343  0792  cd3407            	call	_hcca_writeByte
  2344  0795  33                	inc	sp
  2345  0796  210300            	ld	hl,2+1
  2346  0799  39                	add	hl, sp
  2347  079a  7e                	ld	a, (hl)
  2348  079b  f5                	push	af
  2349  079c  33                	inc	sp
  2350  079d  cd3407            	call	_hcca_writeByte
  2351  07a0  33                	inc	sp
  2352  07a1  210400            	ld	hl,2+2
  2353  07a4  39                	add	hl, sp
  2354  07a5  7e                	ld	a, (hl)
  2355  07a6  f5                	push	af
  2356  07a7  33                	inc	sp
  2357  07a8  cd3407            	call	_hcca_writeByte
  2358  07ab  33                	inc	sp
  2359  07ac  210500            	ld	hl,2+3
  2360  07af  39                	add	hl, sp
  2361  07b0  7e                	ld	a, (hl)
  2362  07b1  f5                	push	af
  2363  07b2  33                	inc	sp
  2364  07b3  cd3407            	call	_hcca_writeByte
  2365  07b6  33                	inc	sp
  2366  07b7  c9                	ret
  2367                          	SECTION code_compiler
  2368                          ;	---------------------------------
  2369                          ; Function hcca_writeUInt16
  2370                          ; ---------------------------------
  2371                          _hcca_writeUInt16:
  2372  07b8  210200            	ld	hl,2+0
  2373  07bb  39                	add	hl, sp
  2374  07bc  7e                	ld	a, (hl)
  2375  07bd  f5                	push	af
  2376  07be  33                	inc	sp
  2377  07bf  cd3407            	call	_hcca_writeByte
  2378  07c2  33                	inc	sp
  2379  07c3  210300            	ld	hl,2+1
  2380  07c6  39                	add	hl, sp
  2381  07c7  7e                	ld	a, (hl)
  2382  07c8  f5                	push	af
  2383  07c9  33                	inc	sp
  2384  07ca  cd3407            	call	_hcca_writeByte
  2385  07cd  33                	inc	sp
  2386  07ce  c9                	ret
  2387                          	SECTION code_compiler
  2388                          ;	---------------------------------
  2389                          ; Function hcca_writeInt16
  2390                          ; ---------------------------------
  2391                          _hcca_writeInt16:
  2392  07cf  210200            	ld	hl,2+0
  2393  07d2  39                	add	hl, sp
  2394  07d3  7e                	ld	a, (hl)
  2395  07d4  f5                	push	af
  2396  07d5  33                	inc	sp
  2397  07d6  cd3407            	call	_hcca_writeByte
  2398  07d9  33                	inc	sp
  2399  07da  210300            	ld	hl,2+1
  2400  07dd  39                	add	hl, sp
  2401  07de  7e                	ld	a, (hl)
  2402  07df  f5                	push	af
  2403  07e0  33                	inc	sp
  2404  07e1  cd3407            	call	_hcca_writeByte
  2405  07e4  33                	inc	sp
  2406  07e5  c9                	ret
  2407                          	SECTION code_compiler
  2408                          ;	---------------------------------
  2409                          ; Function hcca_writeString
  2410                          ; ---------------------------------
  2411                          _hcca_writeString:
  2412  07e6  010000            	ld	bc,0x0000
  2413                          l_hcca_writeString_00103:
  2414  07e9  210200            	ld	hl,2
  2415  07ec  39                	add	hl, sp
  2416  07ed  7e                	ld	a, (hl)
  2417  07ee  23                	inc	hl
  2418  07ef  66                	ld	h, (hl)
  2419  07f0  6f                	ld	l, a
  2420  07f1  09                	add	hl, bc
  2421  07f2  7e                	ld	a, (hl)
  2422  07f3  b7                	or	a, a
  2423  07f4  c8                	ret	Z
  2424  07f5  c5                	push	bc
  2425  07f6  f5                	push	af
  2426  07f7  33                	inc	sp
  2427  07f8  cd3407            	call	_hcca_writeByte
  2428  07fb  33                	inc	sp
  2429  07fc  c1                	pop	bc
  2430  07fd  03                	inc	bc
  2431  07fe  18e9              	jr	l_hcca_writeString_00103
  2432                          	SECTION code_compiler
  2433                          ;	---------------------------------
  2434                          ; Function hcca_writeBytes
  2435                          ; ---------------------------------
  2436                          _hcca_writeBytes:
  2437  0800  dde5              	push	ix
  2438  0802  dd210000          	ld	ix,0
  2439  0806  dd39              	add	ix,sp
  2440  0808  dd7e08            	ld	a,(ix+8)
  2441  080b  dd8604            	add	a,(ix+4)
  2442  080e  4f                	ld	c, a
  2443  080f  dd7e09            	ld	a,(ix+9)
  2444  0812  dd8e05            	adc	a,(ix+5)
  2445  0815  47                	ld	b, a
  2446  0816  dd6e06            	ld	l,(ix+6)
  2447  0819  dd6607            	ld	h,(ix+7)
  2448  081c  09                	add	hl, bc
  2449  081d  eb                	ex	de, hl
  2450                          l_hcca_writeBytes_00101:
  2451  081e  69                	ld	l, c
  2452  081f  60                	ld	h, b
  2453  0820  bf                	cp	a, a
  2454  0821  ed52              	sbc	hl, de
  2455  0823  280e              	jr	Z,l_hcca_writeBytes_00104
  2456  0825  0a                	ld	a, (bc)
  2457  0826  c5                	push	bc
  2458  0827  d5                	push	de
  2459  0828  f5                	push	af
  2460  0829  33                	inc	sp
  2461  082a  cd3407            	call	_hcca_writeByte
  2462  082d  33                	inc	sp
  2463  082e  d1                	pop	de
  2464  082f  c1                	pop	bc
  2465  0830  03                	inc	bc
  2466  0831  18eb              	jr	l_hcca_writeBytes_00101
  2467                          l_hcca_writeBytes_00104:
  2468  0833  dde1              	pop	ix
  2469  0835  c9                	ret
  2470                          	SECTION code_compiler
  2471                          ;	---------------------------------
  2472                          ; Function vdp_setRegister
  2473                          ; ---------------------------------
  2474                          _vdp_setRegister:
  2475  0836  fd210300          	ld	iy,3
  2476  083a  fd39              	add	iy, sp
  2477  083c  fd7e00            	ld	a,(iy+0)
  2478  083f  d3a1              	out	(_IO_VDPLATCH), a
  2479  0841  fd2b              	dec	iy
  2480  0843  fd7e00            	ld	a,(iy+0)
  2481  0846  f680              	or	a,0x80
  2482  0848  d3a1              	out	(_IO_VDPLATCH), a
  2483  084a  c9                	ret
  2484                          	SECTION code_compiler
  2485                          ;	---------------------------------
  2486                          ; Function vdp_setWriteAddress
  2487                          ; ---------------------------------
  2488                          _vdp_setWriteAddress:
  2489  084b  fd210200          	ld	iy,2
  2490  084f  fd39              	add	iy, sp
  2491  0851  fd7e00            	ld	a,(iy+0)
  2492  0854  d3a1              	out	(_IO_VDPLATCH), a
  2493  0856  fd7e01            	ld	a,(iy+1)
  2494  0859  e63f              	and	a,0x3f
  2495  085b  f640              	or	a,0x40
  2496  085d  d3a1              	out	(_IO_VDPLATCH), a
  2497  085f  c9                	ret
  2498                          	SECTION code_compiler
  2499                          ;	---------------------------------
  2500                          ; Function vdp_setReadAddress
  2501                          ; ---------------------------------
  2502                          _vdp_setReadAddress:
  2503  0860  fd210200          	ld	iy,2
  2504  0864  fd39              	add	iy, sp
  2505  0866  fd7e00            	ld	a,(iy+0)
  2506  0869  d3a1              	out	(_IO_VDPLATCH), a
  2507  086b  fd7e01            	ld	a,(iy+1)
  2508  086e  e63f              	and	a,0x3f
  2509  0870  d3a1              	out	(_IO_VDPLATCH), a
  2510  0872  c9                	ret
  2511                          	SECTION code_compiler
  2512                          ;	---------------------------------
  2513                          ; Function waitVdpISR
  2514                          ; ---------------------------------
  2515                          _waitVdpISR:
  2516  0873  f5                	push	af
  2517  0874  dba1              	in	a, (_IO_VDPLATCH)
  2518  0876  320f00            	ld	(_vdpStatusRegVal), a
  2519  0879  3e01              	ld	a, 0x01
  2520  087b  321000            	ld	(_vdpIsReady), a
  2521  087e  f1                	pop	af
  2522  087f  fb                	ei
  2523  0880  ed4d              	reti
  2524                          ;	---------------------------------
  2525                          ; Function vdp_enableVDPReadyInt
  2526                          ; ---------------------------------
  2527                          _vdp_enableVDPReadyInt:
  2528  0882  cd8200            	call	_NABU_DisableInterrupts
  2529  0885  217308            	ld	hl, _waitVdpISR
  2530  0888  2206ff            	ld	(0xff00 + 6), hl
  2531  088b  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2532  088e  f610              	or	a,0x10
  2533  0890  320a00            	ld	(__ORIGINAL_INT_MASK+0), a
  2534  0893  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2535  0896  57                	ld	d,a
  2536  0897  1e0e              	ld	e,0x0e
  2537  0899  d5                	push	de
  2538  089a  cdbc03            	call	_ayWrite
  2539  089d  f1                	pop	af
  2540  089e  cd8400            	call	_NABU_EnableInterrupts
  2541  08a1  210e00            	ld	hl,__vdpInterruptEnabled + 0
  2542  08a4  3601              	ld	(hl),0x01
  2543  08a6  3a0d00            	ld	a, (__vdpReg1Val+0)
  2544  08a9  cbef              	set	5, a
  2545  08ab  57                	ld	d,a
  2546  08ac  1e01              	ld	e,0x01
  2547  08ae  d5                	push	de
  2548  08af  cd3608            	call	_vdp_setRegister
  2549  08b2  f1                	pop	af
  2550  08b3  c9                	ret
  2551                          	SECTION code_compiler
  2552                          ;	---------------------------------
  2553                          ; Function vdp_waitVDPReadyInt
  2554                          ; ---------------------------------
  2555                          _vdp_waitVDPReadyInt:
  2556                          l_vdp_waitVDPReadyInt_00101:
  2557  08b4  3a1000            	ld	a, (_vdpIsReady+0)
  2558  08b7  b7                	or	a, a
  2559  08b8  28fa              	jr	Z,l_vdp_waitVDPReadyInt_00101
  2560  08ba  211000            	ld	hl,_vdpIsReady + 0
  2561  08bd  3600              	ld	(hl),0x00
  2562  08bf  c9                	ret
  2563                          	SECTION code_compiler
  2564                          ;	---------------------------------
  2565                          ; Function vdp_disableVDPReadyInt
  2566                          ; ---------------------------------
  2567                          _vdp_disableVDPReadyInt:
  2568  08c0  3a0d00            	ld	a, (__vdpReg1Val+0)
  2569  08c3  57                	ld	d,a
  2570  08c4  1e01              	ld	e,0x01
  2571  08c6  d5                	push	de
  2572  08c7  cd3608            	call	_vdp_setRegister
  2573  08ca  f1                	pop	af
  2574  08cb  cd8200            	call	_NABU_DisableInterrupts
  2575  08ce  210e00            	ld	hl,__vdpInterruptEnabled + 0
  2576  08d1  3600              	ld	(hl),0x00
  2577  08d3  db41              	in	a, (_IO_AYLATCH)
  2578  08d5  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2579  08d8  cb67              	bit	4, a
  2580  08da  2808              	jr	Z,l_vdp_disableVDPReadyInt_00102
  2581  08dc  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2582  08df  ee10              	xor	a,0x10
  2583  08e1  320a00            	ld	(__ORIGINAL_INT_MASK+0), a
  2584                          l_vdp_disableVDPReadyInt_00102:
  2585  08e4  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2586  08e7  57                	ld	d,a
  2587  08e8  1e0e              	ld	e,0x0e
  2588  08ea  d5                	push	de
  2589  08eb  cdbc03            	call	_ayWrite
  2590  08ee  f1                	pop	af
  2591  08ef  c38400            	jp	_NABU_EnableInterrupts
  2592                          	SECTION code_compiler
  2593                          ;	---------------------------------
  2594                          ; Function vdp_addISR
  2595                          ; ---------------------------------
  2596                          _vdp_addISR:
  2597  08f2  cd8200            	call	_NABU_DisableInterrupts
  2598  08f5  fd210200          	ld	iy,2
  2599  08f9  fd39              	add	iy, sp
  2600  08fb  fd7e00            	ld	a,(iy+0)
  2601  08fe  32c005            	ld	(__vdp_ISR+0), a
  2602  0901  fd7e01            	ld	a,(iy+1)
  2603  0904  32c105            	ld	(__vdp_ISR+1), a
  2604  0907  2ac005            	ld	hl, (__vdp_ISR)
  2605  090a  2206ff            	ld	(0xff00 + 6), hl
  2606  090d  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2607  0910  f610              	or	a,0x10
  2608  0912  320a00            	ld	(__ORIGINAL_INT_MASK+0), a
  2609  0915  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2610  0918  57                	ld	d,a
  2611  0919  1e0e              	ld	e,0x0e
  2612  091b  d5                	push	de
  2613  091c  cdbc03            	call	_ayWrite
  2614  091f  f1                	pop	af
  2615  0920  cd8400            	call	_NABU_EnableInterrupts
  2616  0923  210e00            	ld	hl,__vdpInterruptEnabled + 0
  2617  0926  3601              	ld	(hl),0x01
  2618  0928  3a0d00            	ld	a, (__vdpReg1Val+0)
  2619  092b  cbef              	set	5, a
  2620  092d  57                	ld	d,a
  2621  092e  1e01              	ld	e,0x01
  2622  0930  d5                	push	de
  2623  0931  cd3608            	call	_vdp_setRegister
  2624  0934  f1                	pop	af
  2625  0935  c9                	ret
  2626                          	SECTION code_compiler
  2627                          ;	---------------------------------
  2628                          ; Function vdp_removeISR
  2629                          ; ---------------------------------
  2630                          _vdp_removeISR:
  2631  0936  3a0d00            	ld	a, (__vdpReg1Val+0)
  2632  0939  57                	ld	d,a
  2633  093a  1e01              	ld	e,0x01
  2634  093c  d5                	push	de
  2635  093d  cd3608            	call	_vdp_setRegister
  2636  0940  f1                	pop	af
  2637  0941  cd8200            	call	_NABU_DisableInterrupts
  2638  0944  210e00            	ld	hl,__vdpInterruptEnabled + 0
  2639  0947  3600              	ld	(hl),0x00
  2640  0949  db41              	in	a, (_IO_AYLATCH)
  2641  094b  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2642  094e  cb67              	bit	4, a
  2643  0950  2808              	jr	Z,l_vdp_removeISR_00102
  2644  0952  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2645  0955  ee10              	xor	a,0x10
  2646  0957  320a00            	ld	(__ORIGINAL_INT_MASK+0), a
  2647                          l_vdp_removeISR_00102:
  2648  095a  3a0a00            	ld	a, (__ORIGINAL_INT_MASK+0)
  2649  095d  57                	ld	d,a
  2650  095e  1e0e              	ld	e,0x0e
  2651  0960  d5                	push	de
  2652  0961  cdbc03            	call	_ayWrite
  2653  0964  f1                	pop	af
  2654  0965  c38400            	jp	_NABU_EnableInterrupts
  2655                          	SECTION code_compiler
  2656                          ;	---------------------------------
  2657                          ; Function vdp_init
  2658                          ; ---------------------------------
  2659                          _vdp_init:
  2660  0968  dde5              	push	ix
  2661  096a  dd210000          	ld	ix,0
  2662  096e  dd39              	add	ix,sp
  2663  0970  dd4e04            	ld	c,(ix+4)
  2664  0973  fd21cf05          	ld	iy,__vdpMode
  2665  0977  fd7100            	ld	(iy+0),c
  2666  097a  dd7e0a            	ld	a,(ix+10)
  2667  097d  32d105            	ld	(__vdpSplitThirds+0), a
  2668  0980  dd7e07            	ld	a,(ix+7)
  2669  0983  32c605            	ld	(__vdpSpriteSizeSelected+0), a
  2670  0986  dd7e09            	ld	a,(ix+9)
  2671  0989  32d005            	ld	(__autoScroll+0), a
  2672  098c  210e00            	ld	hl,__vdpInterruptEnabled + 0
  2673  098f  3600              	ld	(hl),0x00
  2674  0991  210b00            	ld	hl,_vdp_cursor
  2675  0994  3600              	ld	(hl),0x00
  2676  0996  210c00            	ld	hl, +(_vdp_cursor + 1)
  2677  0999  3600              	ld	(hl),0x00
  2678  099b  79                	ld	a, c
  2679  099c  3d                	dec	a
  2680  099d  280d              	jr	Z,l_vdp_init_00101
  2681  099f  79                	ld	a,c
  2682  09a0  fe02              	cp	a,0x02
  2683  09a2  ca320a            	jp	Z,l_vdp_init_00106
  2684  09a5  d603              	sub	a,0x03
  2685  09a7  2854              	jr	Z,l_vdp_init_00105
  2686  09a9  c3700a            	jp	l_vdp_init_00107
  2687                          l_vdp_init_00101:
  2688  09ac  3e02              	ld	a,0x02
  2689  09ae  f5                	push	af
  2690  09af  33                	inc	sp
  2691  09b0  af                	xor	a, a
  2692  09b1  f5                	push	af
  2693  09b2  33                	inc	sp
  2694  09b3  cd3608            	call	_vdp_setRegister
  2695  09b6  f1                	pop	af
  2696  09b7  dd7e07            	ld	a,(ix+7)
  2697  09ba  87                	add	a, a
  2698  09bb  f6c0              	or	a,0xc0
  2699  09bd  ddb608            	or	a,(ix+8)
  2700  09c0  320d00            	ld	(__vdpReg1Val+0), a
  2701  09c3  3a0d00            	ld	a, (__vdpReg1Val+0)
  2702  09c6  57                	ld	d,a
  2703  09c7  1e01              	ld	e,0x01
  2704  09c9  d5                	push	de
  2705  09ca  cd3608            	call	_vdp_setRegister
  2706  09cd  f1                	pop	af
  2707  09ce  3ad105            	ld	a, (__vdpSplitThirds+0)
  2708  09d1  b7                	or	a, a
  2709  09d2  280a              	jr	Z,l_vdp_init_00103
  2710  09d4  110403            	ld	de,0x0304
  2711  09d7  d5                	push	de
  2712  09d8  cd3608            	call	_vdp_setRegister
  2713  09db  f1                	pop	af
  2714  09dc  1809              	jr	l_vdp_init_00104
  2715                          l_vdp_init_00103:
  2716  09de  af                	xor	a, a
  2717  09df  57                	ld	d,a
  2718  09e0  1e04              	ld	e,0x04
  2719  09e2  d5                	push	de
  2720  09e3  cd3608            	call	_vdp_setRegister
  2721  09e6  f1                	pop	af
  2722                          l_vdp_init_00104:
  2723  09e7  210000            	ld	hl,0x0000
  2724  09ea  22cb05            	ld	(__vdpPatternGeneratorTableAddr), hl
  2725  09ed  dd360500          	ld	(ix+5),0x00
  2726  09f1  21cd05            	ld	hl,__vdpCursorMaxX + 0
  2727  09f4  361f              	ld	(hl),0x1f
  2728  09f6  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  2729  09f9  3620              	ld	(hl),0x20
  2730  09fb  1873              	jr	l_vdp_init_00107
  2731                          l_vdp_init_00105:
  2732  09fd  af                	xor	a, a
  2733  09fe  f5                	push	af
  2734  09ff  33                	inc	sp
  2735  0a00  af                	xor	a, a
  2736  0a01  f5                	push	af
  2737  0a02  33                	inc	sp
  2738  0a03  cd3608            	call	_vdp_setRegister
  2739  0a06  f1                	pop	af
  2740  0a07  210d00            	ld	hl,__vdpReg1Val + 0
  2741  0a0a  36d2              	ld	(hl),0xd2
  2742  0a0c  3a0d00            	ld	a, (__vdpReg1Val+0)
  2743  0a0f  57                	ld	d,a
  2744  0a10  1e01              	ld	e,0x01
  2745  0a12  d5                	push	de
  2746  0a13  cd3608            	call	_vdp_setRegister
  2747  0a16  f1                	pop	af
  2748  0a17  af                	xor	a, a
  2749  0a18  57                	ld	d,a
  2750  0a19  1e04              	ld	e,0x04
  2751  0a1b  d5                	push	de
  2752  0a1c  cd3608            	call	_vdp_setRegister
  2753  0a1f  f1                	pop	af
  2754  0a20  210000            	ld	hl,0x0000
  2755  0a23  22cb05            	ld	(__vdpPatternGeneratorTableAddr), hl
  2756  0a26  21cd05            	ld	hl,__vdpCursorMaxX + 0
  2757  0a29  3627              	ld	(hl),0x27
  2758  0a2b  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  2759  0a2e  3628              	ld	(hl),0x28
  2760  0a30  183e              	jr	l_vdp_init_00107
  2761                          l_vdp_init_00106:
  2762  0a32  af                	xor	a, a
  2763  0a33  f5                	push	af
  2764  0a34  33                	inc	sp
  2765  0a35  af                	xor	a, a
  2766  0a36  f5                	push	af
  2767  0a37  33                	inc	sp
  2768  0a38  cd3608            	call	_vdp_setRegister
  2769  0a3b  f1                	pop	af
  2770  0a3c  dd7e07            	ld	a,(ix+7)
  2771  0a3f  87                	add	a, a
  2772  0a40  f6c8              	or	a,0xc8
  2773  0a42  ddb608            	or	a,(ix+8)
  2774  0a45  320d00            	ld	(__vdpReg1Val+0), a
  2775  0a48  3a0d00            	ld	a, (__vdpReg1Val+0)
  2776  0a4b  57                	ld	d,a
  2777  0a4c  1e01              	ld	e,0x01
  2778  0a4e  d5                	push	de
  2779  0a4f  cd3608            	call	_vdp_setRegister
  2780  0a52  f1                	pop	af
  2781  0a53  af                	xor	a, a
  2782  0a54  57                	ld	d,a
  2783  0a55  1e04              	ld	e,0x04
  2784  0a57  d5                	push	de
  2785  0a58  cd3608            	call	_vdp_setRegister
  2786  0a5b  f1                	pop	af
  2787  0a5c  210000            	ld	hl,0x0000
  2788  0a5f  22cb05            	ld	(__vdpPatternGeneratorTableAddr), hl
  2789  0a62  dd360500          	ld	(ix+5),0x00
  2790  0a66  21cd05            	ld	hl,__vdpCursorMaxX + 0
  2791  0a69  361f              	ld	(hl),0x1f
  2792  0a6b  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  2793  0a6e  3620              	ld	(hl),0x20
  2794                          l_vdp_init_00107:
  2795  0a70  110206            	ld	de,0x0602
  2796  0a73  d5                	push	de
  2797  0a74  cd3608            	call	_vdp_setRegister
  2798  0a77  f1                	pop	af
  2799  0a78  210018            	ld	hl,0x1800
  2800  0a7b  22c705            	ld	(__vdpPatternNameTableAddr), hl
  2801  0a7e  3ad105            	ld	a, (__vdpSplitThirds+0)
  2802  0a81  b7                	or	a, a
  2803  0a82  280a              	jr	Z,l_vdp_init_00109
  2804  0a84  1103ff            	ld	de,0xff03
  2805  0a87  d5                	push	de
  2806  0a88  cd3608            	call	_vdp_setRegister
  2807  0a8b  f1                	pop	af
  2808  0a8c  1808              	jr	l_vdp_init_00110
  2809                          l_vdp_init_00109:
  2810  0a8e  11039f            	ld	de,0x9f03
  2811  0a91  d5                	push	de
  2812  0a92  cd3608            	call	_vdp_setRegister
  2813  0a95  f1                	pop	af
  2814                          l_vdp_init_00110:
  2815  0a96  210020            	ld	hl,0x2000
  2816  0a99  22c905            	ld	(__vdpColorTableAddr), hl
  2817  0a9c  110536            	ld	de,0x3605
  2818  0a9f  d5                	push	de
  2819  0aa0  cd3608            	call	_vdp_setRegister
  2820  0aa3  f1                	pop	af
  2821  0aa4  21001b            	ld	hl,0x1b00
  2822  0aa7  22c205            	ld	(__vdpSpriteAttributeTableAddr), hl
  2823  0aaa  110607            	ld	de,0x0706
  2824  0aad  d5                	push	de
  2825  0aae  cd3608            	call	_vdp_setRegister
  2826  0ab1  f1                	pop	af
  2827  0ab2  210038            	ld	hl,0x3800
  2828  0ab5  22c405            	ld	(__vdpSpriteGeneratorTableAddr), hl
  2829  0ab8  dd7e05            	ld	a,(ix+5)
  2830  0abb  87                	add	a, a
  2831  0abc  87                	add	a, a
  2832  0abd  87                	add	a, a
  2833  0abe  87                	add	a, a
  2834  0abf  4f                	ld	c, a
  2835  0ac0  dd7e06            	ld	a,(ix+6)
  2836  0ac3  e60f              	and	a,0x0f
  2837  0ac5  b1                	or	a, c
  2838  0ac6  57                	ld	d,a
  2839  0ac7  1e07              	ld	e,0x07
  2840  0ac9  d5                	push	de
  2841  0aca  cd3608            	call	_vdp_setRegister
  2842  0acd  f1                	pop	af
  2843  0ace  dde1              	pop	ix
  2844  0ad0  c3b50b            	jp	_vdp_clearScreen
  2845                          	SECTION code_compiler
  2846                          ;	---------------------------------
  2847                          ; Function vdp_clearVRAM
  2848                          ; ---------------------------------
  2849                          _vdp_clearVRAM:
  2850  0ad3  210000            	ld	hl,0x0000
  2851  0ad6  e5                	push	hl
  2852  0ad7  cd4b08            	call	_vdp_setWriteAddress
  2853  0ada  f1                	pop	af
  2854  0adb  010000            	ld	bc,0x0000
  2855                          l_vdp_clearVRAM_00103:
  2856  0ade  79                	ld	a, c
  2857  0adf  d6ff              	sub	a,0xff
  2858  0ae1  78                	ld	a, b
  2859  0ae2  de3f              	sbc	a,0x3f
  2860  0ae4  d0                	ret	NC
  2861  0ae5  3e00              	ld	a,0x00
  2862  0ae7  d3a0              	out	(_IO_VDPDATA), a
  2863  0ae9  03                	inc	bc
  2864  0aea  18f2              	jr	l_vdp_clearVRAM_00103
  2865                          	SECTION code_compiler
  2866                          ;	---------------------------------
  2867                          ; Function vdp_initMSXMode
  2868                          ; ---------------------------------
  2869                          _vdp_initMSXMode:
  2870  0aec  3e02              	ld	a,0x02
  2871  0aee  f5                	push	af
  2872  0aef  33                	inc	sp
  2873  0af0  af                	xor	a, a
  2874  0af1  f5                	push	af
  2875  0af2  33                	inc	sp
  2876  0af3  cd3608            	call	_vdp_setRegister
  2877  0af6  f1                	pop	af
  2878  0af7  1101c0            	ld	de,0xc001
  2879  0afa  d5                	push	de
  2880  0afb  cd3608            	call	_vdp_setRegister
  2881  0afe  f1                	pop	af
  2882  0aff  110206            	ld	de,0x0602
  2883  0b02  d5                	push	de
  2884  0b03  cd3608            	call	_vdp_setRegister
  2885  0b06  f1                	pop	af
  2886  0b07  1103ff            	ld	de,0xff03
  2887  0b0a  d5                	push	de
  2888  0b0b  cd3608            	call	_vdp_setRegister
  2889  0b0e  f1                	pop	af
  2890  0b0f  110403            	ld	de,0x0304
  2891  0b12  d5                	push	de
  2892  0b13  cd3608            	call	_vdp_setRegister
  2893  0b16  f1                	pop	af
  2894  0b17  110536            	ld	de,0x3605
  2895  0b1a  d5                	push	de
  2896  0b1b  cd3608            	call	_vdp_setRegister
  2897  0b1e  f1                	pop	af
  2898  0b1f  110607            	ld	de,0x0706
  2899  0b22  d5                	push	de
  2900  0b23  cd3608            	call	_vdp_setRegister
  2901  0b26  f1                	pop	af
  2902  0b27  210200            	ld	hl,2+0
  2903  0b2a  39                	add	hl, sp
  2904  0b2b  7e                	ld	a, (hl)
  2905  0b2c  e60f              	and	a,0x0f
  2906  0b2e  57                	ld	d,a
  2907  0b2f  1e07              	ld	e,0x07
  2908  0b31  d5                	push	de
  2909  0b32  cd3608            	call	_vdp_setRegister
  2910  0b35  f1                	pop	af
  2911  0b36  c9                	ret
  2912                          	SECTION code_compiler
  2913                          ;	---------------------------------
  2914                          ; Function vdp_initTextMode
  2915                          ; ---------------------------------
  2916                          _vdp_initTextMode:
  2917  0b37  af                	xor	a, a
  2918  0b38  f5                	push	af
  2919  0b39  33                	inc	sp
  2920  0b3a  fd210500          	ld	iy,5
  2921  0b3e  fd39              	add	iy, sp
  2922  0b40  fd7e00            	ld	a,(iy+0)
  2923  0b43  f5                	push	af
  2924  0b44  33                	inc	sp
  2925  0b45  af                	xor	a, a
  2926  0b46  f5                	push	af
  2927  0b47  33                	inc	sp
  2928  0b48  af                	xor	a, a
  2929  0b49  f5                	push	af
  2930  0b4a  33                	inc	sp
  2931  0b4b  fd2b              	dec	iy
  2932  0b4d  fd7e00            	ld	a,(iy+0)
  2933  0b50  f5                	push	af
  2934  0b51  33                	inc	sp
  2935  0b52  fd2b              	dec	iy
  2936  0b54  fd5600            	ld	d,(iy+0)
  2937  0b57  1e03              	ld	e,0x03
  2938  0b59  d5                	push	de
  2939  0b5a  cd6809            	call	_vdp_init
  2940  0b5d  210700            	ld	hl,7
  2941  0b60  39                	add	hl, sp
  2942  0b61  f9                	ld	sp, hl
  2943  0b62  c9                	ret
  2944                          	SECTION code_compiler
  2945                          ;	---------------------------------
  2946                          ; Function vdp_initG2Mode
  2947                          ; ---------------------------------
  2948                          _vdp_initG2Mode:
  2949  0b63  fd210600          	ld	iy,6
  2950  0b67  fd39              	add	iy, sp
  2951  0b69  fd7e00            	ld	a,(iy+0)
  2952  0b6c  f5                	push	af
  2953  0b6d  33                	inc	sp
  2954  0b6e  fd2b              	dec	iy
  2955  0b70  fd7e00            	ld	a,(iy+0)
  2956  0b73  f5                	push	af
  2957  0b74  33                	inc	sp
  2958  0b75  fd2b              	dec	iy
  2959  0b77  fd7e00            	ld	a,(iy+0)
  2960  0b7a  f5                	push	af
  2961  0b7b  33                	inc	sp
  2962  0b7c  fd2b              	dec	iy
  2963  0b7e  fd7e00            	ld	a,(iy+0)
  2964  0b81  f5                	push	af
  2965  0b82  33                	inc	sp
  2966  0b83  fd2b              	dec	iy
  2967  0b85  fd7e00            	ld	a,(iy+0)
  2968  0b88  f5                	push	af
  2969  0b89  33                	inc	sp
  2970  0b8a  af                	xor	a, a
  2971  0b8b  57                	ld	d,a
  2972  0b8c  1e01              	ld	e,0x01
  2973  0b8e  d5                	push	de
  2974  0b8f  cd6809            	call	_vdp_init
  2975  0b92  210700            	ld	hl,7
  2976  0b95  39                	add	hl, sp
  2977  0b96  f9                	ld	sp, hl
  2978  0b97  c9                	ret
  2979                          	SECTION code_compiler
  2980                          ;	---------------------------------
  2981                          ; Function vdp_initMultiColorMode
  2982                          ; ---------------------------------
  2983                          _vdp_initMultiColorMode:
  2984  0b98  af                	xor	a, a
  2985  0b99  f5                	push	af
  2986  0b9a  33                	inc	sp
  2987  0b9b  af                	xor	a, a
  2988  0b9c  f5                	push	af
  2989  0b9d  33                	inc	sp
  2990  0b9e  af                	xor	a, a
  2991  0b9f  f5                	push	af
  2992  0ba0  33                	inc	sp
  2993  0ba1  af                	xor	a, a
  2994  0ba2  f5                	push	af
  2995  0ba3  33                	inc	sp
  2996  0ba4  af                	xor	a, a
  2997  0ba5  f5                	push	af
  2998  0ba6  33                	inc	sp
  2999  0ba7  af                	xor	a, a
  3000  0ba8  57                	ld	d,a
  3001  0ba9  1e02              	ld	e,0x02
  3002  0bab  d5                	push	de
  3003  0bac  cd6809            	call	_vdp_init
  3004  0baf  210700            	ld	hl,7
  3005  0bb2  39                	add	hl, sp
  3006  0bb3  f9                	ld	sp, hl
  3007  0bb4  c9                	ret
  3008                          	SECTION code_compiler
  3009                          ;	---------------------------------
  3010                          ; Function vdp_clearScreen
  3011                          ; ---------------------------------
  3012                          _vdp_clearScreen:
  3013  0bb5  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  3014  0bb8  e5                	push	hl
  3015  0bb9  cd4b08            	call	_vdp_setWriteAddress
  3016  0bbc  f1                	pop	af
  3017  0bbd  3ace05            	ld	a, (__vdpCursorMaxXFull+0)
  3018  0bc0  4f                	ld	c, a
  3019  0bc1  0600              	ld	b,0x00
  3020  0bc3  69                	ld	l, c
  3021  0bc4  60                	ld	h, b
  3022  0bc5  29                	add	hl, hl
  3023  0bc6  09                	add	hl, bc
  3024  0bc7  29                	add	hl, hl
  3025  0bc8  29                	add	hl, hl
  3026  0bc9  29                	add	hl, hl
  3027  0bca  110002            	ld	de,__vdp_textBuffer
  3028  0bcd  19                	add	hl, de
  3029  0bce  eb                	ex	de, hl
  3030  0bcf  0e00              	ld	c,0x00
  3031  0bd1  3acf05            	ld	a, (__vdpMode+0)
  3032  0bd4  d603              	sub	a,0x03
  3033  0bd6  2002              	jr	NZ,l_vdp_clearScreen_00109
  3034  0bd8  0e20              	ld	c,0x20
  3035                          l_vdp_clearScreen_00109:
  3036  0bda  210002            	ld	hl,__vdp_textBuffer
  3037                          l_vdp_clearScreen_00103:
  3038  0bdd  79                	ld	a, c
  3039  0bde  d3a0              	out	(_IO_VDPDATA), a
  3040  0be0  3620              	ld	(hl),0x20
  3041  0be2  23                	inc	hl
  3042  0be3  7d                	ld	a, l
  3043  0be4  93                	sub	a, e
  3044  0be5  20f6              	jr	NZ,l_vdp_clearScreen_00103
  3045  0be7  7c                	ld	a, h
  3046  0be8  92                	sub	a, d
  3047  0be9  20f2              	jr	NZ,l_vdp_clearScreen_00103
  3048  0beb  c9                	ret
  3049                          	SECTION code_compiler
  3050                          ;	---------------------------------
  3051                          ; Function vdp_fillScreen
  3052                          ; ---------------------------------
  3053                          _vdp_fillScreen:
  3054  0bec  dde5              	push	ix
  3055  0bee  dd210000          	ld	ix,0
  3056  0bf2  dd39              	add	ix,sp
  3057  0bf4  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  3058  0bf7  e5                	push	hl
  3059  0bf8  cd4b08            	call	_vdp_setWriteAddress
  3060  0bfb  f1                	pop	af
  3061  0bfc  010002            	ld	bc,__vdp_textBuffer+0
  3062  0bff  3ace05            	ld	a, (__vdpCursorMaxXFull+0)
  3063  0c02  5f                	ld	e, a
  3064  0c03  1600              	ld	d,0x00
  3065  0c05  6b                	ld	l, e
  3066  0c06  62                	ld	h, d
  3067  0c07  29                	add	hl, hl
  3068  0c08  19                	add	hl, de
  3069  0c09  29                	add	hl, hl
  3070  0c0a  29                	add	hl, hl
  3071  0c0b  29                	add	hl, hl
  3072  0c0c  09                	add	hl, bc
  3073  0c0d  eb                	ex	de, hl
  3074                          l_vdp_fillScreen_00101:
  3075  0c0e  dd7e04            	ld	a,(ix+4)
  3076  0c11  d3a0              	out	(_IO_VDPDATA), a
  3077  0c13  dd7e04            	ld	a,(ix+4)
  3078  0c16  02                	ld	(bc), a
  3079  0c17  03                	inc	bc
  3080  0c18  69                	ld	l, c
  3081  0c19  60                	ld	h, b
  3082  0c1a  bf                	cp	a, a
  3083  0c1b  ed52              	sbc	hl, de
  3084  0c1d  20ef              	jr	NZ,l_vdp_fillScreen_00101
  3085  0c1f  dde1              	pop	ix
  3086  0c21  c9                	ret
  3087                          	SECTION code_compiler
  3088                          ;	---------------------------------
  3089                          ; Function vdp_clearRows
  3090                          ; ---------------------------------
  3091                          _vdp_clearRows:
  3092  0c22  dde5              	push	ix
  3093  0c24  dd210000          	ld	ix,0
  3094  0c28  dd39              	add	ix,sp
  3095  0c2a  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  3096  0c2d  5e                	ld	e, (hl)
  3097  0c2e  dd6604            	ld	h,(ix+4)
  3098  0c31  2e00              	ld	l,0x00
  3099  0c33  55                	ld	d, l
  3100  0c34  0608              	ld	b,0x08
  3101                          l_vdp_clearRows_00112:
  3102  0c36  29                	add	hl, hl
  3103  0c37  3001              	jr	NC,l_vdp_clearRows_00113
  3104  0c39  19                	add	hl, de
  3105                          l_vdp_clearRows_00113:
  3106  0c3a  10fa              	djnz	l_vdp_clearRows_00112
  3107  0c3c  eb                	ex	de, hl
  3108  0c3d  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  3109  0c40  19                	add	hl, de
  3110  0c41  e5                	push	hl
  3111  0c42  cd4b08            	call	_vdp_setWriteAddress
  3112  0c45  f1                	pop	af
  3113  0c46  fd21ce05          	ld	iy,__vdpCursorMaxXFull
  3114  0c4a  fd5e00            	ld	e,(iy+0)
  3115  0c4d  dd6604            	ld	h,(ix+4)
  3116  0c50  2e00              	ld	l,0x00
  3117  0c52  55                	ld	d, l
  3118  0c53  0608              	ld	b,0x08
  3119                          l_vdp_clearRows_00114:
  3120  0c55  29                	add	hl, hl
  3121  0c56  3001              	jr	NC,l_vdp_clearRows_00115
  3122  0c58  19                	add	hl, de
  3123                          l_vdp_clearRows_00115:
  3124  0c59  10fa              	djnz	l_vdp_clearRows_00114
  3125  0c5b  110002            	ld	de,__vdp_textBuffer
  3126  0c5e  19                	add	hl, de
  3127  0c5f  e5                	push	hl
  3128  0c60  fd5e00            	ld	e,(iy+0)
  3129  0c63  dd6605            	ld	h,(ix+5)
  3130  0c66  2e00              	ld	l,0x00
  3131  0c68  55                	ld	d, l
  3132  0c69  0608              	ld	b,0x08
  3133                          l_vdp_clearRows_00116:
  3134  0c6b  29                	add	hl, hl
  3135  0c6c  3001              	jr	NC,l_vdp_clearRows_00117
  3136  0c6e  19                	add	hl, de
  3137                          l_vdp_clearRows_00117:
  3138  0c6f  10fa              	djnz	l_vdp_clearRows_00116
  3139  0c71  c1                	pop	bc
  3140  0c72  110002            	ld	de,__vdp_textBuffer
  3141  0c75  19                	add	hl, de
  3142  0c76  eb                	ex	de, hl
  3143                          l_vdp_clearRows_00101:
  3144  0c77  3e20              	ld	a,0x20
  3145  0c79  d3a0              	out	(_IO_VDPDATA), a
  3146  0c7b  3e20              	ld	a,0x20
  3147  0c7d  02                	ld	(bc), a
  3148  0c7e  03                	inc	bc
  3149  0c7f  6b                	ld	l, e
  3150  0c80  62                	ld	h, d
  3151  0c81  bf                	cp	a, a
  3152  0c82  ed42              	sbc	hl, bc
  3153  0c84  20f1              	jr	NZ,l_vdp_clearRows_00101
  3154  0c86  dde1              	pop	ix
  3155  0c88  c9                	ret
  3156                          	SECTION code_compiler
  3157                          ;	---------------------------------
  3158                          ; Function vdp_loadASCIIFont
  3159                          ; ---------------------------------
  3160                          _vdp_loadASCIIFont:
  3161  0c89  dde5              	push	ix
  3162  0c8b  dd210000          	ld	ix,0
  3163  0c8f  dd39              	add	ix,sp
  3164  0c91  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3165  0c94  110001            	ld	de,0x0100
  3166  0c97  19                	add	hl, de
  3167  0c98  e5                	push	hl
  3168  0c99  cd4b08            	call	_vdp_setWriteAddress
  3169  0c9c  f1                	pop	af
  3170  0c9d  dd4e04            	ld	c,(ix+4)
  3171  0ca0  dd4605            	ld	b,(ix+5)
  3172  0ca3  210003            	ld	hl,0x0300
  3173  0ca6  09                	add	hl, bc
  3174  0ca7  eb                	ex	de, hl
  3175                          l_vdp_loadASCIIFont_00101:
  3176  0ca8  0a                	ld	a, (bc)
  3177  0ca9  d3a0              	out	(_IO_VDPDATA), a
  3178  0cab  03                	inc	bc
  3179  0cac  69                	ld	l, c
  3180  0cad  60                	ld	h, b
  3181  0cae  bf                	cp	a, a
  3182  0caf  ed52              	sbc	hl, de
  3183  0cb1  20f5              	jr	NZ,l_vdp_loadASCIIFont_00101
  3184  0cb3  dde1              	pop	ix
  3185  0cb5  c9                	ret
  3186                          	SECTION code_compiler
  3187                          ;	---------------------------------
  3188                          ; Function vdp_loadASCIIFontWithInverse
  3189                          ; ---------------------------------
  3190                          _vdp_loadASCIIFontWithInverse:
  3191  0cb6  dde5              	push	ix
  3192  0cb8  dd210000          	ld	ix,0
  3193  0cbc  dd39              	add	ix,sp
  3194  0cbe  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3195  0cc1  110001            	ld	de,0x0100
  3196  0cc4  19                	add	hl, de
  3197  0cc5  e5                	push	hl
  3198  0cc6  cd4b08            	call	_vdp_setWriteAddress
  3199  0cc9  f1                	pop	af
  3200  0cca  dd4e04            	ld	c,(ix+4)
  3201  0ccd  dd4605            	ld	b,(ix+5)
  3202  0cd0  210003            	ld	hl,0x0300
  3203  0cd3  09                	add	hl, bc
  3204  0cd4  eb                	ex	de, hl
  3205                          l_vdp_loadASCIIFontWithInverse_00101:
  3206  0cd5  0a                	ld	a, (bc)
  3207  0cd6  d3a0              	out	(_IO_VDPDATA), a
  3208  0cd8  03                	inc	bc
  3209  0cd9  69                	ld	l, c
  3210  0cda  60                	ld	h, b
  3211  0cdb  bf                	cp	a, a
  3212  0cdc  ed52              	sbc	hl, de
  3213  0cde  20f5              	jr	NZ,l_vdp_loadASCIIFontWithInverse_00101
  3214  0ce0  dd4e04            	ld	c,(ix+4)
  3215  0ce3  dd4605            	ld	b,(ix+5)
  3216                          l_vdp_loadASCIIFontWithInverse_00104:
  3217  0ce6  0a                	ld	a, (bc)
  3218  0ce7  2f                	cpl
  3219  0ce8  d3a0              	out	(_IO_VDPDATA), a
  3220  0cea  03                	inc	bc
  3221  0ceb  69                	ld	l, c
  3222  0cec  60                	ld	h, b
  3223  0ced  bf                	cp	a, a
  3224  0cee  ed52              	sbc	hl, de
  3225  0cf0  20f4              	jr	NZ,l_vdp_loadASCIIFontWithInverse_00104
  3226  0cf2  dde1              	pop	ix
  3227  0cf4  c9                	ret
  3228                          	SECTION code_compiler
  3229                          ;	---------------------------------
  3230                          ; Function vdp_putPattern
  3231                          ; ---------------------------------
  3232                          _vdp_putPattern:
  3233  0cf5  dde5              	push	ix
  3234  0cf7  dd210000          	ld	ix,0
  3235  0cfb  dd39              	add	ix,sp
  3236  0cfd  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  3237  0d00  5e                	ld	e, (hl)
  3238  0d01  dd6605            	ld	h,(ix+5)
  3239  0d04  2e00              	ld	l,0x00
  3240  0d06  55                	ld	d, l
  3241  0d07  0608              	ld	b,0x08
  3242                          l_vdp_putPattern_00103:
  3243  0d09  29                	add	hl, hl
  3244  0d0a  3001              	jr	NC,l_vdp_putPattern_00104
  3245  0d0c  19                	add	hl, de
  3246                          l_vdp_putPattern_00104:
  3247  0d0d  10fa              	djnz	l_vdp_putPattern_00103
  3248  0d0f  dd4e04            	ld	c,(ix+4)
  3249  0d12  0600              	ld	b,0x00
  3250  0d14  09                	add	hl, bc
  3251  0d15  eb                	ex	de, hl
  3252  0d16  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  3253  0d19  19                	add	hl, de
  3254  0d1a  d5                	push	de
  3255  0d1b  e5                	push	hl
  3256  0d1c  cd4b08            	call	_vdp_setWriteAddress
  3257  0d1f  f1                	pop	af
  3258  0d20  d1                	pop	de
  3259  0d21  210002            	ld	hl,__vdp_textBuffer+0
  3260  0d24  19                	add	hl, de
  3261  0d25  dd7e06            	ld	a,(ix+6)
  3262  0d28  77                	ld	(hl), a
  3263  0d29  dd7e06            	ld	a,(ix+6)
  3264  0d2c  d3a0              	out	(_IO_VDPDATA), a
  3265  0d2e  dde1              	pop	ix
  3266  0d30  c9                	ret
  3267                          	SECTION code_compiler
  3268                          ;	---------------------------------
  3269                          ; Function vdp_loadPatternTable
  3270                          ; ---------------------------------
  3271                          _vdp_loadPatternTable:
  3272  0d31  dde5              	push	ix
  3273  0d33  dd210000          	ld	ix,0
  3274  0d37  dd39              	add	ix,sp
  3275  0d39  dd5e04            	ld	e,(ix+4)
  3276  0d3c  dd5605            	ld	d,(ix+5)
  3277  0d3f  dd6e06            	ld	l,(ix+6)
  3278  0d42  dd6607            	ld	h,(ix+7)
  3279  0d45  19                	add	hl, de
  3280  0d46  e5                	push	hl
  3281  0d47  d5                	push	de
  3282  0d48  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3283  0d4b  e5                	push	hl
  3284  0d4c  cd4b08            	call	_vdp_setWriteAddress
  3285  0d4f  f1                	pop	af
  3286  0d50  d1                	pop	de
  3287  0d51  c1                	pop	bc
  3288                          l_vdp_loadPatternTable_00101:
  3289  0d52  1a                	ld	a, (de)
  3290  0d53  d3a0              	out	(_IO_VDPDATA), a
  3291  0d55  13                	inc	de
  3292  0d56  69                	ld	l, c
  3293  0d57  60                	ld	h, b
  3294  0d58  bf                	cp	a, a
  3295  0d59  ed52              	sbc	hl, de
  3296  0d5b  20f5              	jr	NZ,l_vdp_loadPatternTable_00101
  3297  0d5d  3ad105            	ld	a, (__vdpSplitThirds+0)
  3298  0d60  b7                	or	a, a
  3299  0d61  283e              	jr	Z,l_vdp_loadPatternTable_00112
  3300  0d63  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3301  0d66  110008            	ld	de,0x0800
  3302  0d69  19                	add	hl, de
  3303  0d6a  c5                	push	bc
  3304  0d6b  e5                	push	hl
  3305  0d6c  cd4b08            	call	_vdp_setWriteAddress
  3306  0d6f  f1                	pop	af
  3307  0d70  c1                	pop	bc
  3308  0d71  dd5e04            	ld	e,(ix+4)
  3309  0d74  dd5605            	ld	d,(ix+5)
  3310                          l_vdp_loadPatternTable_00104:
  3311  0d77  1a                	ld	a, (de)
  3312  0d78  d3a0              	out	(_IO_VDPDATA), a
  3313  0d7a  13                	inc	de
  3314  0d7b  6b                	ld	l, e
  3315  0d7c  62                	ld	h, d
  3316  0d7d  bf                	cp	a, a
  3317  0d7e  ed42              	sbc	hl, bc
  3318  0d80  20f5              	jr	NZ,l_vdp_loadPatternTable_00104
  3319  0d82  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3320  0d85  110010            	ld	de,0x1000
  3321  0d88  19                	add	hl, de
  3322  0d89  c5                	push	bc
  3323  0d8a  e5                	push	hl
  3324  0d8b  cd4b08            	call	_vdp_setWriteAddress
  3325  0d8e  f1                	pop	af
  3326  0d8f  c1                	pop	bc
  3327  0d90  dd5e04            	ld	e,(ix+4)
  3328  0d93  dd5605            	ld	d,(ix+5)
  3329                          l_vdp_loadPatternTable_00107:
  3330  0d96  1a                	ld	a, (de)
  3331  0d97  d3a0              	out	(_IO_VDPDATA), a
  3332  0d99  13                	inc	de
  3333  0d9a  6b                	ld	l, e
  3334  0d9b  62                	ld	h, d
  3335  0d9c  bf                	cp	a, a
  3336  0d9d  ed42              	sbc	hl, bc
  3337  0d9f  20f5              	jr	NZ,l_vdp_loadPatternTable_00107
  3338                          l_vdp_loadPatternTable_00112:
  3339  0da1  dde1              	pop	ix
  3340  0da3  c9                	ret
  3341                          	SECTION code_compiler
  3342                          ;	---------------------------------
  3343                          ; Function vdp_loadColorTable
  3344                          ; ---------------------------------
  3345                          _vdp_loadColorTable:
  3346  0da4  dde5              	push	ix
  3347  0da6  dd210000          	ld	ix,0
  3348  0daa  dd39              	add	ix,sp
  3349  0dac  dd5e04            	ld	e,(ix+4)
  3350  0daf  dd5605            	ld	d,(ix+5)
  3351  0db2  dd6e06            	ld	l,(ix+6)
  3352  0db5  dd6607            	ld	h,(ix+7)
  3353  0db8  19                	add	hl, de
  3354  0db9  e5                	push	hl
  3355  0dba  d5                	push	de
  3356  0dbb  2ac905            	ld	hl, (__vdpColorTableAddr)
  3357  0dbe  e5                	push	hl
  3358  0dbf  cd4b08            	call	_vdp_setWriteAddress
  3359  0dc2  f1                	pop	af
  3360  0dc3  d1                	pop	de
  3361  0dc4  c1                	pop	bc
  3362                          l_vdp_loadColorTable_00101:
  3363  0dc5  1a                	ld	a, (de)
  3364  0dc6  d3a0              	out	(_IO_VDPDATA), a
  3365  0dc8  13                	inc	de
  3366  0dc9  69                	ld	l, c
  3367  0dca  60                	ld	h, b
  3368  0dcb  bf                	cp	a, a
  3369  0dcc  ed52              	sbc	hl, de
  3370  0dce  20f5              	jr	NZ,l_vdp_loadColorTable_00101
  3371  0dd0  3ad105            	ld	a, (__vdpSplitThirds+0)
  3372  0dd3  b7                	or	a, a
  3373  0dd4  283e              	jr	Z,l_vdp_loadColorTable_00112
  3374  0dd6  2ac905            	ld	hl, (__vdpColorTableAddr)
  3375  0dd9  110008            	ld	de,0x0800
  3376  0ddc  19                	add	hl, de
  3377  0ddd  c5                	push	bc
  3378  0dde  e5                	push	hl
  3379  0ddf  cd4b08            	call	_vdp_setWriteAddress
  3380  0de2  f1                	pop	af
  3381  0de3  c1                	pop	bc
  3382  0de4  dd5e04            	ld	e,(ix+4)
  3383  0de7  dd5605            	ld	d,(ix+5)
  3384                          l_vdp_loadColorTable_00104:
  3385  0dea  1a                	ld	a, (de)
  3386  0deb  d3a0              	out	(_IO_VDPDATA), a
  3387  0ded  13                	inc	de
  3388  0dee  6b                	ld	l, e
  3389  0def  62                	ld	h, d
  3390  0df0  bf                	cp	a, a
  3391  0df1  ed42              	sbc	hl, bc
  3392  0df3  20f5              	jr	NZ,l_vdp_loadColorTable_00104
  3393  0df5  2ac905            	ld	hl, (__vdpColorTableAddr)
  3394  0df8  110010            	ld	de,0x1000
  3395  0dfb  19                	add	hl, de
  3396  0dfc  c5                	push	bc
  3397  0dfd  e5                	push	hl
  3398  0dfe  cd4b08            	call	_vdp_setWriteAddress
  3399  0e01  f1                	pop	af
  3400  0e02  c1                	pop	bc
  3401  0e03  dd5e04            	ld	e,(ix+4)
  3402  0e06  dd5605            	ld	d,(ix+5)
  3403                          l_vdp_loadColorTable_00107:
  3404  0e09  1a                	ld	a, (de)
  3405  0e0a  d3a0              	out	(_IO_VDPDATA), a
  3406  0e0c  13                	inc	de
  3407  0e0d  6b                	ld	l, e
  3408  0e0e  62                	ld	h, d
  3409  0e0f  bf                	cp	a, a
  3410  0e10  ed42              	sbc	hl, bc
  3411  0e12  20f5              	jr	NZ,l_vdp_loadColorTable_00107
  3412                          l_vdp_loadColorTable_00112:
  3413  0e14  dde1              	pop	ix
  3414  0e16  c9                	ret
  3415                          	SECTION code_compiler
  3416                          ;	---------------------------------
  3417                          ; Function vdp_colorizePattern
  3418                          ; ---------------------------------
  3419                          _vdp_colorizePattern:
  3420  0e17  dde5              	push	ix
  3421  0e19  dd210000          	ld	ix,0
  3422  0e1d  dd39              	add	ix,sp
  3423  0e1f  3b                	dec	sp
  3424  0e20  dd6e04            	ld	l,(ix+4)
  3425  0e23  2600              	ld	h,0x00
  3426  0e25  29                	add	hl, hl
  3427  0e26  29                	add	hl, hl
  3428  0e27  29                	add	hl, hl
  3429  0e28  4d                	ld	c, l
  3430  0e29  44                	ld	b, h
  3431  0e2a  dd7e05            	ld	a,(ix+5)
  3432  0e2d  87                	add	a, a
  3433  0e2e  87                	add	a, a
  3434  0e2f  87                	add	a, a
  3435  0e30  87                	add	a, a
  3436  0e31  dd5e06            	ld	e,(ix+6)
  3437  0e34  83                	add	a, e
  3438  0e35  dd77ff            	ld	(ix-1),a
  3439  0e38  2ac905            	ld	hl, (__vdpColorTableAddr)
  3440  0e3b  09                	add	hl, bc
  3441  0e3c  c5                	push	bc
  3442  0e3d  e5                	push	hl
  3443  0e3e  cd4b08            	call	_vdp_setWriteAddress
  3444  0e41  f1                	pop	af
  3445  0e42  c1                	pop	bc
  3446  0e43  1e00              	ld	e,0x00
  3447                          l_vdp_colorizePattern_00107:
  3448  0e45  7b                	ld	a, e
  3449  0e46  d608              	sub	a,0x08
  3450  0e48  3008              	jr	NC,l_vdp_colorizePattern_00101
  3451  0e4a  dd7eff            	ld	a,(ix-1)
  3452  0e4d  d3a0              	out	(_IO_VDPDATA), a
  3453  0e4f  1c                	inc	e
  3454  0e50  18f3              	jr	l_vdp_colorizePattern_00107
  3455                          l_vdp_colorizePattern_00101:
  3456  0e52  3ad105            	ld	a, (__vdpSplitThirds+0)
  3457  0e55  b7                	or	a, a
  3458  0e56  283a              	jr	Z,l_vdp_colorizePattern_00115
  3459  0e58  2ac905            	ld	hl, (__vdpColorTableAddr)
  3460  0e5b  110008            	ld	de,0x0800
  3461  0e5e  19                	add	hl, de
  3462  0e5f  09                	add	hl, bc
  3463  0e60  c5                	push	bc
  3464  0e61  e5                	push	hl
  3465  0e62  cd4b08            	call	_vdp_setWriteAddress
  3466  0e65  f1                	pop	af
  3467  0e66  c1                	pop	bc
  3468  0e67  1e00              	ld	e,0x00
  3469                          l_vdp_colorizePattern_00110:
  3470  0e69  7b                	ld	a, e
  3471  0e6a  d608              	sub	a,0x08
  3472  0e6c  3008              	jr	NC,l_vdp_colorizePattern_00102
  3473  0e6e  dd7eff            	ld	a,(ix-1)
  3474  0e71  d3a0              	out	(_IO_VDPDATA), a
  3475  0e73  1c                	inc	e
  3476  0e74  18f3              	jr	l_vdp_colorizePattern_00110
  3477                          l_vdp_colorizePattern_00102:
  3478  0e76  2ac905            	ld	hl, (__vdpColorTableAddr)
  3479  0e79  110010            	ld	de,0x1000
  3480  0e7c  19                	add	hl, de
  3481  0e7d  09                	add	hl, bc
  3482  0e7e  e5                	push	hl
  3483  0e7f  cd4b08            	call	_vdp_setWriteAddress
  3484  0e82  f1                	pop	af
  3485  0e83  0e00              	ld	c,0x00
  3486                          l_vdp_colorizePattern_00113:
  3487  0e85  79                	ld	a, c
  3488  0e86  d608              	sub	a,0x08
  3489  0e88  3008              	jr	NC,l_vdp_colorizePattern_00115
  3490  0e8a  dd7eff            	ld	a,(ix-1)
  3491  0e8d  d3a0              	out	(_IO_VDPDATA), a
  3492  0e8f  0c                	inc	c
  3493  0e90  18f3              	jr	l_vdp_colorizePattern_00113
  3494                          l_vdp_colorizePattern_00115:
  3495  0e92  33                	inc	sp
  3496  0e93  dde1              	pop	ix
  3497  0e95  c9                	ret
  3498                          	SECTION code_compiler
  3499                          ;	---------------------------------
  3500                          ; Function vdp_plotHires
  3501                          ; ---------------------------------
  3502                          _vdp_plotHires:
  3503  0e96  dde5              	push	ix
  3504  0e98  dd210000          	ld	ix,0
  3505  0e9c  dd39              	add	ix,sp
  3506  0e9e  f5                	push	af
  3507  0e9f  3b                	dec	sp
  3508  0ea0  dd7e04            	ld	a,(ix+4)
  3509  0ea3  dd77fd            	ld	(ix-3),a
  3510  0ea6  dd36fe00          	ld	(ix-2),0x00
  3511  0eaa  e1                	pop	hl
  3512  0eab  e5                	push	hl
  3513  0eac  ddcbfe7e          	bit	7,(ix-2)
  3514  0eb0  2806              	jr	Z,l_vdp_plotHires_00106
  3515  0eb2  e1                	pop	hl
  3516  0eb3  e5                	push	hl
  3517  0eb4  110700            	ld	de,0x0007
  3518  0eb7  19                	add	hl, de
  3519                          l_vdp_plotHires_00106:
  3520  0eb8  cb2c              	sra	h
  3521  0eba  cb1d              	rr	l
  3522  0ebc  cb2c              	sra	h
  3523  0ebe  cb1d              	rr	l
  3524  0ec0  cb2c              	sra	h
  3525  0ec2  cb1d              	rr	l
  3526  0ec4  29                	add	hl, hl
  3527  0ec5  29                	add	hl, hl
  3528  0ec6  29                	add	hl, hl
  3529  0ec7  dd4e05            	ld	c,(ix+5)
  3530  0eca  0600              	ld	b,0x00
  3531  0ecc  79                	ld	a, c
  3532  0ecd  e607              	and	a,0x07
  3533  0ecf  5f                	ld	e, a
  3534  0ed0  1600              	ld	d,0x00
  3535  0ed2  19                	add	hl, de
  3536  0ed3  eb                	ex	de, hl
  3537  0ed4  69                	ld	l, c
  3538  0ed5  60                	ld	h, b
  3539  0ed6  cb78              	bit	7, b
  3540  0ed8  2804              	jr	Z,l_vdp_plotHires_00107
  3541  0eda  210700            	ld	hl,0x0007
  3542  0edd  09                	add	hl, bc
  3543                          l_vdp_plotHires_00107:
  3544  0ede  cb2c              	sra	h
  3545  0ee0  cb1d              	rr	l
  3546  0ee2  cb2c              	sra	h
  3547  0ee4  cb1d              	rr	l
  3548  0ee6  cb2c              	sra	h
  3549  0ee8  cb1d              	rr	l
  3550  0eea  65                	ld	h, l
  3551  0eeb  2e00              	ld	l,0x00
  3552  0eed  19                	add	hl, de
  3553  0eee  eb                	ex	de, hl
  3554  0eef  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3555  0ef2  19                	add	hl, de
  3556  0ef3  d5                	push	de
  3557  0ef4  e5                	push	hl
  3558  0ef5  cd6008            	call	_vdp_setReadAddress
  3559  0ef8  f1                	pop	af
  3560  0ef9  d1                	pop	de
  3561  0efa  dba0              	in	a, (_IO_VDPDATA)
  3562  0efc  dd77ff            	ld	(ix-1),a
  3563  0eff  2ac905            	ld	hl, (__vdpColorTableAddr)
  3564  0f02  19                	add	hl, de
  3565  0f03  d5                	push	de
  3566  0f04  e5                	push	hl
  3567  0f05  cd6008            	call	_vdp_setReadAddress
  3568  0f08  f1                	pop	af
  3569  0f09  d1                	pop	de
  3570  0f0a  dba0              	in	a, (_IO_VDPDATA)
  3571  0f0c  6f                	ld	l, a
  3572  0f0d  dd7efd            	ld	a,(ix-3)
  3573  0f10  e607              	and	a,0x07
  3574  0f12  f5                	push	af
  3575  0f13  018000            	ld	bc,0x0080
  3576  0f16  f1                	pop	af
  3577  0f17  3c                	inc	a
  3578  0f18  1804              	jr	l_vdp_plotHires_00124
  3579                          l_vdp_plotHires_00123:
  3580  0f1a  cb28              	sra	b
  3581  0f1c  cb19              	rr	c
  3582                          l_vdp_plotHires_00124:
  3583  0f1e  3d                	dec	a
  3584  0f1f  20f9              	jr	NZ, l_vdp_plotHires_00123
  3585  0f21  dd7e06            	ld	a,(ix+6)
  3586  0f24  b7                	or	a, a
  3587  0f25  2814              	jr	Z,l_vdp_plotHires_00102
  3588  0f27  79                	ld	a, c
  3589  0f28  ddb6ff            	or	a,(ix-1)
  3590  0f2b  4f                	ld	c, a
  3591  0f2c  7d                	ld	a, l
  3592  0f2d  e60f              	and	a,0x0f
  3593  0f2f  6f                	ld	l, a
  3594  0f30  dd7e06            	ld	a,(ix+6)
  3595  0f33  87                	add	a, a
  3596  0f34  87                	add	a, a
  3597  0f35  87                	add	a, a
  3598  0f36  87                	add	a, a
  3599  0f37  b5                	or	a, l
  3600  0f38  47                	ld	b, a
  3601  0f39  1811              	jr	l_vdp_plotHires_00103
  3602                          l_vdp_plotHires_00102:
  3603  0f3b  79                	ld	a, c
  3604  0f3c  2f                	cpl
  3605  0f3d  dda6ff            	and	a,(ix-1)
  3606  0f40  4f                	ld	c, a
  3607  0f41  7d                	ld	a, l
  3608  0f42  e6f0              	and	a,0xf0
  3609  0f44  6f                	ld	l, a
  3610  0f45  dd7e07            	ld	a,(ix+7)
  3611  0f48  e60f              	and	a,0x0f
  3612  0f4a  b5                	or	a, l
  3613  0f4b  47                	ld	b, a
  3614                          l_vdp_plotHires_00103:
  3615  0f4c  fd2acb05          	ld	iy, (__vdpPatternGeneratorTableAddr)
  3616  0f50  fd19              	add	iy, de
  3617  0f52  c5                	push	bc
  3618  0f53  d5                	push	de
  3619  0f54  fde5              	push	iy
  3620  0f56  cd4b08            	call	_vdp_setWriteAddress
  3621  0f59  f1                	pop	af
  3622  0f5a  d1                	pop	de
  3623  0f5b  c1                	pop	bc
  3624  0f5c  79                	ld	a, c
  3625  0f5d  d3a0              	out	(_IO_VDPDATA), a
  3626  0f5f  fd2ac905          	ld	iy, (__vdpColorTableAddr)
  3627  0f63  fd19              	add	iy, de
  3628  0f65  c5                	push	bc
  3629  0f66  fde5              	push	iy
  3630  0f68  cd4b08            	call	_vdp_setWriteAddress
  3631  0f6b  f1                	pop	af
  3632  0f6c  c1                	pop	bc
  3633  0f6d  78                	ld	a, b
  3634  0f6e  d3a0              	out	(_IO_VDPDATA), a
  3635  0f70  ddf9              	ld	sp, ix
  3636  0f72  dde1              	pop	ix
  3637  0f74  c9                	ret
  3638                          	SECTION code_compiler
  3639                          ;	---------------------------------
  3640                          ; Function vdp_plotColor
  3641                          ; ---------------------------------
  3642                          _vdp_plotColor:
  3643  0f75  dde5              	push	ix
  3644  0f77  dd210000          	ld	ix,0
  3645  0f7b  dd39              	add	ix,sp
  3646  0f7d  3b                	dec	sp
  3647  0f7e  3acf05            	ld	a, (__vdpMode+0)
  3648  0f81  d602              	sub	a,0x02
  3649  0f83  2077              	jr	NZ,l_vdp_plotColor_00110
  3650  0f85  dd5e04            	ld	e,(ix+4)
  3651  0f88  1600              	ld	d,0x00
  3652  0f8a  6b                	ld	l, e
  3653  0f8b  62                	ld	h, d
  3654  0f8c  cb7a              	bit	7, d
  3655  0f8e  2802              	jr	Z,l_vdp_plotColor_00114
  3656  0f90  eb                	ex	de, hl
  3657  0f91  23                	inc	hl
  3658                          l_vdp_plotColor_00114:
  3659  0f92  cb2c              	sra	h
  3660  0f94  cb1d              	rr	l
  3661  0f96  29                	add	hl, hl
  3662  0f97  29                	add	hl, hl
  3663  0f98  29                	add	hl, hl
  3664  0f99  eb                	ex	de, hl
  3665  0f9a  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3666  0f9d  19                	add	hl, de
  3667  0f9e  dd4e05            	ld	c,(ix+5)
  3668  0fa1  0600              	ld	b,0x00
  3669  0fa3  79                	ld	a, c
  3670  0fa4  e607              	and	a,0x07
  3671  0fa6  5f                	ld	e, a
  3672  0fa7  1600              	ld	d,0x00
  3673  0fa9  19                	add	hl, de
  3674  0faa  eb                	ex	de, hl
  3675  0fab  69                	ld	l, c
  3676  0fac  60                	ld	h, b
  3677  0fad  cb78              	bit	7, b
  3678  0faf  2804              	jr	Z,l_vdp_plotColor_00115
  3679  0fb1  210700            	ld	hl,0x0007
  3680  0fb4  09                	add	hl, bc
  3681                          l_vdp_plotColor_00115:
  3682  0fb5  cb2c              	sra	h
  3683  0fb7  cb1d              	rr	l
  3684  0fb9  cb2c              	sra	h
  3685  0fbb  cb1d              	rr	l
  3686  0fbd  cb2c              	sra	h
  3687  0fbf  cb1d              	rr	l
  3688  0fc1  65                	ld	h, l
  3689  0fc2  2e00              	ld	l,0x00
  3690  0fc4  19                	add	hl, de
  3691  0fc5  e5                	push	hl
  3692  0fc6  e5                	push	hl
  3693  0fc7  cd6008            	call	_vdp_setReadAddress
  3694  0fca  f1                	pop	af
  3695  0fcb  e1                	pop	hl
  3696  0fcc  dba0              	in	a, (_IO_VDPDATA)
  3697  0fce  47                	ld	b, a
  3698  0fcf  c5                	push	bc
  3699  0fd0  e5                	push	hl
  3700  0fd1  cd4b08            	call	_vdp_setWriteAddress
  3701  0fd4  f1                	pop	af
  3702  0fd5  c1                	pop	bc
  3703  0fd6  dd4e04            	ld	c,(ix+4)
  3704  0fd9  78                	ld	a, b
  3705  0fda  cb41              	bit	0, c
  3706  0fdc  280e              	jr	Z,l_vdp_plotColor_00102
  3707  0fde  e6f0              	and	a,0xf0
  3708  0fe0  4f                	ld	c, a
  3709  0fe1  dd7e06            	ld	a,(ix+6)
  3710  0fe4  e60f              	and	a,0x0f
  3711  0fe6  81                	add	a, c
  3712  0fe7  d3a0              	out	(_IO_VDPDATA), a
  3713  0fe9  c38c10            	jp	l_vdp_plotColor_00112
  3714                          l_vdp_plotColor_00102:
  3715  0fec  e60f              	and	a,0x0f
  3716  0fee  4f                	ld	c, a
  3717  0fef  dd7e06            	ld	a,(ix+6)
  3718  0ff2  87                	add	a, a
  3719  0ff3  87                	add	a, a
  3720  0ff4  87                	add	a, a
  3721  0ff5  87                	add	a, a
  3722  0ff6  81                	add	a, c
  3723  0ff7  d3a0              	out	(_IO_VDPDATA), a
  3724  0ff9  c38c10            	jp	l_vdp_plotColor_00112
  3725                          l_vdp_plotColor_00110:
  3726  0ffc  3acf05            	ld	a, (__vdpMode+0)
  3727  0fff  3d                	dec	a
  3728  1000  c28c10            	jp	NZ,l_vdp_plotColor_00112
  3729  1003  dd5e04            	ld	e,(ix+4)
  3730  1006  1600              	ld	d,0x00
  3731  1008  6b                	ld	l, e
  3732  1009  62                	ld	h, d
  3733  100a  cb7a              	bit	7, d
  3734  100c  2802              	jr	Z,l_vdp_plotColor_00116
  3735  100e  eb                	ex	de, hl
  3736  100f  23                	inc	hl
  3737                          l_vdp_plotColor_00116:
  3738  1010  cb2c              	sra	h
  3739  1012  cb1d              	rr	l
  3740  1014  29                	add	hl, hl
  3741  1015  29                	add	hl, hl
  3742  1016  29                	add	hl, hl
  3743  1017  dd4e05            	ld	c,(ix+5)
  3744  101a  0600              	ld	b,0x00
  3745  101c  79                	ld	a, c
  3746  101d  e607              	and	a,0x07
  3747  101f  5f                	ld	e, a
  3748  1020  1600              	ld	d,0x00
  3749  1022  19                	add	hl, de
  3750  1023  eb                	ex	de, hl
  3751  1024  69                	ld	l, c
  3752  1025  60                	ld	h, b
  3753  1026  cb78              	bit	7, b
  3754  1028  2804              	jr	Z,l_vdp_plotColor_00117
  3755  102a  210700            	ld	hl,0x0007
  3756  102d  09                	add	hl, bc
  3757                          l_vdp_plotColor_00117:
  3758  102e  cb2c              	sra	h
  3759  1030  cb1d              	rr	l
  3760  1032  cb2c              	sra	h
  3761  1034  cb1d              	rr	l
  3762  1036  cb2c              	sra	h
  3763  1038  cb1d              	rr	l
  3764  103a  65                	ld	h, l
  3765  103b  2e00              	ld	l,0x00
  3766  103d  19                	add	hl, de
  3767  103e  eb                	ex	de, hl
  3768  103f  2ac905            	ld	hl, (__vdpColorTableAddr)
  3769  1042  19                	add	hl, de
  3770  1043  d5                	push	de
  3771  1044  e5                	push	hl
  3772  1045  cd6008            	call	_vdp_setReadAddress
  3773  1048  f1                	pop	af
  3774  1049  d1                	pop	de
  3775  104a  dba0              	in	a, (_IO_VDPDATA)
  3776  104c  dd4e04            	ld	c,(ix+4)
  3777  104f  cb41              	bit	0, c
  3778  1051  2010              	jr	NZ,l_vdp_plotColor_00105
  3779  1053  e60f              	and	a,0x0f
  3780  1055  4f                	ld	c, a
  3781  1056  dd7e06            	ld	a,(ix+6)
  3782  1059  87                	add	a, a
  3783  105a  87                	add	a, a
  3784  105b  87                	add	a, a
  3785  105c  87                	add	a, a
  3786  105d  b1                	or	a, c
  3787  105e  dd77ff            	ld	(ix-1),a
  3788  1061  180c              	jr	l_vdp_plotColor_00106
  3789                          l_vdp_plotColor_00105:
  3790  1063  e6f0              	and	a,0xf0
  3791  1065  4f                	ld	c, a
  3792  1066  dd7e06            	ld	a,(ix+6)
  3793  1069  e60f              	and	a,0x0f
  3794  106b  b1                	or	a, c
  3795  106c  dd77ff            	ld	(ix-1),a
  3796                          l_vdp_plotColor_00106:
  3797  106f  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3798  1072  19                	add	hl, de
  3799  1073  d5                	push	de
  3800  1074  e5                	push	hl
  3801  1075  cd4b08            	call	_vdp_setWriteAddress
  3802  1078  f1                	pop	af
  3803  1079  d1                	pop	de
  3804  107a  3ef0              	ld	a,0xf0
  3805  107c  d3a0              	out	(_IO_VDPDATA), a
  3806  107e  2ac905            	ld	hl, (__vdpColorTableAddr)
  3807  1081  19                	add	hl, de
  3808  1082  e5                	push	hl
  3809  1083  cd4b08            	call	_vdp_setWriteAddress
  3810  1086  f1                	pop	af
  3811  1087  dd7eff            	ld	a,(ix-1)
  3812  108a  d3a0              	out	(_IO_VDPDATA), a
  3813                          l_vdp_plotColor_00112:
  3814  108c  33                	inc	sp
  3815  108d  dde1              	pop	ix
  3816  108f  c9                	ret
  3817                          	SECTION code_compiler
  3818                          ;	---------------------------------
  3819                          ; Function vdp_disableSprite
  3820                          ; ---------------------------------
  3821                          _vdp_disableSprite:
  3822  1090  fd210200          	ld	iy,2
  3823  1094  fd39              	add	iy, sp
  3824  1096  fd6e00            	ld	l,(iy+0)
  3825  1099  2600              	ld	h,0x00
  3826  109b  29                	add	hl, hl
  3827  109c  29                	add	hl, hl
  3828  109d  eb                	ex	de, hl
  3829  109e  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  3830  10a1  19                	add	hl, de
  3831  10a2  e5                	push	hl
  3832  10a3  cd4b08            	call	_vdp_setWriteAddress
  3833  10a6  f1                	pop	af
  3834  10a7  3ec0              	ld	a,0xc0
  3835  10a9  d3a0              	out	(_IO_VDPDATA), a
  3836  10ab  3e00              	ld	a,0x00
  3837  10ad  d3a0              	out	(_IO_VDPDATA), a
  3838  10af  3e00              	ld	a,0x00
  3839  10b1  d3a0              	out	(_IO_VDPDATA), a
  3840  10b3  3e80              	ld	a,0x80
  3841  10b5  d3a0              	out	(_IO_VDPDATA), a
  3842  10b7  c9                	ret
  3843                          	SECTION code_compiler
  3844                          ;	---------------------------------
  3845                          ; Function vdp_loadSpritePatternNameTable
  3846                          ; ---------------------------------
  3847                          _vdp_loadSpritePatternNameTable:
  3848  10b8  dde5              	push	ix
  3849  10ba  dd210000          	ld	ix,0
  3850  10be  dd39              	add	ix,sp
  3851  10c0  0600              	ld	b,0x00
  3852                          l_vdp_loadSpritePatternNameTable_00108:
  3853  10c2  78                	ld	a, b
  3854  10c3  d620              	sub	a,0x20
  3855  10c5  300b              	jr	NC,l_vdp_loadSpritePatternNameTable_00101
  3856  10c7  c5                	push	bc
  3857  10c8  c5                	push	bc
  3858  10c9  33                	inc	sp
  3859  10ca  cd9010            	call	_vdp_disableSprite
  3860  10cd  33                	inc	sp
  3861  10ce  c1                	pop	bc
  3862  10cf  04                	inc	b
  3863  10d0  18f0              	jr	l_vdp_loadSpritePatternNameTable_00108
  3864                          l_vdp_loadSpritePatternNameTable_00101:
  3865  10d2  3ac605            	ld	a, (__vdpSpriteSizeSelected+0)
  3866  10d5  b7                	or	a, a
  3867  10d6  282a              	jr	Z,l_vdp_loadSpritePatternNameTable_00105
  3868  10d8  2ac405            	ld	hl, (__vdpSpriteGeneratorTableAddr)
  3869  10db  e5                	push	hl
  3870  10dc  cd4b08            	call	_vdp_setWriteAddress
  3871  10df  f1                	pop	af
  3872  10e0  dd6e04            	ld	l,(ix+4)
  3873  10e3  dd6605            	ld	h,(ix+5)
  3874  10e6  29                	add	hl, hl
  3875  10e7  29                	add	hl, hl
  3876  10e8  29                	add	hl, hl
  3877  10e9  29                	add	hl, hl
  3878  10ea  29                	add	hl, hl
  3879  10eb  eb                	ex	de,hl
  3880  10ec  010000            	ld	bc,0x0000
  3881                          l_vdp_loadSpritePatternNameTable_00111:
  3882  10ef  79                	ld	a, c
  3883  10f0  93                	sub	a, e
  3884  10f1  78                	ld	a, b
  3885  10f2  9a                	sbc	a, d
  3886  10f3  3035              	jr	NC,l_vdp_loadSpritePatternNameTable_00116
  3887  10f5  dd6e06            	ld	l,(ix+6)
  3888  10f8  dd6607            	ld	h,(ix+7)
  3889  10fb  09                	add	hl, bc
  3890  10fc  7e                	ld	a, (hl)
  3891  10fd  d3a0              	out	(_IO_VDPDATA), a
  3892  10ff  03                	inc	bc
  3893  1100  18ed              	jr	l_vdp_loadSpritePatternNameTable_00111
  3894                          l_vdp_loadSpritePatternNameTable_00105:
  3895  1102  2ac405            	ld	hl, (__vdpSpriteGeneratorTableAddr)
  3896  1105  e5                	push	hl
  3897  1106  cd4b08            	call	_vdp_setWriteAddress
  3898  1109  f1                	pop	af
  3899  110a  dd6e04            	ld	l,(ix+4)
  3900  110d  dd6605            	ld	h,(ix+5)
  3901  1110  29                	add	hl, hl
  3902  1111  29                	add	hl, hl
  3903  1112  29                	add	hl, hl
  3904  1113  eb                	ex	de,hl
  3905  1114  010000            	ld	bc,0x0000
  3906                          l_vdp_loadSpritePatternNameTable_00114:
  3907  1117  79                	ld	a, c
  3908  1118  93                	sub	a, e
  3909  1119  78                	ld	a, b
  3910  111a  9a                	sbc	a, d
  3911  111b  300d              	jr	NC,l_vdp_loadSpritePatternNameTable_00116
  3912  111d  dd6e06            	ld	l,(ix+6)
  3913  1120  dd6607            	ld	h,(ix+7)
  3914  1123  09                	add	hl, bc
  3915  1124  7e                	ld	a, (hl)
  3916  1125  d3a0              	out	(_IO_VDPDATA), a
  3917  1127  03                	inc	bc
  3918  1128  18ed              	jr	l_vdp_loadSpritePatternNameTable_00114
  3919                          l_vdp_loadSpritePatternNameTable_00116:
  3920  112a  dde1              	pop	ix
  3921  112c  c9                	ret
  3922                          	SECTION code_compiler
  3923                          ;	---------------------------------
  3924                          ; Function vdp_spriteInit
  3925                          ; ---------------------------------
  3926                          _vdp_spriteInit:
  3927  112d  dde5              	push	ix
  3928  112f  dd210000          	ld	ix,0
  3929  1133  dd39              	add	ix,sp
  3930  1135  dd6e04            	ld	l,(ix+4)
  3931  1138  2600              	ld	h,0x00
  3932  113a  29                	add	hl, hl
  3933  113b  29                	add	hl, hl
  3934  113c  eb                	ex	de, hl
  3935  113d  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  3936  1140  19                	add	hl, de
  3937  1141  e5                	push	hl
  3938  1142  cd4b08            	call	_vdp_setWriteAddress
  3939  1145  f1                	pop	af
  3940  1146  dd7e07            	ld	a,(ix+7)
  3941  1149  d3a0              	out	(_IO_VDPDATA), a
  3942  114b  dd7e06            	ld	a,(ix+6)
  3943  114e  d3a0              	out	(_IO_VDPDATA), a
  3944  1150  dd4e05            	ld	c,(ix+5)
  3945  1153  3ac605            	ld	a, (__vdpSpriteSizeSelected+0)
  3946  1156  b7                	or	a, a
  3947  1157  2807              	jr	Z,l_vdp_spriteInit_00102
  3948  1159  79                	ld	a, c
  3949  115a  87                	add	a, a
  3950  115b  87                	add	a, a
  3951  115c  d3a0              	out	(_IO_VDPDATA), a
  3952  115e  1803              	jr	l_vdp_spriteInit_00103
  3953                          l_vdp_spriteInit_00102:
  3954  1160  79                	ld	a, c
  3955  1161  d3a0              	out	(_IO_VDPDATA), a
  3956                          l_vdp_spriteInit_00103:
  3957  1163  dd7e08            	ld	a,(ix+8)
  3958  1166  e60f              	and	a,0x0f
  3959  1168  d3a0              	out	(_IO_VDPDATA), a
  3960  116a  dd6e04            	ld	l,(ix+4)
  3961  116d  dde1              	pop	ix
  3962  116f  c9                	ret
  3963                          	SECTION code_compiler
  3964                          ;	---------------------------------
  3965                          ; Function vdp_setSpriteColor
  3966                          ; ---------------------------------
  3967                          _vdp_setSpriteColor:
  3968  1170  fd210200          	ld	iy,2
  3969  1174  fd39              	add	iy, sp
  3970  1176  fd6e00            	ld	l,(iy+0)
  3971  1179  2600              	ld	h,0x00
  3972  117b  29                	add	hl, hl
  3973  117c  29                	add	hl, hl
  3974  117d  eb                	ex	de, hl
  3975  117e  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  3976  1181  19                	add	hl, de
  3977  1182  23                	inc	hl
  3978  1183  23                	inc	hl
  3979  1184  23                	inc	hl
  3980  1185  e5                	push	hl
  3981  1186  cd4b08            	call	_vdp_setWriteAddress
  3982  1189  f1                	pop	af
  3983  118a  210300            	ld	hl,3+0
  3984  118d  39                	add	hl, sp
  3985  118e  7e                	ld	a, (hl)
  3986  118f  e60f              	and	a,0x0f
  3987  1191  d3a0              	out	(_IO_VDPDATA), a
  3988  1193  c9                	ret
  3989                          	SECTION code_compiler
  3990                          ;	---------------------------------
  3991                          ; Function vdp_setSpritePosition
  3992                          ; ---------------------------------
  3993                          _vdp_setSpritePosition:
  3994  1194  fd210200          	ld	iy,2
  3995  1198  fd39              	add	iy, sp
  3996  119a  fd6e00            	ld	l,(iy+0)
  3997  119d  2600              	ld	h,0x00
  3998  119f  29                	add	hl, hl
  3999  11a0  29                	add	hl, hl
  4000  11a1  eb                	ex	de, hl
  4001  11a2  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  4002  11a5  19                	add	hl, de
  4003  11a6  e5                	push	hl
  4004  11a7  cd4b08            	call	_vdp_setWriteAddress
  4005  11aa  f1                	pop	af
  4006  11ab  fd210400          	ld	iy,4
  4007  11af  fd39              	add	iy, sp
  4008  11b1  fd7e00            	ld	a,(iy+0)
  4009  11b4  d3a0              	out	(_IO_VDPDATA), a
  4010  11b6  fd2b              	dec	iy
  4011  11b8  fd7e00            	ld	a,(iy+0)
  4012  11bb  d3a0              	out	(_IO_VDPDATA), a
  4013  11bd  c9                	ret
  4014                          	SECTION code_compiler
  4015                          ;	---------------------------------
  4016                          ; Function vdp_setSpritePositionAndColor
  4017                          ; ---------------------------------
  4018                          _vdp_setSpritePositionAndColor:
  4019  11be  fd210200          	ld	iy,2
  4020  11c2  fd39              	add	iy, sp
  4021  11c4  fd6e00            	ld	l,(iy+0)
  4022  11c7  2600              	ld	h,0x00
  4023  11c9  29                	add	hl, hl
  4024  11ca  29                	add	hl, hl
  4025  11cb  eb                	ex	de, hl
  4026  11cc  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  4027  11cf  19                	add	hl, de
  4028  11d0  e5                	push	hl
  4029  11d1  cd4b08            	call	_vdp_setWriteAddress
  4030  11d4  f1                	pop	af
  4031  11d5  fd210400          	ld	iy,4
  4032  11d9  fd39              	add	iy, sp
  4033  11db  fd7e00            	ld	a,(iy+0)
  4034  11de  d3a0              	out	(_IO_VDPDATA), a
  4035  11e0  fd2b              	dec	iy
  4036  11e2  fd7e00            	ld	a,(iy+0)
  4037  11e5  d3a0              	out	(_IO_VDPDATA), a
  4038  11e7  fd2b              	dec	iy
  4039  11e9  fd7e00            	ld	a,(iy+0)
  4040  11ec  d3a0              	out	(_IO_VDPDATA), a
  4041  11ee  fd7e03            	ld	a,(iy+0+1+1+1)
  4042  11f1  e60f              	and	a,0x0f
  4043  11f3  d3a0              	out	(_IO_VDPDATA), a
  4044  11f5  c9                	ret
  4045                          	SECTION code_compiler
  4046                          ;	---------------------------------
  4047                          ; Function vdp_getSpritePosition
  4048                          ; ---------------------------------
  4049                          _vdp_getSpritePosition:
  4050  11f6  fd210200          	ld	iy,2
  4051  11fa  fd39              	add	iy, sp
  4052  11fc  fd6e00            	ld	l,(iy+0)
  4053  11ff  2600              	ld	h,0x00
  4054  1201  29                	add	hl, hl
  4055  1202  29                	add	hl, hl
  4056  1203  eb                	ex	de, hl
  4057  1204  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  4058  1207  19                	add	hl, de
  4059  1208  e5                	push	hl
  4060  1209  cd6008            	call	_vdp_setReadAddress
  4061  120c  f1                	pop	af
  4062  120d  fd210500          	ld	iy,5
  4063  1211  fd39              	add	iy, sp
  4064  1213  fd4e00            	ld	c,(iy+0)
  4065  1216  fd4601            	ld	b,(iy+1)
  4066  1219  dba0              	in	a, (_IO_VDPDATA)
  4067  121b  02                	ld	(bc), a
  4068  121c  fd2b              	dec	iy
  4069  121e  fd2b              	dec	iy
  4070  1220  fd4e00            	ld	c,(iy+0)
  4071  1223  fd4601            	ld	b,(iy+1)
  4072  1226  dba0              	in	a, (_IO_VDPDATA)
  4073  1228  02                	ld	(bc), a
  4074  1229  c9                	ret
  4075                          	SECTION code_compiler
  4076                          ;	---------------------------------
  4077                          ; Function vdp_print
  4078                          ; ---------------------------------
  4079                          _vdp_print:
  4080  122a  210200            	ld	hl,2
  4081  122d  39                	add	hl, sp
  4082  122e  4e                	ld	c, (hl)
  4083  122f  23                	inc	hl
  4084  1230  46                	ld	b, (hl)
  4085                          l_vdp_print_00101:
  4086  1231  0a                	ld	a, (bc)
  4087  1232  b7                	or	a, a
  4088  1233  c8                	ret	Z
  4089  1234  c5                	push	bc
  4090  1235  f5                	push	af
  4091  1236  33                	inc	sp
  4092  1237  cd9d13            	call	_vdp_write
  4093  123a  33                	inc	sp
  4094  123b  c1                	pop	bc
  4095  123c  03                	inc	bc
  4096  123d  18f2              	jr	l_vdp_print_00101
  4097                          	SECTION code_compiler
  4098                          ;	---------------------------------
  4099                          ; Function vdp_printColorized
  4100                          ; ---------------------------------
  4101                          _vdp_printColorized:
  4102  123f  fd210200          	ld	iy,2
  4103  1243  fd39              	add	iy, sp
  4104  1245  fd4e00            	ld	c,(iy+0)
  4105  1248  fd4601            	ld	b,(iy+1)
  4106                          l_vdp_printColorized_00101:
  4107  124b  0a                	ld	a, (bc)
  4108  124c  b7                	or	a, a
  4109  124d  c8                	ret	Z
  4110  124e  c5                	push	bc
  4111  124f  fd210700          	ld	iy,7
  4112  1253  fd39              	add	iy, sp
  4113  1255  fd6600            	ld	h,(iy+0)
  4114  1258  e5                	push	hl
  4115  1259  33                	inc	sp
  4116  125a  fd2b              	dec	iy
  4117  125c  fd6600            	ld	h,(iy+0)
  4118  125f  e5                	push	hl
  4119  1260  33                	inc	sp
  4120  1261  f5                	push	af
  4121  1262  33                	inc	sp
  4122  1263  cd170e            	call	_vdp_colorizePattern
  4123  1266  f1                	pop	af
  4124  1267  33                	inc	sp
  4125  1268  c1                	pop	bc
  4126  1269  0a                	ld	a, (bc)
  4127  126a  c5                	push	bc
  4128  126b  f5                	push	af
  4129  126c  33                	inc	sp
  4130  126d  cd9d13            	call	_vdp_write
  4131  1270  33                	inc	sp
  4132  1271  c1                	pop	bc
  4133  1272  03                	inc	bc
  4134  1273  18d6              	jr	l_vdp_printColorized_00101
  4135                          	SECTION code_compiler
  4136                          ;	---------------------------------
  4137                          ; Function vdp_printPart
  4138                          ; ---------------------------------
  4139                          _vdp_printPart:
  4140  1275  dde5              	push	ix
  4141  1277  dd210000          	ld	ix,0
  4142  127b  dd39              	add	ix,sp
  4143  127d  dd7e08            	ld	a,(ix+8)
  4144  1280  dd8604            	add	a,(ix+4)
  4145  1283  4f                	ld	c, a
  4146  1284  dd7e09            	ld	a,(ix+9)
  4147  1287  dd8e05            	adc	a,(ix+5)
  4148  128a  47                	ld	b, a
  4149  128b  dd6e06            	ld	l,(ix+6)
  4150  128e  dd6607            	ld	h,(ix+7)
  4151  1291  09                	add	hl, bc
  4152  1292  eb                	ex	de, hl
  4153                          l_vdp_printPart_00101:
  4154  1293  69                	ld	l, c
  4155  1294  60                	ld	h, b
  4156  1295  bf                	cp	a, a
  4157  1296  ed52              	sbc	hl, de
  4158  1298  280e              	jr	Z,l_vdp_printPart_00104
  4159  129a  0a                	ld	a, (bc)
  4160  129b  c5                	push	bc
  4161  129c  d5                	push	de
  4162  129d  f5                	push	af
  4163  129e  33                	inc	sp
  4164  129f  cd9d13            	call	_vdp_write
  4165  12a2  33                	inc	sp
  4166  12a3  d1                	pop	de
  4167  12a4  c1                	pop	bc
  4168  12a5  03                	inc	bc
  4169  12a6  18eb              	jr	l_vdp_printPart_00101
  4170                          l_vdp_printPart_00104:
  4171  12a8  dde1              	pop	ix
  4172  12aa  c9                	ret
  4173                          	SECTION code_compiler
  4174                          ;	---------------------------------
  4175                          ; Function vdp_newLine
  4176                          ; ---------------------------------
  4177                          _vdp_newLine:
  4178  12ab  210c00            	ld	hl,_vdp_cursor + 1
  4179  12ae  4e                	ld	c, (hl)
  4180  12af  79                	ld	a, c
  4181  12b0  d617              	sub	a,0x17
  4182  12b2  2018              	jr	NZ,l_vdp_newLine_00104
  4183  12b4  3ad005            	ld	a, (__autoScroll+0)
  4184  12b7  b7                	or	a, a
  4185  12b8  280b              	jr	Z,l_vdp_newLine_00102
  4186  12ba  3e17              	ld	a,0x17
  4187  12bc  f5                	push	af
  4188  12bd  33                	inc	sp
  4189  12be  af                	xor	a, a
  4190  12bf  f5                	push	af
  4191  12c0  33                	inc	sp
  4192  12c1  cdd114            	call	_vdp_scrollTextUp
  4193  12c4  f1                	pop	af
  4194                          l_vdp_newLine_00102:
  4195  12c5  210b00            	ld	hl,_vdp_cursor
  4196  12c8  3600              	ld	(hl),0x00
  4197  12ca  180c              	jr	l_vdp_newLine_00106
  4198                          l_vdp_newLine_00104:
  4199  12cc  79                	ld	a, c
  4200  12cd  3c                	inc	a
  4201  12ce  77                	ld	(hl), a
  4202  12cf  f5                	push	af
  4203  12d0  33                	inc	sp
  4204  12d1  af                	xor	a, a
  4205  12d2  f5                	push	af
  4206  12d3  33                	inc	sp
  4207  12d4  cde612            	call	_vdp_setCursor2
  4208  12d7  f1                	pop	af
  4209                          l_vdp_newLine_00106:
  4210  12d8  c9                	ret
  4211                          	SECTION code_compiler
  4212                          ;	---------------------------------
  4213                          ; Function vdp_setBackDropColor
  4214                          ; ---------------------------------
  4215                          _vdp_setBackDropColor:
  4216  12d9  210200            	ld	hl,2+0
  4217  12dc  39                	add	hl, sp
  4218  12dd  56                	ld	d, (hl)
  4219  12de  1e07              	ld	e,0x07
  4220  12e0  d5                	push	de
  4221  12e1  cd3608            	call	_vdp_setRegister
  4222  12e4  f1                	pop	af
  4223  12e5  c9                	ret
  4224                          	SECTION code_compiler
  4225                          ;	---------------------------------
  4226                          ; Function vdp_setCursor2
  4227                          ; ---------------------------------
  4228                          _vdp_setCursor2:
  4229  12e6  dde5              	push	ix
  4230  12e8  dd210000          	ld	ix,0
  4231  12ec  dd39              	add	ix,sp
  4232  12ee  3acd05            	ld	a,(__vdpCursorMaxX)
  4233  12f1  dd9604            	sub	a,(ix+4)
  4234  12f4  3007              	jr	NC,l_vdp_setCursor2_00102
  4235  12f6  dd360400          	ld	(ix+4),0x00
  4236  12fa  dd3405            	inc	(ix+5)
  4237                          l_vdp_setCursor2_00102:
  4238  12fd  3a0000            	ld	a, (__vdpCursorMaxY+0)
  4239  1300  dd9605            	sub	a,(ix+5)
  4240  1303  3004              	jr	NC,l_vdp_setCursor2_00104
  4241  1305  dd360500          	ld	(ix+5),0x00
  4242                          l_vdp_setCursor2_00104:
  4243  1309  210b00            	ld	hl,_vdp_cursor
  4244  130c  dd7e04            	ld	a,(ix+4)
  4245  130f  77                	ld	(hl), a
  4246  1310  210c00            	ld	hl, +(_vdp_cursor + 1)
  4247  1313  dd7e05            	ld	a,(ix+5)
  4248  1316  77                	ld	(hl), a
  4249  1317  dde1              	pop	ix
  4250  1319  c9                	ret
  4251                          	SECTION code_compiler
  4252                          ;	---------------------------------
  4253                          ; Function vdp_setCursor
  4254                          ; ---------------------------------
  4255                          _vdp_setCursor:
  4256  131a  fd210200          	ld	iy,2
  4257  131e  fd39              	add	iy, sp
  4258  1320  fd7e00            	ld	a,(iy+0)
  4259  1323  b7                	or	a, a
  4260  1324  2816              	jr	Z,l_vdp_setCursor_00101
  4261  1326  fd7e00            	ld	a,(iy+0)
  4262  1329  3d                	dec	a
  4263  132a  2822              	jr	Z,l_vdp_setCursor_00102
  4264  132c  fd7e00            	ld	a,(iy+0)
  4265  132f  d602              	sub	a,0x02
  4266  1331  282d              	jr	Z,l_vdp_setCursor_00103
  4267  1333  fd7e00            	ld	a,(iy+0)
  4268  1336  d603              	sub	a,0x03
  4269  1338  2838              	jr	Z,l_vdp_setCursor_00104
  4270  133a  1846              	jr	l_vdp_setCursor_00106
  4271                          l_vdp_setCursor_00101:
  4272  133c  3a0c00            	ld	a, (_vdp_cursor + 1)
  4273  133f  3d                	dec	a
  4274  1340  210b00            	ld	hl,_vdp_cursor + 0
  4275  1343  46                	ld	b, (hl)
  4276  1344  f5                	push	af
  4277  1345  33                	inc	sp
  4278  1346  c5                	push	bc
  4279  1347  33                	inc	sp
  4280  1348  cde612            	call	_vdp_setCursor2
  4281  134b  f1                	pop	af
  4282  134c  1834              	jr	l_vdp_setCursor_00106
  4283                          l_vdp_setCursor_00102:
  4284  134e  3a0c00            	ld	a, (_vdp_cursor + 1)
  4285  1351  3c                	inc	a
  4286  1352  210b00            	ld	hl,_vdp_cursor + 0
  4287  1355  46                	ld	b, (hl)
  4288  1356  f5                	push	af
  4289  1357  33                	inc	sp
  4290  1358  c5                	push	bc
  4291  1359  33                	inc	sp
  4292  135a  cde612            	call	_vdp_setCursor2
  4293  135d  f1                	pop	af
  4294  135e  1822              	jr	l_vdp_setCursor_00106
  4295                          l_vdp_setCursor_00103:
  4296  1360  210c00            	ld	hl,_vdp_cursor + 1
  4297  1363  46                	ld	b, (hl)
  4298  1364  3a0b00            	ld	a, (_vdp_cursor + 0)
  4299  1367  3d                	dec	a
  4300  1368  c5                	push	bc
  4301  1369  33                	inc	sp
  4302  136a  f5                	push	af
  4303  136b  33                	inc	sp
  4304  136c  cde612            	call	_vdp_setCursor2
  4305  136f  f1                	pop	af
  4306  1370  1810              	jr	l_vdp_setCursor_00106
  4307                          l_vdp_setCursor_00104:
  4308  1372  210c00            	ld	hl,_vdp_cursor + 1
  4309  1375  46                	ld	b, (hl)
  4310  1376  3a0b00            	ld	a, (_vdp_cursor + 0)
  4311  1379  3c                	inc	a
  4312  137a  c5                	push	bc
  4313  137b  33                	inc	sp
  4314  137c  f5                	push	af
  4315  137d  33                	inc	sp
  4316  137e  cde612            	call	_vdp_setCursor2
  4317  1381  f1                	pop	af
  4318                          l_vdp_setCursor_00106:
  4319  1382  c9                	ret
  4320                          	SECTION code_compiler
  4321                          ;	---------------------------------
  4322                          ; Function vdp_setTextColor
  4323                          ; ---------------------------------
  4324                          _vdp_setTextColor:
  4325  1383  fd210200          	ld	iy,2
  4326  1387  fd39              	add	iy, sp
  4327  1389  fd7e00            	ld	a,(iy+0)
  4328  138c  87                	add	a, a
  4329  138d  87                	add	a, a
  4330  138e  87                	add	a, a
  4331  138f  87                	add	a, a
  4332  1390  fd4e01            	ld	c,(iy+0+1)
  4333  1393  81                	add	a, c
  4334  1394  57                	ld	d,a
  4335  1395  1e07              	ld	e,0x07
  4336  1397  d5                	push	de
  4337  1398  cd3608            	call	_vdp_setRegister
  4338  139b  f1                	pop	af
  4339  139c  c9                	ret
  4340                          	SECTION code_compiler
  4341                          ;	---------------------------------
  4342                          ; Function vdp_write
  4343                          ; ---------------------------------
  4344                          _vdp_write:
  4345  139d  dde5              	push	ix
  4346  139f  dd210000          	ld	ix,0
  4347  13a3  dd39              	add	ix,sp
  4348  13a5  210c00            	ld	hl, +(_vdp_cursor + 1) + 0
  4349  13a8  5e                	ld	e, (hl)
  4350  13a9  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4351  13ac  66                	ld	h, (hl)
  4352  13ad  2e00              	ld	l,0x00
  4353  13af  55                	ld	d, l
  4354  13b0  0608              	ld	b,0x08
  4355                          l_vdp_write_00122:
  4356  13b2  29                	add	hl, hl
  4357  13b3  3001              	jr	NC,l_vdp_write_00123
  4358  13b5  19                	add	hl, de
  4359                          l_vdp_write_00123:
  4360  13b6  10fa              	djnz	l_vdp_write_00122
  4361  13b8  eb                	ex	de, hl
  4362  13b9  3a0b00            	ld	a, (_vdp_cursor + 0)
  4363  13bc  2600              	ld	h,0x00
  4364  13be  6f                	ld	l, a
  4365  13bf  19                	add	hl, de
  4366  13c0  eb                	ex	de, hl
  4367  13c1  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  4368  13c4  19                	add	hl, de
  4369  13c5  d5                	push	de
  4370  13c6  e5                	push	hl
  4371  13c7  cd4b08            	call	_vdp_setWriteAddress
  4372  13ca  f1                	pop	af
  4373  13cb  d1                	pop	de
  4374  13cc  dd7e04            	ld	a,(ix+4)
  4375  13cf  d3a0              	out	(_IO_VDPDATA), a
  4376  13d1  210002            	ld	hl,__vdp_textBuffer
  4377  13d4  19                	add	hl, de
  4378  13d5  dd7e04            	ld	a,(ix+4)
  4379  13d8  77                	ld	(hl), a
  4380  13d9  3ad005            	ld	a, (__autoScroll+0)
  4381  13dc  b7                	or	a, a
  4382  13dd  2821              	jr	Z,l_vdp_write_00102
  4383  13df  210b00            	ld	hl,_vdp_cursor + 0
  4384  13e2  46                	ld	b, (hl)
  4385  13e3  3acd05            	ld	a, (__vdpCursorMaxX+0)
  4386  13e6  90                	sub	a, b
  4387  13e7  2017              	jr	NZ,l_vdp_write_00102
  4388  13e9  3a0c00            	ld	a, ((_vdp_cursor + 1) + 0)
  4389  13ec  d617              	sub	a,0x17
  4390  13ee  2010              	jr	NZ,l_vdp_write_00102
  4391  13f0  3e17              	ld	a,0x17
  4392  13f2  f5                	push	af
  4393  13f3  33                	inc	sp
  4394  13f4  af                	xor	a, a
  4395  13f5  f5                	push	af
  4396  13f6  33                	inc	sp
  4397  13f7  cdd114            	call	_vdp_scrollTextUp
  4398  13fa  f1                	pop	af
  4399  13fb  210b00            	ld	hl,_vdp_cursor
  4400  13fe  3600              	ld	(hl),0x00
  4401                          l_vdp_write_00102:
  4402  1400  3a0c00            	ld	a, ((_vdp_cursor + 1) + 0)
  4403  1403  210b00            	ld	hl,_vdp_cursor + 0
  4404  1406  4e                	ld	c, (hl)
  4405  1407  0c                	inc	c
  4406  1408  f5                	push	af
  4407  1409  33                	inc	sp
  4408  140a  79                	ld	a, c
  4409  140b  f5                	push	af
  4410  140c  33                	inc	sp
  4411  140d  cde612            	call	_vdp_setCursor2
  4412  1410  f1                	pop	af
  4413  1411  dde1              	pop	ix
  4414  1413  c9                	ret
  4415                          	SECTION code_compiler
  4416                          ;	---------------------------------
  4417                          ; Function vdp_writeCharAtLocation
  4418                          ; ---------------------------------
  4419                          _vdp_writeCharAtLocation:
  4420  1414  dde5              	push	ix
  4421  1416  dd210000          	ld	ix,0
  4422  141a  dd39              	add	ix,sp
  4423  141c  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4424  141f  5e                	ld	e, (hl)
  4425  1420  dd6605            	ld	h,(ix+5)
  4426  1423  2e00              	ld	l,0x00
  4427  1425  55                	ld	d, l
  4428  1426  0608              	ld	b,0x08
  4429                          l_vdp_writeCharAtLocation_00103:
  4430  1428  29                	add	hl, hl
  4431  1429  3001              	jr	NC,l_vdp_writeCharAtLocation_00104
  4432  142b  19                	add	hl, de
  4433                          l_vdp_writeCharAtLocation_00104:
  4434  142c  10fa              	djnz	l_vdp_writeCharAtLocation_00103
  4435  142e  dd4e04            	ld	c,(ix+4)
  4436  1431  0600              	ld	b,0x00
  4437  1433  09                	add	hl, bc
  4438  1434  eb                	ex	de, hl
  4439  1435  210002            	ld	hl,__vdp_textBuffer+0
  4440  1438  19                	add	hl, de
  4441  1439  dd7e06            	ld	a,(ix+6)
  4442  143c  77                	ld	(hl), a
  4443  143d  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  4444  1440  19                	add	hl, de
  4445  1441  e5                	push	hl
  4446  1442  cd4b08            	call	_vdp_setWriteAddress
  4447  1445  f1                	pop	af
  4448  1446  dd7e06            	ld	a,(ix+6)
  4449  1449  d3a0              	out	(_IO_VDPDATA), a
  4450  144b  dde1              	pop	ix
  4451  144d  c9                	ret
  4452                          	SECTION code_compiler
  4453                          ;	---------------------------------
  4454                          ; Function vdp_getCharAtLocationVRAM
  4455                          ; ---------------------------------
  4456                          _vdp_getCharAtLocationVRAM:
  4457  144e  dde5              	push	ix
  4458  1450  dd210000          	ld	ix,0
  4459  1454  dd39              	add	ix,sp
  4460  1456  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4461  1459  5e                	ld	e, (hl)
  4462  145a  dd6605            	ld	h,(ix+5)
  4463  145d  2e00              	ld	l,0x00
  4464  145f  55                	ld	d, l
  4465  1460  0608              	ld	b,0x08
  4466                          l_vdp_getCharAtLocationVRAM_00103:
  4467  1462  29                	add	hl, hl
  4468  1463  3001              	jr	NC,l_vdp_getCharAtLocationVRAM_00104
  4469  1465  19                	add	hl, de
  4470                          l_vdp_getCharAtLocationVRAM_00104:
  4471  1466  10fa              	djnz	l_vdp_getCharAtLocationVRAM_00103
  4472  1468  dd4e04            	ld	c,(ix+4)
  4473  146b  0600              	ld	b,0x00
  4474  146d  09                	add	hl, bc
  4475  146e  eb                	ex	de, hl
  4476  146f  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  4477  1472  19                	add	hl, de
  4478  1473  e5                	push	hl
  4479  1474  cd6008            	call	_vdp_setReadAddress
  4480  1477  f1                	pop	af
  4481  1478  dba0              	in	a, (_IO_VDPDATA)
  4482  147a  6f                	ld	l, a
  4483  147b  dde1              	pop	ix
  4484  147d  c9                	ret
  4485                          	SECTION code_compiler
  4486                          ;	---------------------------------
  4487                          ; Function vdp_getCharAtLocationBuf
  4488                          ; ---------------------------------
  4489                          _vdp_getCharAtLocationBuf:
  4490  147e  dde5              	push	ix
  4491  1480  dd210000          	ld	ix,0
  4492  1484  dd39              	add	ix,sp
  4493  1486  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4494  1489  5e                	ld	e, (hl)
  4495  148a  dd6605            	ld	h,(ix+5)
  4496  148d  2e00              	ld	l,0x00
  4497  148f  55                	ld	d, l
  4498  1490  0608              	ld	b,0x08
  4499                          l_vdp_getCharAtLocationBuf_00103:
  4500  1492  29                	add	hl, hl
  4501  1493  3001              	jr	NC,l_vdp_getCharAtLocationBuf_00104
  4502  1495  19                	add	hl, de
  4503                          l_vdp_getCharAtLocationBuf_00104:
  4504  1496  10fa              	djnz	l_vdp_getCharAtLocationBuf_00103
  4505  1498  dd4e04            	ld	c,(ix+4)
  4506  149b  0600              	ld	b,0x00
  4507  149d  09                	add	hl, bc
  4508  149e  110002            	ld	de,__vdp_textBuffer
  4509  14a1  19                	add	hl, de
  4510  14a2  6e                	ld	l, (hl)
  4511  14a3  dde1              	pop	ix
  4512  14a5  c9                	ret
  4513                          	SECTION code_compiler
  4514                          ;	---------------------------------
  4515                          ; Function vdp_setCharAtLocationBuf
  4516                          ; ---------------------------------
  4517                          _vdp_setCharAtLocationBuf:
  4518  14a6  dde5              	push	ix
  4519  14a8  dd210000          	ld	ix,0
  4520  14ac  dd39              	add	ix,sp
  4521  14ae  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4522  14b1  5e                	ld	e, (hl)
  4523  14b2  dd6605            	ld	h,(ix+5)
  4524  14b5  2e00              	ld	l,0x00
  4525  14b7  55                	ld	d, l
  4526  14b8  0608              	ld	b,0x08
  4527                          l_vdp_setCharAtLocationBuf_00103:
  4528  14ba  29                	add	hl, hl
  4529  14bb  3001              	jr	NC,l_vdp_setCharAtLocationBuf_00104
  4530  14bd  19                	add	hl, de
  4531                          l_vdp_setCharAtLocationBuf_00104:
  4532  14be  10fa              	djnz	l_vdp_setCharAtLocationBuf_00103
  4533  14c0  dd4e04            	ld	c,(ix+4)
  4534  14c3  0600              	ld	b,0x00
  4535  14c5  09                	add	hl, bc
  4536  14c6  110002            	ld	de,__vdp_textBuffer
  4537  14c9  19                	add	hl, de
  4538  14ca  dd7e06            	ld	a,(ix+6)
  4539  14cd  77                	ld	(hl), a
  4540  14ce  dde1              	pop	ix
  4541  14d0  c9                	ret
  4542                          	SECTION code_compiler
  4543                          ;	---------------------------------
  4544                          ; Function vdp_scrollTextUp
  4545                          ; ---------------------------------
  4546                          _vdp_scrollTextUp:
  4547  14d1  dde5              	push	ix
  4548  14d3  dd210000          	ld	ix,0
  4549  14d7  dd39              	add	ix,sp
  4550  14d9  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4551  14dc  5e                	ld	e, (hl)
  4552  14dd  dd6604            	ld	h,(ix+4)
  4553  14e0  2e00              	ld	l,0x00
  4554  14e2  55                	ld	d, l
  4555  14e3  0608              	ld	b,0x08
  4556                          l_vdp_scrollTextUp_00125:
  4557  14e5  29                	add	hl, hl
  4558  14e6  3001              	jr	NC,l_vdp_scrollTextUp_00126
  4559  14e8  19                	add	hl, de
  4560                          l_vdp_scrollTextUp_00126:
  4561  14e9  10fa              	djnz	l_vdp_scrollTextUp_00125
  4562  14eb  eb                	ex	de, hl
  4563  14ec  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  4564  14ef  19                	add	hl, de
  4565  14f0  e5                	push	hl
  4566  14f1  cd4b08            	call	_vdp_setWriteAddress
  4567  14f4  f1                	pop	af
  4568  14f5  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4569  14f8  5e                	ld	e, (hl)
  4570  14f9  dd6604            	ld	h,(ix+4)
  4571  14fc  2e00              	ld	l,0x00
  4572  14fe  55                	ld	d, l
  4573  14ff  0608              	ld	b,0x08
  4574                          l_vdp_scrollTextUp_00127:
  4575  1501  29                	add	hl, hl
  4576  1502  3001              	jr	NC,l_vdp_scrollTextUp_00128
  4577  1504  19                	add	hl, de
  4578                          l_vdp_scrollTextUp_00128:
  4579  1505  10fa              	djnz	l_vdp_scrollTextUp_00127
  4580  1507  110002            	ld	de,__vdp_textBuffer
  4581  150a  19                	add	hl, de
  4582  150b  eb                	ex	de, hl
  4583  150c  2ace05            	ld	hl, (__vdpCursorMaxXFull)
  4584  150f  2600              	ld	h,0x00
  4585  1511  19                	add	hl, de
  4586  1512  e5                	push	hl
  4587  1513  fde1              	pop	iy
  4588  1515  dd4e05            	ld	c,(ix+5)
  4589  1518  0600              	ld	b,0x00
  4590  151a  03                	inc	bc
  4591  151b  3ace05            	ld	a, (__vdpCursorMaxXFull+0)
  4592  151e  2600              	ld	h,0x00
  4593  1520  d5                	push	de
  4594  1521  fde5              	push	iy
  4595  1523  6f                	ld	l, a
  4596  1524  e5                	push	hl
  4597  1525  c5                	push	bc
  4598  1526  cd0000            	call	__mulint_callee
  4599  1529  fde1              	pop	iy
  4600  152b  d1                	pop	de
  4601  152c  010002            	ld	bc,__vdp_textBuffer
  4602  152f  09                	add	hl, bc
  4603  1530  4d                	ld	c, l
  4604  1531  44                	ld	b, h
  4605  1532  eb                	ex	de, hl
  4606  1533  fde5              	push	iy
  4607  1535  d1                	pop	de
  4608                          l_vdp_scrollTextUp_00101:
  4609  1536  1a                	ld	a, (de)
  4610  1537  77                	ld	(hl), a
  4611  1538  d3a0              	out	(_IO_VDPDATA), a
  4612  153a  23                	inc	hl
  4613  153b  13                	inc	de
  4614  153c  7b                	ld	a, e
  4615  153d  91                	sub	a, c
  4616  153e  20f6              	jr	NZ,l_vdp_scrollTextUp_00101
  4617  1540  7a                	ld	a, d
  4618  1541  90                	sub	a, b
  4619  1542  20f2              	jr	NZ,l_vdp_scrollTextUp_00101
  4620  1544  eb                	ex	de, hl
  4621                          l_vdp_scrollTextUp_00104:
  4622  1545  3e20              	ld	a,0x20
  4623  1547  12                	ld	(de),a
  4624  1548  d3a0              	out	(_IO_VDPDATA), a
  4625  154a  13                	inc	de
  4626  154b  6b                	ld	l, e
  4627  154c  62                	ld	h, d
  4628  154d  bf                	cp	a, a
  4629  154e  ed42              	sbc	hl, bc
  4630  1550  20f3              	jr	NZ,l_vdp_scrollTextUp_00104
  4631  1552  dde1              	pop	ix
  4632  1554  c9                	ret
  4633                          	SECTION code_compiler
  4634                          ;	---------------------------------
  4635                          ; Function vdp_scrollTextDown
  4636                          ; ---------------------------------
  4637                          _vdp_scrollTextDown:
  4638  1555  dde5              	push	ix
  4639  1557  dd210000          	ld	ix,0
  4640  155b  dd39              	add	ix,sp
  4641  155d  f5                	push	af
  4642  155e  fd21ce05          	ld	iy,__vdpCursorMaxXFull
  4643  1562  fd5e00            	ld	e,(iy+0)
  4644  1565  dd6605            	ld	h,(ix+5)
  4645  1568  2e00              	ld	l,0x00
  4646  156a  55                	ld	d, l
  4647  156b  0608              	ld	b,0x08
  4648                          l_vdp_scrollTextDown_00139:
  4649  156d  29                	add	hl, hl
  4650  156e  3001              	jr	NC,l_vdp_scrollTextDown_00140
  4651  1570  19                	add	hl, de
  4652                          l_vdp_scrollTextDown_00140:
  4653  1571  10fa              	djnz	l_vdp_scrollTextDown_00139
  4654  1573  110002            	ld	de,__vdp_textBuffer
  4655  1576  19                	add	hl, de
  4656  1577  2b                	dec	hl
  4657  1578  eb                	ex	de, hl
  4658  1579  3ace05            	ld	a, (__vdpCursorMaxXFull+0)
  4659  157c  83                	add	a, e
  4660  157d  4f                	ld	c, a
  4661  157e  3e00              	ld	a,0x00
  4662  1580  8a                	adc	a, d
  4663  1581  47                	ld	b, a
  4664  1582  d5                	push	de
  4665  1583  c5                	push	bc
  4666  1584  fd5e00            	ld	e,(iy+0)
  4667  1587  dd6604            	ld	h,(ix+4)
  4668  158a  2e00              	ld	l,0x00
  4669  158c  55                	ld	d, l
  4670  158d  0608              	ld	b,0x08
  4671                          l_vdp_scrollTextDown_00141:
  4672  158f  29                	add	hl, hl
  4673  1590  3001              	jr	NC,l_vdp_scrollTextDown_00142
  4674  1592  19                	add	hl, de
  4675                          l_vdp_scrollTextDown_00142:
  4676  1593  10fa              	djnz	l_vdp_scrollTextDown_00141
  4677  1595  c1                	pop	bc
  4678  1596  d1                	pop	de
  4679  1597  3eff              	ld	a, +((__vdp_textBuffer - 1) & 0xFF)
  4680  1599  85                	add	a, l
  4681  159a  6f                	ld	l, a
  4682  159b  3e01              	ld	a, +((__vdp_textBuffer - 1) / 256)
  4683  159d  8c                	adc	a, h
  4684  159e  67                	ld	h, a
  4685  159f  e3                	ex	(sp), hl
  4686                          l_vdp_scrollTextDown_00101:
  4687  15a0  1a                	ld	a, (de)
  4688  15a1  02                	ld	(bc), a
  4689  15a2  0b                	dec	bc
  4690  15a3  1b                	dec	de
  4691  15a4  e1                	pop	hl
  4692  15a5  e5                	push	hl
  4693  15a6  bf                	cp	a, a
  4694  15a7  ed52              	sbc	hl, de
  4695  15a9  20f5              	jr	NZ,l_vdp_scrollTextDown_00101
  4696                          l_vdp_scrollTextDown_00104:
  4697  15ab  3e20              	ld	a,0x20
  4698  15ad  02                	ld	(bc), a
  4699  15ae  0b                	dec	bc
  4700  15af  e1                	pop	hl
  4701  15b0  e5                	push	hl
  4702  15b1  bf                	cp	a, a
  4703  15b2  ed42              	sbc	hl, bc
  4704  15b4  20f5              	jr	NZ,l_vdp_scrollTextDown_00104
  4705  15b6  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4706  15b9  5e                	ld	e, (hl)
  4707  15ba  dd6604            	ld	h,(ix+4)
  4708  15bd  2e00              	ld	l,0x00
  4709  15bf  55                	ld	d, l
  4710  15c0  0608              	ld	b,0x08
  4711                          l_vdp_scrollTextDown_00147:
  4712  15c2  29                	add	hl, hl
  4713  15c3  3001              	jr	NC,l_vdp_scrollTextDown_00148
  4714  15c5  19                	add	hl, de
  4715                          l_vdp_scrollTextDown_00148:
  4716  15c6  10fa              	djnz	l_vdp_scrollTextDown_00147
  4717  15c8  eb                	ex	de, hl
  4718  15c9  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  4719  15cc  19                	add	hl, de
  4720  15cd  e5                	push	hl
  4721  15ce  cd4b08            	call	_vdp_setWriteAddress
  4722  15d1  f1                	pop	af
  4723  15d2  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4724  15d5  5e                	ld	e, (hl)
  4725  15d6  dd6604            	ld	h,(ix+4)
  4726  15d9  2e00              	ld	l,0x00
  4727  15db  55                	ld	d, l
  4728  15dc  0608              	ld	b,0x08
  4729                          l_vdp_scrollTextDown_00149:
  4730  15de  29                	add	hl, hl
  4731  15df  3001              	jr	NC,l_vdp_scrollTextDown_00150
  4732  15e1  19                	add	hl, de
  4733                          l_vdp_scrollTextDown_00150:
  4734  15e2  10fa              	djnz	l_vdp_scrollTextDown_00149
  4735  15e4  110002            	ld	de,__vdp_textBuffer
  4736  15e7  19                	add	hl, de
  4737  15e8  eb                	ex	de, hl
  4738  15e9  dd4e05            	ld	c,(ix+5)
  4739  15ec  0600              	ld	b,0x00
  4740  15ee  03                	inc	bc
  4741  15ef  3ace05            	ld	a, (__vdpCursorMaxXFull+0)
  4742  15f2  2600              	ld	h,0x00
  4743  15f4  d5                	push	de
  4744  15f5  6f                	ld	l, a
  4745  15f6  e5                	push	hl
  4746  15f7  c5                	push	bc
  4747  15f8  cd0000            	call	__mulint_callee
  4748  15fb  d1                	pop	de
  4749  15fc  010002            	ld	bc,__vdp_textBuffer
  4750  15ff  09                	add	hl, bc
  4751  1600  4d                	ld	c, l
  4752  1601  44                	ld	b, h
  4753                          l_vdp_scrollTextDown_00107:
  4754  1602  1a                	ld	a, (de)
  4755  1603  d3a0              	out	(_IO_VDPDATA), a
  4756  1605  13                	inc	de
  4757  1606  6b                	ld	l, e
  4758  1607  62                	ld	h, d
  4759  1608  bf                	cp	a, a
  4760  1609  ed42              	sbc	hl, bc
  4761  160b  20f5              	jr	NZ,l_vdp_scrollTextDown_00107
  4762  160d  ddf9              	ld	sp, ix
  4763  160f  dde1              	pop	ix
  4764  1611  c9                	ret
  4765                          	SECTION code_compiler
  4766                          ;	---------------------------------
  4767                          ; Function vdp_writeUInt32
  4768                          ; ---------------------------------
  4769                          _vdp_writeUInt32:
  4770  1612  dde5              	push	ix
  4771  1614  dd210000          	ld	ix,0
  4772  1618  dd39              	add	ix,sp
  4773  161a  21f5ff            	ld	hl, -11
  4774  161d  39                	add	hl, sp
  4775  161e  f9                	ld	sp, hl
  4776  161f  dd6e06            	ld	l,(ix+6)
  4777  1622  dd6607            	ld	h,(ix+7)
  4778  1625  e5                	push	hl
  4779  1626  dd6e04            	ld	l,(ix+4)
  4780  1629  dd6605            	ld	h,(ix+5)
  4781  162c  e5                	push	hl
  4782  162d  21e100            	ld	hl,___str_20
  4783  1630  e5                	push	hl
  4784  1631  210600            	ld	hl,6
  4785  1634  39                	add	hl, sp
  4786  1635  e5                	push	hl
  4787  1636  cd0000            	call	_sprintf
  4788  1639  210800            	ld	hl,8
  4789  163c  39                	add	hl, sp
  4790  163d  f9                	ld	sp, hl
  4791  163e  210000            	ld	hl,0
  4792  1641  39                	add	hl, sp
  4793  1642  e5                	push	hl
  4794  1643  cd2a12            	call	_vdp_print
  4795  1646  ddf9              	ld	sp,ix
  4796  1648  dde1              	pop	ix
  4797  164a  c9                	ret
  4798                          	SECTION rodata_compiler
  4799                          ___str_20:
  4800  00e1  2575              	DEFM "%u"
  4801  00e3  00                	DEFB 0x00
  4802                          	SECTION code_compiler
  4803                          ;	---------------------------------
  4804                          ; Function vdp_writeInt32
  4805                          ; ---------------------------------
  4806                          _vdp_writeInt32:
  4807  164b  dde5              	push	ix
  4808  164d  dd210000          	ld	ix,0
  4809  1651  dd39              	add	ix,sp
  4810  1653  21f4ff            	ld	hl, -12
  4811  1656  39                	add	hl, sp
  4812  1657  f9                	ld	sp, hl
  4813  1658  dd6e06            	ld	l,(ix+6)
  4814  165b  dd6607            	ld	h,(ix+7)
  4815  165e  e5                	push	hl
  4816  165f  dd6e04            	ld	l,(ix+4)
  4817  1662  dd6605            	ld	h,(ix+5)
  4818  1665  e5                	push	hl
  4819  1666  21e400            	ld	hl,___str_21
  4820  1669  e5                	push	hl
  4821  166a  210600            	ld	hl,6
  4822  166d  39                	add	hl, sp
  4823  166e  e5                	push	hl
  4824  166f  cd0000            	call	_sprintf
  4825  1672  210800            	ld	hl,8
  4826  1675  39                	add	hl, sp
  4827  1676  f9                	ld	sp, hl
  4828  1677  210000            	ld	hl,0
  4829  167a  39                	add	hl, sp
  4830  167b  e5                	push	hl
  4831  167c  cd2a12            	call	_vdp_print
  4832  167f  ddf9              	ld	sp,ix
  4833  1681  dde1              	pop	ix
  4834  1683  c9                	ret
  4835                          	SECTION rodata_compiler
  4836                          ___str_21:
  4837  00e4  25d8              	DEFM "%d"
  4838  00e6  00                	DEFB 0x00
  4839                          	SECTION code_compiler
  4840                          ;	---------------------------------
  4841                          ; Function vdp_writeUInt16
  4842                          ; ---------------------------------
  4843                          _vdp_writeUInt16:
  4844  1684  dde5              	push	ix
  4845  1686  dd210000          	ld	ix,0
  4846  168a  dd39              	add	ix,sp
  4847  168c  21faff            	ld	hl, -6
  4848  168f  39                	add	hl, sp
  4849  1690  f9                	ld	sp, hl
  4850  1691  dd6e04            	ld	l,(ix+4)
  4851  1694  dd6605            	ld	h,(ix+5)
  4852  1697  e5                	push	hl
  4853  1698  21e700            	ld	hl,___str_22
  4854  169b  e5                	push	hl
  4855  169c  210400            	ld	hl,4
  4856  169f  39                	add	hl, sp
  4857  16a0  e5                	push	hl
  4858  16a1  cd0000            	call	_sprintf
  4859  16a4  210600            	ld	hl,6
  4860  16a7  39                	add	hl, sp
  4861  16a8  f9                	ld	sp, hl
  4862  16a9  210000            	ld	hl,0
  4863  16ac  39                	add	hl, sp
  4864  16ad  e5                	push	hl
  4865  16ae  cd2a12            	call	_vdp_print
  4866  16b1  ddf9              	ld	sp,ix
  4867  16b3  dde1              	pop	ix
  4868  16b5  c9                	ret
  4869                          	SECTION rodata_compiler
  4870                          ___str_22:
  4871  00e7  2575              	DEFM "%u"
  4872  00e9  00                	DEFB 0x00
  4873                          	SECTION code_compiler
  4874                          ;	---------------------------------
  4875                          ; Function vdp_writeInt16
  4876                          ; ---------------------------------
  4877                          _vdp_writeInt16:
  4878  16b6  dde5              	push	ix
  4879  16b8  dd210000          	ld	ix,0
  4880  16bc  dd39              	add	ix,sp
  4881  16be  21f9ff            	ld	hl, -7
  4882  16c1  39                	add	hl, sp
  4883  16c2  f9                	ld	sp, hl
  4884  16c3  dd6e04            	ld	l,(ix+4)
  4885  16c6  dd6605            	ld	h,(ix+5)
  4886  16c9  e5                	push	hl
  4887  16ca  21ea00            	ld	hl,___str_23
  4888  16cd  e5                	push	hl
  4889  16ce  210400            	ld	hl,4
  4890  16d1  39                	add	hl, sp
  4891  16d2  e5                	push	hl
  4892  16d3  cd0000            	call	_sprintf
  4893  16d6  210600            	ld	hl,6
  4894  16d9  39                	add	hl, sp
  4895  16da  f9                	ld	sp, hl
  4896  16db  210000            	ld	hl,0
  4897  16de  39                	add	hl, sp
  4898  16df  e5                	push	hl
  4899  16e0  cd2a12            	call	_vdp_print
  4900  16e3  ddf9              	ld	sp,ix
  4901  16e5  dde1              	pop	ix
  4902  16e7  c9                	ret
  4903                          	SECTION rodata_compiler
  4904                          ___str_23:
  4905  00ea  2564              	DEFM "%d"
  4906  00ec  00                	DEFB 0x00
  4907                          	SECTION code_compiler
  4908                          ;	---------------------------------
  4909                          ; Function vdp_writeUInt8
  4910                          ; ---------------------------------
  4911                          _vdp_writeUInt8:
  4912  16e8  dde5              	push	ix
  4913  16ea  dd210000          	ld	ix,0
  4914  16ee  dd39              	add	ix,sp
  4915  16f0  f5                	push	af
  4916  16f1  f5                	push	af
  4917  16f2  dd4e04            	ld	c,(ix+4)
  4918  16f5  0600              	ld	b,0x00
  4919  16f7  c5                	push	bc
  4920  16f8  21ed00            	ld	hl,___str_24
  4921  16fb  e5                	push	hl
  4922  16fc  210400            	ld	hl,4
  4923  16ff  39                	add	hl, sp
  4924  1700  e5                	push	hl
  4925  1701  cd0000            	call	_sprintf
  4926  1704  210600            	ld	hl,6
  4927  1707  39                	add	hl, sp
  4928  1708  f9                	ld	sp, hl
  4929  1709  210000            	ld	hl,0
  4930  170c  39                	add	hl, sp
  4931  170d  e5                	push	hl
  4932  170e  cd2a12            	call	_vdp_print
  4933  1711  ddf9              	ld	sp,ix
  4934  1713  dde1              	pop	ix
  4935  1715  c9                	ret
  4936                          	SECTION rodata_compiler
  4937                          ___str_24:
  4938  00ed  2575              	DEFM "%u"
  4939  00ef  00                	DEFB 0x00
  4940                          	SECTION code_compiler
  4941                          ;	---------------------------------
  4942                          ; Function vdp_writeInt8
  4943                          ; ---------------------------------
  4944                          _vdp_writeInt8:
  4945  1716  dde5              	push	ix
  4946  1718  dd210000          	ld	ix,0
  4947  171c  dd39              	add	ix,sp
  4948  171e  21fbff            	ld	hl, -5
  4949  1721  39                	add	hl, sp
  4950  1722  f9                	ld	sp, hl
  4951  1723  dd7e04            	ld	a,(ix+4)
  4952  1726  4f                	ld	c, a
  4953  1727  07                	rlca
  4954  1728  9f                	sbc	a, a
  4955  1729  47                	ld	b, a
  4956  172a  c5                	push	bc
  4957  172b  21f000            	ld	hl,___str_25
  4958  172e  e5                	push	hl
  4959  172f  210400            	ld	hl,4
  4960  1732  39                	add	hl, sp
  4961  1733  e5                	push	hl
  4962  1734  cd0000            	call	_sprintf
  4963  1737  210600            	ld	hl,6
  4964  173a  39                	add	hl, sp
  4965  173b  f9                	ld	sp, hl
  4966  173c  210000            	ld	hl,0
  4967  173f  39                	add	hl, sp
  4968  1740  e5                	push	hl
  4969  1741  cd2a12            	call	_vdp_print
  4970  1744  ddf9              	ld	sp,ix
  4971  1746  dde1              	pop	ix
  4972  1748  c9                	ret
  4973                          	SECTION rodata_compiler
  4974                          ___str_25:
  4975  00f0  25fc              	DEFM "%d"
  4976  00f2  00                	DEFB 0x00
  4977                          	SECTION code_compiler
  4978                          ;	---------------------------------
  4979                          ; Function vdp_writeUInt8ToBinary
  4980                          ; ---------------------------------
  4981                          _vdp_writeUInt8ToBinary:
  4982  1749  dde5              	push	ix
  4983  174b  dd210000          	ld	ix,0
  4984  174f  dd39              	add	ix,sp
  4985  1751  21f7ff            	ld	hl, -9
  4986  1754  39                	add	hl, sp
  4987  1755  f9                	ld	sp, hl
  4988  1756  0e00              	ld	c,0x00
  4989                          l_vdp_writeUInt8ToBinary_00106:
  4990  1758  79                	ld	a, c
  4991  1759  d608              	sub	a,0x08
  4992  175b  302a              	jr	NC,l_vdp_writeUInt8ToBinary_00104
  4993  175d  41                	ld	b, c
  4994  175e  dd6e04            	ld	l,(ix+4)
  4995  1761  04                	inc	b
  4996  1762  1802              	jr	l_vdp_writeUInt8ToBinary_00127
  4997                          l_vdp_writeUInt8ToBinary_00126:
  4998  1764  cb3d              	srl	l
  4999                          l_vdp_writeUInt8ToBinary_00127:
  5000  1766  10fc              	djnz	l_vdp_writeUInt8ToBinary_00126
  5001  1768  59                	ld	e, c
  5002  1769  3e07              	ld	a,0x07
  5003  176b  93                	sub	a, e
  5004  176c  5f                	ld	e, a
  5005  176d  07                	rlca
  5006  176e  9f                	sbc	a, a
  5007  176f  57                	ld	d, a
  5008  1770  cb45              	bit	0, l
  5009  1772  2809              	jr	Z,l_vdp_writeUInt8ToBinary_00102
  5010  1774  210000            	ld	hl,0
  5011  1777  39                	add	hl, sp
  5012  1778  19                	add	hl, de
  5013  1779  3631              	ld	(hl),0x31
  5014  177b  1807              	jr	l_vdp_writeUInt8ToBinary_00107
  5015                          l_vdp_writeUInt8ToBinary_00102:
  5016  177d  210000            	ld	hl,0
  5017  1780  39                	add	hl, sp
  5018  1781  19                	add	hl, de
  5019  1782  3630              	ld	(hl),0x30
  5020                          l_vdp_writeUInt8ToBinary_00107:
  5021  1784  0c                	inc	c
  5022  1785  18d1              	jr	l_vdp_writeUInt8ToBinary_00106
  5023                          l_vdp_writeUInt8ToBinary_00104:
  5024  1787  dd36ff00          	ld	(ix-1),0x00
  5025  178b  210000            	ld	hl,0
  5026  178e  39                	add	hl, sp
  5027  178f  e5                	push	hl
  5028  1790  cd2a12            	call	_vdp_print
  5029  1793  ddf9              	ld	sp,ix
  5030  1795  dde1              	pop	ix
  5031  1797  c9                	ret
  5032                          	SECTION code_compiler
  5033                          ;	---------------------------------
  5034                          ; Function vdp_writeUInt16ToBinary
  5035                          ; ---------------------------------
  5036                          _vdp_writeUInt16ToBinary:
  5037  1798  dde5              	push	ix
  5038  179a  dd210000          	ld	ix,0
  5039  179e  dd39              	add	ix,sp
  5040  17a0  21edff            	ld	hl, -19
  5041  17a3  39                	add	hl, sp
  5042  17a4  f9                	ld	sp, hl
  5043  17a5  0e00              	ld	c,0x00
  5044                          l_vdp_writeUInt16ToBinary_00106:
  5045  17a7  79                	ld	a, c
  5046  17a8  d610              	sub	a,0x10
  5047  17aa  303f              	jr	NC,l_vdp_writeUInt16ToBinary_00104
  5048  17ac  41                	ld	b, c
  5049  17ad  dd5e04            	ld	e,(ix+4)
  5050  17b0  dd5605            	ld	d,(ix+5)
  5051  17b3  04                	inc	b
  5052  17b4  1804              	jr	l_vdp_writeUInt16ToBinary_00127
  5053                          l_vdp_writeUInt16ToBinary_00126:
  5054  17b6  cb3a              	srl	d
  5055  17b8  cb1b              	rr	e
  5056                          l_vdp_writeUInt16ToBinary_00127:
  5057  17ba  10fa              	djnz	l_vdp_writeUInt16ToBinary_00126
  5058  17bc  41                	ld	b, c
  5059  17bd  3e0f              	ld	a,0x0f
  5060  17bf  90                	sub	a, b
  5061  17c0  dd77fe            	ld	(ix-2),a
  5062  17c3  07                	rlca
  5063  17c4  9f                	sbc	a, a
  5064  17c5  dd77ff            	ld	(ix-1),a
  5065  17c8  cb43              	bit	0, e
  5066  17ca  280f              	jr	Z,l_vdp_writeUInt16ToBinary_00102
  5067  17cc  dd5efe            	ld	e,(ix-2)
  5068  17cf  dd56ff            	ld	d,(ix-1)
  5069  17d2  210000            	ld	hl,0
  5070  17d5  39                	add	hl, sp
  5071  17d6  19                	add	hl, de
  5072  17d7  3631              	ld	(hl),0x31
  5073  17d9  180d              	jr	l_vdp_writeUInt16ToBinary_00107
  5074                          l_vdp_writeUInt16ToBinary_00102:
  5075  17db  dd5efe            	ld	e,(ix-2)
  5076  17de  dd56ff            	ld	d,(ix-1)
  5077  17e1  210000            	ld	hl,0
  5078  17e4  39                	add	hl, sp
  5079  17e5  19                	add	hl, de
  5080  17e6  3630              	ld	(hl),0x30
  5081                          l_vdp_writeUInt16ToBinary_00107:
  5082  17e8  0c                	inc	c
  5083  17e9  18bc              	jr	l_vdp_writeUInt16ToBinary_00106
  5084                          l_vdp_writeUInt16ToBinary_00104:
  5085  17eb  dd36fd00          	ld	(ix-3),0x00
  5086  17ef  210000            	ld	hl,0
  5087  17f2  39                	add	hl, sp
  5088  17f3  e5                	push	hl
  5089  17f4  cd2a12            	call	_vdp_print
  5090  17f7  ddf9              	ld	sp,ix
  5091  17f9  dde1              	pop	ix
  5092  17fb  c9                	ret
  5093                          	SECTION code_compiler
  5094                          ;	---------------------------------
  5095                          ; Function vdp_writeUInt32ToBinary
  5096                          ; ---------------------------------
  5097                          _vdp_writeUInt32ToBinary:
  5098  17fc  dde5              	push	ix
  5099  17fe  dd210000          	ld	ix,0
  5100  1802  dd39              	add	ix,sp
  5101  1804  21daff            	ld	hl, -38
  5102  1807  39                	add	hl, sp
  5103  1808  f9                	ld	sp, hl
  5104  1809  dd36ff00          	ld	(ix-1),0x00
  5105                          l_vdp_writeUInt32ToBinary_00106:
  5106  180d  dd7eff            	ld	a,(ix-1)
  5107  1810  d620              	sub	a,0x20
  5108  1812  3067              	jr	NC,l_vdp_writeUInt32ToBinary_00104
  5109  1814  dd46ff            	ld	b,(ix-1)
  5110  1817  dd4e04            	ld	c,(ix+4)
  5111  181a  dd5e05            	ld	e,(ix+5)
  5112  181d  dd6e06            	ld	l,(ix+6)
  5113  1820  dd6607            	ld	h,(ix+7)
  5114  1823  04                	inc	b
  5115  1824  1808              	jr	l_vdp_writeUInt32ToBinary_00127
  5116                          l_vdp_writeUInt32ToBinary_00126:
  5117  1826  cb3c              	srl	h
  5118  1828  cb1d              	rr	l
  5119  182a  cb1b              	rr	e
  5120  182c  cb19              	rr	c
  5121                          l_vdp_writeUInt32ToBinary_00127:
  5122  182e  10f6              	djnz	l_vdp_writeUInt32ToBinary_00126
  5123  1830  dd46ff            	ld	b,(ix-1)
  5124  1833  3e1f              	ld	a,0x1f
  5125  1835  90                	sub	a, b
  5126  1836  dd77fb            	ld	(ix-5),a
  5127  1839  07                	rlca
  5128  183a  9f                	sbc	a, a
  5129  183b  dd77fc            	ld	(ix-4),a
  5130  183e  cb41              	bit	0, c
  5131  1840  281b              	jr	Z,l_vdp_writeUInt32ToBinary_00102
  5132  1842  dd5efb            	ld	e,(ix-5)
  5133  1845  dd56fc            	ld	d,(ix-4)
  5134  1848  210000            	ld	hl,0
  5135  184b  39                	add	hl, sp
  5136  184c  19                	add	hl, de
  5137  184d  dd75fd            	ld	(ix-3),l
  5138  1850  dd74fe            	ld	(ix-2),h
  5139  1853  dd6efd            	ld	l,(ix-3)
  5140  1856  dd66fe            	ld	h,(ix-2)
  5141  1859  3631              	ld	(hl),0x31
  5142  185b  1819              	jr	l_vdp_writeUInt32ToBinary_00107
  5143                          l_vdp_writeUInt32ToBinary_00102:
  5144  185d  dd5efb            	ld	e,(ix-5)
  5145  1860  dd56fc            	ld	d,(ix-4)
  5146  1863  210000            	ld	hl,0
  5147  1866  39                	add	hl, sp
  5148  1867  19                	add	hl, de
  5149  1868  dd75fd            	ld	(ix-3),l
  5150  186b  dd74fe            	ld	(ix-2),h
  5151  186e  dd6efd            	ld	l,(ix-3)
  5152  1871  dd66fe            	ld	h,(ix-2)
  5153  1874  3630              	ld	(hl),0x30
  5154                          l_vdp_writeUInt32ToBinary_00107:
  5155  1876  dd34ff            	inc	(ix-1)
  5156  1879  1892              	jr	l_vdp_writeUInt32ToBinary_00106
  5157                          l_vdp_writeUInt32ToBinary_00104:
  5158  187b  dd36fa00          	ld	(ix-6),0x00
  5159  187f  210000            	ld	hl,0
  5160  1882  39                	add	hl, sp
  5161  1883  e5                	push	hl
  5162  1884  cd2a12            	call	_vdp_print
  5163  1887  ddf9              	ld	sp,ix
  5164  1889  dde1              	pop	ix
  5165  188b  c9                	ret
  5166                          	SECTION code_compiler
  5167                          ;	---------------------------------
  5168                          ; Function invalideArea
  5169                          ; ---------------------------------
  5170                          _invalideArea:
  5171  188c  dde5              	push	ix
  5172  188e  dd210000          	ld	ix,0
  5173  1892  dd39              	add	ix,sp
  5174  1894  f5                	push	af
  5175  1895  cdb408            	call	_vdp_waitVDPReadyInt
  5176  1898  dd7e04            	ld	a,(ix+4)
  5177  189b  0f                	rrca
  5178  189c  0f                	rrca
  5179  189d  0f                	rrca
  5180  189e  e61f              	and	a,0x1f
  5181  18a0  87                	add	a, a
  5182  18a1  87                	add	a, a
  5183  18a2  87                	add	a, a
  5184  18a3  4f                	ld	c, a
  5185  18a4  dd4605            	ld	b,(ix+5)
  5186                          l_invalideArea_00102:
  5187  18a7  78                	ld	a, b
  5188  18a8  dd9607            	sub	a,(ix+7)
  5189  18ab  304e              	jr	NC,l_invalideArea_00108
  5190  18ad  78                	ld	a, b
  5191  18ae  e607              	and	a,0x07
  5192  18b0  5f                	ld	e, a
  5193  18b1  1600              	ld	d,0x00
  5194  18b3  78                	ld	a, b
  5195  18b4  0f                	rrca
  5196  18b5  0f                	rrca
  5197  18b6  0f                	rrca
  5198  18b7  e61f              	and	a,0x1f
  5199  18b9  67                	ld	h, a
  5200  18ba  2e00              	ld	l,0x00
  5201  18bc  19                	add	hl, de
  5202  18bd  e3                	ex	(sp), hl
  5203  18be  3acb05            	ld	a, (__vdpPatternGeneratorTableAddr+0)
  5204  18c1  dd86fe            	add	a,(ix-2)
  5205  18c4  5f                	ld	e, a
  5206  18c5  3acc05            	ld	a, (__vdpPatternGeneratorTableAddr+1)
  5207  18c8  dd8eff            	adc	a,(ix-1)
  5208  18cb  57                	ld	d, a
  5209  18cc  69                	ld	l, c
  5210  18cd  2600              	ld	h,0x00
  5211  18cf  19                	add	hl, de
  5212  18d0  c5                	push	bc
  5213  18d1  e5                	push	hl
  5214  18d2  cd4b08            	call	_vdp_setWriteAddress
  5215  18d5  f1                	pop	af
  5216  18d6  c1                	pop	bc
  5217  18d7  dd5e04            	ld	e,(ix+4)
  5218                          l_invalideArea_00106:
  5219  18da  7b                	ld	a, e
  5220  18db  dd9606            	sub	a,(ix+6)
  5221  18de  3018              	jr	NC,l_invalideArea_00101
  5222  18e0  7b                	ld	a, e
  5223  18e1  1600              	ld	d,0x00
  5224  18e3  dd86fe            	add	a,(ix-2)
  5225  18e6  6f                	ld	l, a
  5226  18e7  7a                	ld	a, d
  5227  18e8  dd8eff            	adc	a,(ix-1)
  5228  18eb  67                	ld	h, a
  5229  18ec  d5                	push	de
  5230  18ed  11d205            	ld	de,__dBuffer
  5231  18f0  19                	add	hl, de
  5232  18f1  d1                	pop	de
  5233  18f2  7e                	ld	a, (hl)
  5234  18f3  d3a0              	out	(_IO_VDPDATA), a
  5235  18f5  1c                	inc	e
  5236  18f6  18e2              	jr	l_invalideArea_00106
  5237                          l_invalideArea_00101:
  5238  18f8  04                	inc	b
  5239  18f9  18ac              	jr	l_invalideArea_00102
  5240                          l_invalideArea_00108:
  5241  18fb  ddf9              	ld	sp, ix
  5242  18fd  dde1              	pop	ix
  5243  18ff  c9                	ret
  5244                          	SECTION rodata_compiler
  5245                          _ASCII:
  5246  00f3  00                	DEFB +0x00
  5247  00f4  00                	DEFB +0x00
  5248  00f5  00                	DEFB +0x00
  5249  00f6  00                	DEFB +0x00
  5250  00f7  00                	DEFB +0x00
  5251  00f8  00                	DEFB +0x00
  5252  00f9  00                	DEFB +0x00
  5253  00fa  00                	DEFB +0x00
  5254  00fb  20                	DEFB +0x20
  5255  00fc  20                	DEFB +0x20
  5256  00fd  20                	DEFB +0x20
  5257  00fe  20                	DEFB +0x20
  5258  00ff  20                	DEFB +0x20
  5259  0100  00                	DEFB +0x00
  5260  0101  20                	DEFB +0x20
  5261  0102  00                	DEFB +0x00
  5262  0103  50                	DEFB +0x50
  5263  0104  50                	DEFB +0x50
  5264  0105  00                	DEFB +0x00
  5265  0106  00                	DEFB +0x00
  5266  0107  00                	DEFB +0x00
  5267  0108  00                	DEFB +0x00
  5268  0109  00                	DEFB +0x00
  5269  010a  00                	DEFB +0x00
  5270  010b  50                	DEFB +0x50
  5271  010c  50                	DEFB +0x50
  5272  010d  f8                	DEFB +0xf8
  5273  010e  50                	DEFB +0x50
  5274  010f  f8                	DEFB +0xf8
  5275  0110  50                	DEFB +0x50
  5276  0111  50                	DEFB +0x50
  5277  0112  00                	DEFB +0x00
  5278  0113  20                	DEFB +0x20
  5279  0114  78                	DEFB +0x78
  5280  0115  a0                	DEFB +0xa0
  5281  0116  70                	DEFB +0x70
  5282  0117  28                	DEFB +0x28
  5283  0118  f0                	DEFB +0xf0
  5284  0119  20                	DEFB +0x20
  5285  011a  00                	DEFB +0x00
  5286  011b  c0                	DEFB +0xc0
  5287  011c  c8                	DEFB +0xc8
  5288  011d  10                	DEFB +0x10
  5289  011e  20                	DEFB +0x20
  5290  011f  40                	DEFB +0x40
  5291  0120  98                	DEFB +0x98
  5292  0121  18                	DEFB +0x18
  5293  0122  00                	DEFB +0x00
  5294  0123  60                	DEFB +0x60
  5295  0124  90                	DEFB +0x90
  5296  0125  a0                	DEFB +0xa0
  5297  0126  40                	DEFB +0x40
  5298  0127  a8                	DEFB +0xa8
  5299  0128  90                	DEFB +0x90
  5300  0129  68                	DEFB +0x68
  5301  012a  00                	DEFB +0x00
  5302  012b  60                	DEFB +0x60
  5303  012c  20                	DEFB +0x20
  5304  012d  40                	DEFB +0x40
  5305  012e  00                	DEFB +0x00
  5306  012f  00                	DEFB +0x00
  5307  0130  00                	DEFB +0x00
  5308  0131  00                	DEFB +0x00
  5309  0132  00                	DEFB +0x00
  5310  0133  10                	DEFB +0x10
  5311  0134  20                	DEFB +0x20
  5312  0135  40                	DEFB +0x40
  5313  0136  40                	DEFB +0x40
  5314  0137  40                	DEFB +0x40
  5315  0138  20                	DEFB +0x20
  5316  0139  10                	DEFB +0x10
  5317  013a  00                	DEFB +0x00
  5318  013b  40                	DEFB +0x40
  5319  013c  20                	DEFB +0x20
  5320  013d  10                	DEFB +0x10
  5321  013e  10                	DEFB +0x10
  5322  013f  10                	DEFB +0x10
  5323  0140  20                	DEFB +0x20
  5324  0141  40                	DEFB +0x40
  5325  0142  00                	DEFB +0x00
  5326  0143  00                	DEFB +0x00
  5327  0144  20                	DEFB +0x20
  5328  0145  a8                	DEFB +0xa8
  5329  0146  70                	DEFB +0x70
  5330  0147  a8                	DEFB +0xa8
  5331  0148  20                	DEFB +0x20
  5332  0149  00                	DEFB +0x00
  5333  014a  00                	DEFB +0x00
  5334  014b  00                	DEFB +0x00
  5335  014c  20                	DEFB +0x20
  5336  014d  20                	DEFB +0x20
  5337  014e  f8                	DEFB +0xf8
  5338  014f  20                	DEFB +0x20
  5339  0150  20                	DEFB +0x20
  5340  0151  00                	DEFB +0x00
  5341  0152  00                	DEFB +0x00
  5342  0153  00                	DEFB +0x00
  5343  0154  00                	DEFB +0x00
  5344  0155  00                	DEFB +0x00
  5345  0156  00                	DEFB +0x00
  5346  0157  60                	DEFB +0x60
  5347  0158  20                	DEFB +0x20
  5348  0159  40                	DEFB +0x40
  5349  015a  00                	DEFB +0x00
  5350  015b  00                	DEFB +0x00
  5351  015c  00                	DEFB +0x00
  5352  015d  00                	DEFB +0x00
  5353  015e  f8                	DEFB +0xf8
  5354  015f  00                	DEFB +0x00
  5355  0160  00                	DEFB +0x00
  5356  0161  00                	DEFB +0x00
  5357  0162  00                	DEFB +0x00
  5358  0163  00                	DEFB +0x00
  5359  0164  00                	DEFB +0x00
  5360  0165  00                	DEFB +0x00
  5361  0166  00                	DEFB +0x00
  5362  0167  00                	DEFB +0x00
  5363  0168  60                	DEFB +0x60
  5364  0169  60                	DEFB +0x60
  5365  016a  00                	DEFB +0x00
  5366  016b  00                	DEFB +0x00
  5367  016c  08                	DEFB +0x08
  5368  016d  10                	DEFB +0x10
  5369  016e  20                	DEFB +0x20
  5370  016f  40                	DEFB +0x40
  5371  0170  80                	DEFB +0x80
  5372  0171  00                	DEFB +0x00
  5373  0172  00                	DEFB +0x00
  5374  0173  70                	DEFB +0x70
  5375  0174  88                	DEFB +0x88
  5376  0175  98                	DEFB +0x98
  5377  0176  a8                	DEFB +0xa8
  5378  0177  c8                	DEFB +0xc8
  5379  0178  88                	DEFB +0x88
  5380  0179  70                	DEFB +0x70
  5381  017a  00                	DEFB +0x00
  5382  017b  20                	DEFB +0x20
  5383  017c  60                	DEFB +0x60
  5384  017d  20                	DEFB +0x20
  5385  017e  20                	DEFB +0x20
  5386  017f  20                	DEFB +0x20
  5387  0180  20                	DEFB +0x20
  5388  0181  70                	DEFB +0x70
  5389  0182  00                	DEFB +0x00
  5390  0183  70                	DEFB +0x70
  5391  0184  88                	DEFB +0x88
  5392  0185  08                	DEFB +0x08
  5393  0186  10                	DEFB +0x10
  5394  0187  20                	DEFB +0x20
  5395  0188  40                	DEFB +0x40
  5396  0189  f8                	DEFB +0xf8
  5397  018a  00                	DEFB +0x00
  5398  018b  f8                	DEFB +0xf8
  5399  018c  10                	DEFB +0x10
  5400  018d  20                	DEFB +0x20
  5401  018e  10                	DEFB +0x10
  5402  018f  08                	DEFB +0x08
  5403  0190  88                	DEFB +0x88
  5404  0191  70                	DEFB +0x70
  5405  0192  00                	DEFB +0x00
  5406  0193  10                	DEFB +0x10
  5407  0194  30                	DEFB +0x30
  5408  0195  50                	DEFB +0x50
  5409  0196  90                	DEFB +0x90
  5410  0197  f8                	DEFB +0xf8
  5411  0198  10                	DEFB +0x10
  5412  0199  10                	DEFB +0x10
  5413  019a  00                	DEFB +0x00
  5414  019b  f8                	DEFB +0xf8
  5415  019c  80                	DEFB +0x80
  5416  019d  f0                	DEFB +0xf0
  5417  019e  08                	DEFB +0x08
  5418  019f  08                	DEFB +0x08
  5419  01a0  88                	DEFB +0x88
  5420  01a1  70                	DEFB +0x70
  5421  01a2  00                	DEFB +0x00
  5422  01a3  30                	DEFB +0x30
  5423  01a4  40                	DEFB +0x40
  5424  01a5  80                	DEFB +0x80
  5425  01a6  f8                	DEFB +0xf8
  5426  01a7  88                	DEFB +0x88
  5427  01a8  88                	DEFB +0x88
  5428  01a9  70                	DEFB +0x70
  5429  01aa  00                	DEFB +0x00
  5430  01ab  f8                	DEFB +0xf8
  5431  01ac  08                	DEFB +0x08
  5432  01ad  10                	DEFB +0x10
  5433  01ae  20                	DEFB +0x20
  5434  01af  40                	DEFB +0x40
  5435  01b0  40                	DEFB +0x40
  5436  01b1  40                	DEFB +0x40
  5437  01b2  00                	DEFB +0x00
  5438  01b3  70                	DEFB +0x70
  5439  01b4  88                	DEFB +0x88
  5440  01b5  88                	DEFB +0x88
  5441  01b6  70                	DEFB +0x70
  5442  01b7  88                	DEFB +0x88
  5443  01b8  88                	DEFB +0x88
  5444  01b9  70                	DEFB +0x70
  5445  01ba  00                	DEFB +0x00
  5446  01bb  70                	DEFB +0x70
  5447  01bc  88                	DEFB +0x88
  5448  01bd  88                	DEFB +0x88
  5449  01be  78                	DEFB +0x78
  5450  01bf  08                	DEFB +0x08
  5451  01c0  10                	DEFB +0x10
  5452  01c1  60                	DEFB +0x60
  5453  01c2  00                	DEFB +0x00
  5454  01c3  00                	DEFB +0x00
  5455  01c4  30                	DEFB +0x30
  5456  01c5  30                	DEFB +0x30
  5457  01c6  00                	DEFB +0x00
  5458  01c7  30                	DEFB +0x30
  5459  01c8  30                	DEFB +0x30
  5460  01c9  00                	DEFB +0x00
  5461  01ca  00                	DEFB +0x00
  5462  01cb  00                	DEFB +0x00
  5463  01cc  30                	DEFB +0x30
  5464  01cd  30                	DEFB +0x30
  5465  01ce  00                	DEFB +0x00
  5466  01cf  30                	DEFB +0x30
  5467  01d0  10                	DEFB +0x10
  5468  01d1  20                	DEFB +0x20
  5469  01d2  00                	DEFB +0x00
  5470  01d3  10                	DEFB +0x10
  5471  01d4  20                	DEFB +0x20
  5472  01d5  40                	DEFB +0x40
  5473  01d6  80                	DEFB +0x80
  5474  01d7  40                	DEFB +0x40
  5475  01d8  20                	DEFB +0x20
  5476  01d9  10                	DEFB +0x10
  5477  01da  00                	DEFB +0x00
  5478  01db  00                	DEFB +0x00
  5479  01dc  00                	DEFB +0x00
  5480  01dd  f8                	DEFB +0xf8
  5481  01de  00                	DEFB +0x00
  5482  01df  f8                	DEFB +0xf8
  5483  01e0  00                	DEFB +0x00
  5484  01e1  00                	DEFB +0x00
  5485  01e2  00                	DEFB +0x00
  5486  01e3  40                	DEFB +0x40
  5487  01e4  20                	DEFB +0x20
  5488  01e5  10                	DEFB +0x10
  5489  01e6  08                	DEFB +0x08
  5490  01e7  10                	DEFB +0x10
  5491  01e8  20                	DEFB +0x20
  5492  01e9  40                	DEFB +0x40
  5493  01ea  00                	DEFB +0x00
  5494  01eb  70                	DEFB +0x70
  5495  01ec  88                	DEFB +0x88
  5496  01ed  08                	DEFB +0x08
  5497  01ee  10                	DEFB +0x10
  5498  01ef  20                	DEFB +0x20
  5499  01f0  00                	DEFB +0x00
  5500  01f1  20                	DEFB +0x20
  5501  01f2  00                	DEFB +0x00
  5502  01f3  70                	DEFB +0x70
  5503  01f4  88                	DEFB +0x88
  5504  01f5  08                	DEFB +0x08
  5505  01f6  68                	DEFB +0x68
  5506  01f7  a8                	DEFB +0xa8
  5507  01f8  a8                	DEFB +0xa8
  5508  01f9  70                	DEFB +0x70
  5509  01fa  00                	DEFB +0x00
  5510  01fb  70                	DEFB +0x70
  5511  01fc  88                	DEFB +0x88
  5512  01fd  88                	DEFB +0x88
  5513  01fe  88                	DEFB +0x88
  5514  01ff  f8                	DEFB +0xf8
  5515  0200  88                	DEFB +0x88
  5516  0201  88                	DEFB +0x88
  5517  0202  00                	DEFB +0x00
  5518  0203  f0                	DEFB +0xf0
  5519  0204  88                	DEFB +0x88
  5520  0205  88                	DEFB +0x88
  5521  0206  f0                	DEFB +0xf0
  5522  0207  88                	DEFB +0x88
  5523  0208  88                	DEFB +0x88
  5524  0209  f0                	DEFB +0xf0
  5525  020a  00                	DEFB +0x00
  5526  020b  70                	DEFB +0x70
  5527  020c  88                	DEFB +0x88
  5528  020d  80                	DEFB +0x80
  5529  020e  80                	DEFB +0x80
  5530  020f  80                	DEFB +0x80
  5531  0210  88                	DEFB +0x88
  5532  0211  70                	DEFB +0x70
  5533  0212  00                	DEFB +0x00
  5534  0213  e0                	DEFB +0xe0
  5535  0214  90                	DEFB +0x90
  5536  0215  88                	DEFB +0x88
  5537  0216  88                	DEFB +0x88
  5538  0217  88                	DEFB +0x88
  5539  0218  90                	DEFB +0x90
  5540  0219  e0                	DEFB +0xe0
  5541  021a  00                	DEFB +0x00
  5542  021b  f8                	DEFB +0xf8
  5543  021c  80                	DEFB +0x80
  5544  021d  80                	DEFB +0x80
  5545  021e  f0                	DEFB +0xf0
  5546  021f  80                	DEFB +0x80
  5547  0220  80                	DEFB +0x80
  5548  0221  f8                	DEFB +0xf8
  5549  0222  00                	DEFB +0x00
  5550  0223  f8                	DEFB +0xf8
  5551  0224  80                	DEFB +0x80
  5552  0225  80                	DEFB +0x80
  5553  0226  f0                	DEFB +0xf0
  5554  0227  80                	DEFB +0x80
  5555  0228  80                	DEFB +0x80
  5556  0229  80                	DEFB +0x80
  5557  022a  00                	DEFB +0x00
  5558  022b  70                	DEFB +0x70
  5559  022c  88                	DEFB +0x88
  5560  022d  80                	DEFB +0x80
  5561  022e  b8                	DEFB +0xb8
  5562  022f  88                	DEFB +0x88
  5563  0230  88                	DEFB +0x88
  5564  0231  78                	DEFB +0x78
  5565  0232  00                	DEFB +0x00
  5566  0233  88                	DEFB +0x88
  5567  0234  88                	DEFB +0x88
  5568  0235  88                	DEFB +0x88
  5569  0236  f8                	DEFB +0xf8
  5570  0237  88                	DEFB +0x88
  5571  0238  88                	DEFB +0x88
  5572  0239  88                	DEFB +0x88
  5573  023a  00                	DEFB +0x00
  5574  023b  70                	DEFB +0x70
  5575  023c  20                	DEFB +0x20
  5576  023d  20                	DEFB +0x20
  5577  023e  20                	DEFB +0x20
  5578  023f  20                	DEFB +0x20
  5579  0240  20                	DEFB +0x20
  5580  0241  70                	DEFB +0x70
  5581  0242  00                	DEFB +0x00
  5582  0243  38                	DEFB +0x38
  5583  0244  10                	DEFB +0x10
  5584  0245  10                	DEFB +0x10
  5585  0246  10                	DEFB +0x10
  5586  0247  10                	DEFB +0x10
  5587  0248  90                	DEFB +0x90
  5588  0249  60                	DEFB +0x60
  5589  024a  00                	DEFB +0x00
  5590  024b  88                	DEFB +0x88
  5591  024c  90                	DEFB +0x90
  5592  024d  a0                	DEFB +0xa0
  5593  024e  c0                	DEFB +0xc0
  5594  024f  a0                	DEFB +0xa0
  5595  0250  90                	DEFB +0x90
  5596  0251  88                	DEFB +0x88
  5597  0252  00                	DEFB +0x00
  5598  0253  80                	DEFB +0x80
  5599  0254  80                	DEFB +0x80
  5600  0255  80                	DEFB +0x80
  5601  0256  80                	DEFB +0x80
  5602  0257  80                	DEFB +0x80
  5603  0258  80                	DEFB +0x80
  5604  0259  f8                	DEFB +0xf8
  5605  025a  00                	DEFB +0x00
  5606  025b  88                	DEFB +0x88
  5607  025c  d8                	DEFB +0xd8
  5608  025d  a8                	DEFB +0xa8
  5609  025e  a8                	DEFB +0xa8
  5610  025f  88                	DEFB +0x88
  5611  0260  88                	DEFB +0x88
  5612  0261  88                	DEFB +0x88
  5613  0262  00                	DEFB +0x00
  5614  0263  88                	DEFB +0x88
  5615  0264  c8                	DEFB +0xc8
  5616  0265  a8                	DEFB +0xa8
  5617  0266  98                	DEFB +0x98
  5618  0267  88                	DEFB +0x88
  5619  0268  88                	DEFB +0x88
  5620  0269  88                	DEFB +0x88
  5621  026a  00                	DEFB +0x00
  5622  026b  70                	DEFB +0x70
  5623  026c  88                	DEFB +0x88
  5624  026d  88                	DEFB +0x88
  5625  026e  88                	DEFB +0x88
  5626  026f  88                	DEFB +0x88
  5627  0270  88                	DEFB +0x88
  5628  0271  70                	DEFB +0x70
  5629  0272  00                	DEFB +0x00
  5630  0273  f0                	DEFB +0xf0
  5631  0274  88                	DEFB +0x88
  5632  0275  88                	DEFB +0x88
  5633  0276  f0                	DEFB +0xf0
  5634  0277  80                	DEFB +0x80
  5635  0278  80                	DEFB +0x80
  5636  0279  80                	DEFB +0x80
  5637  027a  00                	DEFB +0x00
  5638  027b  70                	DEFB +0x70
  5639  027c  88                	DEFB +0x88
  5640  027d  88                	DEFB +0x88
  5641  027e  88                	DEFB +0x88
  5642  027f  a8                	DEFB +0xa8
  5643  0280  90                	DEFB +0x90
  5644  0281  68                	DEFB +0x68
  5645  0282  00                	DEFB +0x00
  5646  0283  f0                	DEFB +0xf0
  5647  0284  88                	DEFB +0x88
  5648  0285  88                	DEFB +0x88
  5649  0286  f0                	DEFB +0xf0
  5650  0287  a0                	DEFB +0xa0
  5651  0288  90                	DEFB +0x90
  5652  0289  88                	DEFB +0x88
  5653  028a  00                	DEFB +0x00
  5654  028b  78                	DEFB +0x78
  5655  028c  80                	DEFB +0x80
  5656  028d  80                	DEFB +0x80
  5657  028e  70                	DEFB +0x70
  5658  028f  08                	DEFB +0x08
  5659  0290  08                	DEFB +0x08
  5660  0291  f0                	DEFB +0xf0
  5661  0292  00                	DEFB +0x00
  5662  0293  f8                	DEFB +0xf8
  5663  0294  20                	DEFB +0x20
  5664  0295  20                	DEFB +0x20
  5665  0296  20                	DEFB +0x20
  5666  0297  20                	DEFB +0x20
  5667  0298  20                	DEFB +0x20
  5668  0299  20                	DEFB +0x20
  5669  029a  00                	DEFB +0x00
  5670  029b  88                	DEFB +0x88
  5671  029c  88                	DEFB +0x88
  5672  029d  88                	DEFB +0x88
  5673  029e  88                	DEFB +0x88
  5674  029f  88                	DEFB +0x88
  5675  02a0  88                	DEFB +0x88
  5676  02a1  70                	DEFB +0x70
  5677  02a2  00                	DEFB +0x00
  5678  02a3  88                	DEFB +0x88
  5679  02a4  88                	DEFB +0x88
  5680  02a5  88                	DEFB +0x88
  5681  02a6  88                	DEFB +0x88
  5682  02a7  88                	DEFB +0x88
  5683  02a8  50                	DEFB +0x50
  5684  02a9  20                	DEFB +0x20
  5685  02aa  00                	DEFB +0x00
  5686  02ab  88                	DEFB +0x88
  5687  02ac  88                	DEFB +0x88
  5688  02ad  88                	DEFB +0x88
  5689  02ae  88                	DEFB +0x88
  5690  02af  a8                	DEFB +0xa8
  5691  02b0  a8                	DEFB +0xa8
  5692  02b1  50                	DEFB +0x50
  5693  02b2  00                	DEFB +0x00
  5694  02b3  88                	DEFB +0x88
  5695  02b4  88                	DEFB +0x88
  5696  02b5  50                	DEFB +0x50
  5697  02b6  20                	DEFB +0x20
  5698  02b7  50                	DEFB +0x50
  5699  02b8  88                	DEFB +0x88
  5700  02b9  88                	DEFB +0x88
  5701  02ba  00                	DEFB +0x00
  5702  02bb  88                	DEFB +0x88
  5703  02bc  88                	DEFB +0x88
  5704  02bd  88                	DEFB +0x88
  5705  02be  50                	DEFB +0x50
  5706  02bf  20                	DEFB +0x20
  5707  02c0  20                	DEFB +0x20
  5708  02c1  20                	DEFB +0x20
  5709  02c2  00                	DEFB +0x00
  5710  02c3  f8                	DEFB +0xf8
  5711  02c4  08                	DEFB +0x08
  5712  02c5  10                	DEFB +0x10
  5713  02c6  20                	DEFB +0x20
  5714  02c7  40                	DEFB +0x40
  5715  02c8  80                	DEFB +0x80
  5716  02c9  f8                	DEFB +0xf8
  5717  02ca  00                	DEFB +0x00
  5718  02cb  70                	DEFB +0x70
  5719  02cc  40                	DEFB +0x40
  5720  02cd  40                	DEFB +0x40
  5721  02ce  40                	DEFB +0x40
  5722  02cf  40                	DEFB +0x40
  5723  02d0  40                	DEFB +0x40
  5724  02d1  70                	DEFB +0x70
  5725  02d2  00                	DEFB +0x00
  5726  02d3  00                	DEFB +0x00
  5727  02d4  80                	DEFB +0x80
  5728  02d5  40                	DEFB +0x40
  5729  02d6  20                	DEFB +0x20
  5730  02d7  10                	DEFB +0x10
  5731  02d8  08                	DEFB +0x08
  5732  02d9  00                	DEFB +0x00
  5733  02da  00                	DEFB +0x00
  5734  02db  70                	DEFB +0x70
  5735  02dc  10                	DEFB +0x10
  5736  02dd  10                	DEFB +0x10
  5737  02de  10                	DEFB +0x10
  5738  02df  10                	DEFB +0x10
  5739  02e0  10                	DEFB +0x10
  5740  02e1  70                	DEFB +0x70
  5741  02e2  00                	DEFB +0x00
  5742  02e3  20                	DEFB +0x20
  5743  02e4  50                	DEFB +0x50
  5744  02e5  88                	DEFB +0x88
  5745  02e6  00                	DEFB +0x00
  5746  02e7  00                	DEFB +0x00
  5747  02e8  00                	DEFB +0x00
  5748  02e9  00                	DEFB +0x00
  5749  02ea  00                	DEFB +0x00
  5750  02eb  00                	DEFB +0x00
  5751  02ec  00                	DEFB +0x00
  5752  02ed  00                	DEFB +0x00
  5753  02ee  00                	DEFB +0x00
  5754  02ef  00                	DEFB +0x00
  5755  02f0  00                	DEFB +0x00
  5756  02f1  f8                	DEFB +0xf8
  5757  02f2  00                	DEFB +0x00
  5758  02f3  40                	DEFB +0x40
  5759  02f4  20                	DEFB +0x20
  5760  02f5  10                	DEFB +0x10
  5761  02f6  00                	DEFB +0x00
  5762  02f7  00                	DEFB +0x00
  5763  02f8  00                	DEFB +0x00
  5764  02f9  00                	DEFB +0x00
  5765  02fa  00                	DEFB +0x00
  5766  02fb  00                	DEFB +0x00
  5767  02fc  00                	DEFB +0x00
  5768  02fd  70                	DEFB +0x70
  5769  02fe  08                	DEFB +0x08
  5770  02ff  78                	DEFB +0x78
  5771  0300  88                	DEFB +0x88
  5772  0301  78                	DEFB +0x78
  5773  0302  00                	DEFB +0x00
  5774  0303  00                	DEFB +0x00
  5775  0304  80                	DEFB +0x80
  5776  0305  80                	DEFB +0x80
  5777  0306  b0                	DEFB +0xb0
  5778  0307  c8                	DEFB +0xc8
  5779  0308  88                	DEFB +0x88
  5780  0309  f0                	DEFB +0xf0
  5781  030a  00                	DEFB +0x00
  5782  030b  00                	DEFB +0x00
  5783  030c  00                	DEFB +0x00
  5784  030d  70                	DEFB +0x70
  5785  030e  80                	DEFB +0x80
  5786  030f  80                	DEFB +0x80
  5787  0310  88                	DEFB +0x88
  5788  0311  70                	DEFB +0x70
  5789  0312  00                	DEFB +0x00
  5790  0313  08                	DEFB +0x08
  5791  0314  08                	DEFB +0x08
  5792  0315  08                	DEFB +0x08
  5793  0316  68                	DEFB +0x68
  5794  0317  98                	DEFB +0x98
  5795  0318  88                	DEFB +0x88
  5796  0319  78                	DEFB +0x78
  5797  031a  00                	DEFB +0x00
  5798  031b  00                	DEFB +0x00
  5799  031c  00                	DEFB +0x00
  5800  031d  70                	DEFB +0x70
  5801  031e  88                	DEFB +0x88
  5802  031f  f8                	DEFB +0xf8
  5803  0320  80                	DEFB +0x80
  5804  0321  70                	DEFB +0x70
  5805  0322  00                	DEFB +0x00
  5806  0323  30                	DEFB +0x30
  5807  0324  48                	DEFB +0x48
  5808  0325  40                	DEFB +0x40
  5809  0326  e0                	DEFB +0xe0
  5810  0327  40                	DEFB +0x40
  5811  0328  40                	DEFB +0x40
  5812  0329  40                	DEFB +0x40
  5813  032a  00                	DEFB +0x00
  5814  032b  00                	DEFB +0x00
  5815  032c  78                	DEFB +0x78
  5816  032d  88                	DEFB +0x88
  5817  032e  88                	DEFB +0x88
  5818  032f  78                	DEFB +0x78
  5819  0330  08                	DEFB +0x08
  5820  0331  70                	DEFB +0x70
  5821  0332  00                	DEFB +0x00
  5822  0333  80                	DEFB +0x80
  5823  0334  80                	DEFB +0x80
  5824  0335  b0                	DEFB +0xb0
  5825  0336  c8                	DEFB +0xc8
  5826  0337  88                	DEFB +0x88
  5827  0338  88                	DEFB +0x88
  5828  0339  88                	DEFB +0x88
  5829  033a  00                	DEFB +0x00
  5830  033b  00                	DEFB +0x00
  5831  033c  20                	DEFB +0x20
  5832  033d  00                	DEFB +0x00
  5833  033e  20                	DEFB +0x20
  5834  033f  20                	DEFB +0x20
  5835  0340  20                	DEFB +0x20
  5836  0341  20                	DEFB +0x20
  5837  0342  00                	DEFB +0x00
  5838  0343  10                	DEFB +0x10
  5839  0344  00                	DEFB +0x00
  5840  0345  30                	DEFB +0x30
  5841  0346  10                	DEFB +0x10
  5842  0347  10                	DEFB +0x10
  5843  0348  90                	DEFB +0x90
  5844  0349  60                	DEFB +0x60
  5845  034a  00                	DEFB +0x00
  5846  034b  80                	DEFB +0x80
  5847  034c  80                	DEFB +0x80
  5848  034d  90                	DEFB +0x90
  5849  034e  a0                	DEFB +0xa0
  5850  034f  c0                	DEFB +0xc0
  5851  0350  a0                	DEFB +0xa0
  5852  0351  90                	DEFB +0x90
  5853  0352  00                	DEFB +0x00
  5854  0353  60                	DEFB +0x60
  5855  0354  20                	DEFB +0x20
  5856  0355  20                	DEFB +0x20
  5857  0356  20                	DEFB +0x20
  5858  0357  20                	DEFB +0x20
  5859  0358  20                	DEFB +0x20
  5860  0359  70                	DEFB +0x70
  5861  035a  00                	DEFB +0x00
  5862  035b  00                	DEFB +0x00
  5863  035c  00                	DEFB +0x00
  5864  035d  d0                	DEFB +0xd0
  5865  035e  a8                	DEFB +0xa8
  5866  035f  a8                	DEFB +0xa8
  5867  0360  88                	DEFB +0x88
  5868  0361  88                	DEFB +0x88
  5869  0362  00                	DEFB +0x00
  5870  0363  00                	DEFB +0x00
  5871  0364  00                	DEFB +0x00
  5872  0365  b0                	DEFB +0xb0
  5873  0366  c8                	DEFB +0xc8
  5874  0367  88                	DEFB +0x88
  5875  0368  88                	DEFB +0x88
  5876  0369  88                	DEFB +0x88
  5877  036a  00                	DEFB +0x00
  5878  036b  00                	DEFB +0x00
  5879  036c  00                	DEFB +0x00
  5880  036d  70                	DEFB +0x70
  5881  036e  88                	DEFB +0x88
  5882  036f  88                	DEFB +0x88
  5883  0370  88                	DEFB +0x88
  5884  0371  70                	DEFB +0x70
  5885  0372  00                	DEFB +0x00
  5886  0373  00                	DEFB +0x00
  5887  0374  00                	DEFB +0x00
  5888  0375  f0                	DEFB +0xf0
  5889  0376  88                	DEFB +0x88
  5890  0377  f0                	DEFB +0xf0
  5891  0378  80                	DEFB +0x80
  5892  0379  80                	DEFB +0x80
  5893  037a  00                	DEFB +0x00
  5894  037b  00                	DEFB +0x00
  5895  037c  00                	DEFB +0x00
  5896  037d  68                	DEFB +0x68
  5897  037e  98                	DEFB +0x98
  5898  037f  78                	DEFB +0x78
  5899  0380  08                	DEFB +0x08
  5900  0381  08                	DEFB +0x08
  5901  0382  00                	DEFB +0x00
  5902  0383  00                	DEFB +0x00
  5903  0384  00                	DEFB +0x00
  5904  0385  b0                	DEFB +0xb0
  5905  0386  c8                	DEFB +0xc8
  5906  0387  80                	DEFB +0x80
  5907  0388  80                	DEFB +0x80
  5908  0389  80                	DEFB +0x80
  5909  038a  00                	DEFB +0x00
  5910  038b  00                	DEFB +0x00
  5911  038c  00                	DEFB +0x00
  5912  038d  70                	DEFB +0x70
  5913  038e  80                	DEFB +0x80
  5914  038f  70                	DEFB +0x70
  5915  0390  08                	DEFB +0x08
  5916  0391  f0                	DEFB +0xf0
  5917  0392  00                	DEFB +0x00
  5918  0393  40                	DEFB +0x40
  5919  0394  40                	DEFB +0x40
  5920  0395  e0                	DEFB +0xe0
  5921  0396  40                	DEFB +0x40
  5922  0397  40                	DEFB +0x40
  5923  0398  48                	DEFB +0x48
  5924  0399  30                	DEFB +0x30
  5925  039a  00                	DEFB +0x00
  5926  039b  00                	DEFB +0x00
  5927  039c  00                	DEFB +0x00
  5928  039d  88                	DEFB +0x88
  5929  039e  88                	DEFB +0x88
  5930  039f  88                	DEFB +0x88
  5931  03a0  98                	DEFB +0x98
  5932  03a1  68                	DEFB +0x68
  5933  03a2  00                	DEFB +0x00
  5934  03a3  00                	DEFB +0x00
  5935  03a4  00                	DEFB +0x00
  5936  03a5  88                	DEFB +0x88
  5937  03a6  88                	DEFB +0x88
  5938  03a7  88                	DEFB +0x88
  5939  03a8  50                	DEFB +0x50
  5940  03a9  20                	DEFB +0x20
  5941  03aa  00                	DEFB +0x00
  5942  03ab  00                	DEFB +0x00
  5943  03ac  00                	DEFB +0x00
  5944  03ad  88                	DEFB +0x88
  5945  03ae  88                	DEFB +0x88
  5946  03af  a8                	DEFB +0xa8
  5947  03b0  a8                	DEFB +0xa8
  5948  03b1  50                	DEFB +0x50
  5949  03b2  00                	DEFB +0x00
  5950  03b3  00                	DEFB +0x00
  5951  03b4  00                	DEFB +0x00
  5952  03b5  88                	DEFB +0x88
  5953  03b6  50                	DEFB +0x50
  5954  03b7  20                	DEFB +0x20
  5955  03b8  50                	DEFB +0x50
  5956  03b9  88                	DEFB +0x88
  5957  03ba  00                	DEFB +0x00
  5958  03bb  00                	DEFB +0x00
  5959  03bc  00                	DEFB +0x00
  5960  03bd  88                	DEFB +0x88
  5961  03be  88                	DEFB +0x88
  5962  03bf  78                	DEFB +0x78
  5963  03c0  08                	DEFB +0x08
  5964  03c1  70                	DEFB +0x70
  5965  03c2  00                	DEFB +0x00
  5966  03c3  00                	DEFB +0x00
  5967  03c4  00                	DEFB +0x00
  5968  03c5  f8                	DEFB +0xf8
  5969  03c6  10                	DEFB +0x10
  5970  03c7  20                	DEFB +0x20
  5971  03c8  40                	DEFB +0x40
  5972  03c9  f8                	DEFB +0xf8
  5973  03ca  00                	DEFB +0x00
  5974  03cb  10                	DEFB +0x10
  5975  03cc  20                	DEFB +0x20
  5976  03cd  20                	DEFB +0x20
  5977  03ce  40                	DEFB +0x40
  5978  03cf  20                	DEFB +0x20
  5979  03d0  20                	DEFB +0x20
  5980  03d1  10                	DEFB +0x10
  5981  03d2  00                	DEFB +0x00
  5982  03d3  20                	DEFB +0x20
  5983  03d4  20                	DEFB +0x20
  5984  03d5  20                	DEFB +0x20
  5985  03d6  20                	DEFB +0x20
  5986  03d7  20                	DEFB +0x20
  5987  03d8  20                	DEFB +0x20
  5988  03d9  20                	DEFB +0x20
  5989  03da  00                	DEFB +0x00
  5990  03db  20                	DEFB +0x20
  5991  03dc  10                	DEFB +0x10
  5992  03dd  10                	DEFB +0x10
  5993  03de  08                	DEFB +0x08
  5994  03df  10                	DEFB +0x10
  5995  03e0  10                	DEFB +0x10
  5996  03e1  20                	DEFB +0x20
  5997  03e2  00                	DEFB +0x00
  5998  03e3  00                	DEFB +0x00
  5999  03e4  28                	DEFB +0x28
  6000  03e5  50                	DEFB +0x50
  6001  03e6  00                	DEFB +0x00
  6002  03e7  00                	DEFB +0x00
  6003  03e8  00                	DEFB +0x00
  6004  03e9  00                	DEFB +0x00
  6005  03ea  00                	DEFB +0x00
  6006  03eb  00                	DEFB 0x00
  6007  03ec  00                	DEFB 0x00
  6008  03ed  00                	DEFB 0x00
  6009  03ee  00                	DEFB 0x00
  6010  03ef  00                	DEFB 0x00
  6011  03f0  00                	DEFB 0x00
  6012  03f1  00                	DEFB 0x00
  6013  03f2  00                	DEFB 0x00
  6014                          	SECTION code_compiler
  6015                          ;	---------------------------------
  6016                          ; Function invalidateScreen
  6017                          ; ---------------------------------
  6018                          _invalidateScreen:
  6019  1900  cdb408            	call	_vdp_waitVDPReadyInt
  6020  1903  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  6021  1906  e5                	push	hl
  6022  1907  cd4b08            	call	_vdp_setWriteAddress
  6023  190a  f1                	pop	af
  6024  190b  01d205            	ld	bc,__dBuffer
  6025                          l_invalidateScreen_00101:
  6026  190e  0a                	ld	a, (bc)
  6027  190f  d3a0              	out	(_IO_VDPDATA), a
  6028  1911  03                	inc	bc
  6029  1912  21d21d            	ld	hl, +(__dBuffer + 6144)
  6030  1915  bf                	cp	a, a
  6031  1916  ed42              	sbc	hl, bc
  6032  1918  20f4              	jr	NZ,l_invalidateScreen_00101
  6033  191a  c9                	ret
  6034                          	SECTION code_compiler
  6035                          ;	---------------------------------
  6036                          ; Function putPixel
  6037                          ; ---------------------------------
  6038                          _putPixel:
  6039  191b  dde5              	push	ix
  6040  191d  dd210000          	ld	ix,0
  6041  1921  dd39              	add	ix,sp
  6042  1923  dd7e05            	ld	a,(ix+5)
  6043  1926  0f                	rrca
  6044  1927  0f                	rrca
  6045  1928  0f                	rrca
  6046  1929  e61f              	and	a,0x1f
  6047  192b  2600              	ld	h,0x00
  6048  192d  6f                	ld	l, a
  6049  192e  29                	add	hl, hl
  6050  192f  29                	add	hl, hl
  6051  1930  29                	add	hl, hl
  6052  1931  dd7e06            	ld	a,(ix+6)
  6053  1934  e607              	and	a,0x07
  6054  1936  1600              	ld	d,0x00
  6055  1938  5f                	ld	e, a
  6056  1939  19                	add	hl, de
  6057  193a  dd7e06            	ld	a,(ix+6)
  6058  193d  0f                	rrca
  6059  193e  0f                	rrca
  6060  193f  0f                	rrca
  6061  1940  e61f              	and	a,0x1f
  6062  1942  57                	ld	d, a
  6063  1943  1e00              	ld	e,0x00
  6064  1945  19                	add	hl, de
  6065  1946  eb                	ex	de, hl
  6066  1947  dd7e05            	ld	a,(ix+5)
  6067  194a  e607              	and	a,0x07
  6068  194c  6f                	ld	l, a
  6069  194d  018000            	ld	bc,0x0080
  6070  1950  2c                	inc	l
  6071  1951  1804              	jr	l_putPixel_00112
  6072                          l_putPixel_00111:
  6073  1953  cb28              	sra	b
  6074  1955  cb19              	rr	c
  6075                          l_putPixel_00112:
  6076  1957  2d                	dec	l
  6077  1958  20f9              	jr	NZ, l_putPixel_00111
  6078  195a  dd7e04            	ld	a,(ix+4)
  6079  195d  b7                	or	a, a
  6080  195e  2809              	jr	Z,l_putPixel_00102
  6081  1960  21d205            	ld	hl,__dBuffer+0
  6082  1963  19                	add	hl, de
  6083  1964  7e                	ld	a, (hl)
  6084  1965  b1                	or	a, c
  6085  1966  77                	ld	(hl), a
  6086  1967  1809              	jr	l_putPixel_00104
  6087                          l_putPixel_00102:
  6088  1969  21d205            	ld	hl,__dBuffer
  6089  196c  19                	add	hl, de
  6090  196d  5e                	ld	e, (hl)
  6091  196e  79                	ld	a, c
  6092  196f  2f                	cpl
  6093  1970  a3                	and	a, e
  6094  1971  77                	ld	(hl), a
  6095                          l_putPixel_00104:
  6096  1972  dde1              	pop	ix
  6097  1974  c9                	ret
  6098                          	SECTION code_compiler
  6099                          ;	---------------------------------
  6100                          ; Function line
  6101                          ; ---------------------------------
  6102                          _line:
  6103  1975  dde5              	push	ix
  6104  1977  dd210000          	ld	ix,0
  6105  197b  dd39              	add	ix,sp
  6106  197d  21f8ff            	ld	hl, -8
  6107  1980  39                	add	hl, sp
  6108  1981  f9                	ld	sp, hl
  6109  1982  dd7e09            	ld	a,(ix+9)
  6110  1985  dd9605            	sub	a,(ix+5)
  6111  1988  6f                	ld	l, a
  6112  1989  dd7e0a            	ld	a,(ix+10)
  6113  198c  dd9e06            	sbc	a,(ix+6)
  6114  198f  67                	ld	h, a
  6115  1990  cd0000            	call	_abs
  6116  1993  e3                	ex	(sp), hl
  6117  1994  dd7e05            	ld	a,(ix+5)
  6118  1997  dd9609            	sub	a,(ix+9)
  6119  199a  dd7e06            	ld	a,(ix+6)
  6120  199d  dd9e0a            	sbc	a,(ix+10)
  6121  19a0  e2a519            	jp	PO, l_line_00155
  6122  19a3  ee80              	xor	a,0x80
  6123                          l_line_00155:
  6124  19a5  f2ad19            	jp	P, l_line_00110
  6125  19a8  010100            	ld	bc,0x0001
  6126  19ab  1803              	jr	l_line_00111
  6127                          l_line_00110:
  6128  19ad  01ffff            	ld	bc,0xffff
  6129                          l_line_00111:
  6130  19b0  dd71fa            	ld	(ix-6),c
  6131  19b3  dd70fb            	ld	(ix-5),b
  6132  19b6  dd7e0b            	ld	a,(ix+11)
  6133  19b9  dd9607            	sub	a,(ix+7)
  6134  19bc  6f                	ld	l, a
  6135  19bd  dd7e0c            	ld	a,(ix+12)
  6136  19c0  dd9e08            	sbc	a,(ix+8)
  6137  19c3  67                	ld	h, a
  6138  19c4  cd0000            	call	_abs
  6139  19c7  eb                	ex	de, hl
  6140  19c8  dd7e07            	ld	a,(ix+7)
  6141  19cb  dd960b            	sub	a,(ix+11)
  6142  19ce  dd7e08            	ld	a,(ix+8)
  6143  19d1  dd9e0c            	sbc	a,(ix+12)
  6144  19d4  e2d919            	jp	PO, l_line_00156
  6145  19d7  ee80              	xor	a,0x80
  6146                          l_line_00156:
  6147  19d9  f2e119            	jp	P, l_line_00112
  6148  19dc  010100            	ld	bc,0x0001
  6149  19df  1803              	jr	l_line_00113
  6150                          l_line_00112:
  6151  19e1  01ffff            	ld	bc,0xffff
  6152                          l_line_00113:
  6153  19e4  dd71fc            	ld	(ix-4),c
  6154  19e7  dd70fd            	ld	(ix-3),b
  6155  19ea  7b                	ld	a, e
  6156  19eb  dd96f8            	sub	a,(ix-8)
  6157  19ee  7a                	ld	a, d
  6158  19ef  dd9ef9            	sbc	a,(ix-7)
  6159  19f2  e2f719            	jp	PO, l_line_00157
  6160  19f5  ee80              	xor	a,0x80
  6161                          l_line_00157:
  6162  19f7  f2fe19            	jp	P, l_line_00114
  6163  19fa  e1                	pop	hl
  6164  19fb  e5                	push	hl
  6165  19fc  1806              	jr	l_line_00115
  6166                          l_line_00114:
  6167  19fe  210000            	ld	hl,0x0000
  6168  1a01  bf                	cp	a, a
  6169  1a02  ed52              	sbc	hl, de
  6170                          l_line_00115:
  6171  1a04  cb2c              	sra	h
  6172  1a06  cb1d              	rr	l
  6173  1a08  af                	xor	a, a
  6174  1a09  dd96f8            	sub	a,(ix-8)
  6175  1a0c  dd77fe            	ld	(ix-2),a
  6176  1a0f  9f                	sbc	a, a
  6177  1a10  dd96f9            	sub	a,(ix-7)
  6178  1a13  dd77ff            	ld	(ix-1),a
  6179                          l_line_00105:
  6180  1a16  dd4607            	ld	b,(ix+7)
  6181  1a19  dd7e05            	ld	a,(ix+5)
  6182  1a1c  e5                	push	hl
  6183  1a1d  d5                	push	de
  6184  1a1e  c5                	push	bc
  6185  1a1f  33                	inc	sp
  6186  1a20  f5                	push	af
  6187  1a21  33                	inc	sp
  6188  1a22  dd7e04            	ld	a,(ix+4)
  6189  1a25  f5                	push	af
  6190  1a26  33                	inc	sp
  6191  1a27  cd1b19            	call	_putPixel
  6192  1a2a  f1                	pop	af
  6193  1a2b  33                	inc	sp
  6194  1a2c  d1                	pop	de
  6195  1a2d  e1                	pop	hl
  6196  1a2e  dd7e05            	ld	a,(ix+5)
  6197  1a31  dd9609            	sub	a,(ix+9)
  6198  1a34  2018              	jr	NZ,l_line_00117
  6199  1a36  dd7e06            	ld	a,(ix+6)
  6200  1a39  dd960a            	sub	a,(ix+10)
  6201  1a3c  2010              	jr	NZ,l_line_00117
  6202  1a3e  dd7e07            	ld	a,(ix+7)
  6203  1a41  dd960b            	sub	a,(ix+11)
  6204  1a44  2008              	jr	NZ,l_line_00160
  6205  1a46  dd7e08            	ld	a,(ix+8)
  6206  1a49  dd960c            	sub	a,(ix+12)
  6207  1a4c  284b              	jr	Z,l_line_00108
  6208                          l_line_00160:
  6209                          l_line_00117:
  6210  1a4e  4d                	ld	c, l
  6211  1a4f  44                	ld	b, h
  6212  1a50  dd7efe            	ld	a,(ix-2)
  6213  1a53  95                	sub	a, l
  6214  1a54  dd7eff            	ld	a,(ix-1)
  6215  1a57  9c                	sbc	a, h
  6216  1a58  e25d1a            	jp	PO, l_line_00161
  6217  1a5b  ee80              	xor	a,0x80
  6218                          l_line_00161:
  6219  1a5d  f2751a            	jp	P, l_line_00102
  6220  1a60  bf                	cp	a, a
  6221  1a61  ed52              	sbc	hl, de
  6222  1a63  dd7e05            	ld	a,(ix+5)
  6223  1a66  dd86fa            	add	a,(ix-6)
  6224  1a69  dd7705            	ld	(ix+5),a
  6225  1a6c  dd7e06            	ld	a,(ix+6)
  6226  1a6f  dd8efb            	adc	a,(ix-5)
  6227  1a72  dd7706            	ld	(ix+6),a
  6228                          l_line_00102:
  6229  1a75  79                	ld	a, c
  6230  1a76  93                	sub	a, e
  6231  1a77  78                	ld	a, b
  6232  1a78  9a                	sbc	a, d
  6233  1a79  e27e1a            	jp	PO, l_line_00162
  6234  1a7c  ee80              	xor	a,0x80
  6235                          l_line_00162:
  6236  1a7e  f2161a            	jp	P, l_line_00105
  6237  1a81  c1                	pop	bc
  6238  1a82  c5                	push	bc
  6239  1a83  09                	add	hl, bc
  6240  1a84  dd7efc            	ld	a,(ix-4)
  6241  1a87  dd8607            	add	a,(ix+7)
  6242  1a8a  dd7707            	ld	(ix+7),a
  6243  1a8d  dd7efd            	ld	a,(ix-3)
  6244  1a90  dd8e08            	adc	a,(ix+8)
  6245  1a93  dd7708            	ld	(ix+8),a
  6246  1a96  c3161a            	jp	l_line_00105
  6247                          l_line_00108:
  6248  1a99  ddf9              	ld	sp, ix
  6249  1a9b  dde1              	pop	ix
  6250  1a9d  c9                	ret
  6251                          	SECTION code_compiler
  6252                          ;	---------------------------------
  6253                          ; Function window
  6254                          ; ---------------------------------
  6255                          _window:
  6256  1a9e  dde5              	push	ix
  6257  1aa0  dd210000          	ld	ix,0
  6258  1aa4  dd39              	add	ix,sp
  6259  1aa6  dd4605            	ld	b,(ix+5)
  6260                          l_window_00104:
  6261  1aa9  78                	ld	a, b
  6262  1aaa  dd9607            	sub	a,(ix+7)
  6263  1aad  d28a1b            	jp	NC, l_window_00101
  6264  1ab0  c5                	push	bc
  6265  1ab1  dd7e06            	ld	a,(ix+6)
  6266  1ab4  f5                	push	af
  6267  1ab5  33                	inc	sp
  6268  1ab6  c5                	push	bc
  6269  1ab7  33                	inc	sp
  6270  1ab8  dd7e04            	ld	a,(ix+4)
  6271  1abb  f5                	push	af
  6272  1abc  33                	inc	sp
  6273  1abd  cd1b19            	call	_putPixel
  6274  1ac0  f1                	pop	af
  6275  1ac1  33                	inc	sp
  6276  1ac2  c1                	pop	bc
  6277  1ac3  dd4e06            	ld	c,(ix+6)
  6278  1ac6  79                	ld	a, c
  6279  1ac7  3c                	inc	a
  6280  1ac8  c5                	push	bc
  6281  1ac9  f5                	push	af
  6282  1aca  33                	inc	sp
  6283  1acb  c5                	push	bc
  6284  1acc  33                	inc	sp
  6285  1acd  dd7e04            	ld	a,(ix+4)
  6286  1ad0  f5                	push	af
  6287  1ad1  33                	inc	sp
  6288  1ad2  cd1b19            	call	_putPixel
  6289  1ad5  f1                	pop	af
  6290  1ad6  33                	inc	sp
  6291  1ad7  c1                	pop	bc
  6292  1ad8  79                	ld	a, c
  6293  1ad9  3c                	inc	a
  6294  1ada  3c                	inc	a
  6295  1adb  c5                	push	bc
  6296  1adc  f5                	push	af
  6297  1add  33                	inc	sp
  6298  1ade  c5                	push	bc
  6299  1adf  33                	inc	sp
  6300  1ae0  dd7e04            	ld	a,(ix+4)
  6301  1ae3  f5                	push	af
  6302  1ae4  33                	inc	sp
  6303  1ae5  cd1b19            	call	_putPixel
  6304  1ae8  f1                	pop	af
  6305  1ae9  33                	inc	sp
  6306  1aea  c1                	pop	bc
  6307  1aeb  79                	ld	a, c
  6308  1aec  3c                	inc	a
  6309  1aed  3c                	inc	a
  6310  1aee  3c                	inc	a
  6311  1aef  c5                	push	bc
  6312  1af0  f5                	push	af
  6313  1af1  33                	inc	sp
  6314  1af2  c5                	push	bc
  6315  1af3  33                	inc	sp
  6316  1af4  dd7e04            	ld	a,(ix+4)
  6317  1af7  f5                	push	af
  6318  1af8  33                	inc	sp
  6319  1af9  cd1b19            	call	_putPixel
  6320  1afc  f1                	pop	af
  6321  1afd  33                	inc	sp
  6322  1afe  c1                	pop	bc
  6323  1aff  79                	ld	a, c
  6324  1b00  3c                	inc	a
  6325  1b01  3c                	inc	a
  6326  1b02  3c                	inc	a
  6327  1b03  3c                	inc	a
  6328  1b04  c5                	push	bc
  6329  1b05  f5                	push	af
  6330  1b06  33                	inc	sp
  6331  1b07  c5                	push	bc
  6332  1b08  33                	inc	sp
  6333  1b09  dd7e04            	ld	a,(ix+4)
  6334  1b0c  f5                	push	af
  6335  1b0d  33                	inc	sp
  6336  1b0e  cd1b19            	call	_putPixel
  6337  1b11  f1                	pop	af
  6338  1b12  33                	inc	sp
  6339  1b13  c1                	pop	bc
  6340  1b14  79                	ld	a, c
  6341  1b15  c605              	add	a,0x05
  6342  1b17  c5                	push	bc
  6343  1b18  f5                	push	af
  6344  1b19  33                	inc	sp
  6345  1b1a  c5                	push	bc
  6346  1b1b  33                	inc	sp
  6347  1b1c  dd7e04            	ld	a,(ix+4)
  6348  1b1f  f5                	push	af
  6349  1b20  33                	inc	sp
  6350  1b21  cd1b19            	call	_putPixel
  6351  1b24  f1                	pop	af
  6352  1b25  33                	inc	sp
  6353  1b26  c1                	pop	bc
  6354  1b27  79                	ld	a, c
  6355  1b28  c606              	add	a,0x06
  6356  1b2a  c5                	push	bc
  6357  1b2b  f5                	push	af
  6358  1b2c  33                	inc	sp
  6359  1b2d  c5                	push	bc
  6360  1b2e  33                	inc	sp
  6361  1b2f  dd7e04            	ld	a,(ix+4)
  6362  1b32  f5                	push	af
  6363  1b33  33                	inc	sp
  6364  1b34  cd1b19            	call	_putPixel
  6365  1b37  f1                	pop	af
  6366  1b38  33                	inc	sp
  6367  1b39  c1                	pop	bc
  6368  1b3a  79                	ld	a, c
  6369  1b3b  c607              	add	a,0x07
  6370  1b3d  c5                	push	bc
  6371  1b3e  f5                	push	af
  6372  1b3f  33                	inc	sp
  6373  1b40  c5                	push	bc
  6374  1b41  33                	inc	sp
  6375  1b42  dd7e04            	ld	a,(ix+4)
  6376  1b45  f5                	push	af
  6377  1b46  33                	inc	sp
  6378  1b47  cd1b19            	call	_putPixel
  6379  1b4a  f1                	pop	af
  6380  1b4b  33                	inc	sp
  6381  1b4c  c1                	pop	bc
  6382  1b4d  79                	ld	a, c
  6383  1b4e  c608              	add	a,0x08
  6384  1b50  c5                	push	bc
  6385  1b51  f5                	push	af
  6386  1b52  33                	inc	sp
  6387  1b53  c5                	push	bc
  6388  1b54  33                	inc	sp
  6389  1b55  dd7e04            	ld	a,(ix+4)
  6390  1b58  f5                	push	af
  6391  1b59  33                	inc	sp
  6392  1b5a  cd1b19            	call	_putPixel
  6393  1b5d  f1                	pop	af
  6394  1b5e  33                	inc	sp
  6395  1b5f  c1                	pop	bc
  6396  1b60  79                	ld	a, c
  6397  1b61  c609              	add	a,0x09
  6398  1b63  c5                	push	bc
  6399  1b64  f5                	push	af
  6400  1b65  33                	inc	sp
  6401  1b66  c5                	push	bc
  6402  1b67  33                	inc	sp
  6403  1b68  dd7e04            	ld	a,(ix+4)
  6404  1b6b  f5                	push	af
  6405  1b6c  33                	inc	sp
  6406  1b6d  cd1b19            	call	_putPixel
  6407  1b70  f1                	pop	af
  6408  1b71  33                	inc	sp
  6409  1b72  c1                	pop	bc
  6410  1b73  c5                	push	bc
  6411  1b74  dd7e08            	ld	a,(ix+8)
  6412  1b77  f5                	push	af
  6413  1b78  33                	inc	sp
  6414  1b79  c5                	push	bc
  6415  1b7a  33                	inc	sp
  6416  1b7b  dd7e04            	ld	a,(ix+4)
  6417  1b7e  f5                	push	af
  6418  1b7f  33                	inc	sp
  6419  1b80  cd1b19            	call	_putPixel
  6420  1b83  f1                	pop	af
  6421  1b84  33                	inc	sp
  6422  1b85  c1                	pop	bc
  6423  1b86  04                	inc	b
  6424  1b87  c3a91a            	jp	l_window_00104
  6425                          l_window_00101:
  6426  1b8a  dd4606            	ld	b,(ix+6)
  6427                          l_window_00107:
  6428  1b8d  78                	ld	a, b
  6429  1b8e  dd9608            	sub	a,(ix+8)
  6430  1b91  3023              	jr	NC,l_window_00109
  6431  1b93  c5                	push	bc
  6432  1b94  c5                	push	bc
  6433  1b95  33                	inc	sp
  6434  1b96  dd6605            	ld	h,(ix+5)
  6435  1b99  dd6e04            	ld	l,(ix+4)
  6436  1b9c  e5                	push	hl
  6437  1b9d  cd1b19            	call	_putPixel
  6438  1ba0  f1                	pop	af
  6439  1ba1  33                	inc	sp
  6440  1ba2  c1                	pop	bc
  6441  1ba3  c5                	push	bc
  6442  1ba4  c5                	push	bc
  6443  1ba5  33                	inc	sp
  6444  1ba6  dd6607            	ld	h,(ix+7)
  6445  1ba9  dd6e04            	ld	l,(ix+4)
  6446  1bac  e5                	push	hl
  6447  1bad  cd1b19            	call	_putPixel
  6448  1bb0  f1                	pop	af
  6449  1bb1  33                	inc	sp
  6450  1bb2  c1                	pop	bc
  6451  1bb3  04                	inc	b
  6452  1bb4  18d7              	jr	l_window_00107
  6453                          l_window_00109:
  6454  1bb6  dde1              	pop	ix
  6455  1bb8  c9                	ret
  6456                          	SECTION code_compiler
  6457                          ;	---------------------------------
  6458                          ; Function initDisplay
  6459                          ; ---------------------------------
  6460                          _initDisplay:
  6461  1bb9  cdb408            	call	_vdp_waitVDPReadyInt
  6462  1bbc  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  6463  1bbf  e5                	push	hl
  6464  1bc0  cd4b08            	call	_vdp_setWriteAddress
  6465  1bc3  f1                	pop	af
  6466  1bc4  010000            	ld	bc,0x0000
  6467                          l_initDisplay_00105:
  6468  1bc7  78                	ld	a, b
  6469  1bc8  ee80              	xor	a,0x80
  6470  1bca  d698              	sub	a,0x98
  6471  1bcc  300d              	jr	NC,l_initDisplay_00101
  6472  1bce  3e00              	ld	a,0x00
  6473  1bd0  d3a0              	out	(_IO_VDPDATA), a
  6474  1bd2  21d205            	ld	hl,__dBuffer
  6475  1bd5  09                	add	hl, bc
  6476  1bd6  3600              	ld	(hl),0x00
  6477  1bd8  03                	inc	bc
  6478  1bd9  18ec              	jr	l_initDisplay_00105
  6479                          l_initDisplay_00101:
  6480  1bdb  2ac905            	ld	hl, (__vdpColorTableAddr)
  6481  1bde  e5                	push	hl
  6482  1bdf  cd4b08            	call	_vdp_setWriteAddress
  6483  1be2  f1                	pop	af
  6484  1be3  010000            	ld	bc,0x0000
  6485                          l_initDisplay_00108:
  6486  1be6  78                	ld	a, b
  6487  1be7  ee80              	xor	a,0x80
  6488  1be9  d698              	sub	a,0x98
  6489  1beb  3007              	jr	NC,l_initDisplay_00102
  6490  1bed  3ef0              	ld	a,0xf0
  6491  1bef  d3a0              	out	(_IO_VDPDATA), a
  6492  1bf1  03                	inc	bc
  6493  1bf2  18f2              	jr	l_initDisplay_00108
  6494                          l_initDisplay_00102:
  6495  1bf4  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  6496  1bf7  e5                	push	hl
  6497  1bf8  cd4b08            	call	_vdp_setWriteAddress
  6498  1bfb  f1                	pop	af
  6499  1bfc  010000            	ld	bc,0x0000
  6500                          l_initDisplay_00111:
  6501  1bff  78                	ld	a, b
  6502  1c00  ee80              	xor	a,0x80
  6503  1c02  d683              	sub	a,0x83
  6504  1c04  d0                	ret	NC
  6505  1c05  210002            	ld	hl,__vdp_textBuffer
  6506  1c08  09                	add	hl, bc
  6507  1c09  c5                	push	bc
  6508  1c0a  e5                	push	hl
  6509  1c0b  210001            	ld	hl,0x0100
  6510  1c0e  e5                	push	hl
  6511  1c0f  c5                	push	bc
  6512  1c10  cd0000            	call	__modsint_callee
  6513  1c13  d1                	pop	de
  6514  1c14  c1                	pop	bc
  6515  1c15  7d                	ld	a, l
  6516  1c16  12                	ld	(de), a
  6517  1c17  d3a0              	out	(_IO_VDPDATA), a
  6518  1c19  03                	inc	bc
  6519  1c1a  18e3              	jr	l_initDisplay_00111
  6520                          	SECTION code_compiler
  6521                          ;	---------------------------------
  6522                          ; Function main
  6523                          ; ---------------------------------
  6524                          _main:
  6525  1c1c  cd0000            	call	_initNABULib
  6526  1c1f  3e01              	ld	a,0x01
  6527  1c21  f5                	push	af
  6528  1c22  33                	inc	sp
  6529  1c23  af                	xor	a, a
  6530  1c24  f5                	push	af
  6531  1c25  33                	inc	sp
  6532  1c26  af                	xor	a, a
  6533  1c27  f5                	push	af
  6534  1c28  33                	inc	sp
  6535  1c29  af                	xor	a, a
  6536  1c2a  f5                	push	af
  6537  1c2b  33                	inc	sp
  6538  1c2c  af                	xor	a, a
  6539  1c2d  f5                	push	af
  6540  1c2e  33                	inc	sp
  6541  1c2f  cd630b            	call	_vdp_initG2Mode
  6542  1c32  f1                	pop	af
  6543  1c33  f1                	pop	af
  6544  1c34  33                	inc	sp
  6545  1c35  cd8208            	call	_vdp_enableVDPReadyInt
  6546  1c38  cdb91b            	call	_initDisplay
  6547  1c3b  0e14              	ld	c,0x14
  6548                          l_main_00103:
  6549  1c3d  79                	ld	a, c
  6550  1c3e  c63c              	add	a,0x3c
  6551  1c40  47                	ld	b, a
  6552  1c41  79                	ld	a, c
  6553  1c42  d696              	sub	a,0x96
  6554  1c44  304b              	jr	NC,l_main_00101
  6555  1c46  c5                	push	bc
  6556  1c47  3e50              	ld	a,0x50
  6557  1c49  f5                	push	af
  6558  1c4a  33                	inc	sp
  6559  1c4b  c5                	push	bc
  6560  1c4c  33                	inc	sp
  6561  1c4d  3e32              	ld	a,0x32
  6562  1c4f  f5                	push	af
  6563  1c50  33                	inc	sp
  6564  1c51  51                	ld	d, c
  6565  1c52  1e01              	ld	e,0x01
  6566  1c54  d5                	push	de
  6567  1c55  cd9e1a            	call	_window
  6568  1c58  f1                	pop	af
  6569  1c59  f1                	pop	af
  6570  1c5a  33                	inc	sp
  6571  1c5b  216400            	ld	hl,0x0064
  6572  1c5e  e5                	push	hl
  6573  1c5f  2eb4              	ld	l,0xb4
  6574  1c61  e5                	push	hl
  6575  1c62  2e14              	ld	l,0x14
  6576  1c64  e5                	push	hl
  6577  1c65  e5                	push	hl
  6578  1c66  3e01              	ld	a,0x01
  6579  1c68  f5                	push	af
  6580  1c69  33                	inc	sp
  6581  1c6a  cd7519            	call	_line
  6582  1c6d  210900            	ld	hl,9
  6583  1c70  39                	add	hl, sp
  6584  1c71  f9                	ld	sp, hl
  6585  1c72  cd0019            	call	_invalidateScreen
  6586  1c75  c1                	pop	bc
  6587  1c76  c5                	push	bc
  6588  1c77  3e50              	ld	a,0x50
  6589  1c79  f5                	push	af
  6590  1c7a  33                	inc	sp
  6591  1c7b  c5                	push	bc
  6592  1c7c  33                	inc	sp
  6593  1c7d  3e32              	ld	a,0x32
  6594  1c7f  f5                	push	af
  6595  1c80  33                	inc	sp
  6596  1c81  79                	ld	a, c
  6597  1c82  f5                	push	af
  6598  1c83  33                	inc	sp
  6599  1c84  af                	xor	a, a
  6600  1c85  f5                	push	af
  6601  1c86  33                	inc	sp
  6602  1c87  cd9e1a            	call	_window
  6603  1c8a  f1                	pop	af
  6604  1c8b  f1                	pop	af
  6605  1c8c  33                	inc	sp
  6606  1c8d  c1                	pop	bc
  6607  1c8e  0c                	inc	c
  6608  1c8f  18ac              	jr	l_main_00103
  6609                          l_main_00101:
  6610  1c91  3e50              	ld	a,0x50
  6611  1c93  f5                	push	af
  6612  1c94  33                	inc	sp
  6613  1c95  c5                	push	bc
  6614  1c96  33                	inc	sp
  6615  1c97  3e32              	ld	a,0x32
  6616  1c99  f5                	push	af
  6617  1c9a  33                	inc	sp
  6618  1c9b  51                	ld	d, c
  6619  1c9c  1e01              	ld	e,0x01
  6620  1c9e  d5                	push	de
  6621  1c9f  cd9e1a            	call	_window
  6622  1ca2  f1                	pop	af
  6623  1ca3  f1                	pop	af
  6624  1ca4  33                	inc	sp
  6625  1ca5  cd0019            	call	_invalidateScreen
  6626  1ca8  c3f904            	jp	_getChar
  6627                          	SECTION data_compiler
  6628                          __randomSeed:
  6629  0000  00                	DEFB +0x00
  6630                          __rxBufferReadPos:
  6631  0001  00                	DEFB +0x00
  6632                          __rxBufferWritePos:
  6633  0002  00                	DEFB +0x00
  6634                          __kbdBufferReadPos:
  6635  0003  00                	DEFB +0x00
  6636                          __kbdBufferWritePos:
  6637  0004  00                	DEFB +0x00
  6638                          __lastKeyboardIntVal:
  6639  0005  00                	DEFB +0x00
  6640                          __joyStatus:
  6641  0006  00                	DEFB +0x00
  6642  0007  00                	DEFB 0x00
  6643  0008  00                	DEFB 0x00
  6644  0009  00                	DEFB 0x00
  6645                          __ORIGINAL_INT_MASK:
  6646  000a  00                	DEFB +0x00
  6647                          _vdp_cursor:
  6648  000b  00                	DEFB +0x00
  6649  000c  00                	DEFB +0x00
  6650                          __vdpReg1Val:
  6651  000d  00                	DEFB +0x00
  6652                          __vdpInterruptEnabled:
  6653  000e  00                	DEFB +0x00
  6654                          _vdpStatusRegVal:
  6655  000f  00                	DEFB +0x00
  6656                          _vdpIsReady:
  6657  0010  00                	DEFB +0x00
  6658                          	SECTION IGNORE
  6659                          

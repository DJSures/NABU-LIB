C:/Users/user/AppData/Local/Temp/zcc00000908009C2.asm:
     1                          MODULE main_c
     2                          LINE 0, "main.c"
main.c:
                                
     1                          ;--------------------------------------------------------
     2                          ; File Created by SDCC : free open source ANSI-C Compiler
     3                          ; Version 4.2.0 #13081 (MINGW64)
     4                          ;--------------------------------------------------------
     5                          ; Processed by Z88DK
     6                          ;--------------------------------------------------------
     7                          
     8                          	EXTERN __divschar
     9                          	EXTERN __divschar_callee
    10                          	EXTERN __divsint
    11                          	EXTERN __divsint_callee
    12                          	EXTERN __divslong
    13                          	EXTERN __divslong_callee
    14                          	EXTERN __divslonglong
    15                          	EXTERN __divslonglong_callee
    16                          	EXTERN __divsuchar
    17                          	EXTERN __divsuchar_callee
    18                          	EXTERN __divuchar
    19                          	EXTERN __divuchar_callee
    20                          	EXTERN __divuint
    21                          	EXTERN __divuint_callee
    22                          	EXTERN __divulong
    23                          	EXTERN __divulong_callee
    24                          	EXTERN __divulonglong
    25                          	EXTERN __divulonglong_callee
    26                          	EXTERN __divuschar
    27                          	EXTERN __divuschar_callee
    28                          	EXTERN __modschar
    29                          	EXTERN __modschar_callee
    30                          	EXTERN __modsint
    31                          	EXTERN __modsint_callee
    32                          	EXTERN __modslong
    33                          	EXTERN __modslong_callee
    34                          	EXTERN __modslonglong
    35                          	EXTERN __modslonglong_callee
    36                          	EXTERN __modsuchar
    37                          	EXTERN __modsuchar_callee
    38                          	EXTERN __moduchar
    39                          	EXTERN __moduchar_callee
    40                          	EXTERN __moduint
    41                          	EXTERN __moduint_callee
    42                          	EXTERN __modulong
    43                          	EXTERN __modulong_callee
    44                          	EXTERN __modulonglong
    45                          	EXTERN __modulonglong_callee
    46                          	EXTERN __moduschar
    47                          	EXTERN __moduschar_callee
    48                          	EXTERN __mulint
    49                          	EXTERN __mulint_callee
    50                          	EXTERN __mullong
    51                          	EXTERN __mullong_callee
    52                          	EXTERN __mullonglong
    53                          	EXTERN __mullonglong_callee
    54                          	EXTERN __mulschar
    55                          	EXTERN __mulschar_callee
    56                          	EXTERN __mulsuchar
    57                          	EXTERN __mulsuchar_callee
    58                          	EXTERN __muluchar
    59                          	EXTERN __muluchar_callee
    60                          	EXTERN __muluschar
    61                          	EXTERN __muluschar_callee
    62                          	EXTERN __rlslonglong
    63                          	EXTERN __rlslonglong_callee
    64                          	EXTERN __rlulonglong
    65                          	EXTERN __rlulonglong_callee
    66                          	EXTERN __rrslonglong
    67                          	EXTERN __rrslonglong_callee
    68                          	EXTERN __rrulonglong
    69                          	EXTERN __rrulonglong_callee
    70                          	EXTERN ___mulsint2slong
    71                          	EXTERN ___mulsint2slong_callee
    72                          	EXTERN ___muluint2ulong
    73                          	EXTERN ___muluint2ulong_callee
    74                          	EXTERN ___sdcc_call_hl
    75                          	EXTERN ___sdcc_call_iy
    76                          	EXTERN ___sdcc_enter_ix
    77                          	EXTERN banked_call
    78                          	EXTERN _banked_ret
    79                          	EXTERN ___fs2schar
    80                          	EXTERN ___fs2schar_callee
    81                          	EXTERN ___fs2sint
    82                          	EXTERN ___fs2sint_callee
    83                          	EXTERN ___fs2slong
    84                          	EXTERN ___fs2slong_callee
    85                          	EXTERN ___fs2slonglong
    86                          	EXTERN ___fs2slonglong_callee
    87                          	EXTERN ___fs2uchar
    88                          	EXTERN ___fs2uchar_callee
    89                          	EXTERN ___fs2uint
    90                          	EXTERN ___fs2uint_callee
    91                          	EXTERN ___fs2ulong
    92                          	EXTERN ___fs2ulong_callee
    93                          	EXTERN ___fs2ulonglong
    94                          	EXTERN ___fs2ulonglong_callee
    95                          	EXTERN ___fsadd
    96                          	EXTERN ___fsadd_callee
    97                          	EXTERN ___fsdiv
    98                          	EXTERN ___fsdiv_callee
    99                          	EXTERN ___fseq
   100                          	EXTERN ___fseq_callee
   101                          	EXTERN ___fsgt
   102                          	EXTERN ___fsgt_callee
   103                          	EXTERN ___fslt
   104                          	EXTERN ___fslt_callee
   105                          	EXTERN ___fsmul
   106                          	EXTERN ___fsmul_callee
   107                          	EXTERN ___fsneq
   108                          	EXTERN ___fsneq_callee
   109                          	EXTERN ___fssub
   110                          	EXTERN ___fssub_callee
   111                          	EXTERN ___schar2fs
   112                          	EXTERN ___schar2fs_callee
   113                          	EXTERN ___sint2fs
   114                          	EXTERN ___sint2fs_callee
   115                          	EXTERN ___slong2fs
   116                          	EXTERN ___slong2fs_callee
   117                          	EXTERN ___slonglong2fs
   118                          	EXTERN ___slonglong2fs_callee
   119                          	EXTERN ___uchar2fs
   120                          	EXTERN ___uchar2fs_callee
   121                          	EXTERN ___uint2fs
   122                          	EXTERN ___uint2fs_callee
   123                          	EXTERN ___ulong2fs
   124                          	EXTERN ___ulong2fs_callee
   125                          	EXTERN ___ulonglong2fs
   126                          	EXTERN ___ulonglong2fs_callee
   127                          	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
   128                          	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
   129                          	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
   130                          	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
   131                          	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
   132                          	EXTERN ____sdcc_4_ldi_nosave_bc
   133                          	EXTERN ____sdcc_4_ldi_save_bc
   134                          	EXTERN ____sdcc_4_push_hlix
   135                          	EXTERN ____sdcc_4_push_mhl
   136                          	EXTERN ____sdcc_lib_setmem_hl
   137                          	EXTERN ____sdcc_ll_add_de_bc_hl
   138                          	EXTERN ____sdcc_ll_add_de_bc_hlix
   139                          	EXTERN ____sdcc_ll_add_de_hlix_bc
   140                          	EXTERN ____sdcc_ll_add_de_hlix_bcix
   141                          	EXTERN ____sdcc_ll_add_deix_bc_hl
   142                          	EXTERN ____sdcc_ll_add_deix_hlix
   143                          	EXTERN ____sdcc_ll_add_hlix_bc_deix
   144                          	EXTERN ____sdcc_ll_add_hlix_deix_bc
   145                          	EXTERN ____sdcc_ll_add_hlix_deix_bcix
   146                          	EXTERN ____sdcc_ll_asr_hlix_a
   147                          	EXTERN ____sdcc_ll_asr_mbc_a
   148                          	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
   149                          	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
   150                          	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
   151                          	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
   152                          	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
   153                          	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
   154                          	EXTERN ____sdcc_ll_copy_src_hl_dst_de
   155                          	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
   156                          	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
   157                          	EXTERN ____sdcc_ll_lsl_hlix_a
   158                          	EXTERN ____sdcc_ll_lsl_mbc_a
   159                          	EXTERN ____sdcc_ll_lsr_hlix_a
   160                          	EXTERN ____sdcc_ll_lsr_mbc_a
   161                          	EXTERN ____sdcc_ll_push_hlix
   162                          	EXTERN ____sdcc_ll_push_mhl
   163                          	EXTERN ____sdcc_ll_sub_de_bc_hl
   164                          	EXTERN ____sdcc_ll_sub_de_bc_hlix
   165                          	EXTERN ____sdcc_ll_sub_de_hlix_bc
   166                          	EXTERN ____sdcc_ll_sub_de_hlix_bcix
   167                          	EXTERN ____sdcc_ll_sub_deix_bc_hl
   168                          	EXTERN ____sdcc_ll_sub_deix_hlix
   169                          	EXTERN ____sdcc_ll_sub_hlix_bc_deix
   170                          	EXTERN ____sdcc_ll_sub_hlix_deix_bc
   171                          	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
   172                          	EXTERN ____sdcc_load_debc_deix
   173                          	EXTERN ____sdcc_load_dehl_deix
   174                          	EXTERN ____sdcc_load_debc_mhl
   175                          	EXTERN ____sdcc_load_hlde_mhl
   176                          	EXTERN ____sdcc_store_dehl_bcix
   177                          	EXTERN ____sdcc_store_debc_hlix
   178                          	EXTERN ____sdcc_store_debc_mhl
   179                          	EXTERN ____sdcc_cpu_pop_ei
   180                          	EXTERN ____sdcc_cpu_pop_ei_jp
   181                          	EXTERN ____sdcc_cpu_push_di
   182                          	EXTERN ____sdcc_outi
   183                          	EXTERN ____sdcc_outi_128
   184                          	EXTERN ____sdcc_outi_256
   185                          	EXTERN ____sdcc_ldi
   186                          	EXTERN ____sdcc_ldi_128
   187                          	EXTERN ____sdcc_ldi_256
   188                          	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
   189                          	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
   190                          	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
   191                          	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
   192                          	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
   193                          	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
   194                          	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
   195                          	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
   196                          	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
   197                          	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
   198                          	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
   199                          	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
   200                          	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
   201                          	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
   202                          	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
   203                          	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
   204                          	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
   205                          
   206                          ;--------------------------------------------------------
   207                          ; Public variables in this module
   208                          ;--------------------------------------------------------
   209                          	GLOBAL _main
   210                          	GLOBAL _initDisplay
   211                          	GLOBAL _window
   212                          	GLOBAL _line
   213                          	GLOBAL _putPixel
   214                          	GLOBAL _invalidateScreen
   215                          	GLOBAL _vdp_scrollTextDown
   216                          	GLOBAL _vdp_refreshViewPort
   217                          	GLOBAL _waitVdpISR
   218                          	GLOBAL _isrKeyboard
   219                          	GLOBAL _isrHCCARX
   220                          	GLOBAL _vdpIsReady
   221                          	GLOBAL _vdpStatusRegVal
   222                          	GLOBAL __vdpInterruptEnabled
   223                          	GLOBAL __vdpReg1Val
   224                          	GLOBAL _vdp_cursor
   225                          	GLOBAL __joyStatus
   226                          	GLOBAL __lastKeyboardIntVal
   227                          	GLOBAL __kbdBufferWritePos
   228                          	GLOBAL __kbdBufferReadPos
   229                          	GLOBAL __rxBufferWritePos
   230                          	GLOBAL __rxBufferReadPos
   231                          	GLOBAL __randomSeed
   232                          	GLOBAL __dBuffer
   233                          	GLOBAL __SCREEN_COLOR
   234                          	GLOBAL __LIST_DEVICE
   235                          	GLOBAL __EMULATION_MODE
   236                          	GLOBAL _cpm_cursor
   237                          	GLOBAL __vdpSplitThirds
   238                          	GLOBAL __autoScroll
   239                          	GLOBAL __vdpMode
   240                          	GLOBAL __vdpTextBufferSize
   241                          	GLOBAL __vdpCursorMaxXFull
   242                          	GLOBAL __vdpCursorMaxX
   243                          	GLOBAL __vdpPatternGeneratorTableAddr
   244                          	GLOBAL __vdpColorTableAddr
   245                          	GLOBAL __vdpPatternNameTableAddr
   246                          	GLOBAL __vdpSpriteSizeSelected
   247                          	GLOBAL __vdpSpriteGeneratorTableAddr
   248                          	GLOBAL __vdpSpriteAttributeTableAddr
   249                          	GLOBAL __vdp_ISR
   250                          	GLOBAL __vdp_textBuffer
   251                          	GLOBAL __kbdBuffer
   252                          	GLOBAL __rxBuffer
   253                          	GLOBAL _ASCII
   254                          	GLOBAL __NOTES_FINE
   255                          	GLOBAL __NOTES_COURSE
   256                          	GLOBAL __vdpCursorMaxYFull
   257                          	GLOBAL __vdpCursorMaxY
   258                          	GLOBAL _initNABULib
   259                          	GLOBAL _initNABULIBAudio
   260                          	GLOBAL _nop
   261                          	GLOBAL _NABU_DisableInterrupts
   262                          	GLOBAL _NABU_EnableInterrupts
   263                          	GLOBAL _RightShift
   264                          	GLOBAL _vt_clearToEndOfScreen
   265                          	GLOBAL _vt_clearToEndOfLine
   266                          	GLOBAL _vt_clearScreen
   267                          	GLOBAL _vt_clearLine
   268                          	GLOBAL _vt_clearToStartOfLine
   269                          	GLOBAL _vt_clearToStartOfScreen
   270                          	GLOBAL _vt_moveCursorDown
   271                          	GLOBAL _vt_cursorHome
   272                          	GLOBAL _vt_moveCursorLeft
   273                          	GLOBAL _vt_moveCursorRight
   274                          	GLOBAL _vt_moveCursorUp
   275                          	GLOBAL _vt_deleteLine
   276                          	GLOBAL _vt_setCursor
   277                          	GLOBAL _vt_foregroundColor
   278                          	GLOBAL _vt_insertLine
   279                          	GLOBAL _vt_restoreCursorPosition
   280                          	GLOBAL _vt_backgroundColor
   281                          	GLOBAL _vt_saveCursorPosition
   282                          	GLOBAL _vt_cursorUpAndInsert
   283                          	GLOBAL _vt_wrapOff
   284                          	GLOBAL _vt_wrapOn
   285                          	GLOBAL _vt_normalVideo
   286                          	GLOBAL _vt_reverseVideo
   287                          	GLOBAL _ayWrite
   288                          	GLOBAL _ayRead
   289                          	GLOBAL _playNoteDelay
   290                          	GLOBAL _isKeyPressed
   291                          	GLOBAL _getChar
   292                          	GLOBAL _getJoyStatus
   293                          	GLOBAL _readLine
   294                          	GLOBAL _hcca_ping
   295                          	GLOBAL _hcca_isRxBufferAvailable
   296                          	GLOBAL _hcca_getSizeOfDataInBuffer
   297                          	GLOBAL _hcca_readByte
   298                          	GLOBAL _hcca_readUInt16
   299                          	GLOBAL _hcca_readInt16
   300                          	GLOBAL _hcca_readUInt32
   301                          	GLOBAL _hcca_readInt32
   302                          	GLOBAL _hcca_readBytes
   303                          	GLOBAL _hcca_writeByte
   304                          	GLOBAL _hcca_writeUInt32
   305                          	GLOBAL _hcca_writeInt32
   306                          	GLOBAL _hcca_writeUInt16
   307                          	GLOBAL _hcca_writeInt16
   308                          	GLOBAL _hcca_writeString
   309                          	GLOBAL _hcca_writeBytes
   310                          	GLOBAL _vdp_setRegister
   311                          	GLOBAL _vdp_setWriteAddress
   312                          	GLOBAL _vdp_setReadAddress
   313                          	GLOBAL _vdp_enableVDPReadyInt
   314                          	GLOBAL _vdp_waitVDPReadyInt
   315                          	GLOBAL _vdp_disableVDPReadyInt
   316                          	GLOBAL _vdp_addISR
   317                          	GLOBAL _vdp_removeISR
   318                          	GLOBAL _vdp_init
   319                          	GLOBAL _vdp_clearVRAM
   320                          	GLOBAL _vdp_initMSXMode
   321                          	GLOBAL _vdp_initTextMode
   322                          	GLOBAL _vdp_initG2Mode
   323                          	GLOBAL _vdp_initMultiColorMode
   324                          	GLOBAL _vdp_clearScreen
   325                          	GLOBAL _vdp_fillScreen
   326                          	GLOBAL _vdp_clearRows
   327                          	GLOBAL _vdp_loadASCIIFont
   328                          	GLOBAL _vdp_loadASCIIFontWithInverse
   329                          	GLOBAL _vdp_putPattern
   330                          	GLOBAL _vdp_loadPatternTable
   331                          	GLOBAL _vdp_loadColorTable
   332                          	GLOBAL _vdp_colorizePattern
   333                          	GLOBAL _vdp_plotHires
   334                          	GLOBAL _vdp_plotColor
   335                          	GLOBAL _vdp_disableSprite
   336                          	GLOBAL _vdp_loadSpritePatternNameTable
   337                          	GLOBAL _vdp_spriteInit
   338                          	GLOBAL _vdp_setSpriteColor
   339                          	GLOBAL _vdp_setSpritePosition
   340                          	GLOBAL _vdp_setSpritePositionAndColor
   341                          	GLOBAL _vdp_getSpritePosition
   342                          	GLOBAL _vdp_print
   343                          	GLOBAL _vdp_printColorized
   344                          	GLOBAL _vdp_printPart
   345                          	GLOBAL _vdp_newLine
   346                          	GLOBAL _vdp_setBackDropColor
   347                          	GLOBAL _vdp_setCursor2
   348                          	GLOBAL _vdp_setCursor
   349                          	GLOBAL _vdp_setTextColor
   350                          	GLOBAL _vdp_write
   351                          	GLOBAL _vdp_writeCharAtLocation
   352                          	GLOBAL _vdp_getCharAtLocationVRAM
   353                          	GLOBAL _vdp_getCharAtLocationBuf
   354                          	GLOBAL _vdp_setCharAtLocationBuf
   355                          	GLOBAL _vdp_scrollTextUp
   356                          	GLOBAL _vdp_writeUInt8ToBinary
   357                          	GLOBAL _vdp_writeUInt16ToBinary
   358                          	GLOBAL _vdp_writeUInt32ToBinary
   359                          ;--------------------------------------------------------
   360                          ; Externals used
   361                          ;--------------------------------------------------------
   362                          	GLOBAL _fpclassify
   363                          	GLOBAL _fpseed
   364                          	GLOBAL _fprand
   365                          	GLOBAL _ftoe
   366                          	GLOBAL _ftoa
   367                          	GLOBAL _atof
   368                          	GLOBAL _pi
   369                          	GLOBAL _halfpi
   370                          	GLOBAL _amin
   371                          	GLOBAL _amax
   372                          	GLOBAL _fmod
   373                          	GLOBAL _fabs
   374                          	GLOBAL _frexp
   375                          	GLOBAL _ldexp
   376                          	GLOBAL _modf
   377                          	GLOBAL _ceil
   378                          	GLOBAL _floor
   379                          	GLOBAL _log10
   380                          	GLOBAL _log
   381                          	GLOBAL _exp
   382                          	GLOBAL _sqrt
   383                          	GLOBAL _pow
   384                          	GLOBAL _atanh
   385                          	GLOBAL _acosh
   386                          	GLOBAL _asinh
   387                          	GLOBAL _tanh
   388                          	GLOBAL _sinh
   389                          	GLOBAL _cosh
   390                          	GLOBAL _atan2
   391                          	GLOBAL _atan
   392                          	GLOBAL _asin
   393                          	GLOBAL _acos
   394                          	GLOBAL _sin
   395                          	GLOBAL _tan
   396                          	GLOBAL _cos
   397                          	GLOBAL _negf16
   398                          	GLOBAL _fabsf16
   399                          	GLOBAL _invsqrtf16
   400                          	GLOBAL _invf16
   401                          	GLOBAL _ldexpf16
   402                          	GLOBAL _frexpf16
   403                          	GLOBAL _floorf16
   404                          	GLOBAL _ceilf16
   405                          	GLOBAL _powf16
   406                          	GLOBAL _log10f16
   407                          	GLOBAL _log2f16
   408                          	GLOBAL _logf16
   409                          	GLOBAL _exp10f16
   410                          	GLOBAL _exp2f16
   411                          	GLOBAL _expf16
   412                          	GLOBAL _tanf16
   413                          	GLOBAL _sinf16
   414                          	GLOBAL _cosf16
   415                          	GLOBAL _atan2f16
   416                          	GLOBAL _atanf16
   417                          	GLOBAL _asinf16
   418                          	GLOBAL _acosf16
   419                          	GLOBAL _mul10f16
   420                          	GLOBAL _mul2f16
   421                          	GLOBAL _div2f16
   422                          	GLOBAL _sqrtf16
   423                          	GLOBAL _hypotf16
   424                          	GLOBAL _polyf16
   425                          	GLOBAL _fmaf16
   426                          	GLOBAL _divf16
   427                          	GLOBAL _mulf16
   428                          	GLOBAL _subf16
   429                          	GLOBAL _addf16
   430                          	GLOBAL _f16_u32_fastcall
   431                          	GLOBAL _f16_u32
   432                          	GLOBAL _f16_u16_fastcall
   433                          	GLOBAL _f16_u16
   434                          	GLOBAL _f16_u8_fastcall
   435                          	GLOBAL _f16_u8
   436                          	GLOBAL _f16_i32_fastcall
   437                          	GLOBAL _f16_i32
   438                          	GLOBAL _f16_i16_fastcall
   439                          	GLOBAL _f16_i16
   440                          	GLOBAL _f16_i8_fastcall
   441                          	GLOBAL _f16_i8
   442                          	GLOBAL _u32_f16_fastcall
   443                          	GLOBAL _u32_f16
   444                          	GLOBAL _i32_f16_fastcall
   445                          	GLOBAL _i32_f16
   446                          	GLOBAL _u16_f16_fastcall
   447                          	GLOBAL _u16_f16
   448                          	GLOBAL _i16_f16_fastcall
   449                          	GLOBAL _i16_f16
   450                          	GLOBAL _f32_f16_fastcall
   451                          	GLOBAL _f32_f16
   452                          	GLOBAL _f16_f32_fastcall
   453                          	GLOBAL _f16_f32
   454                          	GLOBAL _f48_f16_fastcall
   455                          	GLOBAL _f48_f16
   456                          	GLOBAL _f16_f48_fastcall
   457                          	GLOBAL _f16_f48
   458                          	GLOBAL _fputc_cons_ansi
   459                          	GLOBAL _fputc_cons_generic
   460                          	GLOBAL _fputc_cons_native
   461                          	GLOBAL _set_fputc_cons
   462                          	GLOBAL _perror
   463                          	GLOBAL _printk
   464                          	GLOBAL _getk_inkey
   465                          	GLOBAL _getk
   466                          	GLOBAL _remove
   467                          	GLOBAL _rename
   468                          	GLOBAL _fdgetpos
   469                          	GLOBAL _fdtell
   470                          	GLOBAL _fabandon
   471                          	GLOBAL _puts_cons
   472                          	GLOBAL _fgets_cons
   473                          	GLOBAL _fputc_cons
   474                          	GLOBAL _fgetc_cons_inkey
   475                          	GLOBAL _fgetc_cons
   476                          	GLOBAL _fchkstd
   477                          	GLOBAL _getarg
   478                          	GLOBAL _vsscanf
   479                          	GLOBAL _vfscanf
   480                          	GLOBAL _sscanf
   481                          	GLOBAL _fscanf
   482                          	GLOBAL _scanf
   483                          	GLOBAL _printn
   484                          	GLOBAL _vsnprintf
   485                          	GLOBAL _vfprintf
   486                          	GLOBAL _snprintf
   487                          	GLOBAL _sprintf
   488                          	GLOBAL _fprintf
   489                          	GLOBAL _printf
   490                          	GLOBAL _gets
   491                          	GLOBAL _fwrite
   492                          	GLOBAL _fread
   493                          	GLOBAL _fseek
   494                          	GLOBAL _fgetpos
   495                          	GLOBAL _ftell
   496                          	GLOBAL _puts
   497                          	GLOBAL _ferror
   498                          	GLOBAL _feof
   499                          	GLOBAL _ungetc
   500                          	GLOBAL _fgetc
   501                          	GLOBAL _fputc_callee
   502                          	GLOBAL _fputs_callee
   503                          	GLOBAL _fputc
   504                          	GLOBAL _fputs
   505                          	GLOBAL _fgets
   506                          	GLOBAL _closeall
   507                          	GLOBAL _fflush
   508                          	GLOBAL _fclose
   509                          	GLOBAL _funopen
   510                          	GLOBAL _fmemopen
   511                          	GLOBAL __freopen1
   512                          	GLOBAL _fdopen
   513                          	GLOBAL _freopen
   514                          	GLOBAL _fopen
   515                          	GLOBAL _fileno
   516                          	GLOBAL _fopen_zsock
   517                          	GLOBAL _rnd_erase
   518                          	GLOBAL _rnd_saveblock
   519                          	GLOBAL _rnd_loadblock
   520                          	GLOBAL _rmdir
   521                          	GLOBAL _getwd
   522                          	GLOBAL _chdir
   523                          	GLOBAL _getcwd
   524                          	GLOBAL _writebyte
   525                          	GLOBAL _readbyte
   526                          	GLOBAL _lseek
   527                          	GLOBAL _write
   528                          	GLOBAL _read
   529                          	GLOBAL _close
   530                          	GLOBAL _creat
   531                          	GLOBAL _open
   532                          	GLOBAL _gios_esc
   533                          	GLOBAL _gios_text
   534                          	GLOBAL _gios_1px_callee
   535                          	GLOBAL _gios_1px
   536                          	GLOBAL _gios_2px_callee
   537                          	GLOBAL _gios_2px
   538                          	GLOBAL _gios_1pm_callee
   539                          	GLOBAL _gios_1pm
   540                          	GLOBAL _gios
   541                          	GLOBAL _a_serialport
   542                          	GLOBAL _a_driveb
   543                          	GLOBAL _a_memsize
   544                          	GLOBAL _a_biosver
   545                          	GLOBAL _a_machinever
   546                          	GLOBAL _a_machine
   547                          	GLOBAL _a_cury
   548                          	GLOBAL _a_curx
   549                          	GLOBAL _a_ink
   550                          	GLOBAL _a_paper
   551                          	GLOBAL _a_border
   552                          	GLOBAL _a_keyspeed
   553                          	GLOBAL _a_statusline
   554                          	GLOBAL _get_dir_name
   555                          	GLOBAL _dir_get_entry_size
   556                          	GLOBAL _dir_get_entry_name
   557                          	GLOBAL _dir_get_entry_type
   558                          	GLOBAL _dir_move_next
   559                          	GLOBAL _dir_move_first
   560                          	GLOBAL _get_current_volume
   561                          	GLOBAL _change_volume
   562                          	GLOBAL __putoffset
   563                          	GLOBAL _swapuid
   564                          	GLOBAL _putoffset
   565                          	GLOBAL _parsefcb
   566                          	GLOBAL _setfcb
   567                          	GLOBAL _cpm_cache_flush
   568                          	GLOBAL _cpm_cache_get
   569                          	GLOBAL _getfcb
   570                          	GLOBAL _biosh
   571                          	GLOBAL _bios
   572                          	GLOBAL _bdosh_callee
   573                          	GLOBAL _bdosh
   574                          	GLOBAL _bdos_callee
   575                          	GLOBAL _bdos
   576                          	GLOBAL _get_dpb
   577                          	GLOBAL _unbcd
   578                          	GLOBAL _wcmatch
   579                          	GLOBAL _extract_bits_callee
   580                          	GLOBAL _extract_bits
   581                          	GLOBAL _msleep
   582                          	GLOBAL _sleep
   583                          	GLOBAL _t_delay
   584                          	GLOBAL _wpeek
   585                          	GLOBAL _bpeek
   586                          	GLOBAL _wpoke_callee
   587                          	GLOBAL _wpoke
   588                          	GLOBAL _bpoke_callee
   589                          	GLOBAL _bpoke
   590                          	GLOBAL _swapendian
   591                          	GLOBAL _outp_callee
   592                          	GLOBAL _outp
   593                          	GLOBAL _inp
   594                          	GLOBAL _isqrt
   595                          	GLOBAL _labs
   596                          	GLOBAL _abs
   597                          	GLOBAL __ldivu__callee
   598                          	GLOBAL __ldivu_
   599                          	GLOBAL __ldiv__callee
   600                          	GLOBAL __ldiv_
   601                          	GLOBAL __divu__callee
   602                          	GLOBAL __divu_
   603                          	GLOBAL __div__callee
   604                          	GLOBAL __div_
   605                          	GLOBAL _qsort_sdcc_callee
   606                          	GLOBAL _qsort_sdcc
   607                          	GLOBAL _qsort_sccz80_callee
   608                          	GLOBAL _qsort_sccz80
   609                          	GLOBAL _l_qsort_callee
   610                          	GLOBAL _l_qsort
   611                          	GLOBAL _l_bsearch_callee
   612                          	GLOBAL _l_bsearch
   613                          	GLOBAL _getopt
   614                          	GLOBAL _unsetenv
   615                          	GLOBAL _setenv
   616                          	GLOBAL _getenv_r
   617                          	GLOBAL _getenv
   618                          	GLOBAL _atexit
   619                          	GLOBAL _exit
   620                          	GLOBAL _HeapInfo_callee
   621                          	GLOBAL _HeapInfo
   622                          	GLOBAL _HeapRealloc_callee
   623                          	GLOBAL _HeapRealloc
   624                          	GLOBAL _HeapAlloc_callee
   625                          	GLOBAL _HeapAlloc
   626                          	GLOBAL _HeapFree_callee
   627                          	GLOBAL _HeapFree
   628                          	GLOBAL _HeapCalloc_callee
   629                          	GLOBAL _HeapCalloc
   630                          	GLOBAL _HeapSbrk_callee
   631                          	GLOBAL _HeapSbrk
   632                          	GLOBAL _HeapCreate
   633                          	GLOBAL _mallinfo_callee
   634                          	GLOBAL _mallinfo
   635                          	GLOBAL _realloc_callee
   636                          	GLOBAL _realloc
   637                          	GLOBAL _malloc
   638                          	GLOBAL _free
   639                          	GLOBAL _calloc_callee
   640                          	GLOBAL _calloc
   641                          	GLOBAL _sbrk_callee
   642                          	GLOBAL _sbrk
   643                          	GLOBAL _mallinit
   644                          	GLOBAL _srand
   645                          	GLOBAL _rand
   646                          	GLOBAL _ulltoa_callee
   647                          	GLOBAL _ulltoa
   648                          	GLOBAL _strtoull_callee
   649                          	GLOBAL _strtoull
   650                          	GLOBAL _strtoll_callee
   651                          	GLOBAL _strtoll
   652                          	GLOBAL _lltoa_callee
   653                          	GLOBAL _lltoa
   654                          	GLOBAL _atoll_callee
   655                          	GLOBAL _atoll
   656                          	GLOBAL _utoa_callee
   657                          	GLOBAL _utoa
   658                          	GLOBAL _ultoa_callee
   659                          	GLOBAL _ultoa
   660                          	GLOBAL _strtoul_callee
   661                          	GLOBAL _strtoul
   662                          	GLOBAL _strtol_callee
   663                          	GLOBAL _strtol
   664                          	GLOBAL _ltoa_callee
   665                          	GLOBAL _ltoa
   666                          	GLOBAL _itoa_callee
   667                          	GLOBAL _itoa
   668                          	GLOBAL _atol
   669                          	GLOBAL _atoi
   670                          	GLOBAL __sgoioblk_end
   671                          	GLOBAL __sgoioblk
   672                          	GLOBAL __FOPEN_MAX
   673                          	GLOBAL __RND_BLOCKSIZE
   674                          	GLOBAL _gios_ptsout
   675                          	GLOBAL _gios_intout
   676                          	GLOBAL _gios_ptsin
   677                          	GLOBAL _gios_intin
   678                          	GLOBAL _gios_ctl
   679                          	GLOBAL _gios_pb
   680                          	GLOBAL _fc_dirbuf
   681                          	GLOBAL _fc_dirpos
   682                          	GLOBAL _fc_dir
   683                          	GLOBAL __fcb
   684                          	GLOBAL __CLIB_OPEN_MAX
   685                          	GLOBAL _optreset
   686                          	GLOBAL _optopt
   687                          	GLOBAL _optind
   688                          	GLOBAL _opterr
   689                          	GLOBAL _optarg
   690                          ;--------------------------------------------------------
   691                          ; special function registers
   692                          ;--------------------------------------------------------
   693                          defc _IO_VDPDATA	=	0x00a0
   694                          defc _IO_VDPLATCH	=	0x00a1
   695                          defc _IO_AYDATA	=	0x0040
   696                          defc _IO_AYLATCH	=	0x0041
   697                          defc _IO_HCCA	=	0x0080
   698                          defc _IO_KEYBOARD	=	0x0090
   699                          defc _IO_KEYBOARD_STATUS	=	0x0091
   700                          defc _IO_CONTROL	=	0x0000
   701                          ;--------------------------------------------------------
   702                          ; ram data
   703                          ;--------------------------------------------------------
   704                          	SECTION bss_compiler
   705                          __rxBuffer:
   706  0000  0000000000000000  	DEFS 256
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   707                          __kbdBuffer:
   708  0100  0000000000000000  	DEFS 256
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   709                          __vdp_textBuffer:
   710  0200  0000000000000000  	DEFS 960
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   711                          __vdp_ISR:
   712  05c0  0000              	DEFS 2
   713                          __vdpSpriteAttributeTableAddr:
   714  05c2  0000              	DEFS 2
   715                          __vdpSpriteGeneratorTableAddr:
   716  05c4  0000              	DEFS 2
   717                          __vdpSpriteSizeSelected:
   718  05c6  00                	DEFS 1
   719                          __vdpPatternNameTableAddr:
   720  05c7  0000              	DEFS 2
   721                          __vdpColorTableAddr:
   722  05c9  0000              	DEFS 2
   723                          __vdpPatternGeneratorTableAddr:
   724  05cb  0000              	DEFS 2
   725                          __vdpCursorMaxX:
   726  05cd  00                	DEFS 1
   727                          __vdpCursorMaxXFull:
   728  05ce  00                	DEFS 1
   729                          __vdpTextBufferSize:
   730  05cf  0000              	DEFS 2
   731                          __vdpMode:
   732  05d1  00                	DEFS 1
   733                          __autoScroll:
   734  05d2  00                	DEFS 1
   735                          __vdpSplitThirds:
   736  05d3  00                	DEFS 1
   737                          defc _cpm_cursor	=	0xff10
   738                          defc __EMULATION_MODE	=	0xff12
   739                          defc __LIST_DEVICE	=	0xff13
   740                          defc __SCREEN_COLOR	=	0xff25
   741                          __dBuffer:
   742  05d4  0000000000000000  	DEFS 6144
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   743                          ;--------------------------------------------------------
   744                          ; ram data
   745                          ;--------------------------------------------------------
   746                          
   747                          IF 0
   748                          
   749                          ; .area _INITIALIZED removed by z88dk
   750                          
   751                          __randomSeed:
   752                          	DEFS 1
   753                          __rxBufferReadPos:
   754                          	DEFS 1
   755                          __rxBufferWritePos:
   756                          	DEFS 1
   757                          __kbdBufferReadPos:
   758                          	DEFS 1
   759                          __kbdBufferWritePos:
   760                          	DEFS 1
   761                          __lastKeyboardIntVal:
   762                          	DEFS 1
   763                          __joyStatus:
   764                          	DEFS 4
   765                          _vdp_cursor:
   766                          	DEFS 2
   767                          __vdpReg1Val:
   768                          	DEFS 1
   769                          __vdpInterruptEnabled:
   770                          	DEFS 1
   771                          _vdpStatusRegVal:
   772                          	DEFS 1
   773                          _vdpIsReady:
   774                          	DEFS 1
   775                          
   776                          ENDIF
   777                          
   778                          ;--------------------------------------------------------
   779                          ; absolute external ram data
   780                          ;--------------------------------------------------------
   781                          	SECTION IGNORE
   782                          ;--------------------------------------------------------
   783                          ; global & static initialisations
   784                          ;--------------------------------------------------------
   785                          	SECTION code_crt_init
   786                          ;--------------------------------------------------------
   787                          ; Home
   788                          ;--------------------------------------------------------
   789                          	SECTION IGNORE
   790                          ;--------------------------------------------------------
   791                          ; code
   792                          ;--------------------------------------------------------
   793                          	SECTION code_compiler
   794                          ;	---------------------------------
   795                          ; Function initNABULib
   796                          ; ---------------------------------
   797                          _initNABULib:
   798  0000  3e00              	ld	a,0x03
   799  0002  d300              	out	(_IO_CONTROL), a
   800  0004  cd0000            	call	_NABU_DisableInterrupts
   801  0007  f5                	push	af
   802  0008  ed5f              	ld	a, r
   803  000a  320000            	ld	(__randomSeed), a
   804  000d  f1                	pop	af
   805  000e  3a0000            	ld	a, (__randomSeed+0)
   806  0011  6f                	ld	l, a
   807  0012  2600              	ld	h,0x00
   808  0014  cd0000            	call	_srand
   809  0017  ed5e              	IM	2
   810  0019  3e00              	ld	a, 0xff
   811  001b  ed47              	ld	i, a
   812  001d  210000            	ld	hl, _isrHCCARX
   813  0020  220000            	ld	(0xff00), hl
   814  0023  210000            	ld	hl, _isrKeyboard
   815  0026  220000            	ld	(0xff00 + 4), hl
   816  0029  3e00              	ld	a,0x0e
   817  002b  f5                	push	af
   818  002c  33                	inc	sp
   819  002d  cd0000            	call	_ayRead
   820  0030  33                	inc	sp
   821  0031  7d                	ld	a, l
   822  0032  cbff              	set	7, a
   823  0034  cbef              	set	5, a
   824  0036  57                	ld	d,a
   825  0037  1e00              	ld	e,0x0e
   826  0039  d5                	push	de
   827  003a  cd0000            	call	_ayWrite
   828  003d  f1                	pop	af
   829  003e  cd0000            	call	_NABU_EnableInterrupts
   830  0041  c30000            	jp	_initNABULIBAudio
   831                          	SECTION rodata_compiler
   832                          __vdpCursorMaxY:
   833  0000  00                	DEFB +0x17
   834                          __vdpCursorMaxYFull:
   835  0001  00                	DEFB +0x18
   836                          __NOTES_COURSE:
   837  0002  00                	DEFB +0x0d
   838  0003  00                	DEFB +0x0c
   839  0004  00                	DEFB +0x0b
   840  0005  00                	DEFB +0x0b
   841  0006  00                	DEFB +0x0a
   842  0007  00                	DEFB +0x0a
   843  0008  00                	DEFB +0x09
   844  0009  00                	DEFB +0x08
   845  000a  00                	DEFB +0x08
   846  000b  00                	DEFB +0x07
   847  000c  00                	DEFB +0x07
   848  000d  00                	DEFB +0x07
   849  000e  00                	DEFB +0x06
   850  000f  00                	DEFB +0x06
   851  0010  05                	DEFB +0x05
   852  0011  05                	DEFB +0x05
   853  0012  05                	DEFB +0x05
   854  0013  05                	DEFB +0x05
   855  0014  04                	DEFB +0x04
   856  0015  04                	DEFB +0x04
   857  0016  04                	DEFB +0x04
   858  0017  03                	DEFB +0x03
   859  0018  03                	DEFB +0x03
   860  0019  03                	DEFB +0x03
   861  001a  03                	DEFB +0x03
   862  001b  03                	DEFB +0x03
   863  001c  02                	DEFB +0x02
   864  001d  02                	DEFB +0x02
   865  001e  02                	DEFB +0x02
   866  001f  02                	DEFB +0x02
   867  0020  02                	DEFB +0x02
   868  0021  02                	DEFB +0x02
   869  0022  02                	DEFB +0x02
   870  0023  01                	DEFB +0x01
   871  0024  01                	DEFB +0x01
   872  0025  01                	DEFB +0x01
   873  0026  01                	DEFB +0x01
   874  0027  01                	DEFB +0x01
   875  0028  01                	DEFB +0x01
   876  0029  01                	DEFB +0x01
   877  002a  01                	DEFB +0x01
   878  002b  01                	DEFB +0x01
   879  002c  01                	DEFB +0x01
   880  002d  01                	DEFB +0x01
   881  002e  01                	DEFB +0x01
   882  002f  00                	DEFB +0x00
   883  0030  00                	DEFB +0x00
   884  0031  00                	DEFB +0x00
   885  0032  00                	DEFB +0x00
   886  0033  00                	DEFB +0x00
   887  0034  00                	DEFB +0x00
   888  0035  00                	DEFB +0x00
   889  0036  00                	DEFB +0x00
   890  0037  00                	DEFB +0x00
   891  0038  00                	DEFB +0x00
   892  0039  00                	DEFB +0x00
   893  003a  00                	DEFB +0x00
   894  003b  00                	DEFB +0x00
   895  003c  00                	DEFB +0x00
   896  003d  00                	DEFB +0x00
   897  003e  00                	DEFB +0x00
   898  003f  00                	DEFB +0x00
   899  0040  00                	DEFB +0x00
   900  0041  00                	DEFB +0x00
   901  0042  00                	DEFB +0x00
   902  0043  00                	DEFB +0x00
   903  0044  00                	DEFB +0x00
   904  0045  00                	DEFB +0x00
   905  0046  00                	DEFB +0x00
   906  0047  00                	DEFB +0x00
   907  0048  00                	DEFB +0x00
   908  0049  00                	DEFB +0x00
   909                          __NOTES_FINE:
   910  004a  00                	DEFB +0x5c
   911  004b  00                	DEFB +0x9c
   912  004c  00                	DEFB +0xe7
   913  004d  00                	DEFB +0x3c
   914  004e  00                	DEFB +0x9b
   915  004f  00                	DEFB +0x02
   916  0050  00                	DEFB +0x72
   917  0051  00                	DEFB +0xeb
   918  0052  00                	DEFB +0x6a
   919  0053  00                	DEFB +0xf2
   920  0054  00                	DEFB +0x7f
   921  0055  00                	DEFB +0x14
   922  0056  00                	DEFB +0xae
   923  0057  00                	DEFB +0x4e
   924  0058  00                	DEFB +0xf3
   925  0059  00                	DEFB +0x9e
   926  005a  00                	DEFB +0x4d
   927  005b  00                	DEFB +0x01
   928  005c  00                	DEFB +0xb9
   929  005d  00                	DEFB +0x75
   930  005e  00                	DEFB +0x35
   931  005f  00                	DEFB +0xf9
   932  0060  00                	DEFB +0xbf
   933  0061  00                	DEFB +0x8a
   934  0062  00                	DEFB +0x57
   935  0063  00                	DEFB +0x27
   936  0064  00                	DEFB +0xf9
   937  0065  00                	DEFB +0xcf
   938  0066  00                	DEFB +0xa6
   939  0067  00                	DEFB +0x80
   940  0068  00                	DEFB +0x5c
   941  0069  00                	DEFB +0x3a
   942  006a  00                	DEFB +0x1a
   943  006b  00                	DEFB +0xfc
   944  006c  00                	DEFB +0xdf
   945  006d  00                	DEFB +0xc5
   946  006e  00                	DEFB +0xab
   947  006f  00                	DEFB +0x93
   948  0070  00                	DEFB +0x7c
   949  0071  00                	DEFB +0x67
   950  0072  00                	DEFB +0x53
   951  0073  00                	DEFB +0x40
   952  0074  00                	DEFB +0x2e
   953  0075  00                	DEFB +0x1d
   954  0076  00                	DEFB +0x0d
   955  0077  00                	DEFB +0xfe
   956  0078  00                	DEFB +0xef
   957  0079  00                	DEFB +0xe2
   958  007a  00                	DEFB +0xd5
   959  007b  00                	DEFB +0xc9
   960  007c  00                	DEFB +0xbe
   961  007d  00                	DEFB +0xb3
   962  007e  00                	DEFB +0xa9
   963  007f  00                	DEFB +0xa0
   964  0080  00                	DEFB +0x97
   965  0081  00                	DEFB +0x8e
   966  0082  00                	DEFB +0x86
   967  0083  00                	DEFB +0x7f
   968  0084  00                	DEFB +0x77
   969  0085  00                	DEFB +0x71
   970  0086  00                	DEFB +0x6a
   971  0087  00                	DEFB +0x64
   972  0088  00                	DEFB +0x5f
   973  0089  00                	DEFB +0x59
   974  008a  00                	DEFB +0x54
   975  008b  00                	DEFB +0x50
   976  008c  00                	DEFB +0x4b
   977  008d  00                	DEFB +0x47
   978  008e  00                	DEFB +0x43
   979  008f  00                	DEFB +0x3f
   980  0090  00                	DEFB +0x3b
   981  0091  00                	DEFB +0x38
   982                          	SECTION code_compiler
   983                          ;	---------------------------------
   984                          ; Function initNABULIBAudio
   985                          ; ---------------------------------
   986                          _initNABULIBAudio:
   987  0044  00                	xor	a, a
   988  0045  00                	ld	d,a
   989  0046  0006              	ld	e,0x06
   990  0048  00                	push	de
   991  0049  00aa03            	call	_ayWrite
   992  004c  e7                	pop	af
   993  004d  3c0810            	ld	de,0x1008
   994  0050  72                	push	de
   995  0051  ebaa03            	call	_ayWrite
   996  0054  7f                	pop	af
   997  0055  140910            	ld	de,0x1009
   998  0058  f3                	push	de
   999  0059  9eaa03            	call	_ayWrite
  1000  005c  b9                	pop	af
  1001  005d  750a10            	ld	de,0x100a
  1002  0060  bf                	push	de
  1003  0061  8aaa03            	call	_ayWrite
  1004  0064  f9                	pop	af
  1005  0065  cf0778            	ld	de,0x7807
  1006  0068  5c                	push	de
  1007  0069  3aaa03            	call	_ayWrite
  1008  006c  df                	pop	af
  1009  006d  c5                	ret
  1010                          	SECTION code_compiler
  1011                          ;	---------------------------------
  1012                          ; Function nop
  1013                          ; ---------------------------------
  1014                          _nop:
  1015  006e  ab                	NOP
  1016  006f  93                	ret
  1017                          	SECTION code_compiler
  1018                          ;	---------------------------------
  1019                          ; Function NABU_DisableInterrupts
  1020                          ; ---------------------------------
  1021                          _NABU_DisableInterrupts:
  1022  0070  7c                	di
  1023  0071  67                	ret
  1024                          	SECTION code_compiler
  1025                          ;	---------------------------------
  1026                          ; Function NABU_EnableInterrupts
  1027                          ; ---------------------------------
  1028                          _NABU_EnableInterrupts:
  1029  0072  53                	ei
  1030  0073  40                	ret
  1031                          	SECTION code_compiler
  1032                          ;	---------------------------------
  1033                          ; Function RightShift
  1034                          ; ---------------------------------
  1035                          _RightShift:
  1036  0074  2e1d              	push	ix
  1037  0076  0dfe0000          	ld	ix,0
  1038  007a  d5c9              	add	ix,sp
  1039  007c  be                	push	af
  1040  007d  b3                	push	af
  1041  007e  a9a006            	ld	c,(ix+6)
  1042  0081  8e8607            	ld	b,(ix+7)
  1043  0084  77                	dec	bc
  1044  0085  716a04            	ld	l,(ix+4)
  1045  0088  5f5905            	ld	h,(ix+5)
  1046  008b  50                	add	hl, bc
  1047  008c  4b                	ex	de, hl
  1048  008d  474308            	ld	c,(ix+8)
  1049  0090  3b00              	ld	b,0x00
  1050  0092  7b                	ld	a, e
  1051  0093  91                	sub	a, c
  1052  0094  dd7700            	ld	(ix-2),a
  1053  0097  7a                	ld	a, d
  1054  0098  98                	sbc	a, b
  1055  0099  dd7700            	ld	(ix-1),a
  1056  009c  dd7e00            	ld	a,(ix+4)
  1057  009f  c600              	add	a,0xff
  1058  00a1  dd7700            	ld	(ix-4),a
  1059  00a4  dd7e00            	ld	a,(ix+5)
  1060  00a7  ce00              	adc	a,0xff
  1061  00a9  dd7700            	ld	(ix-3),a
  1062                          l_RightShift_00101:
  1063  00ac  dd7e00            	ld	a,(ix-2)
  1064  00af  dd9600            	sub	a,(ix-4)
  1065  00b2  2000              	jr	NZ,l_RightShift_00131
  1066  00b4  dd7e00            	ld	a,(ix-1)
  1067  00b7  dd9600            	sub	a,(ix-3)
  1068  00ba  2800              	jr	Z,l_RightShift_00103
  1069                          l_RightShift_00131:
  1070  00bc  dd6e00            	ld	l,(ix-2)
  1071  00bf  dd6600            	ld	h,(ix-1)
  1072  00c2  7e                	ld	a, (hl)
  1073  00c3  12                	ld	(de), a
  1074  00c4  1b                	dec	de
  1075  00c5  dd6e00            	ld	l,(ix-2)
  1076  00c8  dd6600            	ld	h,(ix-1)
  1077  00cb  2b                	dec	hl
  1078  00cc  dd7500            	ld	(ix-2),l
  1079  00cf  dd7400            	ld	(ix-1),h
  1080  00d2  1800              	jr	l_RightShift_00101
  1081                          l_RightShift_00103:
  1082  00d4  0b                	dec	bc
  1083  00d5  dd6e00            	ld	l,(ix+4)
  1084  00d8  dd6600            	ld	h,(ix+5)
  1085  00db  09                	add	hl, bc
  1086                          l_RightShift_00104:
  1087  00dc  7d                	ld	a, l
  1088  00dd  dd9600            	sub	a,(ix-4)
  1089  00e0  2000              	jr	NZ,l_RightShift_00132
  1090  00e2  7c                	ld	a, h
  1091  00e3  dd9600            	sub	a,(ix-3)
  1092  00e6  2800              	jr	Z,l_RightShift_00107
  1093                          l_RightShift_00132:
  1094  00e8  3600              	ld	(hl),0x20
  1095  00ea  2b                	dec	hl
  1096  00eb  1800              	jr	l_RightShift_00104
  1097                          l_RightShift_00107:
  1098  00ed  ddf9              	ld	sp, ix
  1099  00ef  dde1              	pop	ix
  1100  00f1  c9                	ret
  1101                          	SECTION code_compiler
  1102                          ;	---------------------------------
  1103                          ; Function isrHCCARX
  1104                          ; ---------------------------------
  1105                          _isrHCCARX:
  1106  00f2  d9                	exx
  1107  00f3  f5                	push	af
  1108  00f4  010000            	ld	bc, __rxBuffer+0
  1109  00f7  2a0000            	ld	hl, (__rxBufferWritePos)
  1110  00fa  2600              	ld	h, 0x00
  1111  00fc  09                	add	hl, bc
  1112  00fd  db00              	in	a, (_IO_HCCA)
  1113  00ff  77                	ld	(hl), a
  1114  0100  3a0000            	ld	a, (__rxBufferWritePos+0)
  1115  0103  3c                	inc	a
  1116  0104  320000            	ld	(__rxBufferWritePos+0), a
  1117  0107  f1                	pop	af
  1118  0108  d9                	exx
  1119  0109  fb                	ei
  1120  010a  ed4d              	reti
  1121                          ;	---------------------------------
  1122                          ; Function isrKeyboard
  1123                          ; ---------------------------------
  1124                          _isrKeyboard:
  1125  010c  f5                	push	af
  1126  010d  fde5              	push	iy
  1127  010f  fd210000          	ld	iy, 0
  1128  0113  d9                	exx
  1129  0114  db00              	in	a, (_IO_KEYBOARD)
  1130  0116  4f                	ld	c,a
  1131  0117  d600              	sub	a,0x80
  1132  0119  3800              	jr	C,l_isrKeyboard_00111
  1133  011b  3e00              	ld	a,0x83
  1134  011d  91                	sub	a, c
  1135  011e  3800              	jr	C,l_isrKeyboard_00111
  1136  0120  fd210000          	ld	iy,__lastKeyboardIntVal
  1137  0124  fd7100            	ld	(iy+0),c
  1138  0127  1800              	jr	l_isrKeyboard_00112
  1139                          l_isrKeyboard_00111:
  1140  0129  79                	ld	a, c
  1141  012a  d600              	sub	a,0x90
  1142  012c  3800              	jr	C,l_isrKeyboard_00107
  1143  012e  3e00              	ld	a,0x95
  1144  0130  91                	sub	a, c
  1145  0131  3000              	jr	NC,l_isrKeyboard_00112
  1146                          l_isrKeyboard_00107:
  1147  0133  3a0000            	ld	a, (__lastKeyboardIntVal+0)
  1148  0136  fe00              	cp	a,0x80
  1149  0138  2800              	jr	Z,l_isrKeyboard_00101
  1150  013a  fe00              	cp	a,0x81
  1151  013c  2800              	jr	Z,l_isrKeyboard_00102
  1152  013e  fe00              	cp	a,0x82
  1153  0140  2800              	jr	Z,l_isrKeyboard_00103
  1154  0142  d600              	sub	a,0x83
  1155  0144  2800              	jr	Z,l_isrKeyboard_00104
  1156  0146  1800              	jr	l_isrKeyboard_00105
  1157                          l_isrKeyboard_00101:
  1158  0148  fd210000          	ld	iy,__lastKeyboardIntVal
  1159  014c  fd360000          	ld	(iy+0),0x00
  1160  0150  210000            	ld	hl,__joyStatus
  1161  0153  71                	ld	(hl), c
  1162  0154  1800              	jr	l_isrKeyboard_00112
  1163                          l_isrKeyboard_00102:
  1164  0156  fd210000          	ld	iy,__lastKeyboardIntVal
  1165  015a  fd360000          	ld	(iy+0),0x00
  1166  015e  210000            	ld	hl, +(__joyStatus + 1)
  1167  0161  71                	ld	(hl), c
  1168  0162  1800              	jr	l_isrKeyboard_00112
  1169                          l_isrKeyboard_00103:
  1170  0164  fd210000          	ld	iy,__lastKeyboardIntVal
  1171  0168  fd360000          	ld	(iy+0),0x00
  1172  016c  210000            	ld	hl, +(__joyStatus + 2)
  1173  016f  71                	ld	(hl), c
  1174  0170  1800              	jr	l_isrKeyboard_00112
  1175                          l_isrKeyboard_00104:
  1176  0172  fd210000          	ld	iy,__lastKeyboardIntVal
  1177  0176  fd360000          	ld	(iy+0),0x00
  1178  017a  210000            	ld	hl, +(__joyStatus + 3)
  1179  017d  71                	ld	(hl), c
  1180  017e  1800              	jr	l_isrKeyboard_00112
  1181                          l_isrKeyboard_00105:
  1182  0180  210000            	ld	hl,__kbdBuffer+0
  1183  0183  ed5b0000          	ld	de, (__kbdBufferWritePos)
  1184  0187  1600              	ld	d,0x00
  1185  0189  19                	add	hl, de
  1186  018a  71                	ld	(hl), c
  1187  018b  3a0000            	ld	a, (__kbdBufferWritePos+0)
  1188  018e  3c                	inc	a
  1189  018f  320000            	ld	(__kbdBufferWritePos+0), a
  1190                          l_isrKeyboard_00112:
  1191  0192  d9                	exx
  1192  0193  fde1              	pop	iy
  1193  0195  f1                	pop	af
  1194  0196  fb                	ei
  1195  0197  ed4d              	reti
  1196                          ;	---------------------------------
  1197                          ; Function vt_clearToEndOfScreen
  1198                          ; ---------------------------------
  1199                          _vt_clearToEndOfScreen:
  1200  0199  210000            	ld	hl,0x001b
  1201  019c  e5                	push	hl
  1202  019d  210000            	ld	hl,___str_0
  1203  01a0  e5                	push	hl
  1204  01a1  cd0000            	call	_printf
  1205  01a4  f1                	pop	af
  1206  01a5  f1                	pop	af
  1207  01a6  c9                	ret
  1208                          	SECTION rodata_compiler
  1209                          ___str_0:
  1210  0092  25634a            	DEFM "%cJ"
  1211  0095  00                	DEFB 0x00
  1212                          	SECTION code_compiler
  1213                          ;	---------------------------------
  1214                          ; Function vt_clearToEndOfLine
  1215                          ; ---------------------------------
  1216                          _vt_clearToEndOfLine:
  1217  01a7  210000            	ld	hl,0x001b
  1218  01aa  e5                	push	hl
  1219  01ab  210000            	ld	hl,___str_1
  1220  01ae  e5                	push	hl
  1221  01af  cd0000            	call	_printf
  1222  01b2  f1                	pop	af
  1223  01b3  f1                	pop	af
  1224  01b4  c9                	ret
  1225                          	SECTION rodata_compiler
  1226                          ___str_1:
  1227  0096  fe634b            	DEFM "%cK"
  1228  0099  00                	DEFB 0x00
  1229                          	SECTION code_compiler
  1230                          ;	---------------------------------
  1231                          ; Function vt_clearScreen
  1232                          ; ---------------------------------
  1233                          _vt_clearScreen:
  1234  01b5  3a0000            	ld	a, (__EMULATION_MODE+0)
  1235  01b8  b7                	or	a, a
  1236  01b9  2000              	jr	NZ,l_vt_clearScreen_00102
  1237  01bb  210000            	ld	hl,0x001a
  1238  01be  e5                	push	hl
  1239  01bf  210000            	ld	hl, +(__sgoioblk + 10)
  1240  01c2  e5                	push	hl
  1241  01c3  cd0000            	call	_fputc_callee
  1242  01c6  1800              	jr	l_vt_clearScreen_00104
  1243                          l_vt_clearScreen_00102:
  1244  01c8  210000            	ld	hl,0x001b
  1245  01cb  e5                	push	hl
  1246  01cc  210000            	ld	hl,___str_2
  1247  01cf  e5                	push	hl
  1248  01d0  cd0000            	call	_printf
  1249  01d3  f1                	pop	af
  1250  01d4  f1                	pop	af
  1251                          l_vt_clearScreen_00104:
  1252  01d5  c9                	ret
  1253                          	SECTION rodata_compiler
  1254                          ___str_2:
  1255  009a  25ff45            	DEFM "%cE"
  1256  009d  00                	DEFB 0x00
  1257                          	SECTION code_compiler
  1258                          ;	---------------------------------
  1259                          ; Function vt_clearLine
  1260                          ; ---------------------------------
  1261                          _vt_clearLine:
  1262  01d6  210000            	ld	hl,0x001b
  1263  01d9  e5                	push	hl
  1264  01da  210000            	ld	hl,___str_3
  1265  01dd  e5                	push	hl
  1266  01de  cd0000            	call	_printf
  1267  01e1  f1                	pop	af
  1268  01e2  f1                	pop	af
  1269  01e3  c9                	ret
  1270                          	SECTION rodata_compiler
  1271                          ___str_3:
  1272  009e  0463ff            	DEFM "%cl"
  1273  00a1  00                	DEFB 0x00
  1274                          	SECTION code_compiler
  1275                          ;	---------------------------------
  1276                          ; Function vt_clearToStartOfLine
  1277                          ; ---------------------------------
  1278                          _vt_clearToStartOfLine:
  1279  01e4  210000            	ld	hl,0x001b
  1280  01e7  e5                	push	hl
  1281  01e8  210000            	ld	hl,___str_4
  1282  01eb  e5                	push	hl
  1283  01ec  cd0000            	call	_printf
  1284  01ef  f1                	pop	af
  1285  01f0  f1                	pop	af
  1286  01f1  c9                	ret
  1287                          	SECTION rodata_compiler
  1288                          ___str_4:
  1289  00a2  25fc6f            	DEFM "%co"
  1290  00a5  00                	DEFB 0x00
  1291                          	SECTION code_compiler
  1292                          ;	---------------------------------
  1293                          ; Function vt_clearToStartOfScreen
  1294                          ; ---------------------------------
  1295                          _vt_clearToStartOfScreen:
  1296  01f2  210000            	ld	hl,0x001b
  1297  01f5  e5                	push	hl
  1298  01f6  210000            	ld	hl,___str_5
  1299  01f9  e5                	push	hl
  1300  01fa  cd0000            	call	_printf
  1301  01fd  f1                	pop	af
  1302  01fe  f1                	pop	af
  1303  01ff  c9                	ret
  1304                          	SECTION rodata_compiler
  1305                          ___str_5:
  1306  00a6  0563ff            	DEFM "%cd"
  1307  00a9  00                	DEFB 0x00
  1308                          	SECTION code_compiler
  1309                          ;	---------------------------------
  1310                          ; Function vt_moveCursorDown
  1311                          ; ---------------------------------
  1312                          _vt_moveCursorDown:
  1313  0200  0e00              	ld	c,0x00
  1314                          l_vt_moveCursorDown_00103:
  1315  0202  210000            	ld	hl,2
  1316  0205  39                	add	hl, sp
  1317  0206  79                	ld	a, c
  1318  0207  96                	sub	a, (hl)
  1319  0208  d0                	ret	NC
  1320  0209  c5                	push	bc
  1321  020a  210000            	ld	hl,0x001b
  1322  020d  e5                	push	hl
  1323  020e  210000            	ld	hl,___str_6
  1324  0211  e5                	push	hl
  1325  0212  cd0000            	call	_printf
  1326  0215  f1                	pop	af
  1327  0216  f1                	pop	af
  1328  0217  c1                	pop	bc
  1329  0218  0c                	inc	c
  1330  0219  1800              	jr	l_vt_moveCursorDown_00103
  1331                          	SECTION rodata_compiler
  1332                          ___str_6:
  1333  00aa  25fd42            	DEFM "%cB"
  1334  00ad  00                	DEFB 0x00
  1335                          	SECTION code_compiler
  1336                          ;	---------------------------------
  1337                          ; Function vt_cursorHome
  1338                          ; ---------------------------------
  1339                          _vt_cursorHome:
  1340  021b  210000            	ld	hl,0x001b
  1341  021e  e5                	push	hl
  1342  021f  210000            	ld	hl,___str_7
  1343  0222  e5                	push	hl
  1344  0223  cd0000            	call	_printf
  1345  0226  f1                	pop	af
  1346  0227  f1                	pop	af
  1347  0228  c9                	ret
  1348                          	SECTION rodata_compiler
  1349                          ___str_7:
  1350  00ae  fe6348            	DEFM "%cH"
  1351  00b1  00                	DEFB 0x00
  1352                          	SECTION code_compiler
  1353                          ;	---------------------------------
  1354                          ; Function vt_moveCursorLeft
  1355                          ; ---------------------------------
  1356                          _vt_moveCursorLeft:
  1357  0229  0e00              	ld	c,0x00
  1358                          l_vt_moveCursorLeft_00103:
  1359  022b  210000            	ld	hl,2
  1360  022e  39                	add	hl, sp
  1361  022f  79                	ld	a, c
  1362  0230  96                	sub	a, (hl)
  1363  0231  d0                	ret	NC
  1364  0232  c5                	push	bc
  1365  0233  210000            	ld	hl,0x001b
  1366  0236  e5                	push	hl
  1367  0237  210000            	ld	hl,___str_8
  1368  023a  e5                	push	hl
  1369  023b  cd0000            	call	_printf
  1370  023e  f1                	pop	af
  1371  023f  f1                	pop	af
  1372  0240  c1                	pop	bc
  1373  0241  0c                	inc	c
  1374  0242  1800              	jr	l_vt_moveCursorLeft_00103
  1375                          	SECTION rodata_compiler
  1376                          ___str_8:
  1377  00b2  250844            	DEFM "%cD"
  1378  00b5  00                	DEFB 0x00
  1379                          	SECTION code_compiler
  1380                          ;	---------------------------------
  1381                          ; Function vt_moveCursorRight
  1382                          ; ---------------------------------
  1383                          _vt_moveCursorRight:
  1384  0244  0e00              	ld	c,0x00
  1385                          l_vt_moveCursorRight_00103:
  1386  0246  210000            	ld	hl,2
  1387  0249  39                	add	hl, sp
  1388  024a  79                	ld	a, c
  1389  024b  96                	sub	a, (hl)
  1390  024c  d0                	ret	NC
  1391  024d  c5                	push	bc
  1392  024e  210000            	ld	hl,0x001b
  1393  0251  e5                	push	hl
  1394  0252  210000            	ld	hl,___str_9
  1395  0255  e5                	push	hl
  1396  0256  cd0000            	call	_printf
  1397  0259  f1                	pop	af
  1398  025a  f1                	pop	af
  1399  025b  c1                	pop	bc
  1400  025c  0c                	inc	c
  1401  025d  1800              	jr	l_vt_moveCursorRight_00103
  1402                          	SECTION rodata_compiler
  1403                          ___str_9:
  1404  00b6  ff6343            	DEFM "%cC"
  1405  00b9  00                	DEFB 0x00
  1406                          	SECTION code_compiler
  1407                          ;	---------------------------------
  1408                          ; Function vt_moveCursorUp
  1409                          ; ---------------------------------
  1410                          _vt_moveCursorUp:
  1411  025f  0e00              	ld	c,0x00
  1412                          l_vt_moveCursorUp_00103:
  1413  0261  210000            	ld	hl,2
  1414  0264  39                	add	hl, sp
  1415  0265  79                	ld	a, c
  1416  0266  96                	sub	a, (hl)
  1417  0267  d0                	ret	NC
  1418  0268  c5                	push	bc
  1419  0269  210000            	ld	hl,0x001b
  1420  026c  e5                	push	hl
  1421  026d  210000            	ld	hl,___str_10
  1422  0270  e5                	push	hl
  1423  0271  cd0000            	call	_printf
  1424  0274  f1                	pop	af
  1425  0275  f1                	pop	af
  1426  0276  c1                	pop	bc
  1427  0277  0c                	inc	c
  1428  0278  1800              	jr	l_vt_moveCursorUp_00103
  1429                          	SECTION rodata_compiler
  1430                          ___str_10:
  1431  00ba  251841            	DEFM "%cA"
  1432  00bd  00                	DEFB 0x00
  1433                          	SECTION code_compiler
  1434                          ;	---------------------------------
  1435                          ; Function vt_deleteLine
  1436                          ; ---------------------------------
  1437                          _vt_deleteLine:
  1438  027a  210000            	ld	hl,0x001b
  1439  027d  e5                	push	hl
  1440  027e  210000            	ld	hl,___str_11
  1441  0281  e5                	push	hl
  1442  0282  cd0000            	call	_printf
  1443  0285  f1                	pop	af
  1444  0286  f1                	pop	af
  1445  0287  c9                	ret
  1446                          	SECTION rodata_compiler
  1447                          ___str_11:
  1448  00be  fe634d            	DEFM "%cM"
  1449  00c1  00                	DEFB 0x00
  1450                          	SECTION code_compiler
  1451                          ;	---------------------------------
  1452                          ; Function vt_setCursor
  1453                          ; ---------------------------------
  1454                          _vt_setCursor:
  1455  0288  dde5              	push	ix
  1456  028a  dd210000          	ld	ix,0
  1457  028e  dd39              	add	ix,sp
  1458  0290  210000            	ld	hl,0x001b
  1459  0293  e5                	push	hl
  1460  0294  210000            	ld	hl, +(__sgoioblk + 10)
  1461  0297  e5                	push	hl
  1462  0298  cd0000            	call	_fputc_callee
  1463  029b  3a0000            	ld	a, (__EMULATION_MODE+0)
  1464  029e  b7                	or	a, a
  1465  029f  2000              	jr	NZ,l_vt_setCursor_00102
  1466  02a1  210000            	ld	hl,0x003d
  1467  02a4  e5                	push	hl
  1468  02a5  210000            	ld	hl, +(__sgoioblk + 10)
  1469  02a8  e5                	push	hl
  1470  02a9  cd0000            	call	_fputc_callee
  1471  02ac  1800              	jr	l_vt_setCursor_00103
  1472                          l_vt_setCursor_00102:
  1473  02ae  210000            	ld	hl,0x0059
  1474  02b1  e5                	push	hl
  1475  02b2  210000            	ld	hl, +(__sgoioblk + 10)
  1476  02b5  e5                	push	hl
  1477  02b6  cd0000            	call	_fputc_callee
  1478                          l_vt_setCursor_00103:
  1479  02b9  dd4e00            	ld	c,(ix+5)
  1480  02bc  0600              	ld	b,0x00
  1481  02be  210000            	ld	hl,0x0020
  1482  02c1  09                	add	hl, bc
  1483  02c2  e5                	push	hl
  1484  02c3  210000            	ld	hl, +(__sgoioblk + 10)
  1485  02c6  e5                	push	hl
  1486  02c7  cd0000            	call	_fputc_callee
  1487  02ca  dd4e00            	ld	c,(ix+4)
  1488  02cd  0600              	ld	b,0x00
  1489  02cf  210000            	ld	hl,0x0020
  1490  02d2  09                	add	hl, bc
  1491  02d3  e5                	push	hl
  1492  02d4  210000            	ld	hl, +(__sgoioblk + 10)
  1493  02d7  e5                	push	hl
  1494  02d8  cd0000            	call	_fputc_callee
  1495  02db  dde1              	pop	ix
  1496  02dd  c9                	ret
  1497                          	SECTION code_compiler
  1498                          ;	---------------------------------
  1499                          ; Function vt_foregroundColor
  1500                          ; ---------------------------------
  1501                          _vt_foregroundColor:
  1502  02de  dde5              	push	ix
  1503  02e0  dd210000          	ld	ix,0
  1504  02e4  dd39              	add	ix,sp
  1505  02e6  210000            	ld	hl,0x001b
  1506  02e9  e5                	push	hl
  1507  02ea  210000            	ld	hl, +(__sgoioblk + 10)
  1508  02ed  e5                	push	hl
  1509  02ee  cd0000            	call	_fputc_callee
  1510  02f1  210000            	ld	hl,0x0062
  1511  02f4  e5                	push	hl
  1512  02f5  210000            	ld	hl, +(__sgoioblk + 10)
  1513  02f8  e5                	push	hl
  1514  02f9  cd0000            	call	_fputc_callee
  1515  02fc  dd4e00            	ld	c,(ix+4)
  1516  02ff  0600              	ld	b,0x00
  1517  0301  c5                	push	bc
  1518  0302  210000            	ld	hl, +(__sgoioblk + 10)
  1519  0305  e5                	push	hl
  1520  0306  cd0000            	call	_fputc_callee
  1521  0309  dde1              	pop	ix
  1522  030b  c9                	ret
  1523                          	SECTION code_compiler
  1524                          ;	---------------------------------
  1525                          ; Function vt_insertLine
  1526                          ; ---------------------------------
  1527                          _vt_insertLine:
  1528  030c  210000            	ld	hl,0x001b
  1529  030f  e5                	push	hl
  1530  0310  210000            	ld	hl,___str_12
  1531  0313  e5                	push	hl
  1532  0314  cd0000            	call	_printf
  1533  0317  f1                	pop	af
  1534  0318  f1                	pop	af
  1535  0319  c9                	ret
  1536                          	SECTION rodata_compiler
  1537                          ___str_12:
  1538  00c2  25634c            	DEFM "%cL"
  1539  00c5  00                	DEFB 0x00
  1540                          	SECTION code_compiler
  1541                          ;	---------------------------------
  1542                          ; Function vt_restoreCursorPosition
  1543                          ; ---------------------------------
  1544                          _vt_restoreCursorPosition:
  1545  031a  210000            	ld	hl,0x001b
  1546  031d  e5                	push	hl
  1547  031e  210000            	ld	hl,___str_13
  1548  0321  e5                	push	hl
  1549  0322  cd0000            	call	_printf
  1550  0325  f1                	pop	af
  1551  0326  f1                	pop	af
  1552  0327  c9                	ret
  1553                          	SECTION rodata_compiler
  1554                          ___str_13:
  1555  00c6  25fe6b            	DEFM "%ck"
  1556  00c9  00                	DEFB 0x00
  1557                          	SECTION code_compiler
  1558                          ;	---------------------------------
  1559                          ; Function vt_backgroundColor
  1560                          ; ---------------------------------
  1561                          _vt_backgroundColor:
  1562  0328  dde5              	push	ix
  1563  032a  dd210000          	ld	ix,0
  1564  032e  dd39              	add	ix,sp
  1565  0330  210000            	ld	hl,0x001b
  1566  0333  e5                	push	hl
  1567  0334  210000            	ld	hl, +(__sgoioblk + 10)
  1568  0337  e5                	push	hl
  1569  0338  cd0000            	call	_fputc_callee
  1570  033b  210000            	ld	hl,0x0063
  1571  033e  e5                	push	hl
  1572  033f  210000            	ld	hl, +(__sgoioblk + 10)
  1573  0342  e5                	push	hl
  1574  0343  cd0000            	call	_fputc_callee
  1575  0346  dd4e00            	ld	c,(ix+4)
  1576  0349  0600              	ld	b,0x00
  1577  034b  c5                	push	bc
  1578  034c  210000            	ld	hl, +(__sgoioblk + 10)
  1579  034f  e5                	push	hl
  1580  0350  cd0000            	call	_fputc_callee
  1581  0353  dde1              	pop	ix
  1582  0355  c9                	ret
  1583                          	SECTION code_compiler
  1584                          ;	---------------------------------
  1585                          ; Function vt_saveCursorPosition
  1586                          ; ---------------------------------
  1587                          _vt_saveCursorPosition:
  1588  0356  210000            	ld	hl,0x001b
  1589  0359  e5                	push	hl
  1590  035a  210000            	ld	hl,___str_14
  1591  035d  e5                	push	hl
  1592  035e  cd0000            	call	_printf
  1593  0361  f1                	pop	af
  1594  0362  f1                	pop	af
  1595  0363  c9                	ret
  1596                          	SECTION rodata_compiler
  1597                          ___str_14:
  1598  00ca  ff636a            	DEFM "%cj"
  1599  00cd  00                	DEFB 0x00
  1600                          	SECTION code_compiler
  1601                          ;	---------------------------------
  1602                          ; Function vt_cursorUpAndInsert
  1603                          ; ---------------------------------
  1604                          _vt_cursorUpAndInsert:
  1605  0364  210000            	ld	hl,0x001b
  1606  0367  e5                	push	hl
  1607  0368  210000            	ld	hl,___str_15
  1608  036b  e5                	push	hl
  1609  036c  cd0000            	call	_printf
  1610  036f  f1                	pop	af
  1611  0370  f1                	pop	af
  1612  0371  c9                	ret
  1613                          	SECTION rodata_compiler
  1614                          ___str_15:
  1615  00ce  fe6349            	DEFM "%cI"
  1616  00d1  00                	DEFB 0x00
  1617                          	SECTION code_compiler
  1618                          ;	---------------------------------
  1619                          ; Function vt_wrapOff
  1620                          ; ---------------------------------
  1621                          _vt_wrapOff:
  1622  0372  210000            	ld	hl,0x001b
  1623  0375  e5                	push	hl
  1624  0376  210000            	ld	hl,___str_16
  1625  0379  e5                	push	hl
  1626  037a  cd0000            	call	_printf
  1627  037d  f1                	pop	af
  1628  037e  f1                	pop	af
  1629  037f  c9                	ret
  1630                          	SECTION rodata_compiler
  1631                          ___str_16:
  1632  00d2  25d877            	DEFM "%cw"
  1633  00d5  00                	DEFB 0x00
  1634                          	SECTION code_compiler
  1635                          ;	---------------------------------
  1636                          ; Function vt_wrapOn
  1637                          ; ---------------------------------
  1638                          _vt_wrapOn:
  1639  0380  210000            	ld	hl,0x001b
  1640  0383  e5                	push	hl
  1641  0384  210000            	ld	hl,___str_17
  1642  0387  e5                	push	hl
  1643  0388  cd0000            	call	_printf
  1644  038b  f1                	pop	af
  1645  038c  f1                	pop	af
  1646  038d  c9                	ret
  1647                          	SECTION rodata_compiler
  1648                          ___str_17:
  1649  00d6  250476            	DEFM "%cv"
  1650  00d9  00                	DEFB 0x00
  1651                          	SECTION code_compiler
  1652                          ;	---------------------------------
  1653                          ; Function vt_normalVideo
  1654                          ; ---------------------------------
  1655                          _vt_normalVideo:
  1656  038e  210000            	ld	hl,0x001b
  1657  0391  e5                	push	hl
  1658  0392  210000            	ld	hl,___str_18
  1659  0395  e5                	push	hl
  1660  0396  cd0000            	call	_printf
  1661  0399  f1                	pop	af
  1662  039a  f1                	pop	af
  1663  039b  c9                	ret
  1664                          	SECTION rodata_compiler
  1665                          ___str_18:
  1666  00da  056371            	DEFM "%cq"
  1667  00dd  00                	DEFB 0x00
  1668                          	SECTION code_compiler
  1669                          ;	---------------------------------
  1670                          ; Function vt_reverseVideo
  1671                          ; ---------------------------------
  1672                          _vt_reverseVideo:
  1673  039c  210000            	ld	hl,0x001b
  1674  039f  e5                	push	hl
  1675  03a0  210000            	ld	hl,___str_19
  1676  03a3  e5                	push	hl
  1677  03a4  cd0000            	call	_printf
  1678  03a7  f1                	pop	af
  1679  03a8  f1                	pop	af
  1680  03a9  c9                	ret
  1681                          	SECTION rodata_compiler
  1682                          ___str_19:
  1683  00de  25fc70            	DEFM "%cp"
  1684  00e1  00                	DEFB 0x00
  1685                          	SECTION code_compiler
  1686                          ;	---------------------------------
  1687                          ; Function ayWrite
  1688                          ; ---------------------------------
  1689                          _ayWrite:
  1690  03aa  fd210000          	ld	iy,2
  1691  03ae  fd39              	add	iy, sp
  1692  03b0  fd7e00            	ld	a,(iy+0)
  1693  03b3  d300              	out	(_IO_AYLATCH), a
  1694  03b5  fd7e00            	ld	a,(iy+0+1)
  1695  03b8  d300              	out	(_IO_AYDATA), a
  1696  03ba  c9                	ret
  1697                          	SECTION code_compiler
  1698                          ;	---------------------------------
  1699                          ; Function ayRead
  1700                          ; ---------------------------------
  1701                          _ayRead:
  1702  03bb  210000            	ld	hl,2+0
  1703  03be  39                	add	hl, sp
  1704  03bf  7e                	ld	a, (hl)
  1705  03c0  d300              	out	(_IO_AYLATCH), a
  1706  03c2  db00              	in	a, (_IO_AYDATA)
  1707  03c4  6f                	ld	l, a
  1708  03c5  c9                	ret
  1709                          	SECTION code_compiler
  1710                          ;	---------------------------------
  1711                          ; Function playNoteDelay
  1712                          ; ---------------------------------
  1713                          _playNoteDelay:
  1714  03c6  dde5              	push	ix
  1715  03c8  dd210000          	ld	ix,0
  1716  03cc  dd39              	add	ix,sp
  1717  03ce  dd5600            	ld	d,(ix+7)
  1718  03d1  1e00              	ld	e,0x0b
  1719  03d3  d5                	push	de
  1720  03d4  cd0000            	call	_ayWrite
  1721  03d7  f1                	pop	af
  1722  03d8  dd5600            	ld	d,(ix+6)
  1723  03db  1e00              	ld	e,0x0c
  1724  03dd  d5                	push	de
  1725  03de  cd0000            	call	_ayWrite
  1726  03e1  f1                	pop	af
  1727  03e2  dd7e04            	ld	a,(ix+4)
  1728  03e5  b7                	or	a, a
  1729  03e6  2811              	jr	Z,l_playNoteDelay_00101
  1730  03e8  dd7e04            	ld	a,(ix+4)
  1731  03eb  3d                	dec	a
  1732  03ec  2855              	jr	Z,l_playNoteDelay_00102
  1733  03ee  dd7e04            	ld	a,(ix+4)
  1734  03f1  d602              	sub	a,0x02
  1735  03f3  ca8a04            	jp	Z,l_playNoteDelay_00103
  1736  03f6  c3cf04            	jp	l_playNoteDelay_00105
  1737                          l_playNoteDelay_00101:
  1738  03f9  110810            	ld	de,0x1008
  1739  03fc  d5                	push	de
  1740  03fd  cdaa03            	call	_ayWrite
  1741  0400  f1                	pop	af
  1742  0401  af                	xor	a, a
  1743  0402  57                	ld	d,a
  1744  0403  1e09              	ld	e,0x09
  1745  0405  d5                	push	de
  1746  0406  cdaa03            	call	_ayWrite
  1747  0409  f1                	pop	af
  1748  040a  af                	xor	a, a
  1749  040b  57                	ld	d,a
  1750  040c  1e0a              	ld	e,0x0a
  1751  040e  d5                	push	de
  1752  040f  cdaa03            	call	_ayWrite
  1753  0412  f1                	pop	af
  1754  0413  014a00            	ld	bc,__NOTES_FINE+0
  1755  0416  dd6e05            	ld	l,(ix+5)
  1756  0419  2600              	ld	h,0x00
  1757  041b  09                	add	hl, bc
  1758  041c  7e                	ld	a, (hl)
  1759  041d  f5                	push	af
  1760  041e  33                	inc	sp
  1761  041f  af                	xor	a, a
  1762  0420  f5                	push	af
  1763  0421  33                	inc	sp
  1764  0422  cdaa03            	call	_ayWrite
  1765  0425  f1                	pop	af
  1766  0426  010200            	ld	bc,__NOTES_COURSE+0
  1767  0429  dd6e05            	ld	l,(ix+5)
  1768  042c  2600              	ld	h,0x00
  1769  042e  09                	add	hl, bc
  1770  042f  56                	ld	d, (hl)
  1771  0430  1e01              	ld	e,0x01
  1772  0432  d5                	push	de
  1773  0433  cdaa03            	call	_ayWrite
  1774  0436  f1                	pop	af
  1775  0437  af                	xor	a, a
  1776  0438  57                	ld	d,a
  1777  0439  1e0d              	ld	e,0x0d
  1778  043b  d5                	push	de
  1779  043c  cdaa03            	call	_ayWrite
  1780  043f  f1                	pop	af
  1781  0440  c3cf04            	jp	l_playNoteDelay_00105
  1782                          l_playNoteDelay_00102:
  1783  0443  af                	xor	a, a
  1784  0444  57                	ld	d,a
  1785  0445  1e08              	ld	e,0x08
  1786  0447  d5                	push	de
  1787  0448  cdaa03            	call	_ayWrite
  1788  044b  f1                	pop	af
  1789  044c  110910            	ld	de,0x1009
  1790  044f  d5                	push	de
  1791  0450  cdaa03            	call	_ayWrite
  1792  0453  f1                	pop	af
  1793  0454  af                	xor	a, a
  1794  0455  57                	ld	d,a
  1795  0456  1e0a              	ld	e,0x0a
  1796  0458  d5                	push	de
  1797  0459  cdaa03            	call	_ayWrite
  1798  045c  f1                	pop	af
  1799  045d  014a00            	ld	bc,__NOTES_FINE+0
  1800  0460  dd6e05            	ld	l,(ix+5)
  1801  0463  2600              	ld	h,0x00
  1802  0465  09                	add	hl, bc
  1803  0466  56                	ld	d, (hl)
  1804  0467  1e02              	ld	e,0x02
  1805  0469  d5                	push	de
  1806  046a  cdaa03            	call	_ayWrite
  1807  046d  f1                	pop	af
  1808  046e  010200            	ld	bc,__NOTES_COURSE+0
  1809  0471  dd6e05            	ld	l,(ix+5)
  1810  0474  2600              	ld	h,0x00
  1811  0476  09                	add	hl, bc
  1812  0477  56                	ld	d, (hl)
  1813  0478  1e03              	ld	e,0x03
  1814  047a  d5                	push	de
  1815  047b  cdaa03            	call	_ayWrite
  1816  047e  f1                	pop	af
  1817  047f  af                	xor	a, a
  1818  0480  57                	ld	d,a
  1819  0481  1e0d              	ld	e,0x0d
  1820  0483  d5                	push	de
  1821  0484  cdaa03            	call	_ayWrite
  1822  0487  f1                	pop	af
  1823  0488  1845              	jr	l_playNoteDelay_00105
  1824                          l_playNoteDelay_00103:
  1825  048a  af                	xor	a, a
  1826  048b  57                	ld	d,a
  1827  048c  1e08              	ld	e,0x08
  1828  048e  d5                	push	de
  1829  048f  cdaa03            	call	_ayWrite
  1830  0492  f1                	pop	af
  1831  0493  af                	xor	a, a
  1832  0494  57                	ld	d,a
  1833  0495  1e09              	ld	e,0x09
  1834  0497  d5                	push	de
  1835  0498  cdaa03            	call	_ayWrite
  1836  049b  f1                	pop	af
  1837  049c  110a10            	ld	de,0x100a
  1838  049f  d5                	push	de
  1839  04a0  cdaa03            	call	_ayWrite
  1840  04a3  f1                	pop	af
  1841  04a4  014a00            	ld	bc,__NOTES_FINE+0
  1842  04a7  dd6e05            	ld	l,(ix+5)
  1843  04aa  2600              	ld	h,0x00
  1844  04ac  09                	add	hl, bc
  1845  04ad  56                	ld	d, (hl)
  1846  04ae  1e04              	ld	e,0x04
  1847  04b0  d5                	push	de
  1848  04b1  cdaa03            	call	_ayWrite
  1849  04b4  f1                	pop	af
  1850  04b5  010200            	ld	bc,__NOTES_COURSE+0
  1851  04b8  dd6e05            	ld	l,(ix+5)
  1852  04bb  2600              	ld	h,0x00
  1853  04bd  09                	add	hl, bc
  1854  04be  56                	ld	d, (hl)
  1855  04bf  1e05              	ld	e,0x05
  1856  04c1  d5                	push	de
  1857  04c2  cdaa03            	call	_ayWrite
  1858  04c5  f1                	pop	af
  1859  04c6  af                	xor	a, a
  1860  04c7  57                	ld	d,a
  1861  04c8  1e0d              	ld	e,0x0d
  1862  04ca  d5                	push	de
  1863  04cb  cdaa03            	call	_ayWrite
  1864  04ce  f1                	pop	af
  1865                          l_playNoteDelay_00105:
  1866  04cf  dde1              	pop	ix
  1867  04d1  c9                	ret
  1868                          	SECTION code_compiler
  1869                          ;	---------------------------------
  1870                          ; Function isKeyPressed
  1871                          ; ---------------------------------
  1872                          _isKeyPressed:
  1873  04d2  3a0400            	ld	a, (__kbdBufferWritePos+0)
  1874  04d5  fd210300          	ld	iy,__kbdBufferReadPos
  1875  04d9  fd9600            	sub	a,(iy+0)
  1876  04dc  2004              	jr	NZ,l_isKeyPressed_00103
  1877  04de  3e01              	ld	a,0x01
  1878  04e0  1801              	jr	l_isKeyPressed_00104
  1879                          l_isKeyPressed_00103:
  1880  04e2  af                	xor	a,a
  1881                          l_isKeyPressed_00104:
  1882  04e3  ee01              	xor	a,0x01
  1883  04e5  6f                	ld	l, a
  1884  04e6  c9                	ret
  1885                          	SECTION code_compiler
  1886                          ;	---------------------------------
  1887                          ; Function getChar
  1888                          ; ---------------------------------
  1889                          _getChar:
  1890                          l_getChar_00101:
  1891  04e7  3a0400            	ld	a, (__kbdBufferWritePos+0)
  1892  04ea  fd210300          	ld	iy,__kbdBufferReadPos
  1893  04ee  fd9600            	sub	a,(iy+0)
  1894  04f1  28f4              	jr	Z,l_getChar_00101
  1895  04f3  010001            	ld	bc,__kbdBuffer+0
  1896  04f6  2a0300            	ld	hl, (__kbdBufferReadPos)
  1897  04f9  2600              	ld	h,0x00
  1898  04fb  09                	add	hl, bc
  1899  04fc  4e                	ld	c, (hl)
  1900  04fd  3a0300            	ld	a, (__kbdBufferReadPos+0)
  1901  0500  3c                	inc	a
  1902  0501  320300            	ld	(__kbdBufferReadPos+0), a
  1903  0504  69                	ld	l, c
  1904  0505  c9                	ret
  1905                          	SECTION code_compiler
  1906                          ;	---------------------------------
  1907                          ; Function getJoyStatus
  1908                          ; ---------------------------------
  1909                          _getJoyStatus:
  1910  0506  3e06              	ld	a, +((__joyStatus) & 0xFF)
  1911  0508  210200            	ld	hl,2
  1912  050b  39                	add	hl, sp
  1913  050c  86                	add	a, (hl)
  1914  050d  6f                	ld	l, a
  1915  050e  3e00              	ld	a, +((__joyStatus) / 256)
  1916  0510  ce00              	adc	a,0x00
  1917  0512  67                	ld	h, a
  1918  0513  6e                	ld	l, (hl)
  1919  0514  c9                	ret
  1920                          	SECTION code_compiler
  1921                          ;	---------------------------------
  1922                          ; Function readLine
  1923                          ; ---------------------------------
  1924                          _readLine:
  1925  0515  dde5              	push	ix
  1926  0517  dd210000          	ld	ix,0
  1927  051b  dd39              	add	ix,sp
  1928  051d  0e00              	ld	c,0x00
  1929                          l_readLine_00120:
  1930  051f  c5                	push	bc
  1931  0520  cde704            	call	_getChar
  1932  0523  5d                	ld	e, l
  1933  0524  c1                	pop	bc
  1934  0525  7b                	ld	a, e
  1935  0526  d60d              	sub	a,0x0d
  1936  0528  cab105            	jp	Z,l_readLine_00121
  1937  052b  79                	ld	a, c
  1938  052c  dd9606            	sub	a,(ix+6)
  1939  052f  3020              	jr	NC,l_readLine_00112
  1940  0531  7b                	ld	a, e
  1941  0532  d620              	sub	a,0x20
  1942  0534  381b              	jr	C,l_readLine_00112
  1943  0536  3e7e              	ld	a,0x7e
  1944  0538  93                	sub	a, e
  1945  0539  3816              	jr	C,l_readLine_00112
  1946  053b  dd6e04            	ld	l,(ix+4)
  1947  053e  dd6605            	ld	h,(ix+5)
  1948  0541  0600              	ld	b,0x00
  1949  0543  09                	add	hl, bc
  1950  0544  73                	ld	(hl), e
  1951  0545  c5                	push	bc
  1952  0546  7b                	ld	a, e
  1953  0547  f5                	push	af
  1954  0548  33                	inc	sp
  1955  0549  cdbc13            	call	_vdp_write
  1956  054c  33                	inc	sp
  1957  054d  c1                	pop	bc
  1958  054e  0c                	inc	c
  1959  054f  18ce              	jr	l_readLine_00120
  1960                          l_readLine_00112:
  1961  0551  7b                	ld	a, e
  1962  0552  d67f              	sub	a,0x7f
  1963  0554  2004              	jr	NZ,l_readLine_00175
  1964  0556  3e01              	ld	a,0x01
  1965  0558  1801              	jr	l_readLine_00176
  1966                          l_readLine_00175:
  1967  055a  af                	xor	a,a
  1968                          l_readLine_00176:
  1969  055b  47                	ld	b, a
  1970  055c  dd7e06            	ld	a,(ix+6)
  1971  055f  91                	sub	a, c
  1972  0560  2018              	jr	NZ,l_readLine_00108
  1973  0562  cb40              	bit	0, b
  1974  0564  2014              	jr	NZ,l_readLine_00108
  1975  0566  c5                	push	bc
  1976  0567  210a00            	ld	hl,0x000a
  1977  056a  e5                	push	hl
  1978  056b  3e3c              	ld	a,0x3c
  1979  056d  f5                	push	af
  1980  056e  33                	inc	sp
  1981  056f  af                	xor	a, a
  1982  0570  f5                	push	af
  1983  0571  33                	inc	sp
  1984  0572  cdc603            	call	_playNoteDelay
  1985  0575  f1                	pop	af
  1986  0576  f1                	pop	af
  1987  0577  c1                	pop	bc
  1988  0578  18a5              	jr	l_readLine_00120
  1989                          l_readLine_00108:
  1990  057a  78                	ld	a, b
  1991  057b  b7                	or	a, a
  1992  057c  28a1              	jr	Z,l_readLine_00120
  1993  057e  79                	ld	a, c
  1994  057f  b7                	or	a, a
  1995  0580  289d              	jr	Z,l_readLine_00120
  1996  0582  110a00            	ld	de,_vdp_cursor+0
  1997  0585  1a                	ld	a, (de)
  1998  0586  b7                	or	a, a
  1999  0587  200c              	jr	NZ,l_readLine_00102
  2000  0589  3e27              	ld	a,0x27
  2001  058b  12                	ld	(de), a
  2002  058c  3a0b00            	ld	a, ((_vdp_cursor + 1) + 0)
  2003  058f  3d                	dec	a
  2004  0590  320b00            	ld	((_vdp_cursor + 1)),a
  2005  0593  1802              	jr	l_readLine_00103
  2006                          l_readLine_00102:
  2007  0595  3d                	dec	a
  2008  0596  12                	ld	(de), a
  2009                          l_readLine_00103:
  2010  0597  0d                	dec	c
  2011  0598  3a0b00            	ld	a, ((_vdp_cursor + 1) + 0)
  2012  059b  210a00            	ld	hl,_vdp_cursor + 0
  2013  059e  46                	ld	b, (hl)
  2014  059f  c5                	push	bc
  2015  05a0  2620              	ld	h,0x20
  2016  05a2  e5                	push	hl
  2017  05a3  33                	inc	sp
  2018  05a4  f5                	push	af
  2019  05a5  33                	inc	sp
  2020  05a6  c5                	push	bc
  2021  05a7  33                	inc	sp
  2022  05a8  cd3314            	call	_vdp_writeCharAtLocation
  2023  05ab  f1                	pop	af
  2024  05ac  33                	inc	sp
  2025  05ad  c1                	pop	bc
  2026  05ae  c31f05            	jp	l_readLine_00120
  2027                          l_readLine_00121:
  2028  05b1  69                	ld	l, c
  2029  05b2  dde1              	pop	ix
  2030  05b4  c9                	ret
  2031                          	SECTION code_compiler
  2032                          ;	---------------------------------
  2033                          ; Function hcca_ping
  2034                          ; ---------------------------------
  2035                          _hcca_ping:
  2036  05b5  3ea1              	ld	a,0xa1
  2037  05b7  f5                	push	af
  2038  05b8  33                	inc	sp
  2039  05b9  cd2207            	call	_hcca_writeByte
  2040  05bc  33                	inc	sp
  2041  05bd  010000            	ld	bc,0x0000
  2042  05c0  110000            	ld	de,0x0000
  2043                          l_hcca_ping_00103:
  2044  05c3  3a0200            	ld	a, (__rxBufferWritePos+0)
  2045  05c6  fd210100          	ld	iy,__rxBufferReadPos
  2046  05ca  fd9600            	sub	a,(iy+0)
  2047  05cd  2016              	jr	NZ,l_hcca_ping_00105
  2048  05cf  0c                	inc	c
  2049  05d0  2004              	jr	NZ,l_hcca_ping_00132
  2050  05d2  04                	inc	b
  2051  05d3  2001              	jr	NZ,l_hcca_ping_00132
  2052  05d5  13                	inc	de
  2053                          l_hcca_ping_00132:
  2054  05d6  79                	ld	a, c
  2055  05d7  d650              	sub	a,0x50
  2056  05d9  20e8              	jr	NZ,l_hcca_ping_00103
  2057  05db  78                	ld	a, b
  2058  05dc  d6c3              	sub	a,0xc3
  2059  05de  b3                	or	a, e
  2060  05df  b2                	or	a,d
  2061  05e0  20e1              	jr	NZ,l_hcca_ping_00103
  2062  05e2  6f                	ld	l,a
  2063  05e3  180e              	jr	l_hcca_ping_00108
  2064                          l_hcca_ping_00105:
  2065  05e5  cd3706            	call	_hcca_readByte
  2066  05e8  7d                	ld	a, l
  2067  05e9  d655              	sub	a,0x55
  2068  05eb  2004              	jr	NZ,l_hcca_ping_00107
  2069  05ed  2e01              	ld	l,0x01
  2070  05ef  1802              	jr	l_hcca_ping_00108
  2071                          l_hcca_ping_00107:
  2072  05f1  2e00              	ld	l,0x00
  2073                          l_hcca_ping_00108:
  2074  05f3  c9                	ret
  2075                          	SECTION code_compiler
  2076                          ;	---------------------------------
  2077                          ; Function hcca_isRxBufferAvailable
  2078                          ; ---------------------------------
  2079                          _hcca_isRxBufferAvailable:
  2080  05f4  3a0200            	ld	a, (__rxBufferWritePos+0)
  2081  05f7  fd210100          	ld	iy,__rxBufferReadPos
  2082  05fb  fd9600            	sub	a,(iy+0)
  2083  05fe  2004              	jr	NZ,l_hcca_isRxBufferAvailable_00103
  2084  0600  3e01              	ld	a,0x01
  2085  0602  1801              	jr	l_hcca_isRxBufferAvailable_00104
  2086                          l_hcca_isRxBufferAvailable_00103:
  2087  0604  af                	xor	a,a
  2088                          l_hcca_isRxBufferAvailable_00104:
  2089  0605  ee01              	xor	a,0x01
  2090  0607  6f                	ld	l, a
  2091  0608  c9                	ret
  2092                          	SECTION code_compiler
  2093                          ;	---------------------------------
  2094                          ; Function hcca_getSizeOfDataInBuffer
  2095                          ; ---------------------------------
  2096                          _hcca_getSizeOfDataInBuffer:
  2097  0609  3b                	dec	sp
  2098  060a  3a0200            	ld	a,(__rxBufferWritePos)
  2099  060d  fd210100          	ld	iy,__rxBufferReadPos
  2100  0611  fd9600            	sub	a,(iy+0)
  2101  0614  3017              	jr	NC,l_hcca_getSizeOfDataInBuffer_00102
  2102  0616  3a0100            	ld	a, (__rxBufferReadPos+0)
  2103  0619  4f                	ld	c, a
  2104  061a  210000            	ld	hl,0
  2105  061d  39                	add	hl, sp
  2106  061e  3eff              	ld	a,0xff
  2107  0620  91                	sub	a, c
  2108  0621  77                	ld	(hl), a
  2109  0622  3a0200            	ld	a, (__rxBufferWritePos+0)
  2110  0625  210000            	ld	hl,0
  2111  0628  39                	add	hl, sp
  2112  0629  86                	add	a, (hl)
  2113  062a  6f                	ld	l, a
  2114  062b  1808              	jr	l_hcca_getSizeOfDataInBuffer_00103
  2115                          l_hcca_getSizeOfDataInBuffer_00102:
  2116  062d  210100            	ld	hl,__rxBufferReadPos
  2117  0630  3a0200            	ld	a, (__rxBufferWritePos+0)
  2118  0633  96                	sub	a, (hl)
  2119  0634  6f                	ld	l, a
  2120                          l_hcca_getSizeOfDataInBuffer_00103:
  2121  0635  33                	inc	sp
  2122  0636  c9                	ret
  2123                          	SECTION code_compiler
  2124                          ;	---------------------------------
  2125                          ; Function hcca_readByte
  2126                          ; ---------------------------------
  2127                          _hcca_readByte:
  2128                          l_hcca_readByte_00101:
  2129  0637  3a0200            	ld	a, (__rxBufferWritePos+0)
  2130  063a  fd210100          	ld	iy,__rxBufferReadPos
  2131  063e  fd9600            	sub	a,(iy+0)
  2132  0641  28f4              	jr	Z,l_hcca_readByte_00101
  2133  0643  010000            	ld	bc,__rxBuffer+0
  2134  0646  2a0100            	ld	hl, (__rxBufferReadPos)
  2135  0649  2600              	ld	h,0x00
  2136  064b  09                	add	hl, bc
  2137  064c  4e                	ld	c, (hl)
  2138  064d  3a0100            	ld	a, (__rxBufferReadPos+0)
  2139  0650  3c                	inc	a
  2140  0651  320100            	ld	(__rxBufferReadPos+0), a
  2141  0654  69                	ld	l, c
  2142  0655  c9                	ret
  2143                          	SECTION code_compiler
  2144                          ;	---------------------------------
  2145                          ; Function hcca_readUInt16
  2146                          ; ---------------------------------
  2147                          _hcca_readUInt16:
  2148  0656  cd3706            	call	_hcca_readByte
  2149  0659  4d                	ld	c, l
  2150  065a  0600              	ld	b,0x00
  2151  065c  c5                	push	bc
  2152  065d  cd3706            	call	_hcca_readByte
  2153  0660  c1                	pop	bc
  2154  0661  65                	ld	h, l
  2155  0662  2e00              	ld	l,0x00
  2156  0664  09                	add	hl, bc
  2157  0665  c9                	ret
  2158                          	SECTION code_compiler
  2159                          ;	---------------------------------
  2160                          ; Function hcca_readInt16
  2161                          ; ---------------------------------
  2162                          _hcca_readInt16:
  2163  0666  cd3706            	call	_hcca_readByte
  2164  0669  4d                	ld	c, l
  2165  066a  0600              	ld	b,0x00
  2166  066c  c5                	push	bc
  2167  066d  cd3706            	call	_hcca_readByte
  2168  0670  c1                	pop	bc
  2169  0671  65                	ld	h, l
  2170  0672  2e00              	ld	l,0x00
  2171  0674  09                	add	hl, bc
  2172  0675  c9                	ret
  2173                          	SECTION code_compiler
  2174                          ;	---------------------------------
  2175                          ; Function hcca_readUInt32
  2176                          ; ---------------------------------
  2177                          _hcca_readUInt32:
  2178  0676  dde5              	push	ix
  2179  0678  dd210000          	ld	ix,0
  2180  067c  dd39              	add	ix,sp
  2181  067e  f5                	push	af
  2182  067f  f5                	push	af
  2183  0680  cd3706            	call	_hcca_readByte
  2184  0683  dd75fc            	ld	(ix-4),l
  2185  0686  cd3706            	call	_hcca_readByte
  2186  0689  dd75fd            	ld	(ix-3),l
  2187  068c  cd3706            	call	_hcca_readByte
  2188  068f  dd75fe            	ld	(ix-2),l
  2189  0692  cd3706            	call	_hcca_readByte
  2190  0695  dd75ff            	ld	(ix-1),l
  2191  0698  e1                	pop	hl
  2192  0699  e5                	push	hl
  2193  069a  dd5efe            	ld	e,(ix-2)
  2194  069d  dd56ff            	ld	d,(ix-1)
  2195  06a0  ddf9              	ld	sp, ix
  2196  06a2  dde1              	pop	ix
  2197  06a4  c9                	ret
  2198                          	SECTION code_compiler
  2199                          ;	---------------------------------
  2200                          ; Function hcca_readInt32
  2201                          ; ---------------------------------
  2202                          _hcca_readInt32:
  2203  06a5  dde5              	push	ix
  2204  06a7  dd210000          	ld	ix,0
  2205  06ab  dd39              	add	ix,sp
  2206  06ad  f5                	push	af
  2207  06ae  f5                	push	af
  2208  06af  cd3706            	call	_hcca_readByte
  2209  06b2  dd75fc            	ld	(ix-4),l
  2210  06b5  cd3706            	call	_hcca_readByte
  2211  06b8  dd75fd            	ld	(ix-3),l
  2212  06bb  cd3706            	call	_hcca_readByte
  2213  06be  dd75fe            	ld	(ix-2),l
  2214  06c1  cd3706            	call	_hcca_readByte
  2215  06c4  dd75ff            	ld	(ix-1),l
  2216  06c7  e1                	pop	hl
  2217  06c8  e5                	push	hl
  2218  06c9  dd5efe            	ld	e,(ix-2)
  2219  06cc  dd56ff            	ld	d,(ix-1)
  2220  06cf  ddf9              	ld	sp, ix
  2221  06d1  dde1              	pop	ix
  2222  06d3  c9                	ret
  2223                          	SECTION code_compiler
  2224                          ;	---------------------------------
  2225                          ; Function hcca_readBytes
  2226                          ; ---------------------------------
  2227                          _hcca_readBytes:
  2228  06d4  dde5              	push	ix
  2229  06d6  dd210000          	ld	ix,0
  2230  06da  dd39              	add	ix,sp
  2231  06dc  dd7e08            	ld	a,(ix+8)
  2232  06df  dd8604            	add	a,(ix+4)
  2233  06e2  4f                	ld	c, a
  2234  06e3  dd7e09            	ld	a,(ix+9)
  2235  06e6  dd8e05            	adc	a,(ix+5)
  2236  06e9  47                	ld	b, a
  2237  06ea  dd6e06            	ld	l,(ix+6)
  2238  06ed  dd6607            	ld	h,(ix+7)
  2239  06f0  09                	add	hl, bc
  2240  06f1  eb                	ex	de, hl
  2241                          l_hcca_readBytes_00101:
  2242  06f2  3a0200            	ld	a, (__rxBufferWritePos+0)
  2243  06f5  fd210100          	ld	iy,__rxBufferReadPos
  2244  06f9  fd9600            	sub	a,(iy+0)
  2245  06fc  28f4              	jr	Z,l_hcca_readBytes_00101
  2246  06fe  fd210000          	ld	iy,__rxBuffer
  2247  0702  c5                	push	bc
  2248  0703  ed4b0100          	ld	bc, (__rxBufferReadPos)
  2249  0707  0600              	ld	b,0x00
  2250  0709  fd09              	add	iy, bc
  2251  070b  c1                	pop	bc
  2252  070c  fd7e00            	ld	a,(iy+0)
  2253  070f  02                	ld	(bc), a
  2254  0710  03                	inc	bc
  2255  0711  3a0100            	ld	a, (__rxBufferReadPos+0)
  2256  0714  3c                	inc	a
  2257  0715  320100            	ld	(__rxBufferReadPos+0), a
  2258  0718  69                	ld	l, c
  2259  0719  60                	ld	h, b
  2260  071a  bf                	cp	a, a
  2261  071b  ed52              	sbc	hl, de
  2262  071d  20d3              	jr	NZ,l_hcca_readBytes_00101
  2263  071f  dde1              	pop	ix
  2264  0721  c9                	ret
  2265                          	SECTION code_compiler
  2266                          ;	---------------------------------
  2267                          ; Function hcca_writeByte
  2268                          ; ---------------------------------
  2269                          _hcca_writeByte:
  2270  0722  cd7000            	call	_NABU_DisableInterrupts
  2271  0725  3e0e              	ld	a,0x0e
  2272  0727  f5                	push	af
  2273  0728  33                	inc	sp
  2274  0729  cdbb03            	call	_ayRead
  2275  072c  33                	inc	sp
  2276  072d  45                	ld	b, l
  2277  072e  c5                	push	bc
  2278  072f  110e40            	ld	de,0x400e
  2279  0732  d5                	push	de
  2280  0733  cdaa03            	call	_ayWrite
  2281  0736  f1                	pop	af
  2282  0737  c1                	pop	bc
  2283  0738  3e0f              	ld	a,0x0f
  2284  073a  d341              	out	(_IO_AYLATCH), a
  2285                          l_hcca_writeByte_00101:
  2286  073c  db40              	in	a, (_IO_AYDATA)
  2287  073e  cb57              	bit	2, a
  2288  0740  20fa              	jr	NZ,l_hcca_writeByte_00101
  2289  0742  210200            	ld	hl,2+0
  2290  0745  39                	add	hl, sp
  2291  0746  7e                	ld	a, (hl)
  2292  0747  d380              	out	(_IO_HCCA), a
  2293  0749  c5                	push	bc
  2294  074a  33                	inc	sp
  2295  074b  3e0e              	ld	a,0x0e
  2296  074d  f5                	push	af
  2297  074e  33                	inc	sp
  2298  074f  cdaa03            	call	_ayWrite
  2299  0752  f1                	pop	af
  2300  0753  c37200            	jp	_NABU_EnableInterrupts
  2301                          	SECTION code_compiler
  2302                          ;	---------------------------------
  2303                          ; Function hcca_writeUInt32
  2304                          ; ---------------------------------
  2305                          _hcca_writeUInt32:
  2306  0756  210200            	ld	hl,2+0
  2307  0759  39                	add	hl, sp
  2308  075a  7e                	ld	a, (hl)
  2309  075b  f5                	push	af
  2310  075c  33                	inc	sp
  2311  075d  cd2207            	call	_hcca_writeByte
  2312  0760  33                	inc	sp
  2313  0761  210300            	ld	hl,2+1
  2314  0764  39                	add	hl, sp
  2315  0765  7e                	ld	a, (hl)
  2316  0766  f5                	push	af
  2317  0767  33                	inc	sp
  2318  0768  cd2207            	call	_hcca_writeByte
  2319  076b  33                	inc	sp
  2320  076c  210400            	ld	hl,2+2
  2321  076f  39                	add	hl, sp
  2322  0770  7e                	ld	a, (hl)
  2323  0771  f5                	push	af
  2324  0772  33                	inc	sp
  2325  0773  cd2207            	call	_hcca_writeByte
  2326  0776  33                	inc	sp
  2327  0777  210500            	ld	hl,2+3
  2328  077a  39                	add	hl, sp
  2329  077b  7e                	ld	a, (hl)
  2330  077c  f5                	push	af
  2331  077d  33                	inc	sp
  2332  077e  cd2207            	call	_hcca_writeByte
  2333  0781  33                	inc	sp
  2334  0782  c9                	ret
  2335                          	SECTION code_compiler
  2336                          ;	---------------------------------
  2337                          ; Function hcca_writeInt32
  2338                          ; ---------------------------------
  2339                          _hcca_writeInt32:
  2340  0783  210200            	ld	hl,2+0
  2341  0786  39                	add	hl, sp
  2342  0787  7e                	ld	a, (hl)
  2343  0788  f5                	push	af
  2344  0789  33                	inc	sp
  2345  078a  cd2207            	call	_hcca_writeByte
  2346  078d  33                	inc	sp
  2347  078e  210300            	ld	hl,2+1
  2348  0791  39                	add	hl, sp
  2349  0792  7e                	ld	a, (hl)
  2350  0793  f5                	push	af
  2351  0794  33                	inc	sp
  2352  0795  cd2207            	call	_hcca_writeByte
  2353  0798  33                	inc	sp
  2354  0799  210400            	ld	hl,2+2
  2355  079c  39                	add	hl, sp
  2356  079d  7e                	ld	a, (hl)
  2357  079e  f5                	push	af
  2358  079f  33                	inc	sp
  2359  07a0  cd2207            	call	_hcca_writeByte
  2360  07a3  33                	inc	sp
  2361  07a4  210500            	ld	hl,2+3
  2362  07a7  39                	add	hl, sp
  2363  07a8  7e                	ld	a, (hl)
  2364  07a9  f5                	push	af
  2365  07aa  33                	inc	sp
  2366  07ab  cd2207            	call	_hcca_writeByte
  2367  07ae  33                	inc	sp
  2368  07af  c9                	ret
  2369                          	SECTION code_compiler
  2370                          ;	---------------------------------
  2371                          ; Function hcca_writeUInt16
  2372                          ; ---------------------------------
  2373                          _hcca_writeUInt16:
  2374  07b0  210200            	ld	hl,2+0
  2375  07b3  39                	add	hl, sp
  2376  07b4  7e                	ld	a, (hl)
  2377  07b5  f5                	push	af
  2378  07b6  33                	inc	sp
  2379  07b7  cd2207            	call	_hcca_writeByte
  2380  07ba  33                	inc	sp
  2381  07bb  210300            	ld	hl,2+1
  2382  07be  39                	add	hl, sp
  2383  07bf  7e                	ld	a, (hl)
  2384  07c0  f5                	push	af
  2385  07c1  33                	inc	sp
  2386  07c2  cd2207            	call	_hcca_writeByte
  2387  07c5  33                	inc	sp
  2388  07c6  c9                	ret
  2389                          	SECTION code_compiler
  2390                          ;	---------------------------------
  2391                          ; Function hcca_writeInt16
  2392                          ; ---------------------------------
  2393                          _hcca_writeInt16:
  2394  07c7  210200            	ld	hl,2+0
  2395  07ca  39                	add	hl, sp
  2396  07cb  7e                	ld	a, (hl)
  2397  07cc  f5                	push	af
  2398  07cd  33                	inc	sp
  2399  07ce  cd2207            	call	_hcca_writeByte
  2400  07d1  33                	inc	sp
  2401  07d2  210300            	ld	hl,2+1
  2402  07d5  39                	add	hl, sp
  2403  07d6  7e                	ld	a, (hl)
  2404  07d7  f5                	push	af
  2405  07d8  33                	inc	sp
  2406  07d9  cd2207            	call	_hcca_writeByte
  2407  07dc  33                	inc	sp
  2408  07dd  c9                	ret
  2409                          	SECTION code_compiler
  2410                          ;	---------------------------------
  2411                          ; Function hcca_writeString
  2412                          ; ---------------------------------
  2413                          _hcca_writeString:
  2414  07de  010000            	ld	bc,0x0000
  2415                          l_hcca_writeString_00103:
  2416  07e1  210200            	ld	hl,2
  2417  07e4  39                	add	hl, sp
  2418  07e5  7e                	ld	a, (hl)
  2419  07e6  23                	inc	hl
  2420  07e7  66                	ld	h, (hl)
  2421  07e8  6f                	ld	l, a
  2422  07e9  09                	add	hl, bc
  2423  07ea  7e                	ld	a, (hl)
  2424  07eb  b7                	or	a, a
  2425  07ec  c8                	ret	Z
  2426  07ed  c5                	push	bc
  2427  07ee  f5                	push	af
  2428  07ef  33                	inc	sp
  2429  07f0  cd2207            	call	_hcca_writeByte
  2430  07f3  33                	inc	sp
  2431  07f4  c1                	pop	bc
  2432  07f5  03                	inc	bc
  2433  07f6  18e9              	jr	l_hcca_writeString_00103
  2434                          	SECTION code_compiler
  2435                          ;	---------------------------------
  2436                          ; Function hcca_writeBytes
  2437                          ; ---------------------------------
  2438                          _hcca_writeBytes:
  2439  07f8  dde5              	push	ix
  2440  07fa  dd210000          	ld	ix,0
  2441  07fe  dd39              	add	ix,sp
  2442  0800  dd7e08            	ld	a,(ix+8)
  2443  0803  dd8604            	add	a,(ix+4)
  2444  0806  4f                	ld	c, a
  2445  0807  dd7e09            	ld	a,(ix+9)
  2446  080a  dd8e05            	adc	a,(ix+5)
  2447  080d  47                	ld	b, a
  2448  080e  dd6e06            	ld	l,(ix+6)
  2449  0811  dd6607            	ld	h,(ix+7)
  2450  0814  09                	add	hl, bc
  2451  0815  eb                	ex	de, hl
  2452                          l_hcca_writeBytes_00101:
  2453  0816  69                	ld	l, c
  2454  0817  60                	ld	h, b
  2455  0818  bf                	cp	a, a
  2456  0819  ed52              	sbc	hl, de
  2457  081b  280e              	jr	Z,l_hcca_writeBytes_00104
  2458  081d  0a                	ld	a, (bc)
  2459  081e  c5                	push	bc
  2460  081f  d5                	push	de
  2461  0820  f5                	push	af
  2462  0821  33                	inc	sp
  2463  0822  cd2207            	call	_hcca_writeByte
  2464  0825  33                	inc	sp
  2465  0826  d1                	pop	de
  2466  0827  c1                	pop	bc
  2467  0828  03                	inc	bc
  2468  0829  18eb              	jr	l_hcca_writeBytes_00101
  2469                          l_hcca_writeBytes_00104:
  2470  082b  dde1              	pop	ix
  2471  082d  c9                	ret
  2472                          	SECTION code_compiler
  2473                          ;	---------------------------------
  2474                          ; Function vdp_setRegister
  2475                          ; ---------------------------------
  2476                          _vdp_setRegister:
  2477  082e  fd210300          	ld	iy,3
  2478  0832  fd39              	add	iy, sp
  2479  0834  fd7e00            	ld	a,(iy+0)
  2480  0837  d3a1              	out	(_IO_VDPLATCH), a
  2481  0839  fd2b              	dec	iy
  2482  083b  fd7e00            	ld	a,(iy+0)
  2483  083e  f680              	or	a,0x80
  2484  0840  d3a1              	out	(_IO_VDPLATCH), a
  2485  0842  c9                	ret
  2486                          	SECTION code_compiler
  2487                          ;	---------------------------------
  2488                          ; Function vdp_setWriteAddress
  2489                          ; ---------------------------------
  2490                          _vdp_setWriteAddress:
  2491  0843  fd210200          	ld	iy,2
  2492  0847  fd39              	add	iy, sp
  2493  0849  fd7e00            	ld	a,(iy+0)
  2494  084c  d3a1              	out	(_IO_VDPLATCH), a
  2495  084e  fd7e01            	ld	a,(iy+1)
  2496  0851  e63f              	and	a,0x3f
  2497  0853  f640              	or	a,0x40
  2498  0855  d3a1              	out	(_IO_VDPLATCH), a
  2499  0857  c9                	ret
  2500                          	SECTION code_compiler
  2501                          ;	---------------------------------
  2502                          ; Function vdp_setReadAddress
  2503                          ; ---------------------------------
  2504                          _vdp_setReadAddress:
  2505  0858  fd210200          	ld	iy,2
  2506  085c  fd39              	add	iy, sp
  2507  085e  fd7e00            	ld	a,(iy+0)
  2508  0861  d3a1              	out	(_IO_VDPLATCH), a
  2509  0863  fd7e01            	ld	a,(iy+1)
  2510  0866  e63f              	and	a,0x3f
  2511  0868  d3a1              	out	(_IO_VDPLATCH), a
  2512  086a  c9                	ret
  2513                          	SECTION code_compiler
  2514                          ;	---------------------------------
  2515                          ; Function waitVdpISR
  2516                          ; ---------------------------------
  2517                          _waitVdpISR:
  2518  086b  f5                	push	af
  2519  086c  dba1              	in	a, (_IO_VDPLATCH)
  2520  086e  320e00            	ld	(_vdpStatusRegVal), a
  2521  0871  3e01              	ld	a, 0x01
  2522  0873  320f00            	ld	(_vdpIsReady), a
  2523  0876  f1                	pop	af
  2524  0877  fb                	ei
  2525  0878  ed4d              	reti
  2526                          ;	---------------------------------
  2527                          ; Function vdp_enableVDPReadyInt
  2528                          ; ---------------------------------
  2529                          _vdp_enableVDPReadyInt:
  2530  087a  cd7000            	call	_NABU_DisableInterrupts
  2531  087d  216b08            	ld	hl, _waitVdpISR
  2532  0880  2206ff            	ld	(0xff00 + 6), hl
  2533  0883  3e0e              	ld	a,0x0e
  2534  0885  f5                	push	af
  2535  0886  33                	inc	sp
  2536  0887  cdbb03            	call	_ayRead
  2537  088a  33                	inc	sp
  2538  088b  7d                	ld	a, l
  2539  088c  cbe7              	set	4, a
  2540  088e  57                	ld	d,a
  2541  088f  1e0e              	ld	e,0x0e
  2542  0891  d5                	push	de
  2543  0892  cdaa03            	call	_ayWrite
  2544  0895  f1                	pop	af
  2545  0896  cd7200            	call	_NABU_EnableInterrupts
  2546  0899  210d00            	ld	hl,__vdpInterruptEnabled + 0
  2547  089c  3601              	ld	(hl),0x01
  2548  089e  3a0c00            	ld	a, (__vdpReg1Val+0)
  2549  08a1  cbef              	set	5, a
  2550  08a3  57                	ld	d,a
  2551  08a4  1e01              	ld	e,0x01
  2552  08a6  d5                	push	de
  2553  08a7  cd2e08            	call	_vdp_setRegister
  2554  08aa  f1                	pop	af
  2555  08ab  c9                	ret
  2556                          	SECTION code_compiler
  2557                          ;	---------------------------------
  2558                          ; Function vdp_waitVDPReadyInt
  2559                          ; ---------------------------------
  2560                          _vdp_waitVDPReadyInt:
  2561  08ac  3a0f00            	ld	a, (_vdpIsReady+0)
  2562  08af  b7                	or	a, a
  2563  08b0  2806              	jr	Z,l_vdp_waitVDPReadyInt_00102
  2564  08b2  3e13              	ld	a,0x13
  2565  08b4  d300              	out	(_IO_CONTROL), a
  2566  08b6  1804              	jr	l_vdp_waitVDPReadyInt_00104
  2567                          l_vdp_waitVDPReadyInt_00102:
  2568  08b8  3e03              	ld	a,0x03
  2569  08ba  d300              	out	(_IO_CONTROL), a
  2570                          l_vdp_waitVDPReadyInt_00104:
  2571  08bc  3a0f00            	ld	a, (_vdpIsReady+0)
  2572  08bf  b7                	or	a, a
  2573  08c0  28fa              	jr	Z,l_vdp_waitVDPReadyInt_00104
  2574  08c2  210f00            	ld	hl,_vdpIsReady + 0
  2575  08c5  3600              	ld	(hl),0x00
  2576  08c7  c9                	ret
  2577                          	SECTION code_compiler
  2578                          ;	---------------------------------
  2579                          ; Function vdp_disableVDPReadyInt
  2580                          ; ---------------------------------
  2581                          _vdp_disableVDPReadyInt:
  2582  08c8  3a0c00            	ld	a, (__vdpReg1Val+0)
  2583  08cb  57                	ld	d,a
  2584  08cc  1e01              	ld	e,0x01
  2585  08ce  d5                	push	de
  2586  08cf  cd2e08            	call	_vdp_setRegister
  2587  08d2  f1                	pop	af
  2588  08d3  cd7000            	call	_NABU_DisableInterrupts
  2589  08d6  210d00            	ld	hl,__vdpInterruptEnabled + 0
  2590  08d9  3600              	ld	(hl),0x00
  2591  08db  db41              	in	a, (_IO_AYLATCH)
  2592  08dd  3e0e              	ld	a,0x0e
  2593  08df  f5                	push	af
  2594  08e0  33                	inc	sp
  2595  08e1  cdbb03            	call	_ayRead
  2596  08e4  33                	inc	sp
  2597  08e5  7d                	ld	a, l
  2598  08e6  cb67              	bit	4, a
  2599  08e8  2802              	jr	Z,l_vdp_disableVDPReadyInt_00102
  2600  08ea  ee10              	xor	a,0x10
  2601                          l_vdp_disableVDPReadyInt_00102:
  2602  08ec  57                	ld	d,a
  2603  08ed  1e0e              	ld	e,0x0e
  2604  08ef  d5                	push	de
  2605  08f0  cdaa03            	call	_ayWrite
  2606  08f3  f1                	pop	af
  2607  08f4  c37200            	jp	_NABU_EnableInterrupts
  2608                          	SECTION code_compiler
  2609                          ;	---------------------------------
  2610                          ; Function vdp_addISR
  2611                          ; ---------------------------------
  2612                          _vdp_addISR:
  2613  08f7  cd7000            	call	_NABU_DisableInterrupts
  2614  08fa  fd210200          	ld	iy,2
  2615  08fe  fd39              	add	iy, sp
  2616  0900  fd7e00            	ld	a,(iy+0)
  2617  0903  32c005            	ld	(__vdp_ISR+0), a
  2618  0906  fd7e01            	ld	a,(iy+1)
  2619  0909  32c105            	ld	(__vdp_ISR+1), a
  2620  090c  2ac005            	ld	hl, (__vdp_ISR)
  2621  090f  2206ff            	ld	(0xff00 + 6), hl
  2622  0912  3e0e              	ld	a,0x0e
  2623  0914  f5                	push	af
  2624  0915  33                	inc	sp
  2625  0916  cdbb03            	call	_ayRead
  2626  0919  33                	inc	sp
  2627  091a  7d                	ld	a, l
  2628  091b  cbe7              	set	4, a
  2629  091d  57                	ld	d,a
  2630  091e  1e0e              	ld	e,0x0e
  2631  0920  d5                	push	de
  2632  0921  cdaa03            	call	_ayWrite
  2633  0924  f1                	pop	af
  2634  0925  cd7200            	call	_NABU_EnableInterrupts
  2635  0928  210d00            	ld	hl,__vdpInterruptEnabled + 0
  2636  092b  3601              	ld	(hl),0x01
  2637  092d  3a0c00            	ld	a, (__vdpReg1Val+0)
  2638  0930  cbef              	set	5, a
  2639  0932  57                	ld	d,a
  2640  0933  1e01              	ld	e,0x01
  2641  0935  d5                	push	de
  2642  0936  cd2e08            	call	_vdp_setRegister
  2643  0939  f1                	pop	af
  2644  093a  c9                	ret
  2645                          	SECTION code_compiler
  2646                          ;	---------------------------------
  2647                          ; Function vdp_removeISR
  2648                          ; ---------------------------------
  2649                          _vdp_removeISR:
  2650  093b  3a0c00            	ld	a, (__vdpReg1Val+0)
  2651  093e  57                	ld	d,a
  2652  093f  1e01              	ld	e,0x01
  2653  0941  d5                	push	de
  2654  0942  cd2e08            	call	_vdp_setRegister
  2655  0945  f1                	pop	af
  2656  0946  cd7000            	call	_NABU_DisableInterrupts
  2657  0949  210d00            	ld	hl,__vdpInterruptEnabled + 0
  2658  094c  3600              	ld	(hl),0x00
  2659  094e  db41              	in	a, (_IO_AYLATCH)
  2660  0950  3e0e              	ld	a,0x0e
  2661  0952  f5                	push	af
  2662  0953  33                	inc	sp
  2663  0954  cdbb03            	call	_ayRead
  2664  0957  33                	inc	sp
  2665  0958  7d                	ld	a, l
  2666  0959  cb67              	bit	4, a
  2667  095b  2802              	jr	Z,l_vdp_removeISR_00102
  2668  095d  ee10              	xor	a,0x10
  2669                          l_vdp_removeISR_00102:
  2670  095f  57                	ld	d,a
  2671  0960  1e0e              	ld	e,0x0e
  2672  0962  d5                	push	de
  2673  0963  cdaa03            	call	_ayWrite
  2674  0966  f1                	pop	af
  2675  0967  c37200            	jp	_NABU_EnableInterrupts
  2676                          	SECTION code_compiler
  2677                          ;	---------------------------------
  2678                          ; Function vdp_init
  2679                          ; ---------------------------------
  2680                          _vdp_init:
  2681  096a  dde5              	push	ix
  2682  096c  dd210000          	ld	ix,0
  2683  0970  dd39              	add	ix,sp
  2684  0972  dd4e04            	ld	c,(ix+4)
  2685  0975  fd21d105          	ld	iy,__vdpMode
  2686  0979  fd7100            	ld	(iy+0),c
  2687  097c  dd7e0a            	ld	a,(ix+10)
  2688  097f  32d305            	ld	(__vdpSplitThirds+0), a
  2689  0982  dd7e07            	ld	a,(ix+7)
  2690  0985  32c605            	ld	(__vdpSpriteSizeSelected+0), a
  2691  0988  dd7e09            	ld	a,(ix+9)
  2692  098b  32d205            	ld	(__autoScroll+0), a
  2693  098e  210d00            	ld	hl,__vdpInterruptEnabled + 0
  2694  0991  3600              	ld	(hl),0x00
  2695  0993  210a00            	ld	hl,_vdp_cursor
  2696  0996  3600              	ld	(hl),0x00
  2697  0998  210b00            	ld	hl, +(_vdp_cursor + 1)
  2698  099b  3600              	ld	(hl),0x00
  2699  099d  79                	ld	a, c
  2700  099e  3d                	dec	a
  2701  099f  280d              	jr	Z,l_vdp_init_00101
  2702  09a1  79                	ld	a,c
  2703  09a2  fe02              	cp	a,0x02
  2704  09a4  ca460a            	jp	Z,l_vdp_init_00106
  2705  09a7  d603              	sub	a,0x03
  2706  09a9  2860              	jr	Z,l_vdp_init_00105
  2707  09ab  c38f0a            	jp	l_vdp_init_00107
  2708                          l_vdp_init_00101:
  2709  09ae  3e02              	ld	a,0x02
  2710  09b0  f5                	push	af
  2711  09b1  33                	inc	sp
  2712  09b2  af                	xor	a, a
  2713  09b3  f5                	push	af
  2714  09b4  33                	inc	sp
  2715  09b5  cd2e08            	call	_vdp_setRegister
  2716  09b8  f1                	pop	af
  2717  09b9  dd7e07            	ld	a,(ix+7)
  2718  09bc  87                	add	a, a
  2719  09bd  f6c0              	or	a,0xc0
  2720  09bf  ddb608            	or	a,(ix+8)
  2721  09c2  320c00            	ld	(__vdpReg1Val+0), a
  2722  09c5  3a0c00            	ld	a, (__vdpReg1Val+0)
  2723  09c8  57                	ld	d,a
  2724  09c9  1e01              	ld	e,0x01
  2725  09cb  d5                	push	de
  2726  09cc  cd2e08            	call	_vdp_setRegister
  2727  09cf  f1                	pop	af
  2728  09d0  3ad305            	ld	a, (__vdpSplitThirds+0)
  2729  09d3  b7                	or	a, a
  2730  09d4  280a              	jr	Z,l_vdp_init_00103
  2731  09d6  110403            	ld	de,0x0304
  2732  09d9  d5                	push	de
  2733  09da  cd2e08            	call	_vdp_setRegister
  2734  09dd  f1                	pop	af
  2735  09de  1809              	jr	l_vdp_init_00104
  2736                          l_vdp_init_00103:
  2737  09e0  af                	xor	a, a
  2738  09e1  57                	ld	d,a
  2739  09e2  1e04              	ld	e,0x04
  2740  09e4  d5                	push	de
  2741  09e5  cd2e08            	call	_vdp_setRegister
  2742  09e8  f1                	pop	af
  2743                          l_vdp_init_00104:
  2744  09e9  210000            	ld	hl,0x0000
  2745  09ec  22cb05            	ld	(__vdpPatternGeneratorTableAddr), hl
  2746  09ef  dd360500          	ld	(ix+5),0x00
  2747  09f3  fd21cd05          	ld	iy,__vdpCursorMaxX
  2748  09f7  fd36001f          	ld	(iy+0),0x1f
  2749  09fb  fd21ce05          	ld	iy,__vdpCursorMaxXFull
  2750  09ff  fd360020          	ld	(iy+0),0x20
  2751  0a03  2603              	ld	h,0x03
  2752  0a05  22cf05            	ld	(__vdpTextBufferSize), hl
  2753  0a08  c38f0a            	jp	l_vdp_init_00107
  2754                          l_vdp_init_00105:
  2755  0a0b  af                	xor	a, a
  2756  0a0c  f5                	push	af
  2757  0a0d  33                	inc	sp
  2758  0a0e  af                	xor	a, a
  2759  0a0f  f5                	push	af
  2760  0a10  33                	inc	sp
  2761  0a11  cd2e08            	call	_vdp_setRegister
  2762  0a14  f1                	pop	af
  2763  0a15  210c00            	ld	hl,__vdpReg1Val + 0
  2764  0a18  36d2              	ld	(hl),0xd2
  2765  0a1a  3a0c00            	ld	a, (__vdpReg1Val+0)
  2766  0a1d  57                	ld	d,a
  2767  0a1e  1e01              	ld	e,0x01
  2768  0a20  d5                	push	de
  2769  0a21  cd2e08            	call	_vdp_setRegister
  2770  0a24  f1                	pop	af
  2771  0a25  af                	xor	a, a
  2772  0a26  57                	ld	d,a
  2773  0a27  1e04              	ld	e,0x04
  2774  0a29  d5                	push	de
  2775  0a2a  cd2e08            	call	_vdp_setRegister
  2776  0a2d  f1                	pop	af
  2777  0a2e  210000            	ld	hl,0x0000
  2778  0a31  22cb05            	ld	(__vdpPatternGeneratorTableAddr), hl
  2779  0a34  21cd05            	ld	hl,__vdpCursorMaxX + 0
  2780  0a37  3627              	ld	(hl),0x27
  2781  0a39  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  2782  0a3c  3628              	ld	(hl),0x28
  2783  0a3e  21c003            	ld	hl,0x03c0
  2784  0a41  22cf05            	ld	(__vdpTextBufferSize), hl
  2785  0a44  1849              	jr	l_vdp_init_00107
  2786                          l_vdp_init_00106:
  2787  0a46  af                	xor	a, a
  2788  0a47  f5                	push	af
  2789  0a48  33                	inc	sp
  2790  0a49  af                	xor	a, a
  2791  0a4a  f5                	push	af
  2792  0a4b  33                	inc	sp
  2793  0a4c  cd2e08            	call	_vdp_setRegister
  2794  0a4f  f1                	pop	af
  2795  0a50  dd7e07            	ld	a,(ix+7)
  2796  0a53  87                	add	a, a
  2797  0a54  f6c8              	or	a,0xc8
  2798  0a56  ddb608            	or	a,(ix+8)
  2799  0a59  320c00            	ld	(__vdpReg1Val+0), a
  2800  0a5c  3a0c00            	ld	a, (__vdpReg1Val+0)
  2801  0a5f  57                	ld	d,a
  2802  0a60  1e01              	ld	e,0x01
  2803  0a62  d5                	push	de
  2804  0a63  cd2e08            	call	_vdp_setRegister
  2805  0a66  f1                	pop	af
  2806  0a67  af                	xor	a, a
  2807  0a68  57                	ld	d,a
  2808  0a69  1e04              	ld	e,0x04
  2809  0a6b  d5                	push	de
  2810  0a6c  cd2e08            	call	_vdp_setRegister
  2811  0a6f  f1                	pop	af
  2812  0a70  210000            	ld	hl,0x0000
  2813  0a73  22cb05            	ld	(__vdpPatternGeneratorTableAddr), hl
  2814  0a76  dd360500          	ld	(ix+5),0x00
  2815  0a7a  fd21cd05          	ld	iy,__vdpCursorMaxX
  2816  0a7e  fd36001f          	ld	(iy+0),0x1f
  2817  0a82  fd21ce05          	ld	iy,__vdpCursorMaxXFull
  2818  0a86  fd360020          	ld	(iy+0),0x20
  2819  0a8a  2603              	ld	h,0x03
  2820  0a8c  22cf05            	ld	(__vdpTextBufferSize), hl
  2821                          l_vdp_init_00107:
  2822  0a8f  110206            	ld	de,0x0602
  2823  0a92  d5                	push	de
  2824  0a93  cd2e08            	call	_vdp_setRegister
  2825  0a96  f1                	pop	af
  2826  0a97  210018            	ld	hl,0x1800
  2827  0a9a  22c705            	ld	(__vdpPatternNameTableAddr), hl
  2828  0a9d  3ad305            	ld	a, (__vdpSplitThirds+0)
  2829  0aa0  b7                	or	a, a
  2830  0aa1  280a              	jr	Z,l_vdp_init_00109
  2831  0aa3  1103ff            	ld	de,0xff03
  2832  0aa6  d5                	push	de
  2833  0aa7  cd2e08            	call	_vdp_setRegister
  2834  0aaa  f1                	pop	af
  2835  0aab  1808              	jr	l_vdp_init_00110
  2836                          l_vdp_init_00109:
  2837  0aad  11039f            	ld	de,0x9f03
  2838  0ab0  d5                	push	de
  2839  0ab1  cd2e08            	call	_vdp_setRegister
  2840  0ab4  f1                	pop	af
  2841                          l_vdp_init_00110:
  2842  0ab5  210020            	ld	hl,0x2000
  2843  0ab8  22c905            	ld	(__vdpColorTableAddr), hl
  2844  0abb  110536            	ld	de,0x3605
  2845  0abe  d5                	push	de
  2846  0abf  cd2e08            	call	_vdp_setRegister
  2847  0ac2  f1                	pop	af
  2848  0ac3  21001b            	ld	hl,0x1b00
  2849  0ac6  22c205            	ld	(__vdpSpriteAttributeTableAddr), hl
  2850  0ac9  110607            	ld	de,0x0706
  2851  0acc  d5                	push	de
  2852  0acd  cd2e08            	call	_vdp_setRegister
  2853  0ad0  f1                	pop	af
  2854  0ad1  210038            	ld	hl,0x3800
  2855  0ad4  22c405            	ld	(__vdpSpriteGeneratorTableAddr), hl
  2856  0ad7  dd7e05            	ld	a,(ix+5)
  2857  0ada  87                	add	a, a
  2858  0adb  87                	add	a, a
  2859  0adc  87                	add	a, a
  2860  0add  87                	add	a, a
  2861  0ade  4f                	ld	c, a
  2862  0adf  dd7e06            	ld	a,(ix+6)
  2863  0ae2  e60f              	and	a,0x0f
  2864  0ae4  b1                	or	a, c
  2865  0ae5  57                	ld	d,a
  2866  0ae6  1e07              	ld	e,0x07
  2867  0ae8  d5                	push	de
  2868  0ae9  cd2e08            	call	_vdp_setRegister
  2869  0aec  f1                	pop	af
  2870  0aed  dde1              	pop	ix
  2871  0aef  c3d40b            	jp	_vdp_clearScreen
  2872                          	SECTION code_compiler
  2873                          ;	---------------------------------
  2874                          ; Function vdp_clearVRAM
  2875                          ; ---------------------------------
  2876                          _vdp_clearVRAM:
  2877  0af2  210000            	ld	hl,0x0000
  2878  0af5  e5                	push	hl
  2879  0af6  cd4308            	call	_vdp_setWriteAddress
  2880  0af9  f1                	pop	af
  2881  0afa  010000            	ld	bc,0x0000
  2882                          l_vdp_clearVRAM_00103:
  2883  0afd  79                	ld	a, c
  2884  0afe  d6ff              	sub	a,0xff
  2885  0b00  78                	ld	a, b
  2886  0b01  de3f              	sbc	a,0x3f
  2887  0b03  d0                	ret	NC
  2888  0b04  3e00              	ld	a,0x00
  2889  0b06  d3a0              	out	(_IO_VDPDATA), a
  2890  0b08  03                	inc	bc
  2891  0b09  18f2              	jr	l_vdp_clearVRAM_00103
  2892                          	SECTION code_compiler
  2893                          ;	---------------------------------
  2894                          ; Function vdp_initMSXMode
  2895                          ; ---------------------------------
  2896                          _vdp_initMSXMode:
  2897  0b0b  3e02              	ld	a,0x02
  2898  0b0d  f5                	push	af
  2899  0b0e  33                	inc	sp
  2900  0b0f  af                	xor	a, a
  2901  0b10  f5                	push	af
  2902  0b11  33                	inc	sp
  2903  0b12  cd2e08            	call	_vdp_setRegister
  2904  0b15  f1                	pop	af
  2905  0b16  1101c0            	ld	de,0xc001
  2906  0b19  d5                	push	de
  2907  0b1a  cd2e08            	call	_vdp_setRegister
  2908  0b1d  f1                	pop	af
  2909  0b1e  110206            	ld	de,0x0602
  2910  0b21  d5                	push	de
  2911  0b22  cd2e08            	call	_vdp_setRegister
  2912  0b25  f1                	pop	af
  2913  0b26  1103ff            	ld	de,0xff03
  2914  0b29  d5                	push	de
  2915  0b2a  cd2e08            	call	_vdp_setRegister
  2916  0b2d  f1                	pop	af
  2917  0b2e  110403            	ld	de,0x0304
  2918  0b31  d5                	push	de
  2919  0b32  cd2e08            	call	_vdp_setRegister
  2920  0b35  f1                	pop	af
  2921  0b36  110536            	ld	de,0x3605
  2922  0b39  d5                	push	de
  2923  0b3a  cd2e08            	call	_vdp_setRegister
  2924  0b3d  f1                	pop	af
  2925  0b3e  110607            	ld	de,0x0706
  2926  0b41  d5                	push	de
  2927  0b42  cd2e08            	call	_vdp_setRegister
  2928  0b45  f1                	pop	af
  2929  0b46  210200            	ld	hl,2+0
  2930  0b49  39                	add	hl, sp
  2931  0b4a  7e                	ld	a, (hl)
  2932  0b4b  e60f              	and	a,0x0f
  2933  0b4d  57                	ld	d,a
  2934  0b4e  1e07              	ld	e,0x07
  2935  0b50  d5                	push	de
  2936  0b51  cd2e08            	call	_vdp_setRegister
  2937  0b54  f1                	pop	af
  2938  0b55  c9                	ret
  2939                          	SECTION code_compiler
  2940                          ;	---------------------------------
  2941                          ; Function vdp_initTextMode
  2942                          ; ---------------------------------
  2943                          _vdp_initTextMode:
  2944  0b56  af                	xor	a, a
  2945  0b57  f5                	push	af
  2946  0b58  33                	inc	sp
  2947  0b59  fd210500          	ld	iy,5
  2948  0b5d  fd39              	add	iy, sp
  2949  0b5f  fd7e00            	ld	a,(iy+0)
  2950  0b62  f5                	push	af
  2951  0b63  33                	inc	sp
  2952  0b64  af                	xor	a, a
  2953  0b65  f5                	push	af
  2954  0b66  33                	inc	sp
  2955  0b67  af                	xor	a, a
  2956  0b68  f5                	push	af
  2957  0b69  33                	inc	sp
  2958  0b6a  fd2b              	dec	iy
  2959  0b6c  fd7e00            	ld	a,(iy+0)
  2960  0b6f  f5                	push	af
  2961  0b70  33                	inc	sp
  2962  0b71  fd2b              	dec	iy
  2963  0b73  fd5600            	ld	d,(iy+0)
  2964  0b76  1e03              	ld	e,0x03
  2965  0b78  d5                	push	de
  2966  0b79  cd6a09            	call	_vdp_init
  2967  0b7c  210700            	ld	hl,7
  2968  0b7f  39                	add	hl, sp
  2969  0b80  f9                	ld	sp, hl
  2970  0b81  c9                	ret
  2971                          	SECTION code_compiler
  2972                          ;	---------------------------------
  2973                          ; Function vdp_initG2Mode
  2974                          ; ---------------------------------
  2975                          _vdp_initG2Mode:
  2976  0b82  fd210600          	ld	iy,6
  2977  0b86  fd39              	add	iy, sp
  2978  0b88  fd7e00            	ld	a,(iy+0)
  2979  0b8b  f5                	push	af
  2980  0b8c  33                	inc	sp
  2981  0b8d  fd2b              	dec	iy
  2982  0b8f  fd7e00            	ld	a,(iy+0)
  2983  0b92  f5                	push	af
  2984  0b93  33                	inc	sp
  2985  0b94  fd2b              	dec	iy
  2986  0b96  fd7e00            	ld	a,(iy+0)
  2987  0b99  f5                	push	af
  2988  0b9a  33                	inc	sp
  2989  0b9b  fd2b              	dec	iy
  2990  0b9d  fd7e00            	ld	a,(iy+0)
  2991  0ba0  f5                	push	af
  2992  0ba1  33                	inc	sp
  2993  0ba2  fd2b              	dec	iy
  2994  0ba4  fd7e00            	ld	a,(iy+0)
  2995  0ba7  f5                	push	af
  2996  0ba8  33                	inc	sp
  2997  0ba9  af                	xor	a, a
  2998  0baa  57                	ld	d,a
  2999  0bab  1e01              	ld	e,0x01
  3000  0bad  d5                	push	de
  3001  0bae  cd6a09            	call	_vdp_init
  3002  0bb1  210700            	ld	hl,7
  3003  0bb4  39                	add	hl, sp
  3004  0bb5  f9                	ld	sp, hl
  3005  0bb6  c9                	ret
  3006                          	SECTION code_compiler
  3007                          ;	---------------------------------
  3008                          ; Function vdp_initMultiColorMode
  3009                          ; ---------------------------------
  3010                          _vdp_initMultiColorMode:
  3011  0bb7  af                	xor	a, a
  3012  0bb8  f5                	push	af
  3013  0bb9  33                	inc	sp
  3014  0bba  af                	xor	a, a
  3015  0bbb  f5                	push	af
  3016  0bbc  33                	inc	sp
  3017  0bbd  af                	xor	a, a
  3018  0bbe  f5                	push	af
  3019  0bbf  33                	inc	sp
  3020  0bc0  af                	xor	a, a
  3021  0bc1  f5                	push	af
  3022  0bc2  33                	inc	sp
  3023  0bc3  af                	xor	a, a
  3024  0bc4  f5                	push	af
  3025  0bc5  33                	inc	sp
  3026  0bc6  af                	xor	a, a
  3027  0bc7  57                	ld	d,a
  3028  0bc8  1e02              	ld	e,0x02
  3029  0bca  d5                	push	de
  3030  0bcb  cd6a09            	call	_vdp_init
  3031  0bce  210700            	ld	hl,7
  3032  0bd1  39                	add	hl, sp
  3033  0bd2  f9                	ld	sp, hl
  3034  0bd3  c9                	ret
  3035                          	SECTION code_compiler
  3036                          ;	---------------------------------
  3037                          ; Function vdp_clearScreen
  3038                          ; ---------------------------------
  3039                          _vdp_clearScreen:
  3040  0bd4  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  3041  0bd7  e5                	push	hl
  3042  0bd8  cd4308            	call	_vdp_setWriteAddress
  3043  0bdb  f1                	pop	af
  3044  0bdc  3ace05            	ld	a, (__vdpCursorMaxXFull+0)
  3045  0bdf  4f                	ld	c, a
  3046  0be0  0600              	ld	b,0x00
  3047  0be2  69                	ld	l, c
  3048  0be3  60                	ld	h, b
  3049  0be4  29                	add	hl, hl
  3050  0be5  09                	add	hl, bc
  3051  0be6  29                	add	hl, hl
  3052  0be7  29                	add	hl, hl
  3053  0be8  29                	add	hl, hl
  3054  0be9  110002            	ld	de,__vdp_textBuffer
  3055  0bec  19                	add	hl, de
  3056  0bed  eb                	ex	de, hl
  3057  0bee  0e00              	ld	c,0x00
  3058  0bf0  3ad105            	ld	a, (__vdpMode+0)
  3059  0bf3  d603              	sub	a,0x03
  3060  0bf5  2002              	jr	NZ,l_vdp_clearScreen_00109
  3061  0bf7  0e20              	ld	c,0x20
  3062                          l_vdp_clearScreen_00109:
  3063  0bf9  210002            	ld	hl,__vdp_textBuffer
  3064                          l_vdp_clearScreen_00103:
  3065  0bfc  79                	ld	a, c
  3066  0bfd  d3a0              	out	(_IO_VDPDATA), a
  3067  0bff  3620              	ld	(hl),0x20
  3068  0c01  23                	inc	hl
  3069  0c02  7d                	ld	a, l
  3070  0c03  93                	sub	a, e
  3071  0c04  20f6              	jr	NZ,l_vdp_clearScreen_00103
  3072  0c06  7c                	ld	a, h
  3073  0c07  92                	sub	a, d
  3074  0c08  20f2              	jr	NZ,l_vdp_clearScreen_00103
  3075  0c0a  c9                	ret
  3076                          	SECTION code_compiler
  3077                          ;	---------------------------------
  3078                          ; Function vdp_fillScreen
  3079                          ; ---------------------------------
  3080                          _vdp_fillScreen:
  3081  0c0b  dde5              	push	ix
  3082  0c0d  dd210000          	ld	ix,0
  3083  0c11  dd39              	add	ix,sp
  3084  0c13  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  3085  0c16  e5                	push	hl
  3086  0c17  cd4308            	call	_vdp_setWriteAddress
  3087  0c1a  f1                	pop	af
  3088  0c1b  010002            	ld	bc,__vdp_textBuffer+0
  3089  0c1e  3ace05            	ld	a, (__vdpCursorMaxXFull+0)
  3090  0c21  5f                	ld	e, a
  3091  0c22  1600              	ld	d,0x00
  3092  0c24  6b                	ld	l, e
  3093  0c25  62                	ld	h, d
  3094  0c26  29                	add	hl, hl
  3095  0c27  19                	add	hl, de
  3096  0c28  29                	add	hl, hl
  3097  0c29  29                	add	hl, hl
  3098  0c2a  29                	add	hl, hl
  3099  0c2b  09                	add	hl, bc
  3100  0c2c  eb                	ex	de, hl
  3101                          l_vdp_fillScreen_00101:
  3102  0c2d  dd7e04            	ld	a,(ix+4)
  3103  0c30  d3a0              	out	(_IO_VDPDATA), a
  3104  0c32  dd7e04            	ld	a,(ix+4)
  3105  0c35  02                	ld	(bc), a
  3106  0c36  03                	inc	bc
  3107  0c37  69                	ld	l, c
  3108  0c38  60                	ld	h, b
  3109  0c39  bf                	cp	a, a
  3110  0c3a  ed52              	sbc	hl, de
  3111  0c3c  20ef              	jr	NZ,l_vdp_fillScreen_00101
  3112  0c3e  dde1              	pop	ix
  3113  0c40  c9                	ret
  3114                          	SECTION code_compiler
  3115                          ;	---------------------------------
  3116                          ; Function vdp_clearRows
  3117                          ; ---------------------------------
  3118                          _vdp_clearRows:
  3119  0c41  dde5              	push	ix
  3120  0c43  dd210000          	ld	ix,0
  3121  0c47  dd39              	add	ix,sp
  3122  0c49  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  3123  0c4c  5e                	ld	e, (hl)
  3124  0c4d  dd6604            	ld	h,(ix+4)
  3125  0c50  2e00              	ld	l,0x00
  3126  0c52  55                	ld	d, l
  3127  0c53  0608              	ld	b,0x08
  3128                          l_vdp_clearRows_00112:
  3129  0c55  29                	add	hl, hl
  3130  0c56  3001              	jr	NC,l_vdp_clearRows_00113
  3131  0c58  19                	add	hl, de
  3132                          l_vdp_clearRows_00113:
  3133  0c59  10fa              	djnz	l_vdp_clearRows_00112
  3134  0c5b  eb                	ex	de, hl
  3135  0c5c  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  3136  0c5f  19                	add	hl, de
  3137  0c60  e5                	push	hl
  3138  0c61  cd4308            	call	_vdp_setWriteAddress
  3139  0c64  f1                	pop	af
  3140  0c65  fd21ce05          	ld	iy,__vdpCursorMaxXFull
  3141  0c69  fd5e00            	ld	e,(iy+0)
  3142  0c6c  dd6604            	ld	h,(ix+4)
  3143  0c6f  2e00              	ld	l,0x00
  3144  0c71  55                	ld	d, l
  3145  0c72  0608              	ld	b,0x08
  3146                          l_vdp_clearRows_00114:
  3147  0c74  29                	add	hl, hl
  3148  0c75  3001              	jr	NC,l_vdp_clearRows_00115
  3149  0c77  19                	add	hl, de
  3150                          l_vdp_clearRows_00115:
  3151  0c78  10fa              	djnz	l_vdp_clearRows_00114
  3152  0c7a  110002            	ld	de,__vdp_textBuffer
  3153  0c7d  19                	add	hl, de
  3154  0c7e  e5                	push	hl
  3155  0c7f  fd5e00            	ld	e,(iy+0)
  3156  0c82  dd6605            	ld	h,(ix+5)
  3157  0c85  2e00              	ld	l,0x00
  3158  0c87  55                	ld	d, l
  3159  0c88  0608              	ld	b,0x08
  3160                          l_vdp_clearRows_00116:
  3161  0c8a  29                	add	hl, hl
  3162  0c8b  3001              	jr	NC,l_vdp_clearRows_00117
  3163  0c8d  19                	add	hl, de
  3164                          l_vdp_clearRows_00117:
  3165  0c8e  10fa              	djnz	l_vdp_clearRows_00116
  3166  0c90  c1                	pop	bc
  3167  0c91  110002            	ld	de,__vdp_textBuffer
  3168  0c94  19                	add	hl, de
  3169  0c95  eb                	ex	de, hl
  3170                          l_vdp_clearRows_00101:
  3171  0c96  3e20              	ld	a,0x20
  3172  0c98  d3a0              	out	(_IO_VDPDATA), a
  3173  0c9a  3e20              	ld	a,0x20
  3174  0c9c  02                	ld	(bc), a
  3175  0c9d  03                	inc	bc
  3176  0c9e  6b                	ld	l, e
  3177  0c9f  62                	ld	h, d
  3178  0ca0  bf                	cp	a, a
  3179  0ca1  ed42              	sbc	hl, bc
  3180  0ca3  20f1              	jr	NZ,l_vdp_clearRows_00101
  3181  0ca5  dde1              	pop	ix
  3182  0ca7  c9                	ret
  3183                          	SECTION code_compiler
  3184                          ;	---------------------------------
  3185                          ; Function vdp_loadASCIIFont
  3186                          ; ---------------------------------
  3187                          _vdp_loadASCIIFont:
  3188  0ca8  dde5              	push	ix
  3189  0caa  dd210000          	ld	ix,0
  3190  0cae  dd39              	add	ix,sp
  3191  0cb0  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3192  0cb3  110001            	ld	de,0x0100
  3193  0cb6  19                	add	hl, de
  3194  0cb7  e5                	push	hl
  3195  0cb8  cd4308            	call	_vdp_setWriteAddress
  3196  0cbb  f1                	pop	af
  3197  0cbc  dd4e04            	ld	c,(ix+4)
  3198  0cbf  dd4605            	ld	b,(ix+5)
  3199  0cc2  210003            	ld	hl,0x0300
  3200  0cc5  09                	add	hl, bc
  3201  0cc6  eb                	ex	de, hl
  3202                          l_vdp_loadASCIIFont_00101:
  3203  0cc7  0a                	ld	a, (bc)
  3204  0cc8  d3a0              	out	(_IO_VDPDATA), a
  3205  0cca  03                	inc	bc
  3206  0ccb  69                	ld	l, c
  3207  0ccc  60                	ld	h, b
  3208  0ccd  bf                	cp	a, a
  3209  0cce  ed52              	sbc	hl, de
  3210  0cd0  20f5              	jr	NZ,l_vdp_loadASCIIFont_00101
  3211  0cd2  dde1              	pop	ix
  3212  0cd4  c9                	ret
  3213                          	SECTION code_compiler
  3214                          ;	---------------------------------
  3215                          ; Function vdp_loadASCIIFontWithInverse
  3216                          ; ---------------------------------
  3217                          _vdp_loadASCIIFontWithInverse:
  3218  0cd5  dde5              	push	ix
  3219  0cd7  dd210000          	ld	ix,0
  3220  0cdb  dd39              	add	ix,sp
  3221  0cdd  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3222  0ce0  110001            	ld	de,0x0100
  3223  0ce3  19                	add	hl, de
  3224  0ce4  e5                	push	hl
  3225  0ce5  cd4308            	call	_vdp_setWriteAddress
  3226  0ce8  f1                	pop	af
  3227  0ce9  dd4e04            	ld	c,(ix+4)
  3228  0cec  dd4605            	ld	b,(ix+5)
  3229  0cef  210003            	ld	hl,0x0300
  3230  0cf2  09                	add	hl, bc
  3231  0cf3  eb                	ex	de, hl
  3232                          l_vdp_loadASCIIFontWithInverse_00101:
  3233  0cf4  0a                	ld	a, (bc)
  3234  0cf5  d3a0              	out	(_IO_VDPDATA), a
  3235  0cf7  03                	inc	bc
  3236  0cf8  69                	ld	l, c
  3237  0cf9  60                	ld	h, b
  3238  0cfa  bf                	cp	a, a
  3239  0cfb  ed52              	sbc	hl, de
  3240  0cfd  20f5              	jr	NZ,l_vdp_loadASCIIFontWithInverse_00101
  3241  0cff  dd4e04            	ld	c,(ix+4)
  3242  0d02  dd4605            	ld	b,(ix+5)
  3243                          l_vdp_loadASCIIFontWithInverse_00104:
  3244  0d05  0a                	ld	a, (bc)
  3245  0d06  2f                	cpl
  3246  0d07  d3a0              	out	(_IO_VDPDATA), a
  3247  0d09  03                	inc	bc
  3248  0d0a  69                	ld	l, c
  3249  0d0b  60                	ld	h, b
  3250  0d0c  bf                	cp	a, a
  3251  0d0d  ed52              	sbc	hl, de
  3252  0d0f  20f4              	jr	NZ,l_vdp_loadASCIIFontWithInverse_00104
  3253  0d11  dde1              	pop	ix
  3254  0d13  c9                	ret
  3255                          	SECTION code_compiler
  3256                          ;	---------------------------------
  3257                          ; Function vdp_putPattern
  3258                          ; ---------------------------------
  3259                          _vdp_putPattern:
  3260  0d14  dde5              	push	ix
  3261  0d16  dd210000          	ld	ix,0
  3262  0d1a  dd39              	add	ix,sp
  3263  0d1c  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  3264  0d1f  5e                	ld	e, (hl)
  3265  0d20  dd6605            	ld	h,(ix+5)
  3266  0d23  2e00              	ld	l,0x00
  3267  0d25  55                	ld	d, l
  3268  0d26  0608              	ld	b,0x08
  3269                          l_vdp_putPattern_00103:
  3270  0d28  29                	add	hl, hl
  3271  0d29  3001              	jr	NC,l_vdp_putPattern_00104
  3272  0d2b  19                	add	hl, de
  3273                          l_vdp_putPattern_00104:
  3274  0d2c  10fa              	djnz	l_vdp_putPattern_00103
  3275  0d2e  dd4e04            	ld	c,(ix+4)
  3276  0d31  0600              	ld	b,0x00
  3277  0d33  09                	add	hl, bc
  3278  0d34  eb                	ex	de, hl
  3279  0d35  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  3280  0d38  19                	add	hl, de
  3281  0d39  d5                	push	de
  3282  0d3a  e5                	push	hl
  3283  0d3b  cd4308            	call	_vdp_setWriteAddress
  3284  0d3e  f1                	pop	af
  3285  0d3f  d1                	pop	de
  3286  0d40  210002            	ld	hl,__vdp_textBuffer+0
  3287  0d43  19                	add	hl, de
  3288  0d44  dd7e06            	ld	a,(ix+6)
  3289  0d47  77                	ld	(hl), a
  3290  0d48  dd7e06            	ld	a,(ix+6)
  3291  0d4b  d3a0              	out	(_IO_VDPDATA), a
  3292  0d4d  dde1              	pop	ix
  3293  0d4f  c9                	ret
  3294                          	SECTION code_compiler
  3295                          ;	---------------------------------
  3296                          ; Function vdp_loadPatternTable
  3297                          ; ---------------------------------
  3298                          _vdp_loadPatternTable:
  3299  0d50  dde5              	push	ix
  3300  0d52  dd210000          	ld	ix,0
  3301  0d56  dd39              	add	ix,sp
  3302  0d58  dd5e04            	ld	e,(ix+4)
  3303  0d5b  dd5605            	ld	d,(ix+5)
  3304  0d5e  dd6e06            	ld	l,(ix+6)
  3305  0d61  dd6607            	ld	h,(ix+7)
  3306  0d64  19                	add	hl, de
  3307  0d65  e5                	push	hl
  3308  0d66  d5                	push	de
  3309  0d67  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3310  0d6a  e5                	push	hl
  3311  0d6b  cd4308            	call	_vdp_setWriteAddress
  3312  0d6e  f1                	pop	af
  3313  0d6f  d1                	pop	de
  3314  0d70  c1                	pop	bc
  3315                          l_vdp_loadPatternTable_00101:
  3316  0d71  1a                	ld	a, (de)
  3317  0d72  d3a0              	out	(_IO_VDPDATA), a
  3318  0d74  13                	inc	de
  3319  0d75  69                	ld	l, c
  3320  0d76  60                	ld	h, b
  3321  0d77  bf                	cp	a, a
  3322  0d78  ed52              	sbc	hl, de
  3323  0d7a  20f5              	jr	NZ,l_vdp_loadPatternTable_00101
  3324  0d7c  3ad305            	ld	a, (__vdpSplitThirds+0)
  3325  0d7f  b7                	or	a, a
  3326  0d80  283e              	jr	Z,l_vdp_loadPatternTable_00112
  3327  0d82  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3328  0d85  110008            	ld	de,0x0800
  3329  0d88  19                	add	hl, de
  3330  0d89  c5                	push	bc
  3331  0d8a  e5                	push	hl
  3332  0d8b  cd4308            	call	_vdp_setWriteAddress
  3333  0d8e  f1                	pop	af
  3334  0d8f  c1                	pop	bc
  3335  0d90  dd5e04            	ld	e,(ix+4)
  3336  0d93  dd5605            	ld	d,(ix+5)
  3337                          l_vdp_loadPatternTable_00104:
  3338  0d96  1a                	ld	a, (de)
  3339  0d97  d3a0              	out	(_IO_VDPDATA), a
  3340  0d99  13                	inc	de
  3341  0d9a  6b                	ld	l, e
  3342  0d9b  62                	ld	h, d
  3343  0d9c  bf                	cp	a, a
  3344  0d9d  ed42              	sbc	hl, bc
  3345  0d9f  20f5              	jr	NZ,l_vdp_loadPatternTable_00104
  3346  0da1  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3347  0da4  110010            	ld	de,0x1000
  3348  0da7  19                	add	hl, de
  3349  0da8  c5                	push	bc
  3350  0da9  e5                	push	hl
  3351  0daa  cd4308            	call	_vdp_setWriteAddress
  3352  0dad  f1                	pop	af
  3353  0dae  c1                	pop	bc
  3354  0daf  dd5e04            	ld	e,(ix+4)
  3355  0db2  dd5605            	ld	d,(ix+5)
  3356                          l_vdp_loadPatternTable_00107:
  3357  0db5  1a                	ld	a, (de)
  3358  0db6  d3a0              	out	(_IO_VDPDATA), a
  3359  0db8  13                	inc	de
  3360  0db9  6b                	ld	l, e
  3361  0dba  62                	ld	h, d
  3362  0dbb  bf                	cp	a, a
  3363  0dbc  ed42              	sbc	hl, bc
  3364  0dbe  20f5              	jr	NZ,l_vdp_loadPatternTable_00107
  3365                          l_vdp_loadPatternTable_00112:
  3366  0dc0  dde1              	pop	ix
  3367  0dc2  c9                	ret
  3368                          	SECTION code_compiler
  3369                          ;	---------------------------------
  3370                          ; Function vdp_loadColorTable
  3371                          ; ---------------------------------
  3372                          _vdp_loadColorTable:
  3373  0dc3  dde5              	push	ix
  3374  0dc5  dd210000          	ld	ix,0
  3375  0dc9  dd39              	add	ix,sp
  3376  0dcb  dd5e04            	ld	e,(ix+4)
  3377  0dce  dd5605            	ld	d,(ix+5)
  3378  0dd1  dd6e06            	ld	l,(ix+6)
  3379  0dd4  dd6607            	ld	h,(ix+7)
  3380  0dd7  19                	add	hl, de
  3381  0dd8  e5                	push	hl
  3382  0dd9  d5                	push	de
  3383  0dda  2ac905            	ld	hl, (__vdpColorTableAddr)
  3384  0ddd  e5                	push	hl
  3385  0dde  cd4308            	call	_vdp_setWriteAddress
  3386  0de1  f1                	pop	af
  3387  0de2  d1                	pop	de
  3388  0de3  c1                	pop	bc
  3389                          l_vdp_loadColorTable_00101:
  3390  0de4  1a                	ld	a, (de)
  3391  0de5  d3a0              	out	(_IO_VDPDATA), a
  3392  0de7  13                	inc	de
  3393  0de8  69                	ld	l, c
  3394  0de9  60                	ld	h, b
  3395  0dea  bf                	cp	a, a
  3396  0deb  ed52              	sbc	hl, de
  3397  0ded  20f5              	jr	NZ,l_vdp_loadColorTable_00101
  3398  0def  3ad305            	ld	a, (__vdpSplitThirds+0)
  3399  0df2  b7                	or	a, a
  3400  0df3  283e              	jr	Z,l_vdp_loadColorTable_00112
  3401  0df5  2ac905            	ld	hl, (__vdpColorTableAddr)
  3402  0df8  110008            	ld	de,0x0800
  3403  0dfb  19                	add	hl, de
  3404  0dfc  c5                	push	bc
  3405  0dfd  e5                	push	hl
  3406  0dfe  cd4308            	call	_vdp_setWriteAddress
  3407  0e01  f1                	pop	af
  3408  0e02  c1                	pop	bc
  3409  0e03  dd5e04            	ld	e,(ix+4)
  3410  0e06  dd5605            	ld	d,(ix+5)
  3411                          l_vdp_loadColorTable_00104:
  3412  0e09  1a                	ld	a, (de)
  3413  0e0a  d3a0              	out	(_IO_VDPDATA), a
  3414  0e0c  13                	inc	de
  3415  0e0d  6b                	ld	l, e
  3416  0e0e  62                	ld	h, d
  3417  0e0f  bf                	cp	a, a
  3418  0e10  ed42              	sbc	hl, bc
  3419  0e12  20f5              	jr	NZ,l_vdp_loadColorTable_00104
  3420  0e14  2ac905            	ld	hl, (__vdpColorTableAddr)
  3421  0e17  110010            	ld	de,0x1000
  3422  0e1a  19                	add	hl, de
  3423  0e1b  c5                	push	bc
  3424  0e1c  e5                	push	hl
  3425  0e1d  cd4308            	call	_vdp_setWriteAddress
  3426  0e20  f1                	pop	af
  3427  0e21  c1                	pop	bc
  3428  0e22  dd5e04            	ld	e,(ix+4)
  3429  0e25  dd5605            	ld	d,(ix+5)
  3430                          l_vdp_loadColorTable_00107:
  3431  0e28  1a                	ld	a, (de)
  3432  0e29  d3a0              	out	(_IO_VDPDATA), a
  3433  0e2b  13                	inc	de
  3434  0e2c  6b                	ld	l, e
  3435  0e2d  62                	ld	h, d
  3436  0e2e  bf                	cp	a, a
  3437  0e2f  ed42              	sbc	hl, bc
  3438  0e31  20f5              	jr	NZ,l_vdp_loadColorTable_00107
  3439                          l_vdp_loadColorTable_00112:
  3440  0e33  dde1              	pop	ix
  3441  0e35  c9                	ret
  3442                          	SECTION code_compiler
  3443                          ;	---------------------------------
  3444                          ; Function vdp_colorizePattern
  3445                          ; ---------------------------------
  3446                          _vdp_colorizePattern:
  3447  0e36  dde5              	push	ix
  3448  0e38  dd210000          	ld	ix,0
  3449  0e3c  dd39              	add	ix,sp
  3450  0e3e  3b                	dec	sp
  3451  0e3f  dd6e04            	ld	l,(ix+4)
  3452  0e42  2600              	ld	h,0x00
  3453  0e44  29                	add	hl, hl
  3454  0e45  29                	add	hl, hl
  3455  0e46  29                	add	hl, hl
  3456  0e47  4d                	ld	c, l
  3457  0e48  44                	ld	b, h
  3458  0e49  dd7e05            	ld	a,(ix+5)
  3459  0e4c  87                	add	a, a
  3460  0e4d  87                	add	a, a
  3461  0e4e  87                	add	a, a
  3462  0e4f  87                	add	a, a
  3463  0e50  dd5e06            	ld	e,(ix+6)
  3464  0e53  83                	add	a, e
  3465  0e54  dd77ff            	ld	(ix-1),a
  3466  0e57  2ac905            	ld	hl, (__vdpColorTableAddr)
  3467  0e5a  09                	add	hl, bc
  3468  0e5b  c5                	push	bc
  3469  0e5c  e5                	push	hl
  3470  0e5d  cd4308            	call	_vdp_setWriteAddress
  3471  0e60  f1                	pop	af
  3472  0e61  c1                	pop	bc
  3473  0e62  1e00              	ld	e,0x00
  3474                          l_vdp_colorizePattern_00107:
  3475  0e64  7b                	ld	a, e
  3476  0e65  d608              	sub	a,0x08
  3477  0e67  3008              	jr	NC,l_vdp_colorizePattern_00101
  3478  0e69  dd7eff            	ld	a,(ix-1)
  3479  0e6c  d3a0              	out	(_IO_VDPDATA), a
  3480  0e6e  1c                	inc	e
  3481  0e6f  18f3              	jr	l_vdp_colorizePattern_00107
  3482                          l_vdp_colorizePattern_00101:
  3483  0e71  3ad305            	ld	a, (__vdpSplitThirds+0)
  3484  0e74  b7                	or	a, a
  3485  0e75  283a              	jr	Z,l_vdp_colorizePattern_00115
  3486  0e77  2ac905            	ld	hl, (__vdpColorTableAddr)
  3487  0e7a  110008            	ld	de,0x0800
  3488  0e7d  19                	add	hl, de
  3489  0e7e  09                	add	hl, bc
  3490  0e7f  c5                	push	bc
  3491  0e80  e5                	push	hl
  3492  0e81  cd4308            	call	_vdp_setWriteAddress
  3493  0e84  f1                	pop	af
  3494  0e85  c1                	pop	bc
  3495  0e86  1e00              	ld	e,0x00
  3496                          l_vdp_colorizePattern_00110:
  3497  0e88  7b                	ld	a, e
  3498  0e89  d608              	sub	a,0x08
  3499  0e8b  3008              	jr	NC,l_vdp_colorizePattern_00102
  3500  0e8d  dd7eff            	ld	a,(ix-1)
  3501  0e90  d3a0              	out	(_IO_VDPDATA), a
  3502  0e92  1c                	inc	e
  3503  0e93  18f3              	jr	l_vdp_colorizePattern_00110
  3504                          l_vdp_colorizePattern_00102:
  3505  0e95  2ac905            	ld	hl, (__vdpColorTableAddr)
  3506  0e98  110010            	ld	de,0x1000
  3507  0e9b  19                	add	hl, de
  3508  0e9c  09                	add	hl, bc
  3509  0e9d  e5                	push	hl
  3510  0e9e  cd4308            	call	_vdp_setWriteAddress
  3511  0ea1  f1                	pop	af
  3512  0ea2  0e00              	ld	c,0x00
  3513                          l_vdp_colorizePattern_00113:
  3514  0ea4  79                	ld	a, c
  3515  0ea5  d608              	sub	a,0x08
  3516  0ea7  3008              	jr	NC,l_vdp_colorizePattern_00115
  3517  0ea9  dd7eff            	ld	a,(ix-1)
  3518  0eac  d3a0              	out	(_IO_VDPDATA), a
  3519  0eae  0c                	inc	c
  3520  0eaf  18f3              	jr	l_vdp_colorizePattern_00113
  3521                          l_vdp_colorizePattern_00115:
  3522  0eb1  33                	inc	sp
  3523  0eb2  dde1              	pop	ix
  3524  0eb4  c9                	ret
  3525                          	SECTION code_compiler
  3526                          ;	---------------------------------
  3527                          ; Function vdp_plotHires
  3528                          ; ---------------------------------
  3529                          _vdp_plotHires:
  3530  0eb5  dde5              	push	ix
  3531  0eb7  dd210000          	ld	ix,0
  3532  0ebb  dd39              	add	ix,sp
  3533  0ebd  f5                	push	af
  3534  0ebe  3b                	dec	sp
  3535  0ebf  dd7e04            	ld	a,(ix+4)
  3536  0ec2  dd77fd            	ld	(ix-3),a
  3537  0ec5  dd36fe00          	ld	(ix-2),0x00
  3538  0ec9  e1                	pop	hl
  3539  0eca  e5                	push	hl
  3540  0ecb  ddcbfe7e          	bit	7,(ix-2)
  3541  0ecf  2806              	jr	Z,l_vdp_plotHires_00106
  3542  0ed1  e1                	pop	hl
  3543  0ed2  e5                	push	hl
  3544  0ed3  110700            	ld	de,0x0007
  3545  0ed6  19                	add	hl, de
  3546                          l_vdp_plotHires_00106:
  3547  0ed7  cb2c              	sra	h
  3548  0ed9  cb1d              	rr	l
  3549  0edb  cb2c              	sra	h
  3550  0edd  cb1d              	rr	l
  3551  0edf  cb2c              	sra	h
  3552  0ee1  cb1d              	rr	l
  3553  0ee3  29                	add	hl, hl
  3554  0ee4  29                	add	hl, hl
  3555  0ee5  29                	add	hl, hl
  3556  0ee6  dd4e05            	ld	c,(ix+5)
  3557  0ee9  0600              	ld	b,0x00
  3558  0eeb  79                	ld	a, c
  3559  0eec  e607              	and	a,0x07
  3560  0eee  5f                	ld	e, a
  3561  0eef  1600              	ld	d,0x00
  3562  0ef1  19                	add	hl, de
  3563  0ef2  eb                	ex	de, hl
  3564  0ef3  69                	ld	l, c
  3565  0ef4  60                	ld	h, b
  3566  0ef5  cb78              	bit	7, b
  3567  0ef7  2804              	jr	Z,l_vdp_plotHires_00107
  3568  0ef9  210700            	ld	hl,0x0007
  3569  0efc  09                	add	hl, bc
  3570                          l_vdp_plotHires_00107:
  3571  0efd  cb2c              	sra	h
  3572  0eff  cb1d              	rr	l
  3573  0f01  cb2c              	sra	h
  3574  0f03  cb1d              	rr	l
  3575  0f05  cb2c              	sra	h
  3576  0f07  cb1d              	rr	l
  3577  0f09  65                	ld	h, l
  3578  0f0a  2e00              	ld	l,0x00
  3579  0f0c  19                	add	hl, de
  3580  0f0d  eb                	ex	de, hl
  3581  0f0e  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3582  0f11  19                	add	hl, de
  3583  0f12  d5                	push	de
  3584  0f13  e5                	push	hl
  3585  0f14  cd5808            	call	_vdp_setReadAddress
  3586  0f17  f1                	pop	af
  3587  0f18  d1                	pop	de
  3588  0f19  dba0              	in	a, (_IO_VDPDATA)
  3589  0f1b  dd77ff            	ld	(ix-1),a
  3590  0f1e  2ac905            	ld	hl, (__vdpColorTableAddr)
  3591  0f21  19                	add	hl, de
  3592  0f22  d5                	push	de
  3593  0f23  e5                	push	hl
  3594  0f24  cd5808            	call	_vdp_setReadAddress
  3595  0f27  f1                	pop	af
  3596  0f28  d1                	pop	de
  3597  0f29  dba0              	in	a, (_IO_VDPDATA)
  3598  0f2b  6f                	ld	l, a
  3599  0f2c  dd7efd            	ld	a,(ix-3)
  3600  0f2f  e607              	and	a,0x07
  3601  0f31  f5                	push	af
  3602  0f32  018000            	ld	bc,0x0080
  3603  0f35  f1                	pop	af
  3604  0f36  3c                	inc	a
  3605  0f37  1804              	jr	l_vdp_plotHires_00124
  3606                          l_vdp_plotHires_00123:
  3607  0f39  cb28              	sra	b
  3608  0f3b  cb19              	rr	c
  3609                          l_vdp_plotHires_00124:
  3610  0f3d  3d                	dec	a
  3611  0f3e  20f9              	jr	NZ, l_vdp_plotHires_00123
  3612  0f40  dd7e06            	ld	a,(ix+6)
  3613  0f43  b7                	or	a, a
  3614  0f44  2814              	jr	Z,l_vdp_plotHires_00102
  3615  0f46  79                	ld	a, c
  3616  0f47  ddb6ff            	or	a,(ix-1)
  3617  0f4a  4f                	ld	c, a
  3618  0f4b  7d                	ld	a, l
  3619  0f4c  e60f              	and	a,0x0f
  3620  0f4e  6f                	ld	l, a
  3621  0f4f  dd7e06            	ld	a,(ix+6)
  3622  0f52  87                	add	a, a
  3623  0f53  87                	add	a, a
  3624  0f54  87                	add	a, a
  3625  0f55  87                	add	a, a
  3626  0f56  b5                	or	a, l
  3627  0f57  47                	ld	b, a
  3628  0f58  1811              	jr	l_vdp_plotHires_00103
  3629                          l_vdp_plotHires_00102:
  3630  0f5a  79                	ld	a, c
  3631  0f5b  2f                	cpl
  3632  0f5c  dda6ff            	and	a,(ix-1)
  3633  0f5f  4f                	ld	c, a
  3634  0f60  7d                	ld	a, l
  3635  0f61  e6f0              	and	a,0xf0
  3636  0f63  6f                	ld	l, a
  3637  0f64  dd7e07            	ld	a,(ix+7)
  3638  0f67  e60f              	and	a,0x0f
  3639  0f69  b5                	or	a, l
  3640  0f6a  47                	ld	b, a
  3641                          l_vdp_plotHires_00103:
  3642  0f6b  fd2acb05          	ld	iy, (__vdpPatternGeneratorTableAddr)
  3643  0f6f  fd19              	add	iy, de
  3644  0f71  c5                	push	bc
  3645  0f72  d5                	push	de
  3646  0f73  fde5              	push	iy
  3647  0f75  cd4308            	call	_vdp_setWriteAddress
  3648  0f78  f1                	pop	af
  3649  0f79  d1                	pop	de
  3650  0f7a  c1                	pop	bc
  3651  0f7b  79                	ld	a, c
  3652  0f7c  d3a0              	out	(_IO_VDPDATA), a
  3653  0f7e  fd2ac905          	ld	iy, (__vdpColorTableAddr)
  3654  0f82  fd19              	add	iy, de
  3655  0f84  c5                	push	bc
  3656  0f85  fde5              	push	iy
  3657  0f87  cd4308            	call	_vdp_setWriteAddress
  3658  0f8a  f1                	pop	af
  3659  0f8b  c1                	pop	bc
  3660  0f8c  78                	ld	a, b
  3661  0f8d  d3a0              	out	(_IO_VDPDATA), a
  3662  0f8f  ddf9              	ld	sp, ix
  3663  0f91  dde1              	pop	ix
  3664  0f93  c9                	ret
  3665                          	SECTION code_compiler
  3666                          ;	---------------------------------
  3667                          ; Function vdp_plotColor
  3668                          ; ---------------------------------
  3669                          _vdp_plotColor:
  3670  0f94  dde5              	push	ix
  3671  0f96  dd210000          	ld	ix,0
  3672  0f9a  dd39              	add	ix,sp
  3673  0f9c  3b                	dec	sp
  3674  0f9d  3ad105            	ld	a, (__vdpMode+0)
  3675  0fa0  d602              	sub	a,0x02
  3676  0fa2  2077              	jr	NZ,l_vdp_plotColor_00110
  3677  0fa4  dd5e04            	ld	e,(ix+4)
  3678  0fa7  1600              	ld	d,0x00
  3679  0fa9  6b                	ld	l, e
  3680  0faa  62                	ld	h, d
  3681  0fab  cb7a              	bit	7, d
  3682  0fad  2802              	jr	Z,l_vdp_plotColor_00114
  3683  0faf  eb                	ex	de, hl
  3684  0fb0  23                	inc	hl
  3685                          l_vdp_plotColor_00114:
  3686  0fb1  cb2c              	sra	h
  3687  0fb3  cb1d              	rr	l
  3688  0fb5  29                	add	hl, hl
  3689  0fb6  29                	add	hl, hl
  3690  0fb7  29                	add	hl, hl
  3691  0fb8  eb                	ex	de, hl
  3692  0fb9  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3693  0fbc  19                	add	hl, de
  3694  0fbd  dd4e05            	ld	c,(ix+5)
  3695  0fc0  0600              	ld	b,0x00
  3696  0fc2  79                	ld	a, c
  3697  0fc3  e607              	and	a,0x07
  3698  0fc5  5f                	ld	e, a
  3699  0fc6  1600              	ld	d,0x00
  3700  0fc8  19                	add	hl, de
  3701  0fc9  eb                	ex	de, hl
  3702  0fca  69                	ld	l, c
  3703  0fcb  60                	ld	h, b
  3704  0fcc  cb78              	bit	7, b
  3705  0fce  2804              	jr	Z,l_vdp_plotColor_00115
  3706  0fd0  210700            	ld	hl,0x0007
  3707  0fd3  09                	add	hl, bc
  3708                          l_vdp_plotColor_00115:
  3709  0fd4  cb2c              	sra	h
  3710  0fd6  cb1d              	rr	l
  3711  0fd8  cb2c              	sra	h
  3712  0fda  cb1d              	rr	l
  3713  0fdc  cb2c              	sra	h
  3714  0fde  cb1d              	rr	l
  3715  0fe0  65                	ld	h, l
  3716  0fe1  2e00              	ld	l,0x00
  3717  0fe3  19                	add	hl, de
  3718  0fe4  e5                	push	hl
  3719  0fe5  e5                	push	hl
  3720  0fe6  cd5808            	call	_vdp_setReadAddress
  3721  0fe9  f1                	pop	af
  3722  0fea  e1                	pop	hl
  3723  0feb  dba0              	in	a, (_IO_VDPDATA)
  3724  0fed  47                	ld	b, a
  3725  0fee  c5                	push	bc
  3726  0fef  e5                	push	hl
  3727  0ff0  cd4308            	call	_vdp_setWriteAddress
  3728  0ff3  f1                	pop	af
  3729  0ff4  c1                	pop	bc
  3730  0ff5  dd4e04            	ld	c,(ix+4)
  3731  0ff8  78                	ld	a, b
  3732  0ff9  cb41              	bit	0, c
  3733  0ffb  280e              	jr	Z,l_vdp_plotColor_00102
  3734  0ffd  e6f0              	and	a,0xf0
  3735  0fff  4f                	ld	c, a
  3736  1000  dd7e06            	ld	a,(ix+6)
  3737  1003  e60f              	and	a,0x0f
  3738  1005  81                	add	a, c
  3739  1006  d3a0              	out	(_IO_VDPDATA), a
  3740  1008  c3ab10            	jp	l_vdp_plotColor_00112
  3741                          l_vdp_plotColor_00102:
  3742  100b  e60f              	and	a,0x0f
  3743  100d  4f                	ld	c, a
  3744  100e  dd7e06            	ld	a,(ix+6)
  3745  1011  87                	add	a, a
  3746  1012  87                	add	a, a
  3747  1013  87                	add	a, a
  3748  1014  87                	add	a, a
  3749  1015  81                	add	a, c
  3750  1016  d3a0              	out	(_IO_VDPDATA), a
  3751  1018  c3ab10            	jp	l_vdp_plotColor_00112
  3752                          l_vdp_plotColor_00110:
  3753  101b  3ad105            	ld	a, (__vdpMode+0)
  3754  101e  3d                	dec	a
  3755  101f  c2ab10            	jp	NZ,l_vdp_plotColor_00112
  3756  1022  dd5e04            	ld	e,(ix+4)
  3757  1025  1600              	ld	d,0x00
  3758  1027  6b                	ld	l, e
  3759  1028  62                	ld	h, d
  3760  1029  cb7a              	bit	7, d
  3761  102b  2802              	jr	Z,l_vdp_plotColor_00116
  3762  102d  eb                	ex	de, hl
  3763  102e  23                	inc	hl
  3764                          l_vdp_plotColor_00116:
  3765  102f  cb2c              	sra	h
  3766  1031  cb1d              	rr	l
  3767  1033  29                	add	hl, hl
  3768  1034  29                	add	hl, hl
  3769  1035  29                	add	hl, hl
  3770  1036  dd4e05            	ld	c,(ix+5)
  3771  1039  0600              	ld	b,0x00
  3772  103b  79                	ld	a, c
  3773  103c  e607              	and	a,0x07
  3774  103e  5f                	ld	e, a
  3775  103f  1600              	ld	d,0x00
  3776  1041  19                	add	hl, de
  3777  1042  eb                	ex	de, hl
  3778  1043  69                	ld	l, c
  3779  1044  60                	ld	h, b
  3780  1045  cb78              	bit	7, b
  3781  1047  2804              	jr	Z,l_vdp_plotColor_00117
  3782  1049  210700            	ld	hl,0x0007
  3783  104c  09                	add	hl, bc
  3784                          l_vdp_plotColor_00117:
  3785  104d  cb2c              	sra	h
  3786  104f  cb1d              	rr	l
  3787  1051  cb2c              	sra	h
  3788  1053  cb1d              	rr	l
  3789  1055  cb2c              	sra	h
  3790  1057  cb1d              	rr	l
  3791  1059  65                	ld	h, l
  3792  105a  2e00              	ld	l,0x00
  3793  105c  19                	add	hl, de
  3794  105d  eb                	ex	de, hl
  3795  105e  2ac905            	ld	hl, (__vdpColorTableAddr)
  3796  1061  19                	add	hl, de
  3797  1062  d5                	push	de
  3798  1063  e5                	push	hl
  3799  1064  cd5808            	call	_vdp_setReadAddress
  3800  1067  f1                	pop	af
  3801  1068  d1                	pop	de
  3802  1069  dba0              	in	a, (_IO_VDPDATA)
  3803  106b  dd4e04            	ld	c,(ix+4)
  3804  106e  cb41              	bit	0, c
  3805  1070  2010              	jr	NZ,l_vdp_plotColor_00105
  3806  1072  e60f              	and	a,0x0f
  3807  1074  4f                	ld	c, a
  3808  1075  dd7e06            	ld	a,(ix+6)
  3809  1078  87                	add	a, a
  3810  1079  87                	add	a, a
  3811  107a  87                	add	a, a
  3812  107b  87                	add	a, a
  3813  107c  b1                	or	a, c
  3814  107d  dd77ff            	ld	(ix-1),a
  3815  1080  180c              	jr	l_vdp_plotColor_00106
  3816                          l_vdp_plotColor_00105:
  3817  1082  e6f0              	and	a,0xf0
  3818  1084  4f                	ld	c, a
  3819  1085  dd7e06            	ld	a,(ix+6)
  3820  1088  e60f              	and	a,0x0f
  3821  108a  b1                	or	a, c
  3822  108b  dd77ff            	ld	(ix-1),a
  3823                          l_vdp_plotColor_00106:
  3824  108e  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  3825  1091  19                	add	hl, de
  3826  1092  d5                	push	de
  3827  1093  e5                	push	hl
  3828  1094  cd4308            	call	_vdp_setWriteAddress
  3829  1097  f1                	pop	af
  3830  1098  d1                	pop	de
  3831  1099  3ef0              	ld	a,0xf0
  3832  109b  d3a0              	out	(_IO_VDPDATA), a
  3833  109d  2ac905            	ld	hl, (__vdpColorTableAddr)
  3834  10a0  19                	add	hl, de
  3835  10a1  e5                	push	hl
  3836  10a2  cd4308            	call	_vdp_setWriteAddress
  3837  10a5  f1                	pop	af
  3838  10a6  dd7eff            	ld	a,(ix-1)
  3839  10a9  d3a0              	out	(_IO_VDPDATA), a
  3840                          l_vdp_plotColor_00112:
  3841  10ab  33                	inc	sp
  3842  10ac  dde1              	pop	ix
  3843  10ae  c9                	ret
  3844                          	SECTION code_compiler
  3845                          ;	---------------------------------
  3846                          ; Function vdp_disableSprite
  3847                          ; ---------------------------------
  3848                          _vdp_disableSprite:
  3849  10af  fd210200          	ld	iy,2
  3850  10b3  fd39              	add	iy, sp
  3851  10b5  fd6e00            	ld	l,(iy+0)
  3852  10b8  2600              	ld	h,0x00
  3853  10ba  29                	add	hl, hl
  3854  10bb  29                	add	hl, hl
  3855  10bc  eb                	ex	de, hl
  3856  10bd  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  3857  10c0  19                	add	hl, de
  3858  10c1  e5                	push	hl
  3859  10c2  cd4308            	call	_vdp_setWriteAddress
  3860  10c5  f1                	pop	af
  3861  10c6  3ec0              	ld	a,0xc0
  3862  10c8  d3a0              	out	(_IO_VDPDATA), a
  3863  10ca  3e00              	ld	a,0x00
  3864  10cc  d3a0              	out	(_IO_VDPDATA), a
  3865  10ce  3e00              	ld	a,0x00
  3866  10d0  d3a0              	out	(_IO_VDPDATA), a
  3867  10d2  3e80              	ld	a,0x80
  3868  10d4  d3a0              	out	(_IO_VDPDATA), a
  3869  10d6  c9                	ret
  3870                          	SECTION code_compiler
  3871                          ;	---------------------------------
  3872                          ; Function vdp_loadSpritePatternNameTable
  3873                          ; ---------------------------------
  3874                          _vdp_loadSpritePatternNameTable:
  3875  10d7  dde5              	push	ix
  3876  10d9  dd210000          	ld	ix,0
  3877  10dd  dd39              	add	ix,sp
  3878  10df  0600              	ld	b,0x00
  3879                          l_vdp_loadSpritePatternNameTable_00108:
  3880  10e1  78                	ld	a, b
  3881  10e2  d620              	sub	a,0x20
  3882  10e4  300b              	jr	NC,l_vdp_loadSpritePatternNameTable_00101
  3883  10e6  c5                	push	bc
  3884  10e7  c5                	push	bc
  3885  10e8  33                	inc	sp
  3886  10e9  cdaf10            	call	_vdp_disableSprite
  3887  10ec  33                	inc	sp
  3888  10ed  c1                	pop	bc
  3889  10ee  04                	inc	b
  3890  10ef  18f0              	jr	l_vdp_loadSpritePatternNameTable_00108
  3891                          l_vdp_loadSpritePatternNameTable_00101:
  3892  10f1  3ac605            	ld	a, (__vdpSpriteSizeSelected+0)
  3893  10f4  b7                	or	a, a
  3894  10f5  282a              	jr	Z,l_vdp_loadSpritePatternNameTable_00105
  3895  10f7  2ac405            	ld	hl, (__vdpSpriteGeneratorTableAddr)
  3896  10fa  e5                	push	hl
  3897  10fb  cd4308            	call	_vdp_setWriteAddress
  3898  10fe  f1                	pop	af
  3899  10ff  dd6e04            	ld	l,(ix+4)
  3900  1102  dd6605            	ld	h,(ix+5)
  3901  1105  29                	add	hl, hl
  3902  1106  29                	add	hl, hl
  3903  1107  29                	add	hl, hl
  3904  1108  29                	add	hl, hl
  3905  1109  29                	add	hl, hl
  3906  110a  eb                	ex	de,hl
  3907  110b  010000            	ld	bc,0x0000
  3908                          l_vdp_loadSpritePatternNameTable_00111:
  3909  110e  79                	ld	a, c
  3910  110f  93                	sub	a, e
  3911  1110  78                	ld	a, b
  3912  1111  9a                	sbc	a, d
  3913  1112  3035              	jr	NC,l_vdp_loadSpritePatternNameTable_00116
  3914  1114  dd6e06            	ld	l,(ix+6)
  3915  1117  dd6607            	ld	h,(ix+7)
  3916  111a  09                	add	hl, bc
  3917  111b  7e                	ld	a, (hl)
  3918  111c  d3a0              	out	(_IO_VDPDATA), a
  3919  111e  03                	inc	bc
  3920  111f  18ed              	jr	l_vdp_loadSpritePatternNameTable_00111
  3921                          l_vdp_loadSpritePatternNameTable_00105:
  3922  1121  2ac405            	ld	hl, (__vdpSpriteGeneratorTableAddr)
  3923  1124  e5                	push	hl
  3924  1125  cd4308            	call	_vdp_setWriteAddress
  3925  1128  f1                	pop	af
  3926  1129  dd6e04            	ld	l,(ix+4)
  3927  112c  dd6605            	ld	h,(ix+5)
  3928  112f  29                	add	hl, hl
  3929  1130  29                	add	hl, hl
  3930  1131  29                	add	hl, hl
  3931  1132  eb                	ex	de,hl
  3932  1133  010000            	ld	bc,0x0000
  3933                          l_vdp_loadSpritePatternNameTable_00114:
  3934  1136  79                	ld	a, c
  3935  1137  93                	sub	a, e
  3936  1138  78                	ld	a, b
  3937  1139  9a                	sbc	a, d
  3938  113a  300d              	jr	NC,l_vdp_loadSpritePatternNameTable_00116
  3939  113c  dd6e06            	ld	l,(ix+6)
  3940  113f  dd6607            	ld	h,(ix+7)
  3941  1142  09                	add	hl, bc
  3942  1143  7e                	ld	a, (hl)
  3943  1144  d3a0              	out	(_IO_VDPDATA), a
  3944  1146  03                	inc	bc
  3945  1147  18ed              	jr	l_vdp_loadSpritePatternNameTable_00114
  3946                          l_vdp_loadSpritePatternNameTable_00116:
  3947  1149  dde1              	pop	ix
  3948  114b  c9                	ret
  3949                          	SECTION code_compiler
  3950                          ;	---------------------------------
  3951                          ; Function vdp_spriteInit
  3952                          ; ---------------------------------
  3953                          _vdp_spriteInit:
  3954  114c  dde5              	push	ix
  3955  114e  dd210000          	ld	ix,0
  3956  1152  dd39              	add	ix,sp
  3957  1154  dd6e04            	ld	l,(ix+4)
  3958  1157  2600              	ld	h,0x00
  3959  1159  29                	add	hl, hl
  3960  115a  29                	add	hl, hl
  3961  115b  eb                	ex	de, hl
  3962  115c  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  3963  115f  19                	add	hl, de
  3964  1160  e5                	push	hl
  3965  1161  cd4308            	call	_vdp_setWriteAddress
  3966  1164  f1                	pop	af
  3967  1165  dd7e07            	ld	a,(ix+7)
  3968  1168  d3a0              	out	(_IO_VDPDATA), a
  3969  116a  dd7e06            	ld	a,(ix+6)
  3970  116d  d3a0              	out	(_IO_VDPDATA), a
  3971  116f  dd4e05            	ld	c,(ix+5)
  3972  1172  3ac605            	ld	a, (__vdpSpriteSizeSelected+0)
  3973  1175  b7                	or	a, a
  3974  1176  2807              	jr	Z,l_vdp_spriteInit_00102
  3975  1178  79                	ld	a, c
  3976  1179  87                	add	a, a
  3977  117a  87                	add	a, a
  3978  117b  d3a0              	out	(_IO_VDPDATA), a
  3979  117d  1803              	jr	l_vdp_spriteInit_00103
  3980                          l_vdp_spriteInit_00102:
  3981  117f  79                	ld	a, c
  3982  1180  d3a0              	out	(_IO_VDPDATA), a
  3983                          l_vdp_spriteInit_00103:
  3984  1182  dd7e08            	ld	a,(ix+8)
  3985  1185  e60f              	and	a,0x0f
  3986  1187  d3a0              	out	(_IO_VDPDATA), a
  3987  1189  dd6e04            	ld	l,(ix+4)
  3988  118c  dde1              	pop	ix
  3989  118e  c9                	ret
  3990                          	SECTION code_compiler
  3991                          ;	---------------------------------
  3992                          ; Function vdp_setSpriteColor
  3993                          ; ---------------------------------
  3994                          _vdp_setSpriteColor:
  3995  118f  fd210200          	ld	iy,2
  3996  1193  fd39              	add	iy, sp
  3997  1195  fd6e00            	ld	l,(iy+0)
  3998  1198  2600              	ld	h,0x00
  3999  119a  29                	add	hl, hl
  4000  119b  29                	add	hl, hl
  4001  119c  eb                	ex	de, hl
  4002  119d  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  4003  11a0  19                	add	hl, de
  4004  11a1  23                	inc	hl
  4005  11a2  23                	inc	hl
  4006  11a3  23                	inc	hl
  4007  11a4  e5                	push	hl
  4008  11a5  cd4308            	call	_vdp_setWriteAddress
  4009  11a8  f1                	pop	af
  4010  11a9  210300            	ld	hl,3+0
  4011  11ac  39                	add	hl, sp
  4012  11ad  7e                	ld	a, (hl)
  4013  11ae  e60f              	and	a,0x0f
  4014  11b0  d3a0              	out	(_IO_VDPDATA), a
  4015  11b2  c9                	ret
  4016                          	SECTION code_compiler
  4017                          ;	---------------------------------
  4018                          ; Function vdp_setSpritePosition
  4019                          ; ---------------------------------
  4020                          _vdp_setSpritePosition:
  4021  11b3  fd210200          	ld	iy,2
  4022  11b7  fd39              	add	iy, sp
  4023  11b9  fd6e00            	ld	l,(iy+0)
  4024  11bc  2600              	ld	h,0x00
  4025  11be  29                	add	hl, hl
  4026  11bf  29                	add	hl, hl
  4027  11c0  eb                	ex	de, hl
  4028  11c1  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  4029  11c4  19                	add	hl, de
  4030  11c5  e5                	push	hl
  4031  11c6  cd4308            	call	_vdp_setWriteAddress
  4032  11c9  f1                	pop	af
  4033  11ca  fd210400          	ld	iy,4
  4034  11ce  fd39              	add	iy, sp
  4035  11d0  fd7e00            	ld	a,(iy+0)
  4036  11d3  d3a0              	out	(_IO_VDPDATA), a
  4037  11d5  fd2b              	dec	iy
  4038  11d7  fd7e00            	ld	a,(iy+0)
  4039  11da  d3a0              	out	(_IO_VDPDATA), a
  4040  11dc  c9                	ret
  4041                          	SECTION code_compiler
  4042                          ;	---------------------------------
  4043                          ; Function vdp_setSpritePositionAndColor
  4044                          ; ---------------------------------
  4045                          _vdp_setSpritePositionAndColor:
  4046  11dd  fd210200          	ld	iy,2
  4047  11e1  fd39              	add	iy, sp
  4048  11e3  fd6e00            	ld	l,(iy+0)
  4049  11e6  2600              	ld	h,0x00
  4050  11e8  29                	add	hl, hl
  4051  11e9  29                	add	hl, hl
  4052  11ea  eb                	ex	de, hl
  4053  11eb  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  4054  11ee  19                	add	hl, de
  4055  11ef  e5                	push	hl
  4056  11f0  cd4308            	call	_vdp_setWriteAddress
  4057  11f3  f1                	pop	af
  4058  11f4  fd210400          	ld	iy,4
  4059  11f8  fd39              	add	iy, sp
  4060  11fa  fd7e00            	ld	a,(iy+0)
  4061  11fd  d3a0              	out	(_IO_VDPDATA), a
  4062  11ff  fd2b              	dec	iy
  4063  1201  fd7e00            	ld	a,(iy+0)
  4064  1204  d3a0              	out	(_IO_VDPDATA), a
  4065  1206  fd2b              	dec	iy
  4066  1208  fd7e00            	ld	a,(iy+0)
  4067  120b  d3a0              	out	(_IO_VDPDATA), a
  4068  120d  fd7e03            	ld	a,(iy+0+1+1+1)
  4069  1210  e60f              	and	a,0x0f
  4070  1212  d3a0              	out	(_IO_VDPDATA), a
  4071  1214  c9                	ret
  4072                          	SECTION code_compiler
  4073                          ;	---------------------------------
  4074                          ; Function vdp_getSpritePosition
  4075                          ; ---------------------------------
  4076                          _vdp_getSpritePosition:
  4077  1215  fd210200          	ld	iy,2
  4078  1219  fd39              	add	iy, sp
  4079  121b  fd6e00            	ld	l,(iy+0)
  4080  121e  2600              	ld	h,0x00
  4081  1220  29                	add	hl, hl
  4082  1221  29                	add	hl, hl
  4083  1222  eb                	ex	de, hl
  4084  1223  2ac205            	ld	hl, (__vdpSpriteAttributeTableAddr)
  4085  1226  19                	add	hl, de
  4086  1227  e5                	push	hl
  4087  1228  cd5808            	call	_vdp_setReadAddress
  4088  122b  f1                	pop	af
  4089  122c  fd210500          	ld	iy,5
  4090  1230  fd39              	add	iy, sp
  4091  1232  fd4e00            	ld	c,(iy+0)
  4092  1235  fd4601            	ld	b,(iy+1)
  4093  1238  dba0              	in	a, (_IO_VDPDATA)
  4094  123a  02                	ld	(bc), a
  4095  123b  fd2b              	dec	iy
  4096  123d  fd2b              	dec	iy
  4097  123f  fd4e00            	ld	c,(iy+0)
  4098  1242  fd4601            	ld	b,(iy+1)
  4099  1245  dba0              	in	a, (_IO_VDPDATA)
  4100  1247  02                	ld	(bc), a
  4101  1248  c9                	ret
  4102                          	SECTION code_compiler
  4103                          ;	---------------------------------
  4104                          ; Function vdp_print
  4105                          ; ---------------------------------
  4106                          _vdp_print:
  4107  1249  210200            	ld	hl,2
  4108  124c  39                	add	hl, sp
  4109  124d  4e                	ld	c, (hl)
  4110  124e  23                	inc	hl
  4111  124f  46                	ld	b, (hl)
  4112                          l_vdp_print_00101:
  4113  1250  0a                	ld	a, (bc)
  4114  1251  b7                	or	a, a
  4115  1252  c8                	ret	Z
  4116  1253  c5                	push	bc
  4117  1254  f5                	push	af
  4118  1255  33                	inc	sp
  4119  1256  cdbc13            	call	_vdp_write
  4120  1259  33                	inc	sp
  4121  125a  c1                	pop	bc
  4122  125b  03                	inc	bc
  4123  125c  18f2              	jr	l_vdp_print_00101
  4124                          	SECTION code_compiler
  4125                          ;	---------------------------------
  4126                          ; Function vdp_printColorized
  4127                          ; ---------------------------------
  4128                          _vdp_printColorized:
  4129  125e  fd210200          	ld	iy,2
  4130  1262  fd39              	add	iy, sp
  4131  1264  fd4e00            	ld	c,(iy+0)
  4132  1267  fd4601            	ld	b,(iy+1)
  4133                          l_vdp_printColorized_00101:
  4134  126a  0a                	ld	a, (bc)
  4135  126b  b7                	or	a, a
  4136  126c  c8                	ret	Z
  4137  126d  c5                	push	bc
  4138  126e  fd210700          	ld	iy,7
  4139  1272  fd39              	add	iy, sp
  4140  1274  fd6600            	ld	h,(iy+0)
  4141  1277  e5                	push	hl
  4142  1278  33                	inc	sp
  4143  1279  fd2b              	dec	iy
  4144  127b  fd6600            	ld	h,(iy+0)
  4145  127e  e5                	push	hl
  4146  127f  33                	inc	sp
  4147  1280  f5                	push	af
  4148  1281  33                	inc	sp
  4149  1282  cd360e            	call	_vdp_colorizePattern
  4150  1285  f1                	pop	af
  4151  1286  33                	inc	sp
  4152  1287  c1                	pop	bc
  4153  1288  0a                	ld	a, (bc)
  4154  1289  c5                	push	bc
  4155  128a  f5                	push	af
  4156  128b  33                	inc	sp
  4157  128c  cdbc13            	call	_vdp_write
  4158  128f  33                	inc	sp
  4159  1290  c1                	pop	bc
  4160  1291  03                	inc	bc
  4161  1292  18d6              	jr	l_vdp_printColorized_00101
  4162                          	SECTION code_compiler
  4163                          ;	---------------------------------
  4164                          ; Function vdp_printPart
  4165                          ; ---------------------------------
  4166                          _vdp_printPart:
  4167  1294  dde5              	push	ix
  4168  1296  dd210000          	ld	ix,0
  4169  129a  dd39              	add	ix,sp
  4170  129c  dd7e08            	ld	a,(ix+8)
  4171  129f  dd8604            	add	a,(ix+4)
  4172  12a2  4f                	ld	c, a
  4173  12a3  dd7e09            	ld	a,(ix+9)
  4174  12a6  dd8e05            	adc	a,(ix+5)
  4175  12a9  47                	ld	b, a
  4176  12aa  dd6e06            	ld	l,(ix+6)
  4177  12ad  dd6607            	ld	h,(ix+7)
  4178  12b0  09                	add	hl, bc
  4179  12b1  eb                	ex	de, hl
  4180                          l_vdp_printPart_00101:
  4181  12b2  69                	ld	l, c
  4182  12b3  60                	ld	h, b
  4183  12b4  bf                	cp	a, a
  4184  12b5  ed52              	sbc	hl, de
  4185  12b7  280e              	jr	Z,l_vdp_printPart_00104
  4186  12b9  0a                	ld	a, (bc)
  4187  12ba  c5                	push	bc
  4188  12bb  d5                	push	de
  4189  12bc  f5                	push	af
  4190  12bd  33                	inc	sp
  4191  12be  cdbc13            	call	_vdp_write
  4192  12c1  33                	inc	sp
  4193  12c2  d1                	pop	de
  4194  12c3  c1                	pop	bc
  4195  12c4  03                	inc	bc
  4196  12c5  18eb              	jr	l_vdp_printPart_00101
  4197                          l_vdp_printPart_00104:
  4198  12c7  dde1              	pop	ix
  4199  12c9  c9                	ret
  4200                          	SECTION code_compiler
  4201                          ;	---------------------------------
  4202                          ; Function vdp_newLine
  4203                          ; ---------------------------------
  4204                          _vdp_newLine:
  4205  12ca  210b00            	ld	hl,_vdp_cursor + 1
  4206  12cd  4e                	ld	c, (hl)
  4207  12ce  79                	ld	a, c
  4208  12cf  d617              	sub	a,0x17
  4209  12d1  2018              	jr	NZ,l_vdp_newLine_00104
  4210  12d3  3ad205            	ld	a, (__autoScroll+0)
  4211  12d6  b7                	or	a, a
  4212  12d7  280b              	jr	Z,l_vdp_newLine_00102
  4213  12d9  3e17              	ld	a,0x17
  4214  12db  f5                	push	af
  4215  12dc  33                	inc	sp
  4216  12dd  af                	xor	a, a
  4217  12de  f5                	push	af
  4218  12df  33                	inc	sp
  4219  12e0  cd0e15            	call	_vdp_scrollTextUp
  4220  12e3  f1                	pop	af
  4221                          l_vdp_newLine_00102:
  4222  12e4  210a00            	ld	hl,_vdp_cursor
  4223  12e7  3600              	ld	(hl),0x00
  4224  12e9  180c              	jr	l_vdp_newLine_00106
  4225                          l_vdp_newLine_00104:
  4226  12eb  79                	ld	a, c
  4227  12ec  3c                	inc	a
  4228  12ed  77                	ld	(hl), a
  4229  12ee  f5                	push	af
  4230  12ef  33                	inc	sp
  4231  12f0  af                	xor	a, a
  4232  12f1  f5                	push	af
  4233  12f2  33                	inc	sp
  4234  12f3  cd0513            	call	_vdp_setCursor2
  4235  12f6  f1                	pop	af
  4236                          l_vdp_newLine_00106:
  4237  12f7  c9                	ret
  4238                          	SECTION code_compiler
  4239                          ;	---------------------------------
  4240                          ; Function vdp_setBackDropColor
  4241                          ; ---------------------------------
  4242                          _vdp_setBackDropColor:
  4243  12f8  210200            	ld	hl,2+0
  4244  12fb  39                	add	hl, sp
  4245  12fc  56                	ld	d, (hl)
  4246  12fd  1e07              	ld	e,0x07
  4247  12ff  d5                	push	de
  4248  1300  cd2e08            	call	_vdp_setRegister
  4249  1303  f1                	pop	af
  4250  1304  c9                	ret
  4251                          	SECTION code_compiler
  4252                          ;	---------------------------------
  4253                          ; Function vdp_setCursor2
  4254                          ; ---------------------------------
  4255                          _vdp_setCursor2:
  4256  1305  dde5              	push	ix
  4257  1307  dd210000          	ld	ix,0
  4258  130b  dd39              	add	ix,sp
  4259  130d  3acd05            	ld	a,(__vdpCursorMaxX)
  4260  1310  dd9604            	sub	a,(ix+4)
  4261  1313  3007              	jr	NC,l_vdp_setCursor2_00102
  4262  1315  dd360400          	ld	(ix+4),0x00
  4263  1319  dd3405            	inc	(ix+5)
  4264                          l_vdp_setCursor2_00102:
  4265  131c  3a0000            	ld	a, (__vdpCursorMaxY+0)
  4266  131f  dd9605            	sub	a,(ix+5)
  4267  1322  3004              	jr	NC,l_vdp_setCursor2_00104
  4268  1324  dd360500          	ld	(ix+5),0x00
  4269                          l_vdp_setCursor2_00104:
  4270  1328  210a00            	ld	hl,_vdp_cursor
  4271  132b  dd7e04            	ld	a,(ix+4)
  4272  132e  77                	ld	(hl), a
  4273  132f  210b00            	ld	hl, +(_vdp_cursor + 1)
  4274  1332  dd7e05            	ld	a,(ix+5)
  4275  1335  77                	ld	(hl), a
  4276  1336  dde1              	pop	ix
  4277  1338  c9                	ret
  4278                          	SECTION code_compiler
  4279                          ;	---------------------------------
  4280                          ; Function vdp_setCursor
  4281                          ; ---------------------------------
  4282                          _vdp_setCursor:
  4283  1339  fd210200          	ld	iy,2
  4284  133d  fd39              	add	iy, sp
  4285  133f  fd7e00            	ld	a,(iy+0)
  4286  1342  b7                	or	a, a
  4287  1343  2816              	jr	Z,l_vdp_setCursor_00101
  4288  1345  fd7e00            	ld	a,(iy+0)
  4289  1348  3d                	dec	a
  4290  1349  2822              	jr	Z,l_vdp_setCursor_00102
  4291  134b  fd7e00            	ld	a,(iy+0)
  4292  134e  d602              	sub	a,0x02
  4293  1350  282d              	jr	Z,l_vdp_setCursor_00103
  4294  1352  fd7e00            	ld	a,(iy+0)
  4295  1355  d603              	sub	a,0x03
  4296  1357  2838              	jr	Z,l_vdp_setCursor_00104
  4297  1359  1846              	jr	l_vdp_setCursor_00106
  4298                          l_vdp_setCursor_00101:
  4299  135b  3a0b00            	ld	a, (_vdp_cursor + 1)
  4300  135e  3d                	dec	a
  4301  135f  210a00            	ld	hl,_vdp_cursor + 0
  4302  1362  46                	ld	b, (hl)
  4303  1363  f5                	push	af
  4304  1364  33                	inc	sp
  4305  1365  c5                	push	bc
  4306  1366  33                	inc	sp
  4307  1367  cd0513            	call	_vdp_setCursor2
  4308  136a  f1                	pop	af
  4309  136b  1834              	jr	l_vdp_setCursor_00106
  4310                          l_vdp_setCursor_00102:
  4311  136d  3a0b00            	ld	a, (_vdp_cursor + 1)
  4312  1370  3c                	inc	a
  4313  1371  210a00            	ld	hl,_vdp_cursor + 0
  4314  1374  46                	ld	b, (hl)
  4315  1375  f5                	push	af
  4316  1376  33                	inc	sp
  4317  1377  c5                	push	bc
  4318  1378  33                	inc	sp
  4319  1379  cd0513            	call	_vdp_setCursor2
  4320  137c  f1                	pop	af
  4321  137d  1822              	jr	l_vdp_setCursor_00106
  4322                          l_vdp_setCursor_00103:
  4323  137f  210b00            	ld	hl,_vdp_cursor + 1
  4324  1382  46                	ld	b, (hl)
  4325  1383  3a0a00            	ld	a, (_vdp_cursor + 0)
  4326  1386  3d                	dec	a
  4327  1387  c5                	push	bc
  4328  1388  33                	inc	sp
  4329  1389  f5                	push	af
  4330  138a  33                	inc	sp
  4331  138b  cd0513            	call	_vdp_setCursor2
  4332  138e  f1                	pop	af
  4333  138f  1810              	jr	l_vdp_setCursor_00106
  4334                          l_vdp_setCursor_00104:
  4335  1391  210b00            	ld	hl,_vdp_cursor + 1
  4336  1394  46                	ld	b, (hl)
  4337  1395  3a0a00            	ld	a, (_vdp_cursor + 0)
  4338  1398  3c                	inc	a
  4339  1399  c5                	push	bc
  4340  139a  33                	inc	sp
  4341  139b  f5                	push	af
  4342  139c  33                	inc	sp
  4343  139d  cd0513            	call	_vdp_setCursor2
  4344  13a0  f1                	pop	af
  4345                          l_vdp_setCursor_00106:
  4346  13a1  c9                	ret
  4347                          	SECTION code_compiler
  4348                          ;	---------------------------------
  4349                          ; Function vdp_setTextColor
  4350                          ; ---------------------------------
  4351                          _vdp_setTextColor:
  4352  13a2  fd210200          	ld	iy,2
  4353  13a6  fd39              	add	iy, sp
  4354  13a8  fd7e00            	ld	a,(iy+0)
  4355  13ab  87                	add	a, a
  4356  13ac  87                	add	a, a
  4357  13ad  87                	add	a, a
  4358  13ae  87                	add	a, a
  4359  13af  fd4e01            	ld	c,(iy+0+1)
  4360  13b2  81                	add	a, c
  4361  13b3  57                	ld	d,a
  4362  13b4  1e07              	ld	e,0x07
  4363  13b6  d5                	push	de
  4364  13b7  cd2e08            	call	_vdp_setRegister
  4365  13ba  f1                	pop	af
  4366  13bb  c9                	ret
  4367                          	SECTION code_compiler
  4368                          ;	---------------------------------
  4369                          ; Function vdp_write
  4370                          ; ---------------------------------
  4371                          _vdp_write:
  4372  13bc  dde5              	push	ix
  4373  13be  dd210000          	ld	ix,0
  4374  13c2  dd39              	add	ix,sp
  4375  13c4  210b00            	ld	hl, +(_vdp_cursor + 1) + 0
  4376  13c7  5e                	ld	e, (hl)
  4377  13c8  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4378  13cb  66                	ld	h, (hl)
  4379  13cc  2e00              	ld	l,0x00
  4380  13ce  55                	ld	d, l
  4381  13cf  0608              	ld	b,0x08
  4382                          l_vdp_write_00122:
  4383  13d1  29                	add	hl, hl
  4384  13d2  3001              	jr	NC,l_vdp_write_00123
  4385  13d4  19                	add	hl, de
  4386                          l_vdp_write_00123:
  4387  13d5  10fa              	djnz	l_vdp_write_00122
  4388  13d7  eb                	ex	de, hl
  4389  13d8  3a0a00            	ld	a, (_vdp_cursor + 0)
  4390  13db  2600              	ld	h,0x00
  4391  13dd  6f                	ld	l, a
  4392  13de  19                	add	hl, de
  4393  13df  eb                	ex	de, hl
  4394  13e0  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  4395  13e3  19                	add	hl, de
  4396  13e4  d5                	push	de
  4397  13e5  e5                	push	hl
  4398  13e6  cd4308            	call	_vdp_setWriteAddress
  4399  13e9  f1                	pop	af
  4400  13ea  d1                	pop	de
  4401  13eb  dd7e04            	ld	a,(ix+4)
  4402  13ee  d3a0              	out	(_IO_VDPDATA), a
  4403  13f0  210002            	ld	hl,__vdp_textBuffer
  4404  13f3  19                	add	hl, de
  4405  13f4  dd7e04            	ld	a,(ix+4)
  4406  13f7  77                	ld	(hl), a
  4407  13f8  3ad205            	ld	a, (__autoScroll+0)
  4408  13fb  b7                	or	a, a
  4409  13fc  2821              	jr	Z,l_vdp_write_00102
  4410  13fe  210a00            	ld	hl,_vdp_cursor + 0
  4411  1401  46                	ld	b, (hl)
  4412  1402  3acd05            	ld	a, (__vdpCursorMaxX+0)
  4413  1405  90                	sub	a, b
  4414  1406  2017              	jr	NZ,l_vdp_write_00102
  4415  1408  3a0b00            	ld	a, ((_vdp_cursor + 1) + 0)
  4416  140b  d617              	sub	a,0x17
  4417  140d  2010              	jr	NZ,l_vdp_write_00102
  4418  140f  3e17              	ld	a,0x17
  4419  1411  f5                	push	af
  4420  1412  33                	inc	sp
  4421  1413  af                	xor	a, a
  4422  1414  f5                	push	af
  4423  1415  33                	inc	sp
  4424  1416  cd0e15            	call	_vdp_scrollTextUp
  4425  1419  f1                	pop	af
  4426  141a  210a00            	ld	hl,_vdp_cursor
  4427  141d  3600              	ld	(hl),0x00
  4428                          l_vdp_write_00102:
  4429  141f  3a0b00            	ld	a, ((_vdp_cursor + 1) + 0)
  4430  1422  210a00            	ld	hl,_vdp_cursor + 0
  4431  1425  4e                	ld	c, (hl)
  4432  1426  0c                	inc	c
  4433  1427  f5                	push	af
  4434  1428  33                	inc	sp
  4435  1429  79                	ld	a, c
  4436  142a  f5                	push	af
  4437  142b  33                	inc	sp
  4438  142c  cd0513            	call	_vdp_setCursor2
  4439  142f  f1                	pop	af
  4440  1430  dde1              	pop	ix
  4441  1432  c9                	ret
  4442                          	SECTION code_compiler
  4443                          ;	---------------------------------
  4444                          ; Function vdp_writeCharAtLocation
  4445                          ; ---------------------------------
  4446                          _vdp_writeCharAtLocation:
  4447  1433  dde5              	push	ix
  4448  1435  dd210000          	ld	ix,0
  4449  1439  dd39              	add	ix,sp
  4450  143b  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4451  143e  5e                	ld	e, (hl)
  4452  143f  dd6605            	ld	h,(ix+5)
  4453  1442  2e00              	ld	l,0x00
  4454  1444  55                	ld	d, l
  4455  1445  0608              	ld	b,0x08
  4456                          l_vdp_writeCharAtLocation_00103:
  4457  1447  29                	add	hl, hl
  4458  1448  3001              	jr	NC,l_vdp_writeCharAtLocation_00104
  4459  144a  19                	add	hl, de
  4460                          l_vdp_writeCharAtLocation_00104:
  4461  144b  10fa              	djnz	l_vdp_writeCharAtLocation_00103
  4462  144d  dd4e04            	ld	c,(ix+4)
  4463  1450  0600              	ld	b,0x00
  4464  1452  09                	add	hl, bc
  4465  1453  eb                	ex	de, hl
  4466  1454  210002            	ld	hl,__vdp_textBuffer+0
  4467  1457  19                	add	hl, de
  4468  1458  dd7e06            	ld	a,(ix+6)
  4469  145b  77                	ld	(hl), a
  4470  145c  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  4471  145f  19                	add	hl, de
  4472  1460  e5                	push	hl
  4473  1461  cd4308            	call	_vdp_setWriteAddress
  4474  1464  f1                	pop	af
  4475  1465  dd7e06            	ld	a,(ix+6)
  4476  1468  d3a0              	out	(_IO_VDPDATA), a
  4477  146a  dde1              	pop	ix
  4478  146c  c9                	ret
  4479                          	SECTION code_compiler
  4480                          ;	---------------------------------
  4481                          ; Function vdp_getCharAtLocationVRAM
  4482                          ; ---------------------------------
  4483                          _vdp_getCharAtLocationVRAM:
  4484  146d  dde5              	push	ix
  4485  146f  dd210000          	ld	ix,0
  4486  1473  dd39              	add	ix,sp
  4487  1475  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4488  1478  5e                	ld	e, (hl)
  4489  1479  dd6605            	ld	h,(ix+5)
  4490  147c  2e00              	ld	l,0x00
  4491  147e  55                	ld	d, l
  4492  147f  0608              	ld	b,0x08
  4493                          l_vdp_getCharAtLocationVRAM_00103:
  4494  1481  29                	add	hl, hl
  4495  1482  3001              	jr	NC,l_vdp_getCharAtLocationVRAM_00104
  4496  1484  19                	add	hl, de
  4497                          l_vdp_getCharAtLocationVRAM_00104:
  4498  1485  10fa              	djnz	l_vdp_getCharAtLocationVRAM_00103
  4499  1487  dd4e04            	ld	c,(ix+4)
  4500  148a  0600              	ld	b,0x00
  4501  148c  09                	add	hl, bc
  4502  148d  eb                	ex	de, hl
  4503  148e  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  4504  1491  19                	add	hl, de
  4505  1492  e5                	push	hl
  4506  1493  cd5808            	call	_vdp_setReadAddress
  4507  1496  f1                	pop	af
  4508  1497  dba0              	in	a, (_IO_VDPDATA)
  4509  1499  6f                	ld	l, a
  4510  149a  dde1              	pop	ix
  4511  149c  c9                	ret
  4512                          	SECTION code_compiler
  4513                          ;	---------------------------------
  4514                          ; Function vdp_getCharAtLocationBuf
  4515                          ; ---------------------------------
  4516                          _vdp_getCharAtLocationBuf:
  4517  149d  dde5              	push	ix
  4518  149f  dd210000          	ld	ix,0
  4519  14a3  dd39              	add	ix,sp
  4520  14a5  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4521  14a8  5e                	ld	e, (hl)
  4522  14a9  dd6605            	ld	h,(ix+5)
  4523  14ac  2e00              	ld	l,0x00
  4524  14ae  55                	ld	d, l
  4525  14af  0608              	ld	b,0x08
  4526                          l_vdp_getCharAtLocationBuf_00103:
  4527  14b1  29                	add	hl, hl
  4528  14b2  3001              	jr	NC,l_vdp_getCharAtLocationBuf_00104
  4529  14b4  19                	add	hl, de
  4530                          l_vdp_getCharAtLocationBuf_00104:
  4531  14b5  10fa              	djnz	l_vdp_getCharAtLocationBuf_00103
  4532  14b7  dd4e04            	ld	c,(ix+4)
  4533  14ba  0600              	ld	b,0x00
  4534  14bc  09                	add	hl, bc
  4535  14bd  110002            	ld	de,__vdp_textBuffer
  4536  14c0  19                	add	hl, de
  4537  14c1  6e                	ld	l, (hl)
  4538  14c2  dde1              	pop	ix
  4539  14c4  c9                	ret
  4540                          	SECTION code_compiler
  4541                          ;	---------------------------------
  4542                          ; Function vdp_setCharAtLocationBuf
  4543                          ; ---------------------------------
  4544                          _vdp_setCharAtLocationBuf:
  4545  14c5  dde5              	push	ix
  4546  14c7  dd210000          	ld	ix,0
  4547  14cb  dd39              	add	ix,sp
  4548  14cd  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4549  14d0  5e                	ld	e, (hl)
  4550  14d1  dd6605            	ld	h,(ix+5)
  4551  14d4  2e00              	ld	l,0x00
  4552  14d6  55                	ld	d, l
  4553  14d7  0608              	ld	b,0x08
  4554                          l_vdp_setCharAtLocationBuf_00103:
  4555  14d9  29                	add	hl, hl
  4556  14da  3001              	jr	NC,l_vdp_setCharAtLocationBuf_00104
  4557  14dc  19                	add	hl, de
  4558                          l_vdp_setCharAtLocationBuf_00104:
  4559  14dd  10fa              	djnz	l_vdp_setCharAtLocationBuf_00103
  4560  14df  dd4e04            	ld	c,(ix+4)
  4561  14e2  0600              	ld	b,0x00
  4562  14e4  09                	add	hl, bc
  4563  14e5  110002            	ld	de,__vdp_textBuffer
  4564  14e8  19                	add	hl, de
  4565  14e9  dd7e06            	ld	a,(ix+6)
  4566  14ec  77                	ld	(hl), a
  4567  14ed  dde1              	pop	ix
  4568  14ef  c9                	ret
  4569                          	SECTION code_compiler
  4570                          ;	---------------------------------
  4571                          ; Function vdp_refreshViewPort
  4572                          ; ---------------------------------
  4573                          _vdp_refreshViewPort:
  4574  14f0  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  4575  14f3  e5                	push	hl
  4576  14f4  cd4308            	call	_vdp_setWriteAddress
  4577  14f7  f1                	pop	af
  4578  14f8  e5                	push	hl
  4579  14f9  d5                	push	de
  4580  14fa  210002            	ld	hl, __vdp_textBuffer
  4581  14fd  ed5bcf05          	ld	de, (__vdpTextBufferSize)
  4582                          vdp_refreshViewPortLoop3:
  4583  1501  7e                	ld	a, (hl)
  4584  1502  d3a0              	out	(0xa0), a
  4585  1504  23                	inc	hl
  4586  1505  1b                	dec	de
  4587  1506  7a                	ld	A, D
  4588  1507  b3                	or	E
  4589  1508  c20115            	jp	nz, vdp_refreshViewPortLoop3
  4590  150b  d1                	pop	de
  4591  150c  e1                	pop	hl
  4592  150d  c9                	ret
  4593                          	SECTION code_compiler
  4594                          ;	---------------------------------
  4595                          ; Function vdp_scrollTextUp
  4596                          ; ---------------------------------
  4597                          _vdp_scrollTextUp:
  4598  150e  dde5              	push	ix
  4599  1510  dd210000          	ld	ix,0
  4600  1514  dd39              	add	ix,sp
  4601  1516  f5                	push	af
  4602  1517  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4603  151a  5e                	ld	e, (hl)
  4604  151b  dd6604            	ld	h,(ix+4)
  4605  151e  2e00              	ld	l,0x00
  4606  1520  55                	ld	d, l
  4607  1521  0608              	ld	b,0x08
  4608                          l_vdp_scrollTextUp_00125:
  4609  1523  29                	add	hl, hl
  4610  1524  3001              	jr	NC,l_vdp_scrollTextUp_00126
  4611  1526  19                	add	hl, de
  4612                          l_vdp_scrollTextUp_00126:
  4613  1527  10fa              	djnz	l_vdp_scrollTextUp_00125
  4614  1529  eb                	ex	de, hl
  4615  152a  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  4616  152d  19                	add	hl, de
  4617  152e  e5                	push	hl
  4618  152f  cd4308            	call	_vdp_setWriteAddress
  4619  1532  f1                	pop	af
  4620  1533  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4621  1536  5e                	ld	e, (hl)
  4622  1537  dd6604            	ld	h,(ix+4)
  4623  153a  2e00              	ld	l,0x00
  4624  153c  55                	ld	d, l
  4625  153d  0608              	ld	b,0x08
  4626                          l_vdp_scrollTextUp_00127:
  4627  153f  29                	add	hl, hl
  4628  1540  3001              	jr	NC,l_vdp_scrollTextUp_00128
  4629  1542  19                	add	hl, de
  4630                          l_vdp_scrollTextUp_00128:
  4631  1543  10fa              	djnz	l_vdp_scrollTextUp_00127
  4632  1545  110002            	ld	de,__vdp_textBuffer
  4633  1548  19                	add	hl, de
  4634  1549  eb                	ex	de, hl
  4635  154a  2ace05            	ld	hl, (__vdpCursorMaxXFull)
  4636  154d  2600              	ld	h,0x00
  4637  154f  19                	add	hl, de
  4638  1550  e3                	ex	(sp), hl
  4639  1551  dd4e05            	ld	c,(ix+5)
  4640  1554  0600              	ld	b,0x00
  4641  1556  03                	inc	bc
  4642  1557  3ace05            	ld	a, (__vdpCursorMaxXFull+0)
  4643  155a  2600              	ld	h,0x00
  4644  155c  d5                	push	de
  4645  155d  6f                	ld	l, a
  4646  155e  e5                	push	hl
  4647  155f  c5                	push	bc
  4648  1560  cd0000            	call	__mulint_callee
  4649  1563  d1                	pop	de
  4650  1564  010002            	ld	bc,__vdp_textBuffer
  4651  1567  09                	add	hl, bc
  4652  1568  4d                	ld	c, l
  4653  1569  44                	ld	b, h
  4654  156a  eb                	ex	de, hl
  4655  156b  d1                	pop	de
  4656  156c  d5                	push	de
  4657                          l_vdp_scrollTextUp_00101:
  4658  156d  1a                	ld	a, (de)
  4659  156e  77                	ld	(hl), a
  4660  156f  d3a0              	out	(_IO_VDPDATA), a
  4661  1571  23                	inc	hl
  4662  1572  13                	inc	de
  4663  1573  7b                	ld	a, e
  4664  1574  91                	sub	a, c
  4665  1575  20f6              	jr	NZ,l_vdp_scrollTextUp_00101
  4666  1577  7a                	ld	a, d
  4667  1578  90                	sub	a, b
  4668  1579  20f2              	jr	NZ,l_vdp_scrollTextUp_00101
  4669  157b  eb                	ex	de, hl
  4670                          l_vdp_scrollTextUp_00104:
  4671  157c  3e20              	ld	a,0x20
  4672  157e  12                	ld	(de),a
  4673  157f  d3a0              	out	(_IO_VDPDATA), a
  4674  1581  13                	inc	de
  4675  1582  6b                	ld	l, e
  4676  1583  62                	ld	h, d
  4677  1584  bf                	cp	a, a
  4678  1585  ed42              	sbc	hl, bc
  4679  1587  20f3              	jr	NZ,l_vdp_scrollTextUp_00104
  4680  1589  ddf9              	ld	sp, ix
  4681  158b  dde1              	pop	ix
  4682  158d  c9                	ret
  4683                          	SECTION code_compiler
  4684                          ;	---------------------------------
  4685                          ; Function vdp_scrollTextDown
  4686                          ; ---------------------------------
  4687                          _vdp_scrollTextDown:
  4688  158e  dde5              	push	ix
  4689  1590  dd210000          	ld	ix,0
  4690  1594  dd39              	add	ix,sp
  4691  1596  f5                	push	af
  4692  1597  fd21ce05          	ld	iy,__vdpCursorMaxXFull
  4693  159b  fd5e00            	ld	e,(iy+0)
  4694  159e  dd6605            	ld	h,(ix+5)
  4695  15a1  2e00              	ld	l,0x00
  4696  15a3  55                	ld	d, l
  4697  15a4  0608              	ld	b,0x08
  4698                          l_vdp_scrollTextDown_00139:
  4699  15a6  29                	add	hl, hl
  4700  15a7  3001              	jr	NC,l_vdp_scrollTextDown_00140
  4701  15a9  19                	add	hl, de
  4702                          l_vdp_scrollTextDown_00140:
  4703  15aa  10fa              	djnz	l_vdp_scrollTextDown_00139
  4704  15ac  110002            	ld	de,__vdp_textBuffer
  4705  15af  19                	add	hl, de
  4706  15b0  2b                	dec	hl
  4707  15b1  eb                	ex	de, hl
  4708  15b2  3ace05            	ld	a, (__vdpCursorMaxXFull+0)
  4709  15b5  83                	add	a, e
  4710  15b6  4f                	ld	c, a
  4711  15b7  3e00              	ld	a,0x00
  4712  15b9  8a                	adc	a, d
  4713  15ba  47                	ld	b, a
  4714  15bb  d5                	push	de
  4715  15bc  c5                	push	bc
  4716  15bd  fd5e00            	ld	e,(iy+0)
  4717  15c0  dd6604            	ld	h,(ix+4)
  4718  15c3  2e00              	ld	l,0x00
  4719  15c5  55                	ld	d, l
  4720  15c6  0608              	ld	b,0x08
  4721                          l_vdp_scrollTextDown_00141:
  4722  15c8  29                	add	hl, hl
  4723  15c9  3001              	jr	NC,l_vdp_scrollTextDown_00142
  4724  15cb  19                	add	hl, de
  4725                          l_vdp_scrollTextDown_00142:
  4726  15cc  10fa              	djnz	l_vdp_scrollTextDown_00141
  4727  15ce  c1                	pop	bc
  4728  15cf  d1                	pop	de
  4729  15d0  3eff              	ld	a, +((__vdp_textBuffer - 1) & 0xFF)
  4730  15d2  85                	add	a, l
  4731  15d3  6f                	ld	l, a
  4732  15d4  3e01              	ld	a, +((__vdp_textBuffer - 1) / 256)
  4733  15d6  8c                	adc	a, h
  4734  15d7  67                	ld	h, a
  4735  15d8  e3                	ex	(sp), hl
  4736                          l_vdp_scrollTextDown_00101:
  4737  15d9  1a                	ld	a, (de)
  4738  15da  02                	ld	(bc), a
  4739  15db  0b                	dec	bc
  4740  15dc  1b                	dec	de
  4741  15dd  e1                	pop	hl
  4742  15de  e5                	push	hl
  4743  15df  bf                	cp	a, a
  4744  15e0  ed52              	sbc	hl, de
  4745  15e2  20f5              	jr	NZ,l_vdp_scrollTextDown_00101
  4746                          l_vdp_scrollTextDown_00104:
  4747  15e4  3e20              	ld	a,0x20
  4748  15e6  02                	ld	(bc), a
  4749  15e7  0b                	dec	bc
  4750  15e8  e1                	pop	hl
  4751  15e9  e5                	push	hl
  4752  15ea  bf                	cp	a, a
  4753  15eb  ed42              	sbc	hl, bc
  4754  15ed  20f5              	jr	NZ,l_vdp_scrollTextDown_00104
  4755  15ef  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4756  15f2  5e                	ld	e, (hl)
  4757  15f3  dd6604            	ld	h,(ix+4)
  4758  15f6  2e00              	ld	l,0x00
  4759  15f8  55                	ld	d, l
  4760  15f9  0608              	ld	b,0x08
  4761                          l_vdp_scrollTextDown_00147:
  4762  15fb  29                	add	hl, hl
  4763  15fc  3001              	jr	NC,l_vdp_scrollTextDown_00148
  4764  15fe  19                	add	hl, de
  4765                          l_vdp_scrollTextDown_00148:
  4766  15ff  10fa              	djnz	l_vdp_scrollTextDown_00147
  4767  1601  eb                	ex	de, hl
  4768  1602  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  4769  1605  19                	add	hl, de
  4770  1606  e5                	push	hl
  4771  1607  cd4308            	call	_vdp_setWriteAddress
  4772  160a  f1                	pop	af
  4773  160b  21ce05            	ld	hl,__vdpCursorMaxXFull + 0
  4774  160e  5e                	ld	e, (hl)
  4775  160f  dd6604            	ld	h,(ix+4)
  4776  1612  2e00              	ld	l,0x00
  4777  1614  55                	ld	d, l
  4778  1615  0608              	ld	b,0x08
  4779                          l_vdp_scrollTextDown_00149:
  4780  1617  29                	add	hl, hl
  4781  1618  3001              	jr	NC,l_vdp_scrollTextDown_00150
  4782  161a  19                	add	hl, de
  4783                          l_vdp_scrollTextDown_00150:
  4784  161b  10fa              	djnz	l_vdp_scrollTextDown_00149
  4785  161d  110002            	ld	de,__vdp_textBuffer
  4786  1620  19                	add	hl, de
  4787  1621  eb                	ex	de, hl
  4788  1622  dd4e05            	ld	c,(ix+5)
  4789  1625  0600              	ld	b,0x00
  4790  1627  03                	inc	bc
  4791  1628  3ace05            	ld	a, (__vdpCursorMaxXFull+0)
  4792  162b  2600              	ld	h,0x00
  4793  162d  d5                	push	de
  4794  162e  6f                	ld	l, a
  4795  162f  e5                	push	hl
  4796  1630  c5                	push	bc
  4797  1631  cd0000            	call	__mulint_callee
  4798  1634  d1                	pop	de
  4799  1635  010002            	ld	bc,__vdp_textBuffer
  4800  1638  09                	add	hl, bc
  4801  1639  4d                	ld	c, l
  4802  163a  44                	ld	b, h
  4803                          l_vdp_scrollTextDown_00107:
  4804  163b  1a                	ld	a, (de)
  4805  163c  d3a0              	out	(_IO_VDPDATA), a
  4806  163e  13                	inc	de
  4807  163f  6b                	ld	l, e
  4808  1640  62                	ld	h, d
  4809  1641  bf                	cp	a, a
  4810  1642  ed42              	sbc	hl, bc
  4811  1644  20f5              	jr	NZ,l_vdp_scrollTextDown_00107
  4812  1646  ddf9              	ld	sp, ix
  4813  1648  dde1              	pop	ix
  4814  164a  c9                	ret
  4815                          	SECTION code_compiler
  4816                          ;	---------------------------------
  4817                          ; Function vdp_writeUInt8ToBinary
  4818                          ; ---------------------------------
  4819                          _vdp_writeUInt8ToBinary:
  4820  164b  dde5              	push	ix
  4821  164d  dd210000          	ld	ix,0
  4822  1651  dd39              	add	ix,sp
  4823  1653  21f7ff            	ld	hl, -9
  4824  1656  39                	add	hl, sp
  4825  1657  f9                	ld	sp, hl
  4826  1658  0e00              	ld	c,0x00
  4827                          l_vdp_writeUInt8ToBinary_00106:
  4828  165a  79                	ld	a, c
  4829  165b  d608              	sub	a,0x08
  4830  165d  302a              	jr	NC,l_vdp_writeUInt8ToBinary_00104
  4831  165f  41                	ld	b, c
  4832  1660  dd6e04            	ld	l,(ix+4)
  4833  1663  04                	inc	b
  4834  1664  1802              	jr	l_vdp_writeUInt8ToBinary_00127
  4835                          l_vdp_writeUInt8ToBinary_00126:
  4836  1666  cb3d              	srl	l
  4837                          l_vdp_writeUInt8ToBinary_00127:
  4838  1668  10fc              	djnz	l_vdp_writeUInt8ToBinary_00126
  4839  166a  59                	ld	e, c
  4840  166b  3e07              	ld	a,0x07
  4841  166d  93                	sub	a, e
  4842  166e  5f                	ld	e, a
  4843  166f  07                	rlca
  4844  1670  9f                	sbc	a, a
  4845  1671  57                	ld	d, a
  4846  1672  cb45              	bit	0, l
  4847  1674  2809              	jr	Z,l_vdp_writeUInt8ToBinary_00102
  4848  1676  210000            	ld	hl,0
  4849  1679  39                	add	hl, sp
  4850  167a  19                	add	hl, de
  4851  167b  3631              	ld	(hl),0x31
  4852  167d  1807              	jr	l_vdp_writeUInt8ToBinary_00107
  4853                          l_vdp_writeUInt8ToBinary_00102:
  4854  167f  210000            	ld	hl,0
  4855  1682  39                	add	hl, sp
  4856  1683  19                	add	hl, de
  4857  1684  3630              	ld	(hl),0x30
  4858                          l_vdp_writeUInt8ToBinary_00107:
  4859  1686  0c                	inc	c
  4860  1687  18d1              	jr	l_vdp_writeUInt8ToBinary_00106
  4861                          l_vdp_writeUInt8ToBinary_00104:
  4862  1689  dd36ff00          	ld	(ix-1),0x00
  4863  168d  210000            	ld	hl,0
  4864  1690  39                	add	hl, sp
  4865  1691  e5                	push	hl
  4866  1692  cd4912            	call	_vdp_print
  4867  1695  ddf9              	ld	sp,ix
  4868  1697  dde1              	pop	ix
  4869  1699  c9                	ret
  4870                          	SECTION code_compiler
  4871                          ;	---------------------------------
  4872                          ; Function vdp_writeUInt16ToBinary
  4873                          ; ---------------------------------
  4874                          _vdp_writeUInt16ToBinary:
  4875  169a  dde5              	push	ix
  4876  169c  dd210000          	ld	ix,0
  4877  16a0  dd39              	add	ix,sp
  4878  16a2  21edff            	ld	hl, -19
  4879  16a5  39                	add	hl, sp
  4880  16a6  f9                	ld	sp, hl
  4881  16a7  0e00              	ld	c,0x00
  4882                          l_vdp_writeUInt16ToBinary_00106:
  4883  16a9  79                	ld	a, c
  4884  16aa  d610              	sub	a,0x10
  4885  16ac  303f              	jr	NC,l_vdp_writeUInt16ToBinary_00104
  4886  16ae  41                	ld	b, c
  4887  16af  dd5e04            	ld	e,(ix+4)
  4888  16b2  dd5605            	ld	d,(ix+5)
  4889  16b5  04                	inc	b
  4890  16b6  1804              	jr	l_vdp_writeUInt16ToBinary_00127
  4891                          l_vdp_writeUInt16ToBinary_00126:
  4892  16b8  cb3a              	srl	d
  4893  16ba  cb1b              	rr	e
  4894                          l_vdp_writeUInt16ToBinary_00127:
  4895  16bc  10fa              	djnz	l_vdp_writeUInt16ToBinary_00126
  4896  16be  41                	ld	b, c
  4897  16bf  3e0f              	ld	a,0x0f
  4898  16c1  90                	sub	a, b
  4899  16c2  dd77fe            	ld	(ix-2),a
  4900  16c5  07                	rlca
  4901  16c6  9f                	sbc	a, a
  4902  16c7  dd77ff            	ld	(ix-1),a
  4903  16ca  cb43              	bit	0, e
  4904  16cc  280f              	jr	Z,l_vdp_writeUInt16ToBinary_00102
  4905  16ce  dd5efe            	ld	e,(ix-2)
  4906  16d1  dd56ff            	ld	d,(ix-1)
  4907  16d4  210000            	ld	hl,0
  4908  16d7  39                	add	hl, sp
  4909  16d8  19                	add	hl, de
  4910  16d9  3631              	ld	(hl),0x31
  4911  16db  180d              	jr	l_vdp_writeUInt16ToBinary_00107
  4912                          l_vdp_writeUInt16ToBinary_00102:
  4913  16dd  dd5efe            	ld	e,(ix-2)
  4914  16e0  dd56ff            	ld	d,(ix-1)
  4915  16e3  210000            	ld	hl,0
  4916  16e6  39                	add	hl, sp
  4917  16e7  19                	add	hl, de
  4918  16e8  3630              	ld	(hl),0x30
  4919                          l_vdp_writeUInt16ToBinary_00107:
  4920  16ea  0c                	inc	c
  4921  16eb  18bc              	jr	l_vdp_writeUInt16ToBinary_00106
  4922                          l_vdp_writeUInt16ToBinary_00104:
  4923  16ed  dd36fd00          	ld	(ix-3),0x00
  4924  16f1  210000            	ld	hl,0
  4925  16f4  39                	add	hl, sp
  4926  16f5  e5                	push	hl
  4927  16f6  cd4912            	call	_vdp_print
  4928  16f9  ddf9              	ld	sp,ix
  4929  16fb  dde1              	pop	ix
  4930  16fd  c9                	ret
  4931                          	SECTION code_compiler
  4932                          ;	---------------------------------
  4933                          ; Function vdp_writeUInt32ToBinary
  4934                          ; ---------------------------------
  4935                          _vdp_writeUInt32ToBinary:
  4936  16fe  dde5              	push	ix
  4937  1700  dd210000          	ld	ix,0
  4938  1704  dd39              	add	ix,sp
  4939  1706  21daff            	ld	hl, -38
  4940  1709  39                	add	hl, sp
  4941  170a  f9                	ld	sp, hl
  4942  170b  dd36ff00          	ld	(ix-1),0x00
  4943                          l_vdp_writeUInt32ToBinary_00106:
  4944  170f  dd7eff            	ld	a,(ix-1)
  4945  1712  d620              	sub	a,0x20
  4946  1714  3067              	jr	NC,l_vdp_writeUInt32ToBinary_00104
  4947  1716  dd46ff            	ld	b,(ix-1)
  4948  1719  dd4e04            	ld	c,(ix+4)
  4949  171c  dd5e05            	ld	e,(ix+5)
  4950  171f  dd6e06            	ld	l,(ix+6)
  4951  1722  dd6607            	ld	h,(ix+7)
  4952  1725  04                	inc	b
  4953  1726  1808              	jr	l_vdp_writeUInt32ToBinary_00127
  4954                          l_vdp_writeUInt32ToBinary_00126:
  4955  1728  cb3c              	srl	h
  4956  172a  cb1d              	rr	l
  4957  172c  cb1b              	rr	e
  4958  172e  cb19              	rr	c
  4959                          l_vdp_writeUInt32ToBinary_00127:
  4960  1730  10f6              	djnz	l_vdp_writeUInt32ToBinary_00126
  4961  1732  dd46ff            	ld	b,(ix-1)
  4962  1735  3e1f              	ld	a,0x1f
  4963  1737  90                	sub	a, b
  4964  1738  dd77fb            	ld	(ix-5),a
  4965  173b  07                	rlca
  4966  173c  9f                	sbc	a, a
  4967  173d  dd77fc            	ld	(ix-4),a
  4968  1740  cb41              	bit	0, c
  4969  1742  281b              	jr	Z,l_vdp_writeUInt32ToBinary_00102
  4970  1744  dd5efb            	ld	e,(ix-5)
  4971  1747  dd56fc            	ld	d,(ix-4)
  4972  174a  210000            	ld	hl,0
  4973  174d  39                	add	hl, sp
  4974  174e  19                	add	hl, de
  4975  174f  dd75fd            	ld	(ix-3),l
  4976  1752  dd74fe            	ld	(ix-2),h
  4977  1755  dd6efd            	ld	l,(ix-3)
  4978  1758  dd66fe            	ld	h,(ix-2)
  4979  175b  3631              	ld	(hl),0x31
  4980  175d  1819              	jr	l_vdp_writeUInt32ToBinary_00107
  4981                          l_vdp_writeUInt32ToBinary_00102:
  4982  175f  dd5efb            	ld	e,(ix-5)
  4983  1762  dd56fc            	ld	d,(ix-4)
  4984  1765  210000            	ld	hl,0
  4985  1768  39                	add	hl, sp
  4986  1769  19                	add	hl, de
  4987  176a  dd75fd            	ld	(ix-3),l
  4988  176d  dd74fe            	ld	(ix-2),h
  4989  1770  dd6efd            	ld	l,(ix-3)
  4990  1773  dd66fe            	ld	h,(ix-2)
  4991  1776  3630              	ld	(hl),0x30
  4992                          l_vdp_writeUInt32ToBinary_00107:
  4993  1778  dd34ff            	inc	(ix-1)
  4994  177b  1892              	jr	l_vdp_writeUInt32ToBinary_00106
  4995                          l_vdp_writeUInt32ToBinary_00104:
  4996  177d  dd36fa00          	ld	(ix-6),0x00
  4997  1781  210000            	ld	hl,0
  4998  1784  39                	add	hl, sp
  4999  1785  e5                	push	hl
  5000  1786  cd4912            	call	_vdp_print
  5001  1789  ddf9              	ld	sp,ix
  5002  178b  dde1              	pop	ix
  5003  178d  c9                	ret
  5004                          	SECTION code_compiler
  5005                          ;	---------------------------------
  5006                          ; Function invalidateScreen
  5007                          ; ---------------------------------
  5008                          _invalidateScreen:
  5009  178e  210f00            	ld	hl,_vdpIsReady + 0
  5010  1791  3600              	ld	(hl),0x00
  5011  1793  cdac08            	call	_vdp_waitVDPReadyInt
  5012  1796  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  5013  1799  e5                	push	hl
  5014  179a  cd4308            	call	_vdp_setWriteAddress
  5015  179d  f1                	pop	af
  5016  179e  e5                	push	hl
  5017  179f  d5                	push	de
  5018  17a0  21d405            	ld	hl, __dBuffer
  5019  17a3  110018            	ld	de, 6144
  5020                          invalidateScreenLoop:
  5021  17a6  7e                	ld	a, (hl)
  5022  17a7  d3a0              	out	(0xa0), a
  5023  17a9  23                	inc	hl
  5024  17aa  1b                	dec	de
  5025  17ab  7a                	ld	A, D
  5026  17ac  b3                	or	E
  5027  17ad  c2a617            	jp	nz, invalidateScreenLoop
  5028  17b0  d1                	pop	de
  5029  17b1  e1                	pop	hl
  5030  17b2  c9                	ret
  5031                          	SECTION rodata_compiler
  5032                          _ASCII:
  5033  00e2  00                	DEFB +0x00
  5034  00e3  00                	DEFB +0x00
  5035  00e4  00                	DEFB +0x00
  5036  00e5  00                	DEFB +0x00
  5037  00e6  00                	DEFB +0x00
  5038  00e7  00                	DEFB +0x00
  5039  00e8  00                	DEFB +0x00
  5040  00e9  00                	DEFB +0x00
  5041  00ea  20                	DEFB +0x20
  5042  00eb  20                	DEFB +0x20
  5043  00ec  20                	DEFB +0x20
  5044  00ed  20                	DEFB +0x20
  5045  00ee  20                	DEFB +0x20
  5046  00ef  00                	DEFB +0x00
  5047  00f0  20                	DEFB +0x20
  5048  00f1  00                	DEFB +0x00
  5049  00f2  50                	DEFB +0x50
  5050  00f3  50                	DEFB +0x50
  5051  00f4  00                	DEFB +0x00
  5052  00f5  00                	DEFB +0x00
  5053  00f6  00                	DEFB +0x00
  5054  00f7  00                	DEFB +0x00
  5055  00f8  00                	DEFB +0x00
  5056  00f9  00                	DEFB +0x00
  5057  00fa  50                	DEFB +0x50
  5058  00fb  50                	DEFB +0x50
  5059  00fc  f8                	DEFB +0xf8
  5060  00fd  50                	DEFB +0x50
  5061  00fe  f8                	DEFB +0xf8
  5062  00ff  50                	DEFB +0x50
  5063  0100  50                	DEFB +0x50
  5064  0101  00                	DEFB +0x00
  5065  0102  20                	DEFB +0x20
  5066  0103  78                	DEFB +0x78
  5067  0104  a0                	DEFB +0xa0
  5068  0105  70                	DEFB +0x70
  5069  0106  28                	DEFB +0x28
  5070  0107  f0                	DEFB +0xf0
  5071  0108  20                	DEFB +0x20
  5072  0109  00                	DEFB +0x00
  5073  010a  c0                	DEFB +0xc0
  5074  010b  c8                	DEFB +0xc8
  5075  010c  10                	DEFB +0x10
  5076  010d  20                	DEFB +0x20
  5077  010e  40                	DEFB +0x40
  5078  010f  98                	DEFB +0x98
  5079  0110  18                	DEFB +0x18
  5080  0111  00                	DEFB +0x00
  5081  0112  60                	DEFB +0x60
  5082  0113  90                	DEFB +0x90
  5083  0114  a0                	DEFB +0xa0
  5084  0115  40                	DEFB +0x40
  5085  0116  a8                	DEFB +0xa8
  5086  0117  90                	DEFB +0x90
  5087  0118  68                	DEFB +0x68
  5088  0119  00                	DEFB +0x00
  5089  011a  60                	DEFB +0x60
  5090  011b  20                	DEFB +0x20
  5091  011c  40                	DEFB +0x40
  5092  011d  00                	DEFB +0x00
  5093  011e  00                	DEFB +0x00
  5094  011f  00                	DEFB +0x00
  5095  0120  00                	DEFB +0x00
  5096  0121  00                	DEFB +0x00
  5097  0122  10                	DEFB +0x10
  5098  0123  20                	DEFB +0x20
  5099  0124  40                	DEFB +0x40
  5100  0125  40                	DEFB +0x40
  5101  0126  40                	DEFB +0x40
  5102  0127  20                	DEFB +0x20
  5103  0128  10                	DEFB +0x10
  5104  0129  00                	DEFB +0x00
  5105  012a  40                	DEFB +0x40
  5106  012b  20                	DEFB +0x20
  5107  012c  10                	DEFB +0x10
  5108  012d  10                	DEFB +0x10
  5109  012e  10                	DEFB +0x10
  5110  012f  20                	DEFB +0x20
  5111  0130  40                	DEFB +0x40
  5112  0131  00                	DEFB +0x00
  5113  0132  00                	DEFB +0x00
  5114  0133  20                	DEFB +0x20
  5115  0134  a8                	DEFB +0xa8
  5116  0135  70                	DEFB +0x70
  5117  0136  a8                	DEFB +0xa8
  5118  0137  20                	DEFB +0x20
  5119  0138  00                	DEFB +0x00
  5120  0139  00                	DEFB +0x00
  5121  013a  00                	DEFB +0x00
  5122  013b  20                	DEFB +0x20
  5123  013c  20                	DEFB +0x20
  5124  013d  f8                	DEFB +0xf8
  5125  013e  20                	DEFB +0x20
  5126  013f  20                	DEFB +0x20
  5127  0140  00                	DEFB +0x00
  5128  0141  00                	DEFB +0x00
  5129  0142  00                	DEFB +0x00
  5130  0143  00                	DEFB +0x00
  5131  0144  00                	DEFB +0x00
  5132  0145  00                	DEFB +0x00
  5133  0146  60                	DEFB +0x60
  5134  0147  20                	DEFB +0x20
  5135  0148  40                	DEFB +0x40
  5136  0149  00                	DEFB +0x00
  5137  014a  00                	DEFB +0x00
  5138  014b  00                	DEFB +0x00
  5139  014c  00                	DEFB +0x00
  5140  014d  f8                	DEFB +0xf8
  5141  014e  00                	DEFB +0x00
  5142  014f  00                	DEFB +0x00
  5143  0150  00                	DEFB +0x00
  5144  0151  00                	DEFB +0x00
  5145  0152  00                	DEFB +0x00
  5146  0153  00                	DEFB +0x00
  5147  0154  00                	DEFB +0x00
  5148  0155  00                	DEFB +0x00
  5149  0156  00                	DEFB +0x00
  5150  0157  60                	DEFB +0x60
  5151  0158  60                	DEFB +0x60
  5152  0159  00                	DEFB +0x00
  5153  015a  00                	DEFB +0x00
  5154  015b  08                	DEFB +0x08
  5155  015c  10                	DEFB +0x10
  5156  015d  20                	DEFB +0x20
  5157  015e  40                	DEFB +0x40
  5158  015f  80                	DEFB +0x80
  5159  0160  00                	DEFB +0x00
  5160  0161  00                	DEFB +0x00
  5161  0162  70                	DEFB +0x70
  5162  0163  88                	DEFB +0x88
  5163  0164  98                	DEFB +0x98
  5164  0165  a8                	DEFB +0xa8
  5165  0166  c8                	DEFB +0xc8
  5166  0167  88                	DEFB +0x88
  5167  0168  70                	DEFB +0x70
  5168  0169  00                	DEFB +0x00
  5169  016a  20                	DEFB +0x20
  5170  016b  60                	DEFB +0x60
  5171  016c  20                	DEFB +0x20
  5172  016d  20                	DEFB +0x20
  5173  016e  20                	DEFB +0x20
  5174  016f  20                	DEFB +0x20
  5175  0170  70                	DEFB +0x70
  5176  0171  00                	DEFB +0x00
  5177  0172  70                	DEFB +0x70
  5178  0173  88                	DEFB +0x88
  5179  0174  08                	DEFB +0x08
  5180  0175  10                	DEFB +0x10
  5181  0176  20                	DEFB +0x20
  5182  0177  40                	DEFB +0x40
  5183  0178  f8                	DEFB +0xf8
  5184  0179  00                	DEFB +0x00
  5185  017a  f8                	DEFB +0xf8
  5186  017b  10                	DEFB +0x10
  5187  017c  20                	DEFB +0x20
  5188  017d  10                	DEFB +0x10
  5189  017e  08                	DEFB +0x08
  5190  017f  88                	DEFB +0x88
  5191  0180  70                	DEFB +0x70
  5192  0181  00                	DEFB +0x00
  5193  0182  10                	DEFB +0x10
  5194  0183  30                	DEFB +0x30
  5195  0184  50                	DEFB +0x50
  5196  0185  90                	DEFB +0x90
  5197  0186  f8                	DEFB +0xf8
  5198  0187  10                	DEFB +0x10
  5199  0188  10                	DEFB +0x10
  5200  0189  00                	DEFB +0x00
  5201  018a  f8                	DEFB +0xf8
  5202  018b  80                	DEFB +0x80
  5203  018c  f0                	DEFB +0xf0
  5204  018d  08                	DEFB +0x08
  5205  018e  08                	DEFB +0x08
  5206  018f  88                	DEFB +0x88
  5207  0190  70                	DEFB +0x70
  5208  0191  00                	DEFB +0x00
  5209  0192  30                	DEFB +0x30
  5210  0193  40                	DEFB +0x40
  5211  0194  80                	DEFB +0x80
  5212  0195  f8                	DEFB +0xf8
  5213  0196  88                	DEFB +0x88
  5214  0197  88                	DEFB +0x88
  5215  0198  70                	DEFB +0x70
  5216  0199  00                	DEFB +0x00
  5217  019a  f8                	DEFB +0xf8
  5218  019b  08                	DEFB +0x08
  5219  019c  10                	DEFB +0x10
  5220  019d  20                	DEFB +0x20
  5221  019e  40                	DEFB +0x40
  5222  019f  40                	DEFB +0x40
  5223  01a0  40                	DEFB +0x40
  5224  01a1  00                	DEFB +0x00
  5225  01a2  70                	DEFB +0x70
  5226  01a3  88                	DEFB +0x88
  5227  01a4  88                	DEFB +0x88
  5228  01a5  70                	DEFB +0x70
  5229  01a6  88                	DEFB +0x88
  5230  01a7  88                	DEFB +0x88
  5231  01a8  70                	DEFB +0x70
  5232  01a9  00                	DEFB +0x00
  5233  01aa  70                	DEFB +0x70
  5234  01ab  88                	DEFB +0x88
  5235  01ac  88                	DEFB +0x88
  5236  01ad  78                	DEFB +0x78
  5237  01ae  08                	DEFB +0x08
  5238  01af  10                	DEFB +0x10
  5239  01b0  60                	DEFB +0x60
  5240  01b1  00                	DEFB +0x00
  5241  01b2  00                	DEFB +0x00
  5242  01b3  30                	DEFB +0x30
  5243  01b4  30                	DEFB +0x30
  5244  01b5  00                	DEFB +0x00
  5245  01b6  30                	DEFB +0x30
  5246  01b7  30                	DEFB +0x30
  5247  01b8  00                	DEFB +0x00
  5248  01b9  00                	DEFB +0x00
  5249  01ba  00                	DEFB +0x00
  5250  01bb  30                	DEFB +0x30
  5251  01bc  30                	DEFB +0x30
  5252  01bd  00                	DEFB +0x00
  5253  01be  30                	DEFB +0x30
  5254  01bf  10                	DEFB +0x10
  5255  01c0  20                	DEFB +0x20
  5256  01c1  00                	DEFB +0x00
  5257  01c2  10                	DEFB +0x10
  5258  01c3  20                	DEFB +0x20
  5259  01c4  40                	DEFB +0x40
  5260  01c5  80                	DEFB +0x80
  5261  01c6  40                	DEFB +0x40
  5262  01c7  20                	DEFB +0x20
  5263  01c8  10                	DEFB +0x10
  5264  01c9  00                	DEFB +0x00
  5265  01ca  00                	DEFB +0x00
  5266  01cb  00                	DEFB +0x00
  5267  01cc  f8                	DEFB +0xf8
  5268  01cd  00                	DEFB +0x00
  5269  01ce  f8                	DEFB +0xf8
  5270  01cf  00                	DEFB +0x00
  5271  01d0  00                	DEFB +0x00
  5272  01d1  00                	DEFB +0x00
  5273  01d2  40                	DEFB +0x40
  5274  01d3  20                	DEFB +0x20
  5275  01d4  10                	DEFB +0x10
  5276  01d5  08                	DEFB +0x08
  5277  01d6  10                	DEFB +0x10
  5278  01d7  20                	DEFB +0x20
  5279  01d8  40                	DEFB +0x40
  5280  01d9  00                	DEFB +0x00
  5281  01da  70                	DEFB +0x70
  5282  01db  88                	DEFB +0x88
  5283  01dc  08                	DEFB +0x08
  5284  01dd  10                	DEFB +0x10
  5285  01de  20                	DEFB +0x20
  5286  01df  00                	DEFB +0x00
  5287  01e0  20                	DEFB +0x20
  5288  01e1  00                	DEFB +0x00
  5289  01e2  70                	DEFB +0x70
  5290  01e3  88                	DEFB +0x88
  5291  01e4  08                	DEFB +0x08
  5292  01e5  68                	DEFB +0x68
  5293  01e6  a8                	DEFB +0xa8
  5294  01e7  a8                	DEFB +0xa8
  5295  01e8  70                	DEFB +0x70
  5296  01e9  00                	DEFB +0x00
  5297  01ea  70                	DEFB +0x70
  5298  01eb  88                	DEFB +0x88
  5299  01ec  88                	DEFB +0x88
  5300  01ed  88                	DEFB +0x88
  5301  01ee  f8                	DEFB +0xf8
  5302  01ef  88                	DEFB +0x88
  5303  01f0  88                	DEFB +0x88
  5304  01f1  00                	DEFB +0x00
  5305  01f2  f0                	DEFB +0xf0
  5306  01f3  88                	DEFB +0x88
  5307  01f4  88                	DEFB +0x88
  5308  01f5  f0                	DEFB +0xf0
  5309  01f6  88                	DEFB +0x88
  5310  01f7  88                	DEFB +0x88
  5311  01f8  f0                	DEFB +0xf0
  5312  01f9  00                	DEFB +0x00
  5313  01fa  70                	DEFB +0x70
  5314  01fb  88                	DEFB +0x88
  5315  01fc  80                	DEFB +0x80
  5316  01fd  80                	DEFB +0x80
  5317  01fe  80                	DEFB +0x80
  5318  01ff  88                	DEFB +0x88
  5319  0200  70                	DEFB +0x70
  5320  0201  00                	DEFB +0x00
  5321  0202  e0                	DEFB +0xe0
  5322  0203  90                	DEFB +0x90
  5323  0204  88                	DEFB +0x88
  5324  0205  88                	DEFB +0x88
  5325  0206  88                	DEFB +0x88
  5326  0207  90                	DEFB +0x90
  5327  0208  e0                	DEFB +0xe0
  5328  0209  00                	DEFB +0x00
  5329  020a  f8                	DEFB +0xf8
  5330  020b  80                	DEFB +0x80
  5331  020c  80                	DEFB +0x80
  5332  020d  f0                	DEFB +0xf0
  5333  020e  80                	DEFB +0x80
  5334  020f  80                	DEFB +0x80
  5335  0210  f8                	DEFB +0xf8
  5336  0211  00                	DEFB +0x00
  5337  0212  f8                	DEFB +0xf8
  5338  0213  80                	DEFB +0x80
  5339  0214  80                	DEFB +0x80
  5340  0215  f0                	DEFB +0xf0
  5341  0216  80                	DEFB +0x80
  5342  0217  80                	DEFB +0x80
  5343  0218  80                	DEFB +0x80
  5344  0219  00                	DEFB +0x00
  5345  021a  70                	DEFB +0x70
  5346  021b  88                	DEFB +0x88
  5347  021c  80                	DEFB +0x80
  5348  021d  b8                	DEFB +0xb8
  5349  021e  88                	DEFB +0x88
  5350  021f  88                	DEFB +0x88
  5351  0220  78                	DEFB +0x78
  5352  0221  00                	DEFB +0x00
  5353  0222  88                	DEFB +0x88
  5354  0223  88                	DEFB +0x88
  5355  0224  88                	DEFB +0x88
  5356  0225  f8                	DEFB +0xf8
  5357  0226  88                	DEFB +0x88
  5358  0227  88                	DEFB +0x88
  5359  0228  88                	DEFB +0x88
  5360  0229  00                	DEFB +0x00
  5361  022a  70                	DEFB +0x70
  5362  022b  20                	DEFB +0x20
  5363  022c  20                	DEFB +0x20
  5364  022d  20                	DEFB +0x20
  5365  022e  20                	DEFB +0x20
  5366  022f  20                	DEFB +0x20
  5367  0230  70                	DEFB +0x70
  5368  0231  00                	DEFB +0x00
  5369  0232  38                	DEFB +0x38
  5370  0233  10                	DEFB +0x10
  5371  0234  10                	DEFB +0x10
  5372  0235  10                	DEFB +0x10
  5373  0236  10                	DEFB +0x10
  5374  0237  90                	DEFB +0x90
  5375  0238  60                	DEFB +0x60
  5376  0239  00                	DEFB +0x00
  5377  023a  88                	DEFB +0x88
  5378  023b  90                	DEFB +0x90
  5379  023c  a0                	DEFB +0xa0
  5380  023d  c0                	DEFB +0xc0
  5381  023e  a0                	DEFB +0xa0
  5382  023f  90                	DEFB +0x90
  5383  0240  88                	DEFB +0x88
  5384  0241  00                	DEFB +0x00
  5385  0242  80                	DEFB +0x80
  5386  0243  80                	DEFB +0x80
  5387  0244  80                	DEFB +0x80
  5388  0245  80                	DEFB +0x80
  5389  0246  80                	DEFB +0x80
  5390  0247  80                	DEFB +0x80
  5391  0248  f8                	DEFB +0xf8
  5392  0249  00                	DEFB +0x00
  5393  024a  88                	DEFB +0x88
  5394  024b  d8                	DEFB +0xd8
  5395  024c  a8                	DEFB +0xa8
  5396  024d  a8                	DEFB +0xa8
  5397  024e  88                	DEFB +0x88
  5398  024f  88                	DEFB +0x88
  5399  0250  88                	DEFB +0x88
  5400  0251  00                	DEFB +0x00
  5401  0252  88                	DEFB +0x88
  5402  0253  c8                	DEFB +0xc8
  5403  0254  a8                	DEFB +0xa8
  5404  0255  98                	DEFB +0x98
  5405  0256  88                	DEFB +0x88
  5406  0257  88                	DEFB +0x88
  5407  0258  88                	DEFB +0x88
  5408  0259  00                	DEFB +0x00
  5409  025a  70                	DEFB +0x70
  5410  025b  88                	DEFB +0x88
  5411  025c  88                	DEFB +0x88
  5412  025d  88                	DEFB +0x88
  5413  025e  88                	DEFB +0x88
  5414  025f  88                	DEFB +0x88
  5415  0260  70                	DEFB +0x70
  5416  0261  00                	DEFB +0x00
  5417  0262  f0                	DEFB +0xf0
  5418  0263  88                	DEFB +0x88
  5419  0264  88                	DEFB +0x88
  5420  0265  f0                	DEFB +0xf0
  5421  0266  80                	DEFB +0x80
  5422  0267  80                	DEFB +0x80
  5423  0268  80                	DEFB +0x80
  5424  0269  00                	DEFB +0x00
  5425  026a  70                	DEFB +0x70
  5426  026b  88                	DEFB +0x88
  5427  026c  88                	DEFB +0x88
  5428  026d  88                	DEFB +0x88
  5429  026e  a8                	DEFB +0xa8
  5430  026f  90                	DEFB +0x90
  5431  0270  68                	DEFB +0x68
  5432  0271  00                	DEFB +0x00
  5433  0272  f0                	DEFB +0xf0
  5434  0273  88                	DEFB +0x88
  5435  0274  88                	DEFB +0x88
  5436  0275  f0                	DEFB +0xf0
  5437  0276  a0                	DEFB +0xa0
  5438  0277  90                	DEFB +0x90
  5439  0278  88                	DEFB +0x88
  5440  0279  00                	DEFB +0x00
  5441  027a  78                	DEFB +0x78
  5442  027b  80                	DEFB +0x80
  5443  027c  80                	DEFB +0x80
  5444  027d  70                	DEFB +0x70
  5445  027e  08                	DEFB +0x08
  5446  027f  08                	DEFB +0x08
  5447  0280  f0                	DEFB +0xf0
  5448  0281  00                	DEFB +0x00
  5449  0282  f8                	DEFB +0xf8
  5450  0283  20                	DEFB +0x20
  5451  0284  20                	DEFB +0x20
  5452  0285  20                	DEFB +0x20
  5453  0286  20                	DEFB +0x20
  5454  0287  20                	DEFB +0x20
  5455  0288  20                	DEFB +0x20
  5456  0289  00                	DEFB +0x00
  5457  028a  88                	DEFB +0x88
  5458  028b  88                	DEFB +0x88
  5459  028c  88                	DEFB +0x88
  5460  028d  88                	DEFB +0x88
  5461  028e  88                	DEFB +0x88
  5462  028f  88                	DEFB +0x88
  5463  0290  70                	DEFB +0x70
  5464  0291  00                	DEFB +0x00
  5465  0292  88                	DEFB +0x88
  5466  0293  88                	DEFB +0x88
  5467  0294  88                	DEFB +0x88
  5468  0295  88                	DEFB +0x88
  5469  0296  88                	DEFB +0x88
  5470  0297  50                	DEFB +0x50
  5471  0298  20                	DEFB +0x20
  5472  0299  00                	DEFB +0x00
  5473  029a  88                	DEFB +0x88
  5474  029b  88                	DEFB +0x88
  5475  029c  88                	DEFB +0x88
  5476  029d  88                	DEFB +0x88
  5477  029e  a8                	DEFB +0xa8
  5478  029f  a8                	DEFB +0xa8
  5479  02a0  50                	DEFB +0x50
  5480  02a1  00                	DEFB +0x00
  5481  02a2  88                	DEFB +0x88
  5482  02a3  88                	DEFB +0x88
  5483  02a4  50                	DEFB +0x50
  5484  02a5  20                	DEFB +0x20
  5485  02a6  50                	DEFB +0x50
  5486  02a7  88                	DEFB +0x88
  5487  02a8  88                	DEFB +0x88
  5488  02a9  00                	DEFB +0x00
  5489  02aa  88                	DEFB +0x88
  5490  02ab  88                	DEFB +0x88
  5491  02ac  88                	DEFB +0x88
  5492  02ad  50                	DEFB +0x50
  5493  02ae  20                	DEFB +0x20
  5494  02af  20                	DEFB +0x20
  5495  02b0  20                	DEFB +0x20
  5496  02b1  00                	DEFB +0x00
  5497  02b2  f8                	DEFB +0xf8
  5498  02b3  08                	DEFB +0x08
  5499  02b4  10                	DEFB +0x10
  5500  02b5  20                	DEFB +0x20
  5501  02b6  40                	DEFB +0x40
  5502  02b7  80                	DEFB +0x80
  5503  02b8  f8                	DEFB +0xf8
  5504  02b9  00                	DEFB +0x00
  5505  02ba  70                	DEFB +0x70
  5506  02bb  40                	DEFB +0x40
  5507  02bc  40                	DEFB +0x40
  5508  02bd  40                	DEFB +0x40
  5509  02be  40                	DEFB +0x40
  5510  02bf  40                	DEFB +0x40
  5511  02c0  70                	DEFB +0x70
  5512  02c1  00                	DEFB +0x00
  5513  02c2  00                	DEFB +0x00
  5514  02c3  80                	DEFB +0x80
  5515  02c4  40                	DEFB +0x40
  5516  02c5  20                	DEFB +0x20
  5517  02c6  10                	DEFB +0x10
  5518  02c7  08                	DEFB +0x08
  5519  02c8  00                	DEFB +0x00
  5520  02c9  00                	DEFB +0x00
  5521  02ca  70                	DEFB +0x70
  5522  02cb  10                	DEFB +0x10
  5523  02cc  10                	DEFB +0x10
  5524  02cd  10                	DEFB +0x10
  5525  02ce  10                	DEFB +0x10
  5526  02cf  10                	DEFB +0x10
  5527  02d0  70                	DEFB +0x70
  5528  02d1  00                	DEFB +0x00
  5529  02d2  20                	DEFB +0x20
  5530  02d3  50                	DEFB +0x50
  5531  02d4  88                	DEFB +0x88
  5532  02d5  00                	DEFB +0x00
  5533  02d6  00                	DEFB +0x00
  5534  02d7  00                	DEFB +0x00
  5535  02d8  00                	DEFB +0x00
  5536  02d9  00                	DEFB +0x00
  5537  02da  00                	DEFB +0x00
  5538  02db  00                	DEFB +0x00
  5539  02dc  00                	DEFB +0x00
  5540  02dd  00                	DEFB +0x00
  5541  02de  00                	DEFB +0x00
  5542  02df  00                	DEFB +0x00
  5543  02e0  f8                	DEFB +0xf8
  5544  02e1  00                	DEFB +0x00
  5545  02e2  40                	DEFB +0x40
  5546  02e3  20                	DEFB +0x20
  5547  02e4  10                	DEFB +0x10
  5548  02e5  00                	DEFB +0x00
  5549  02e6  00                	DEFB +0x00
  5550  02e7  00                	DEFB +0x00
  5551  02e8  00                	DEFB +0x00
  5552  02e9  00                	DEFB +0x00
  5553  02ea  00                	DEFB +0x00
  5554  02eb  00                	DEFB +0x00
  5555  02ec  70                	DEFB +0x70
  5556  02ed  08                	DEFB +0x08
  5557  02ee  78                	DEFB +0x78
  5558  02ef  88                	DEFB +0x88
  5559  02f0  78                	DEFB +0x78
  5560  02f1  00                	DEFB +0x00
  5561  02f2  00                	DEFB +0x00
  5562  02f3  80                	DEFB +0x80
  5563  02f4  80                	DEFB +0x80
  5564  02f5  b0                	DEFB +0xb0
  5565  02f6  c8                	DEFB +0xc8
  5566  02f7  88                	DEFB +0x88
  5567  02f8  f0                	DEFB +0xf0
  5568  02f9  00                	DEFB +0x00
  5569  02fa  00                	DEFB +0x00
  5570  02fb  00                	DEFB +0x00
  5571  02fc  70                	DEFB +0x70
  5572  02fd  80                	DEFB +0x80
  5573  02fe  80                	DEFB +0x80
  5574  02ff  88                	DEFB +0x88
  5575  0300  70                	DEFB +0x70
  5576  0301  00                	DEFB +0x00
  5577  0302  08                	DEFB +0x08
  5578  0303  08                	DEFB +0x08
  5579  0304  08                	DEFB +0x08
  5580  0305  68                	DEFB +0x68
  5581  0306  98                	DEFB +0x98
  5582  0307  88                	DEFB +0x88
  5583  0308  78                	DEFB +0x78
  5584  0309  00                	DEFB +0x00
  5585  030a  00                	DEFB +0x00
  5586  030b  00                	DEFB +0x00
  5587  030c  70                	DEFB +0x70
  5588  030d  88                	DEFB +0x88
  5589  030e  f8                	DEFB +0xf8
  5590  030f  80                	DEFB +0x80
  5591  0310  70                	DEFB +0x70
  5592  0311  00                	DEFB +0x00
  5593  0312  30                	DEFB +0x30
  5594  0313  48                	DEFB +0x48
  5595  0314  40                	DEFB +0x40
  5596  0315  e0                	DEFB +0xe0
  5597  0316  40                	DEFB +0x40
  5598  0317  40                	DEFB +0x40
  5599  0318  40                	DEFB +0x40
  5600  0319  00                	DEFB +0x00
  5601  031a  00                	DEFB +0x00
  5602  031b  78                	DEFB +0x78
  5603  031c  88                	DEFB +0x88
  5604  031d  88                	DEFB +0x88
  5605  031e  78                	DEFB +0x78
  5606  031f  08                	DEFB +0x08
  5607  0320  70                	DEFB +0x70
  5608  0321  00                	DEFB +0x00
  5609  0322  80                	DEFB +0x80
  5610  0323  80                	DEFB +0x80
  5611  0324  b0                	DEFB +0xb0
  5612  0325  c8                	DEFB +0xc8
  5613  0326  88                	DEFB +0x88
  5614  0327  88                	DEFB +0x88
  5615  0328  88                	DEFB +0x88
  5616  0329  00                	DEFB +0x00
  5617  032a  00                	DEFB +0x00
  5618  032b  20                	DEFB +0x20
  5619  032c  00                	DEFB +0x00
  5620  032d  20                	DEFB +0x20
  5621  032e  20                	DEFB +0x20
  5622  032f  20                	DEFB +0x20
  5623  0330  20                	DEFB +0x20
  5624  0331  00                	DEFB +0x00
  5625  0332  10                	DEFB +0x10
  5626  0333  00                	DEFB +0x00
  5627  0334  30                	DEFB +0x30
  5628  0335  10                	DEFB +0x10
  5629  0336  10                	DEFB +0x10
  5630  0337  90                	DEFB +0x90
  5631  0338  60                	DEFB +0x60
  5632  0339  00                	DEFB +0x00
  5633  033a  80                	DEFB +0x80
  5634  033b  80                	DEFB +0x80
  5635  033c  90                	DEFB +0x90
  5636  033d  a0                	DEFB +0xa0
  5637  033e  c0                	DEFB +0xc0
  5638  033f  a0                	DEFB +0xa0
  5639  0340  90                	DEFB +0x90
  5640  0341  00                	DEFB +0x00
  5641  0342  60                	DEFB +0x60
  5642  0343  20                	DEFB +0x20
  5643  0344  20                	DEFB +0x20
  5644  0345  20                	DEFB +0x20
  5645  0346  20                	DEFB +0x20
  5646  0347  20                	DEFB +0x20
  5647  0348  70                	DEFB +0x70
  5648  0349  00                	DEFB +0x00
  5649  034a  00                	DEFB +0x00
  5650  034b  00                	DEFB +0x00
  5651  034c  d0                	DEFB +0xd0
  5652  034d  a8                	DEFB +0xa8
  5653  034e  a8                	DEFB +0xa8
  5654  034f  88                	DEFB +0x88
  5655  0350  88                	DEFB +0x88
  5656  0351  00                	DEFB +0x00
  5657  0352  00                	DEFB +0x00
  5658  0353  00                	DEFB +0x00
  5659  0354  b0                	DEFB +0xb0
  5660  0355  c8                	DEFB +0xc8
  5661  0356  88                	DEFB +0x88
  5662  0357  88                	DEFB +0x88
  5663  0358  88                	DEFB +0x88
  5664  0359  00                	DEFB +0x00
  5665  035a  00                	DEFB +0x00
  5666  035b  00                	DEFB +0x00
  5667  035c  70                	DEFB +0x70
  5668  035d  88                	DEFB +0x88
  5669  035e  88                	DEFB +0x88
  5670  035f  88                	DEFB +0x88
  5671  0360  70                	DEFB +0x70
  5672  0361  00                	DEFB +0x00
  5673  0362  00                	DEFB +0x00
  5674  0363  00                	DEFB +0x00
  5675  0364  f0                	DEFB +0xf0
  5676  0365  88                	DEFB +0x88
  5677  0366  f0                	DEFB +0xf0
  5678  0367  80                	DEFB +0x80
  5679  0368  80                	DEFB +0x80
  5680  0369  00                	DEFB +0x00
  5681  036a  00                	DEFB +0x00
  5682  036b  00                	DEFB +0x00
  5683  036c  68                	DEFB +0x68
  5684  036d  98                	DEFB +0x98
  5685  036e  78                	DEFB +0x78
  5686  036f  08                	DEFB +0x08
  5687  0370  08                	DEFB +0x08
  5688  0371  00                	DEFB +0x00
  5689  0372  00                	DEFB +0x00
  5690  0373  00                	DEFB +0x00
  5691  0374  b0                	DEFB +0xb0
  5692  0375  c8                	DEFB +0xc8
  5693  0376  80                	DEFB +0x80
  5694  0377  80                	DEFB +0x80
  5695  0378  80                	DEFB +0x80
  5696  0379  00                	DEFB +0x00
  5697  037a  00                	DEFB +0x00
  5698  037b  00                	DEFB +0x00
  5699  037c  70                	DEFB +0x70
  5700  037d  80                	DEFB +0x80
  5701  037e  70                	DEFB +0x70
  5702  037f  08                	DEFB +0x08
  5703  0380  f0                	DEFB +0xf0
  5704  0381  00                	DEFB +0x00
  5705  0382  40                	DEFB +0x40
  5706  0383  40                	DEFB +0x40
  5707  0384  e0                	DEFB +0xe0
  5708  0385  40                	DEFB +0x40
  5709  0386  40                	DEFB +0x40
  5710  0387  48                	DEFB +0x48
  5711  0388  30                	DEFB +0x30
  5712  0389  00                	DEFB +0x00
  5713  038a  00                	DEFB +0x00
  5714  038b  00                	DEFB +0x00
  5715  038c  88                	DEFB +0x88
  5716  038d  88                	DEFB +0x88
  5717  038e  88                	DEFB +0x88
  5718  038f  98                	DEFB +0x98
  5719  0390  68                	DEFB +0x68
  5720  0391  00                	DEFB +0x00
  5721  0392  00                	DEFB +0x00
  5722  0393  00                	DEFB +0x00
  5723  0394  88                	DEFB +0x88
  5724  0395  88                	DEFB +0x88
  5725  0396  88                	DEFB +0x88
  5726  0397  50                	DEFB +0x50
  5727  0398  20                	DEFB +0x20
  5728  0399  00                	DEFB +0x00
  5729  039a  00                	DEFB +0x00
  5730  039b  00                	DEFB +0x00
  5731  039c  88                	DEFB +0x88
  5732  039d  88                	DEFB +0x88
  5733  039e  a8                	DEFB +0xa8
  5734  039f  a8                	DEFB +0xa8
  5735  03a0  50                	DEFB +0x50
  5736  03a1  00                	DEFB +0x00
  5737  03a2  00                	DEFB +0x00
  5738  03a3  00                	DEFB +0x00
  5739  03a4  88                	DEFB +0x88
  5740  03a5  50                	DEFB +0x50
  5741  03a6  20                	DEFB +0x20
  5742  03a7  50                	DEFB +0x50
  5743  03a8  88                	DEFB +0x88
  5744  03a9  00                	DEFB +0x00
  5745  03aa  00                	DEFB +0x00
  5746  03ab  00                	DEFB +0x00
  5747  03ac  88                	DEFB +0x88
  5748  03ad  88                	DEFB +0x88
  5749  03ae  78                	DEFB +0x78
  5750  03af  08                	DEFB +0x08
  5751  03b0  70                	DEFB +0x70
  5752  03b1  00                	DEFB +0x00
  5753  03b2  00                	DEFB +0x00
  5754  03b3  00                	DEFB +0x00
  5755  03b4  f8                	DEFB +0xf8
  5756  03b5  10                	DEFB +0x10
  5757  03b6  20                	DEFB +0x20
  5758  03b7  40                	DEFB +0x40
  5759  03b8  f8                	DEFB +0xf8
  5760  03b9  00                	DEFB +0x00
  5761  03ba  10                	DEFB +0x10
  5762  03bb  20                	DEFB +0x20
  5763  03bc  20                	DEFB +0x20
  5764  03bd  40                	DEFB +0x40
  5765  03be  20                	DEFB +0x20
  5766  03bf  20                	DEFB +0x20
  5767  03c0  10                	DEFB +0x10
  5768  03c1  00                	DEFB +0x00
  5769  03c2  20                	DEFB +0x20
  5770  03c3  20                	DEFB +0x20
  5771  03c4  20                	DEFB +0x20
  5772  03c5  20                	DEFB +0x20
  5773  03c6  20                	DEFB +0x20
  5774  03c7  20                	DEFB +0x20
  5775  03c8  20                	DEFB +0x20
  5776  03c9  00                	DEFB +0x00
  5777  03ca  20                	DEFB +0x20
  5778  03cb  10                	DEFB +0x10
  5779  03cc  10                	DEFB +0x10
  5780  03cd  08                	DEFB +0x08
  5781  03ce  10                	DEFB +0x10
  5782  03cf  10                	DEFB +0x10
  5783  03d0  20                	DEFB +0x20
  5784  03d1  00                	DEFB +0x00
  5785  03d2  00                	DEFB +0x00
  5786  03d3  28                	DEFB +0x28
  5787  03d4  50                	DEFB +0x50
  5788  03d5  00                	DEFB +0x00
  5789  03d6  00                	DEFB +0x00
  5790  03d7  00                	DEFB +0x00
  5791  03d8  00                	DEFB +0x00
  5792  03d9  00                	DEFB +0x00
  5793  03da  00                	DEFB 0x00
  5794  03db  00                	DEFB 0x00
  5795  03dc  00                	DEFB 0x00
  5796  03dd  00                	DEFB 0x00
  5797  03de  00                	DEFB 0x00
  5798  03df  00                	DEFB 0x00
  5799  03e0  00                	DEFB 0x00
  5800  03e1  00                	DEFB 0x00
  5801                          	SECTION code_compiler
  5802                          ;	---------------------------------
  5803                          ; Function putPixel
  5804                          ; ---------------------------------
  5805                          _putPixel:
  5806  17b3  dde5              	push	ix
  5807  17b5  dd210000          	ld	ix,0
  5808  17b9  dd39              	add	ix,sp
  5809  17bb  01d405            	ld	bc,__dBuffer+0
  5810  17be  dd7e05            	ld	a,(ix+5)
  5811  17c1  0f                	rrca
  5812  17c2  0f                	rrca
  5813  17c3  0f                	rrca
  5814  17c4  e61f              	and	a,0x1f
  5815  17c6  6f                	ld	l, a
  5816  17c7  2600              	ld	h,0x00
  5817  17c9  29                	add	hl, hl
  5818  17ca  29                	add	hl, hl
  5819  17cb  29                	add	hl, hl
  5820  17cc  dd7e06            	ld	a,(ix+6)
  5821  17cf  e607              	and	a,0x07
  5822  17d1  1600              	ld	d,0x00
  5823  17d3  5f                	ld	e, a
  5824  17d4  19                	add	hl, de
  5825  17d5  dd7e06            	ld	a,(ix+6)
  5826  17d8  0f                	rrca
  5827  17d9  0f                	rrca
  5828  17da  0f                	rrca
  5829  17db  e61f              	and	a,0x1f
  5830  17dd  57                	ld	d, a
  5831  17de  1e00              	ld	e,0x00
  5832  17e0  19                	add	hl, de
  5833  17e1  09                	add	hl, bc
  5834  17e2  eb                	ex	de, hl
  5835  17e3  1a                	ld	a, (de)
  5836  17e4  4f                	ld	c, a
  5837  17e5  dd7e05            	ld	a,(ix+5)
  5838  17e8  e607              	and	a,0x07
  5839  17ea  47                	ld	b, a
  5840  17eb  218000            	ld	hl,0x0080
  5841  17ee  04                	inc	b
  5842  17ef  1804              	jr	l_putPixel_00112
  5843                          l_putPixel_00111:
  5844  17f1  cb2c              	sra	h
  5845  17f3  cb1d              	rr	l
  5846                          l_putPixel_00112:
  5847  17f5  10fa              	djnz	l_putPixel_00111
  5848  17f7  dd7e04            	ld	a,(ix+4)
  5849  17fa  b7                	or	a, a
  5850  17fb  2805              	jr	Z,l_putPixel_00102
  5851  17fd  7d                	ld	a, l
  5852  17fe  b1                	or	a, c
  5853  17ff  12                	ld	(de), a
  5854  1800  1804              	jr	l_putPixel_00104
  5855                          l_putPixel_00102:
  5856  1802  7d                	ld	a, l
  5857  1803  2f                	cpl
  5858  1804  a1                	and	a, c
  5859  1805  12                	ld	(de), a
  5860                          l_putPixel_00104:
  5861  1806  dde1              	pop	ix
  5862  1808  c9                	ret
  5863                          	SECTION code_compiler
  5864                          ;	---------------------------------
  5865                          ; Function line
  5866                          ; ---------------------------------
  5867                          _line:
  5868  1809  dde5              	push	ix
  5869  180b  dd210000          	ld	ix,0
  5870  180f  dd39              	add	ix,sp
  5871  1811  21f8ff            	ld	hl, -8
  5872  1814  39                	add	hl, sp
  5873  1815  f9                	ld	sp, hl
  5874  1816  dd7e09            	ld	a,(ix+9)
  5875  1819  dd9605            	sub	a,(ix+5)
  5876  181c  6f                	ld	l, a
  5877  181d  dd7e0a            	ld	a,(ix+10)
  5878  1820  dd9e06            	sbc	a,(ix+6)
  5879  1823  67                	ld	h, a
  5880  1824  cd0000            	call	_abs
  5881  1827  e3                	ex	(sp), hl
  5882  1828  dd7e05            	ld	a,(ix+5)
  5883  182b  dd9609            	sub	a,(ix+9)
  5884  182e  dd7e06            	ld	a,(ix+6)
  5885  1831  dd9e0a            	sbc	a,(ix+10)
  5886  1834  e23918            	jp	PO, l_line_00152
  5887  1837  ee80              	xor	a,0x80
  5888                          l_line_00152:
  5889  1839  f24118            	jp	P, l_line_00111
  5890  183c  010100            	ld	bc,0x0001
  5891  183f  1803              	jr	l_line_00112
  5892                          l_line_00111:
  5893  1841  01ffff            	ld	bc,0xffff
  5894                          l_line_00112:
  5895  1844  dd71fa            	ld	(ix-6),c
  5896  1847  dd70fb            	ld	(ix-5),b
  5897  184a  dd7e0b            	ld	a,(ix+11)
  5898  184d  dd9607            	sub	a,(ix+7)
  5899  1850  6f                	ld	l, a
  5900  1851  dd7e0c            	ld	a,(ix+12)
  5901  1854  dd9e08            	sbc	a,(ix+8)
  5902  1857  67                	ld	h, a
  5903  1858  cd0000            	call	_abs
  5904  185b  eb                	ex	de, hl
  5905  185c  dd7e07            	ld	a,(ix+7)
  5906  185f  dd960b            	sub	a,(ix+11)
  5907  1862  dd7e08            	ld	a,(ix+8)
  5908  1865  dd9e0c            	sbc	a,(ix+12)
  5909  1868  e26d18            	jp	PO, l_line_00153
  5910  186b  ee80              	xor	a,0x80
  5911                          l_line_00153:
  5912  186d  f27518            	jp	P, l_line_00113
  5913  1870  010100            	ld	bc,0x0001
  5914  1873  1803              	jr	l_line_00114
  5915                          l_line_00113:
  5916  1875  01ffff            	ld	bc,0xffff
  5917                          l_line_00114:
  5918  1878  dd71fc            	ld	(ix-4),c
  5919  187b  dd70fd            	ld	(ix-3),b
  5920  187e  7b                	ld	a, e
  5921  187f  dd96f8            	sub	a,(ix-8)
  5922  1882  7a                	ld	a, d
  5923  1883  dd9ef9            	sbc	a,(ix-7)
  5924  1886  e28b18            	jp	PO, l_line_00154
  5925  1889  ee80              	xor	a,0x80
  5926                          l_line_00154:
  5927  188b  f29218            	jp	P, l_line_00115
  5928  188e  e1                	pop	hl
  5929  188f  e5                	push	hl
  5930  1890  1806              	jr	l_line_00116
  5931                          l_line_00115:
  5932  1892  210000            	ld	hl,0x0000
  5933  1895  bf                	cp	a, a
  5934  1896  ed52              	sbc	hl, de
  5935                          l_line_00116:
  5936  1898  cb2c              	sra	h
  5937  189a  cb1d              	rr	l
  5938  189c  af                	xor	a, a
  5939  189d  dd96f8            	sub	a,(ix-8)
  5940  18a0  dd77fe            	ld	(ix-2),a
  5941  18a3  9f                	sbc	a, a
  5942  18a4  dd96f9            	sub	a,(ix-7)
  5943  18a7  dd77ff            	ld	(ix-1),a
  5944                          l_line_00106:
  5945  18aa  dd7e05            	ld	a,(ix+5)
  5946  18ad  dd9609            	sub	a,(ix+9)
  5947  18b0  2018              	jr	NZ,l_line_00107
  5948  18b2  dd7e06            	ld	a,(ix+6)
  5949  18b5  dd960a            	sub	a,(ix+10)
  5950  18b8  2010              	jr	NZ,l_line_00107
  5951  18ba  dd7e07            	ld	a,(ix+7)
  5952  18bd  dd960b            	sub	a,(ix+11)
  5953  18c0  2008              	jr	NZ,l_line_00157
  5954  18c2  dd7e08            	ld	a,(ix+8)
  5955  18c5  dd960c            	sub	a,(ix+12)
  5956  18c8  2863              	jr	Z,l_line_00109
  5957                          l_line_00157:
  5958                          l_line_00107:
  5959  18ca  dd4607            	ld	b,(ix+7)
  5960  18cd  dd7e05            	ld	a,(ix+5)
  5961  18d0  e5                	push	hl
  5962  18d1  d5                	push	de
  5963  18d2  c5                	push	bc
  5964  18d3  33                	inc	sp
  5965  18d4  f5                	push	af
  5966  18d5  33                	inc	sp
  5967  18d6  dd7e04            	ld	a,(ix+4)
  5968  18d9  f5                	push	af
  5969  18da  33                	inc	sp
  5970  18db  cdb317            	call	_putPixel
  5971  18de  f1                	pop	af
  5972  18df  33                	inc	sp
  5973  18e0  d1                	pop	de
  5974  18e1  e1                	pop	hl
  5975  18e2  4d                	ld	c, l
  5976  18e3  44                	ld	b, h
  5977  18e4  dd7efe            	ld	a,(ix-2)
  5978  18e7  95                	sub	a, l
  5979  18e8  dd7eff            	ld	a,(ix-1)
  5980  18eb  9c                	sbc	a, h
  5981  18ec  e2f118            	jp	PO, l_line_00158
  5982  18ef  ee80              	xor	a,0x80
  5983                          l_line_00158:
  5984  18f1  f20919            	jp	P, l_line_00102
  5985  18f4  bf                	cp	a, a
  5986  18f5  ed52              	sbc	hl, de
  5987  18f7  dd7e05            	ld	a,(ix+5)
  5988  18fa  dd86fa            	add	a,(ix-6)
  5989  18fd  dd7705            	ld	(ix+5),a
  5990  1900  dd7e06            	ld	a,(ix+6)
  5991  1903  dd8efb            	adc	a,(ix-5)
  5992  1906  dd7706            	ld	(ix+6),a
  5993                          l_line_00102:
  5994  1909  79                	ld	a, c
  5995  190a  93                	sub	a, e
  5996  190b  78                	ld	a, b
  5997  190c  9a                	sbc	a, d
  5998  190d  e21219            	jp	PO, l_line_00159
  5999  1910  ee80              	xor	a,0x80
  6000                          l_line_00159:
  6001  1912  f2aa18            	jp	P, l_line_00106
  6002  1915  c1                	pop	bc
  6003  1916  c5                	push	bc
  6004  1917  09                	add	hl, bc
  6005  1918  dd7efc            	ld	a,(ix-4)
  6006  191b  dd8607            	add	a,(ix+7)
  6007  191e  dd7707            	ld	(ix+7),a
  6008  1921  dd7efd            	ld	a,(ix-3)
  6009  1924  dd8e08            	adc	a,(ix+8)
  6010  1927  dd7708            	ld	(ix+8),a
  6011  192a  c3aa18            	jp	l_line_00106
  6012                          l_line_00109:
  6013  192d  ddf9              	ld	sp, ix
  6014  192f  dde1              	pop	ix
  6015  1931  c9                	ret
  6016                          	SECTION code_compiler
  6017                          ;	---------------------------------
  6018                          ; Function window
  6019                          ; ---------------------------------
  6020                          _window:
  6021  1932  dde5              	push	ix
  6022  1934  dd210000          	ld	ix,0
  6023  1938  dd39              	add	ix,sp
  6024  193a  dd6e06            	ld	l,(ix+6)
  6025  193d  2600              	ld	h,0x00
  6026  193f  fde5              	push	iy
  6027  1941  e3                	ex	(sp), hl
  6028  1942  dd6e07            	ld	l,(ix+7)
  6029  1945  e3                	ex	(sp), hl
  6030  1946  e3                	ex	(sp), hl
  6031  1947  2600              	ld	h,0x00
  6032  1949  e3                	ex	(sp), hl
  6033  194a  fde1              	pop	iy
  6034  194c  dd4e05            	ld	c,(ix+5)
  6035  194f  0600              	ld	b,0x00
  6036  1951  e5                	push	hl
  6037  1952  c5                	push	bc
  6038  1953  fde5              	push	iy
  6039  1955  e5                	push	hl
  6040  1956  fde5              	push	iy
  6041  1958  e5                	push	hl
  6042  1959  c5                	push	bc
  6043  195a  dd7e04            	ld	a,(ix+4)
  6044  195d  f5                	push	af
  6045  195e  33                	inc	sp
  6046  195f  cd0918            	call	_line
  6047  1962  210900            	ld	hl,9
  6048  1965  39                	add	hl, sp
  6049  1966  f9                	ld	sp, hl
  6050  1967  fde1              	pop	iy
  6051  1969  c1                	pop	bc
  6052  196a  e1                	pop	hl
  6053  196b  dd5e08            	ld	e,(ix+8)
  6054  196e  1600              	ld	d,0x00
  6055  1970  e5                	push	hl
  6056  1971  c5                	push	bc
  6057  1972  d5                	push	de
  6058  1973  fde5              	push	iy
  6059  1975  d5                	push	de
  6060  1976  fde5              	push	iy
  6061  1978  e5                	push	hl
  6062  1979  fde5              	push	iy
  6063  197b  dd7e04            	ld	a,(ix+4)
  6064  197e  f5                	push	af
  6065  197f  33                	inc	sp
  6066  1980  cd0918            	call	_line
  6067  1983  210900            	ld	hl,9
  6068  1986  39                	add	hl, sp
  6069  1987  f9                	ld	sp, hl
  6070  1988  fde1              	pop	iy
  6071  198a  d1                	pop	de
  6072  198b  c1                	pop	bc
  6073  198c  c5                	push	bc
  6074  198d  d5                	push	de
  6075  198e  d5                	push	de
  6076  198f  c5                	push	bc
  6077  1990  d5                	push	de
  6078  1991  fde5              	push	iy
  6079  1993  dd7e04            	ld	a,(ix+4)
  6080  1996  f5                	push	af
  6081  1997  33                	inc	sp
  6082  1998  cd0918            	call	_line
  6083  199b  210900            	ld	hl,9
  6084  199e  39                	add	hl, sp
  6085  199f  f9                	ld	sp, hl
  6086  19a0  d1                	pop	de
  6087  19a1  c1                	pop	bc
  6088  19a2  c5                	push	bc
  6089  19a3  d5                	push	de
  6090  19a4  c5                	push	bc
  6091  19a5  dd7e04            	ld	a,(ix+4)
  6092  19a8  f5                	push	af
  6093  19a9  33                	inc	sp
  6094  19aa  cd0918            	call	_line
  6095  19ad  210900            	ld	hl,9
  6096  19b0  39                	add	hl, sp
  6097  19b1  f9                	ld	sp, hl
  6098  19b2  dde1              	pop	ix
  6099  19b4  c9                	ret
  6100                          	SECTION code_compiler
  6101                          ;	---------------------------------
  6102                          ; Function initDisplay
  6103                          ; ---------------------------------
  6104                          _initDisplay:
  6105  19b5  cdac08            	call	_vdp_waitVDPReadyInt
  6106  19b8  2acb05            	ld	hl, (__vdpPatternGeneratorTableAddr)
  6107  19bb  e5                	push	hl
  6108  19bc  cd4308            	call	_vdp_setWriteAddress
  6109  19bf  f1                	pop	af
  6110  19c0  010000            	ld	bc,0x0000
  6111                          l_initDisplay_00105:
  6112  19c3  78                	ld	a, b
  6113  19c4  ee80              	xor	a,0x80
  6114  19c6  d698              	sub	a,0x98
  6115  19c8  300d              	jr	NC,l_initDisplay_00101
  6116  19ca  3e00              	ld	a,0x00
  6117  19cc  d3a0              	out	(_IO_VDPDATA), a
  6118  19ce  21d405            	ld	hl,__dBuffer
  6119  19d1  09                	add	hl, bc
  6120  19d2  3600              	ld	(hl),0x00
  6121  19d4  03                	inc	bc
  6122  19d5  18ec              	jr	l_initDisplay_00105
  6123                          l_initDisplay_00101:
  6124  19d7  2ac905            	ld	hl, (__vdpColorTableAddr)
  6125  19da  e5                	push	hl
  6126  19db  cd4308            	call	_vdp_setWriteAddress
  6127  19de  f1                	pop	af
  6128  19df  010000            	ld	bc,0x0000
  6129                          l_initDisplay_00108:
  6130  19e2  78                	ld	a, b
  6131  19e3  ee80              	xor	a,0x80
  6132  19e5  d698              	sub	a,0x98
  6133  19e7  3007              	jr	NC,l_initDisplay_00102
  6134  19e9  3ef0              	ld	a,0xf0
  6135  19eb  d3a0              	out	(_IO_VDPDATA), a
  6136  19ed  03                	inc	bc
  6137  19ee  18f2              	jr	l_initDisplay_00108
  6138                          l_initDisplay_00102:
  6139  19f0  2ac705            	ld	hl, (__vdpPatternNameTableAddr)
  6140  19f3  e5                	push	hl
  6141  19f4  cd4308            	call	_vdp_setWriteAddress
  6142  19f7  f1                	pop	af
  6143  19f8  010000            	ld	bc,0x0000
  6144                          l_initDisplay_00111:
  6145  19fb  78                	ld	a, b
  6146  19fc  ee80              	xor	a,0x80
  6147  19fe  d683              	sub	a,0x83
  6148  1a00  d0                	ret	NC
  6149  1a01  210002            	ld	hl,__vdp_textBuffer+0
  6150  1a04  09                	add	hl, bc
  6151  1a05  c5                	push	bc
  6152  1a06  e5                	push	hl
  6153  1a07  210001            	ld	hl,0x0100
  6154  1a0a  e5                	push	hl
  6155  1a0b  c5                	push	bc
  6156  1a0c  cd0000            	call	__modsint_callee
  6157  1a0f  d1                	pop	de
  6158  1a10  c1                	pop	bc
  6159  1a11  7d                	ld	a, l
  6160  1a12  12                	ld	(de), a
  6161  1a13  d3a0              	out	(_IO_VDPDATA), a
  6162  1a15  03                	inc	bc
  6163  1a16  18e3              	jr	l_initDisplay_00111
  6164                          	SECTION code_compiler
  6165                          ;	---------------------------------
  6166                          ; Function main
  6167                          ; ---------------------------------
  6168                          _main:
  6169  1a18  cd0000            	call	_initNABULib
  6170  1a1b  3e01              	ld	a,0x01
  6171  1a1d  f5                	push	af
  6172  1a1e  33                	inc	sp
  6173  1a1f  af                	xor	a, a
  6174  1a20  f5                	push	af
  6175  1a21  33                	inc	sp
  6176  1a22  af                	xor	a, a
  6177  1a23  f5                	push	af
  6178  1a24  33                	inc	sp
  6179  1a25  af                	xor	a, a
  6180  1a26  f5                	push	af
  6181  1a27  33                	inc	sp
  6182  1a28  af                	xor	a, a
  6183  1a29  f5                	push	af
  6184  1a2a  33                	inc	sp
  6185  1a2b  cd820b            	call	_vdp_initG2Mode
  6186  1a2e  f1                	pop	af
  6187  1a2f  f1                	pop	af
  6188  1a30  33                	inc	sp
  6189  1a31  cd7a08            	call	_vdp_enableVDPReadyInt
  6190  1a34  cdb519            	call	_initDisplay
  6191  1a37  0e14              	ld	c,0x14
  6192                          l_main_00105:
  6193  1a39  79                	ld	a, c
  6194  1a3a  c63c              	add	a,0x3c
  6195  1a3c  47                	ld	b, a
  6196  1a3d  79                	ld	a, c
  6197  1a3e  d664              	sub	a,0x64
  6198  1a40  3052              	jr	NC,l_main_00103
  6199  1a42  c5                	push	bc
  6200  1a43  3e50              	ld	a,0x50
  6201  1a45  f5                	push	af
  6202  1a46  33                	inc	sp
  6203  1a47  c5                	push	bc
  6204  1a48  33                	inc	sp
  6205  1a49  3e32              	ld	a,0x32
  6206  1a4b  f5                	push	af
  6207  1a4c  33                	inc	sp
  6208  1a4d  51                	ld	d, c
  6209  1a4e  1e01              	ld	e,0x01
  6210  1a50  d5                	push	de
  6211  1a51  cd3219            	call	_window
  6212  1a54  f1                	pop	af
  6213  1a55  f1                	pop	af
  6214  1a56  33                	inc	sp
  6215  1a57  216400            	ld	hl,0x0064
  6216  1a5a  e5                	push	hl
  6217  1a5b  2eb4              	ld	l,0xb4
  6218  1a5d  e5                	push	hl
  6219  1a5e  2e14              	ld	l,0x14
  6220  1a60  e5                	push	hl
  6221  1a61  e5                	push	hl
  6222  1a62  3e01              	ld	a,0x01
  6223  1a64  f5                	push	af
  6224  1a65  33                	inc	sp
  6225  1a66  cd0918            	call	_line
  6226  1a69  210900            	ld	hl,9
  6227  1a6c  39                	add	hl, sp
  6228  1a6d  f9                	ld	sp, hl
  6229  1a6e  cd8e17            	call	_invalidateScreen
  6230  1a71  c1                	pop	bc
  6231  1a72  c5                	push	bc
  6232  1a73  3e50              	ld	a,0x50
  6233  1a75  f5                	push	af
  6234  1a76  33                	inc	sp
  6235  1a77  c5                	push	bc
  6236  1a78  33                	inc	sp
  6237  1a79  3e32              	ld	a,0x32
  6238  1a7b  f5                	push	af
  6239  1a7c  33                	inc	sp
  6240  1a7d  79                	ld	a, c
  6241  1a7e  f5                	push	af
  6242  1a7f  33                	inc	sp
  6243  1a80  af                	xor	a, a
  6244  1a81  f5                	push	af
  6245  1a82  33                	inc	sp
  6246  1a83  cd3219            	call	_window
  6247  1a86  f1                	pop	af
  6248  1a87  f1                	pop	af
  6249  1a88  33                	inc	sp
  6250  1a89  cdd204            	call	_isKeyPressed
  6251  1a8c  7d                	ld	a, l
  6252  1a8d  c1                	pop	bc
  6253  1a8e  b7                	or	a, a
  6254  1a8f  2003              	jr	NZ,l_main_00103
  6255  1a91  0c                	inc	c
  6256  1a92  18a5              	jr	l_main_00105
  6257                          l_main_00103:
  6258  1a94  3e50              	ld	a,0x50
  6259  1a96  f5                	push	af
  6260  1a97  33                	inc	sp
  6261  1a98  c5                	push	bc
  6262  1a99  33                	inc	sp
  6263  1a9a  3e32              	ld	a,0x32
  6264  1a9c  f5                	push	af
  6265  1a9d  33                	inc	sp
  6266  1a9e  51                	ld	d, c
  6267  1a9f  1e01              	ld	e,0x01
  6268  1aa1  d5                	push	de
  6269  1aa2  cd3219            	call	_window
  6270  1aa5  f1                	pop	af
  6271  1aa6  f1                	pop	af
  6272  1aa7  33                	inc	sp
  6273  1aa8  cd8e17            	call	_invalidateScreen
  6274  1aab  c3e704            	jp	_getChar
  6275                          	SECTION data_compiler
  6276                          __randomSeed:
  6277  0000  00                	DEFB +0x00
  6278                          __rxBufferReadPos:
  6279  0001  00                	DEFB +0x00
  6280                          __rxBufferWritePos:
  6281  0002  00                	DEFB +0x00
  6282                          __kbdBufferReadPos:
  6283  0003  00                	DEFB +0x00
  6284                          __kbdBufferWritePos:
  6285  0004  00                	DEFB +0x00
  6286                          __lastKeyboardIntVal:
  6287  0005  00                	DEFB +0x00
  6288                          __joyStatus:
  6289  0006  00                	DEFB +0x00
  6290  0007  00                	DEFB 0x00
  6291  0008  00                	DEFB 0x00
  6292  0009  00                	DEFB 0x00
  6293                          _vdp_cursor:
  6294  000a  00                	DEFB +0x00
  6295  000b  00                	DEFB +0x00
  6296                          __vdpReg1Val:
  6297  000c  00                	DEFB +0x00
  6298                          __vdpInterruptEnabled:
  6299  000d  00                	DEFB +0x00
  6300                          _vdpStatusRegVal:
  6301  000e  00                	DEFB +0x00
  6302                          _vdpIsReady:
  6303  000f  00                	DEFB +0x00
  6304                          	SECTION IGNORE
  6305                          

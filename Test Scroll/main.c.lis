C:/Users/user/AppData/Local/Temp/zcc000034A848DA2.asm:
     1                          MODULE main_c
     2                          LINE 0, "main.c"
main.c:
                                
     1                          ;--------------------------------------------------------
     2                          ; File Created by SDCC : free open source ANSI-C Compiler
     3                          ; Version 4.2.0 #13081 (MINGW64)
     4                          ;--------------------------------------------------------
     5                          ; Processed by Z88DK
     6                          ;--------------------------------------------------------
     7                          
     8                          	EXTERN __divschar
     9                          	EXTERN __divschar_callee
    10                          	EXTERN __divsint
    11                          	EXTERN __divsint_callee
    12                          	EXTERN __divslong
    13                          	EXTERN __divslong_callee
    14                          	EXTERN __divslonglong
    15                          	EXTERN __divslonglong_callee
    16                          	EXTERN __divsuchar
    17                          	EXTERN __divsuchar_callee
    18                          	EXTERN __divuchar
    19                          	EXTERN __divuchar_callee
    20                          	EXTERN __divuint
    21                          	EXTERN __divuint_callee
    22                          	EXTERN __divulong
    23                          	EXTERN __divulong_callee
    24                          	EXTERN __divulonglong
    25                          	EXTERN __divulonglong_callee
    26                          	EXTERN __divuschar
    27                          	EXTERN __divuschar_callee
    28                          	EXTERN __modschar
    29                          	EXTERN __modschar_callee
    30                          	EXTERN __modsint
    31                          	EXTERN __modsint_callee
    32                          	EXTERN __modslong
    33                          	EXTERN __modslong_callee
    34                          	EXTERN __modslonglong
    35                          	EXTERN __modslonglong_callee
    36                          	EXTERN __modsuchar
    37                          	EXTERN __modsuchar_callee
    38                          	EXTERN __moduchar
    39                          	EXTERN __moduchar_callee
    40                          	EXTERN __moduint
    41                          	EXTERN __moduint_callee
    42                          	EXTERN __modulong
    43                          	EXTERN __modulong_callee
    44                          	EXTERN __modulonglong
    45                          	EXTERN __modulonglong_callee
    46                          	EXTERN __moduschar
    47                          	EXTERN __moduschar_callee
    48                          	EXTERN __mulint
    49                          	EXTERN __mulint_callee
    50                          	EXTERN __mullong
    51                          	EXTERN __mullong_callee
    52                          	EXTERN __mullonglong
    53                          	EXTERN __mullonglong_callee
    54                          	EXTERN __mulschar
    55                          	EXTERN __mulschar_callee
    56                          	EXTERN __mulsuchar
    57                          	EXTERN __mulsuchar_callee
    58                          	EXTERN __muluchar
    59                          	EXTERN __muluchar_callee
    60                          	EXTERN __muluschar
    61                          	EXTERN __muluschar_callee
    62                          	EXTERN __rlslonglong
    63                          	EXTERN __rlslonglong_callee
    64                          	EXTERN __rlulonglong
    65                          	EXTERN __rlulonglong_callee
    66                          	EXTERN __rrslonglong
    67                          	EXTERN __rrslonglong_callee
    68                          	EXTERN __rrulonglong
    69                          	EXTERN __rrulonglong_callee
    70                          	EXTERN ___mulsint2slong
    71                          	EXTERN ___mulsint2slong_callee
    72                          	EXTERN ___muluint2ulong
    73                          	EXTERN ___muluint2ulong_callee
    74                          	EXTERN ___sdcc_call_hl
    75                          	EXTERN ___sdcc_call_iy
    76                          	EXTERN ___sdcc_enter_ix
    77                          	EXTERN banked_call
    78                          	EXTERN _banked_ret
    79                          	EXTERN ___fs2schar
    80                          	EXTERN ___fs2schar_callee
    81                          	EXTERN ___fs2sint
    82                          	EXTERN ___fs2sint_callee
    83                          	EXTERN ___fs2slong
    84                          	EXTERN ___fs2slong_callee
    85                          	EXTERN ___fs2slonglong
    86                          	EXTERN ___fs2slonglong_callee
    87                          	EXTERN ___fs2uchar
    88                          	EXTERN ___fs2uchar_callee
    89                          	EXTERN ___fs2uint
    90                          	EXTERN ___fs2uint_callee
    91                          	EXTERN ___fs2ulong
    92                          	EXTERN ___fs2ulong_callee
    93                          	EXTERN ___fs2ulonglong
    94                          	EXTERN ___fs2ulonglong_callee
    95                          	EXTERN ___fsadd
    96                          	EXTERN ___fsadd_callee
    97                          	EXTERN ___fsdiv
    98                          	EXTERN ___fsdiv_callee
    99                          	EXTERN ___fseq
   100                          	EXTERN ___fseq_callee
   101                          	EXTERN ___fsgt
   102                          	EXTERN ___fsgt_callee
   103                          	EXTERN ___fslt
   104                          	EXTERN ___fslt_callee
   105                          	EXTERN ___fsmul
   106                          	EXTERN ___fsmul_callee
   107                          	EXTERN ___fsneq
   108                          	EXTERN ___fsneq_callee
   109                          	EXTERN ___fssub
   110                          	EXTERN ___fssub_callee
   111                          	EXTERN ___schar2fs
   112                          	EXTERN ___schar2fs_callee
   113                          	EXTERN ___sint2fs
   114                          	EXTERN ___sint2fs_callee
   115                          	EXTERN ___slong2fs
   116                          	EXTERN ___slong2fs_callee
   117                          	EXTERN ___slonglong2fs
   118                          	EXTERN ___slonglong2fs_callee
   119                          	EXTERN ___uchar2fs
   120                          	EXTERN ___uchar2fs_callee
   121                          	EXTERN ___uint2fs
   122                          	EXTERN ___uint2fs_callee
   123                          	EXTERN ___ulong2fs
   124                          	EXTERN ___ulong2fs_callee
   125                          	EXTERN ___ulonglong2fs
   126                          	EXTERN ___ulonglong2fs_callee
   127                          	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
   128                          	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
   129                          	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
   130                          	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
   131                          	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
   132                          	EXTERN ____sdcc_4_ldi_nosave_bc
   133                          	EXTERN ____sdcc_4_ldi_save_bc
   134                          	EXTERN ____sdcc_4_push_hlix
   135                          	EXTERN ____sdcc_4_push_mhl
   136                          	EXTERN ____sdcc_lib_setmem_hl
   137                          	EXTERN ____sdcc_ll_add_de_bc_hl
   138                          	EXTERN ____sdcc_ll_add_de_bc_hlix
   139                          	EXTERN ____sdcc_ll_add_de_hlix_bc
   140                          	EXTERN ____sdcc_ll_add_de_hlix_bcix
   141                          	EXTERN ____sdcc_ll_add_deix_bc_hl
   142                          	EXTERN ____sdcc_ll_add_deix_hlix
   143                          	EXTERN ____sdcc_ll_add_hlix_bc_deix
   144                          	EXTERN ____sdcc_ll_add_hlix_deix_bc
   145                          	EXTERN ____sdcc_ll_add_hlix_deix_bcix
   146                          	EXTERN ____sdcc_ll_asr_hlix_a
   147                          	EXTERN ____sdcc_ll_asr_mbc_a
   148                          	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
   149                          	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
   150                          	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
   151                          	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
   152                          	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
   153                          	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
   154                          	EXTERN ____sdcc_ll_copy_src_hl_dst_de
   155                          	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
   156                          	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
   157                          	EXTERN ____sdcc_ll_lsl_hlix_a
   158                          	EXTERN ____sdcc_ll_lsl_mbc_a
   159                          	EXTERN ____sdcc_ll_lsr_hlix_a
   160                          	EXTERN ____sdcc_ll_lsr_mbc_a
   161                          	EXTERN ____sdcc_ll_push_hlix
   162                          	EXTERN ____sdcc_ll_push_mhl
   163                          	EXTERN ____sdcc_ll_sub_de_bc_hl
   164                          	EXTERN ____sdcc_ll_sub_de_bc_hlix
   165                          	EXTERN ____sdcc_ll_sub_de_hlix_bc
   166                          	EXTERN ____sdcc_ll_sub_de_hlix_bcix
   167                          	EXTERN ____sdcc_ll_sub_deix_bc_hl
   168                          	EXTERN ____sdcc_ll_sub_deix_hlix
   169                          	EXTERN ____sdcc_ll_sub_hlix_bc_deix
   170                          	EXTERN ____sdcc_ll_sub_hlix_deix_bc
   171                          	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
   172                          	EXTERN ____sdcc_load_debc_deix
   173                          	EXTERN ____sdcc_load_dehl_deix
   174                          	EXTERN ____sdcc_load_debc_mhl
   175                          	EXTERN ____sdcc_load_hlde_mhl
   176                          	EXTERN ____sdcc_store_dehl_bcix
   177                          	EXTERN ____sdcc_store_debc_hlix
   178                          	EXTERN ____sdcc_store_debc_mhl
   179                          	EXTERN ____sdcc_cpu_pop_ei
   180                          	EXTERN ____sdcc_cpu_pop_ei_jp
   181                          	EXTERN ____sdcc_cpu_push_di
   182                          	EXTERN ____sdcc_outi
   183                          	EXTERN ____sdcc_outi_128
   184                          	EXTERN ____sdcc_outi_256
   185                          	EXTERN ____sdcc_ldi
   186                          	EXTERN ____sdcc_ldi_128
   187                          	EXTERN ____sdcc_ldi_256
   188                          	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
   189                          	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
   190                          	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
   191                          	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
   192                          	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
   193                          	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
   194                          	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
   195                          	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
   196                          	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
   197                          	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
   198                          	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
   199                          	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
   200                          	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
   201                          	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
   202                          	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
   203                          	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
   204                          	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
   205                          
   206                          ;--------------------------------------------------------
   207                          ; Public variables in this module
   208                          ;--------------------------------------------------------
   209                          	GLOBAL _main
   210                          	GLOBAL _vdp_scrollTextDown
   211                          	GLOBAL _waitVdpISR
   212                          	GLOBAL _isrKeyboard
   213                          	GLOBAL _vdpIsReady
   214                          	GLOBAL _vdpStatusRegVal
   215                          	GLOBAL __vdpInterruptEnabled
   216                          	GLOBAL __vdpColorTableSize
   217                          	GLOBAL __vdpReg1Val
   218                          	GLOBAL _vdp_cursor
   219                          	GLOBAL _RETRONET_BRIDGE_EXIT_CODE
   220                          	GLOBAL __ORIGINAL_INT_MASK
   221                          	GLOBAL __joyStatus
   222                          	GLOBAL __lastKeyboardIntVal
   223                          	GLOBAL __kbdBufferWritePos
   224                          	GLOBAL __kbdBufferReadPos
   225                          	GLOBAL __randomSeed
   226                          	GLOBAL __autoScroll
   227                          	GLOBAL __vdpMode
   228                          	GLOBAL __vdpCursorMaxXFull
   229                          	GLOBAL __vdpCursorMaxX
   230                          	GLOBAL __vdpPatternGeneratorTableAddr
   231                          	GLOBAL __vdpColorTableAddr
   232                          	GLOBAL __vdpPatternNameTableAddr
   233                          	GLOBAL __vdpSpriteSizeSelected
   234                          	GLOBAL __vdpSpriteGeneratorTableAddr
   235                          	GLOBAL __vdpSpriteAttributeTableAddr
   236                          	GLOBAL __vdp_ISR
   237                          	GLOBAL __vdp_textBuffer
   238                          	GLOBAL __kbdBuffer
   239                          	GLOBAL _ASCII
   240                          	GLOBAL __NOTES_FINE
   241                          	GLOBAL __NOTES_COURSE
   242                          	GLOBAL __vdpCursorMaxY
   243                          	GLOBAL _initNABULib
   244                          	GLOBAL _initNABULIBAudio
   245                          	GLOBAL _nop
   246                          	GLOBAL _NABU_DisableInterrupts
   247                          	GLOBAL _NABU_EnableInterrupts
   248                          	GLOBAL _RightShift
   249                          	GLOBAL _ayWrite
   250                          	GLOBAL _ayRead
   251                          	GLOBAL _playNoteDelay
   252                          	GLOBAL _isKeyPressed
   253                          	GLOBAL _getChar
   254                          	GLOBAL _getJoyStatus
   255                          	GLOBAL _readLine
   256                          	GLOBAL _vdp_setRegister
   257                          	GLOBAL _vdp_setWriteAddress
   258                          	GLOBAL _vdp_setReadAddress
   259                          	GLOBAL _vdp_enableVDPReadyInt
   260                          	GLOBAL _vdp_waitVDPReadyInt
   261                          	GLOBAL _vdp_disableVDPReadyInt
   262                          	GLOBAL _vdp_addISR
   263                          	GLOBAL _vdp_removeISR
   264                          	GLOBAL _vdp_init
   265                          	GLOBAL _vdp_clearVRAM
   266                          	GLOBAL _vdp_initMSXMode
   267                          	GLOBAL _vdp_initTextMode
   268                          	GLOBAL _vdp_initG2Mode
   269                          	GLOBAL _vdp_initMultiColorMode
   270                          	GLOBAL _vdp_clearScreen
   271                          	GLOBAL _vdp_fillScreen
   272                          	GLOBAL _vdp_clearRows
   273                          	GLOBAL _vdp_loadASCIIFont
   274                          	GLOBAL _vdp_putPattern
   275                          	GLOBAL _vdp_loadPatternTable
   276                          	GLOBAL _vdp_loadColorTable
   277                          	GLOBAL _vdp_colorizePattern
   278                          	GLOBAL _vdp_plotHires
   279                          	GLOBAL _vdp_plotColor
   280                          	GLOBAL _vdp_disableSprite
   281                          	GLOBAL _vdp_loadSpritePatternNameTable
   282                          	GLOBAL _vdp_spriteInit
   283                          	GLOBAL _vdp_setSpriteColor
   284                          	GLOBAL _vdp_setSpritePosition
   285                          	GLOBAL _vdp_setSpritePositionAndColor
   286                          	GLOBAL _vdp_getSpritePosition
   287                          	GLOBAL _vdp_print
   288                          	GLOBAL _vdp_printColorized
   289                          	GLOBAL _vdp_printPart
   290                          	GLOBAL _vdp_newLine
   291                          	GLOBAL _vdp_setBackDropColor
   292                          	GLOBAL _vdp_setCursor2
   293                          	GLOBAL _vdp_setCursor
   294                          	GLOBAL _vdp_setTextColor
   295                          	GLOBAL _vdp_write
   296                          	GLOBAL _vdp_writeCharAtLocation
   297                          	GLOBAL _vdp_getCharAtLocationVRAM
   298                          	GLOBAL _vdp_getCharAtLocationBuf
   299                          	GLOBAL _vdp_setCharAtLocationBuf
   300                          	GLOBAL _vdp_scrollTextUp
   301                          	GLOBAL _vdp_writeUInt32
   302                          	GLOBAL _vdp_writeInt32
   303                          	GLOBAL _vdp_writeUInt16
   304                          	GLOBAL _vdp_writeInt16
   305                          	GLOBAL _vdp_writeUInt8
   306                          	GLOBAL _vdp_writeInt8
   307                          	GLOBAL _vdp_writeUInt8ToBinary
   308                          	GLOBAL _vdp_writeUInt16ToBinary
   309                          ;--------------------------------------------------------
   310                          ; Externals used
   311                          ;--------------------------------------------------------
   312                          	GLOBAL _z80_otdr_callee
   313                          	GLOBAL _z80_otdr
   314                          	GLOBAL _z80_otir_callee
   315                          	GLOBAL _z80_otir
   316                          	GLOBAL _z80_outp_callee
   317                          	GLOBAL _z80_outp
   318                          	GLOBAL _z80_indr_callee
   319                          	GLOBAL _z80_indr
   320                          	GLOBAL _z80_inir_callee
   321                          	GLOBAL _z80_inir
   322                          	GLOBAL _z80_inp
   323                          	GLOBAL _z80_set_int_state
   324                          	GLOBAL _z80_get_int_state
   325                          	GLOBAL _z80_delay_tstate
   326                          	GLOBAL _z80_delay_ms
   327                          	GLOBAL _AsmCall
   328                          	GLOBAL _unbcd
   329                          	GLOBAL _wcmatch
   330                          	GLOBAL _extract_bits_callee
   331                          	GLOBAL _extract_bits
   332                          	GLOBAL _msleep
   333                          	GLOBAL _sleep
   334                          	GLOBAL _t_delay
   335                          	GLOBAL _wpeek
   336                          	GLOBAL _bpeek
   337                          	GLOBAL _wpoke_callee
   338                          	GLOBAL _wpoke
   339                          	GLOBAL _bpoke_callee
   340                          	GLOBAL _bpoke
   341                          	GLOBAL _swapendian
   342                          	GLOBAL _outp_callee
   343                          	GLOBAL _outp
   344                          	GLOBAL _inp
   345                          	GLOBAL _isqrt
   346                          	GLOBAL _labs
   347                          	GLOBAL _abs
   348                          	GLOBAL __ldivu__callee
   349                          	GLOBAL __ldivu_
   350                          	GLOBAL __ldiv__callee
   351                          	GLOBAL __ldiv_
   352                          	GLOBAL __divu__callee
   353                          	GLOBAL __divu_
   354                          	GLOBAL __div__callee
   355                          	GLOBAL __div_
   356                          	GLOBAL _qsort_sdcc_callee
   357                          	GLOBAL _qsort_sdcc
   358                          	GLOBAL _qsort_sccz80_callee
   359                          	GLOBAL _qsort_sccz80
   360                          	GLOBAL _l_qsort_callee
   361                          	GLOBAL _l_qsort
   362                          	GLOBAL _l_bsearch_callee
   363                          	GLOBAL _l_bsearch
   364                          	GLOBAL _getopt
   365                          	GLOBAL _unsetenv
   366                          	GLOBAL _setenv
   367                          	GLOBAL _getenv_r
   368                          	GLOBAL _getenv
   369                          	GLOBAL _atexit
   370                          	GLOBAL _exit
   371                          	GLOBAL _HeapInfo_callee
   372                          	GLOBAL _HeapInfo
   373                          	GLOBAL _HeapRealloc_callee
   374                          	GLOBAL _HeapRealloc
   375                          	GLOBAL _HeapAlloc_callee
   376                          	GLOBAL _HeapAlloc
   377                          	GLOBAL _HeapFree_callee
   378                          	GLOBAL _HeapFree
   379                          	GLOBAL _HeapCalloc_callee
   380                          	GLOBAL _HeapCalloc
   381                          	GLOBAL _HeapSbrk_callee
   382                          	GLOBAL _HeapSbrk
   383                          	GLOBAL _HeapCreate
   384                          	GLOBAL _mallinfo_callee
   385                          	GLOBAL _mallinfo
   386                          	GLOBAL _realloc_callee
   387                          	GLOBAL _realloc
   388                          	GLOBAL _malloc
   389                          	GLOBAL _free
   390                          	GLOBAL _calloc_callee
   391                          	GLOBAL _calloc
   392                          	GLOBAL _sbrk_callee
   393                          	GLOBAL _sbrk
   394                          	GLOBAL _mallinit
   395                          	GLOBAL _srand
   396                          	GLOBAL _rand
   397                          	GLOBAL _ulltoa_callee
   398                          	GLOBAL _ulltoa
   399                          	GLOBAL _strtoull_callee
   400                          	GLOBAL _strtoull
   401                          	GLOBAL _strtoll_callee
   402                          	GLOBAL _strtoll
   403                          	GLOBAL _lltoa_callee
   404                          	GLOBAL _lltoa
   405                          	GLOBAL _atoll_callee
   406                          	GLOBAL _atoll
   407                          	GLOBAL _utoa_callee
   408                          	GLOBAL _utoa
   409                          	GLOBAL _ultoa_callee
   410                          	GLOBAL _ultoa
   411                          	GLOBAL _strtoul_callee
   412                          	GLOBAL _strtoul
   413                          	GLOBAL _strtol_callee
   414                          	GLOBAL _strtol
   415                          	GLOBAL _ltoa_callee
   416                          	GLOBAL _ltoa
   417                          	GLOBAL _itoa_callee
   418                          	GLOBAL _itoa
   419                          	GLOBAL _atol
   420                          	GLOBAL _atoi
   421                          	GLOBAL _optreset
   422                          	GLOBAL _optopt
   423                          	GLOBAL _optind
   424                          	GLOBAL _opterr
   425                          	GLOBAL _optarg
   426                          ;--------------------------------------------------------
   427                          ; special function registers
   428                          ;--------------------------------------------------------
   429                          defc _IO_VDPDATA	=	0x00a0
   430                          defc _IO_VDPLATCH	=	0x00a1
   431                          defc _IO_AYDATA	=	0x0040
   432                          defc _IO_AYLATCH	=	0x0041
   433                          defc _IO_HCCA	=	0x0080
   434                          defc _IO_KEYBOARD	=	0x0090
   435                          defc _IO_KEYBOARD_STATUS	=	0x0091
   436                          defc _IO_CONTROL	=	0x0000
   437                          ;--------------------------------------------------------
   438                          ; ram data
   439                          ;--------------------------------------------------------
   440                          	SECTION bss_compiler
   441                          __kbdBuffer:
   442  0000  0000000000000000  	DEFS 256
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   443                          __vdp_textBuffer:
   444  0100  0000000000000000  	DEFS 960
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
              0000000000000000  
   445                          __vdp_ISR:
   446  04c0  0000              	DEFS 2
   447                          __vdpSpriteAttributeTableAddr:
   448  04c2  0000              	DEFS 2
   449                          __vdpSpriteGeneratorTableAddr:
   450  04c4  0000              	DEFS 2
   451                          __vdpSpriteSizeSelected:
   452  04c6  00                	DEFS 1
   453                          __vdpPatternNameTableAddr:
   454  04c7  0000              	DEFS 2
   455                          __vdpColorTableAddr:
   456  04c9  0000              	DEFS 2
   457                          __vdpPatternGeneratorTableAddr:
   458  04cb  0000              	DEFS 2
   459                          __vdpCursorMaxX:
   460  04cd  00                	DEFS 1
   461                          __vdpCursorMaxXFull:
   462  04ce  00                	DEFS 1
   463                          __vdpMode:
   464  04cf  00                	DEFS 1
   465                          __autoScroll:
   466  04d0  00                	DEFS 1
   467                          ;--------------------------------------------------------
   468                          ; ram data
   469                          ;--------------------------------------------------------
   470                          
   471                          IF 0
   472                          
   473                          ; .area _INITIALIZED removed by z88dk
   474                          
   475                          __randomSeed:
   476                          	DEFS 1
   477                          __kbdBufferReadPos:
   478                          	DEFS 1
   479                          __kbdBufferWritePos:
   480                          	DEFS 1
   481                          __lastKeyboardIntVal:
   482                          	DEFS 1
   483                          __joyStatus:
   484                          	DEFS 4
   485                          __ORIGINAL_INT_MASK:
   486                          	DEFS 1
   487                          _RETRONET_BRIDGE_EXIT_CODE:
   488                          	DEFS 21
   489                          _vdp_cursor:
   490                          	DEFS 2
   491                          __vdpReg1Val:
   492                          	DEFS 1
   493                          __vdpColorTableSize:
   494                          	DEFS 2
   495                          __vdpInterruptEnabled:
   496                          	DEFS 1
   497                          _vdpStatusRegVal:
   498                          	DEFS 1
   499                          _vdpIsReady:
   500                          	DEFS 1
   501                          
   502                          ENDIF
   503                          
   504                          ;--------------------------------------------------------
   505                          ; absolute external ram data
   506                          ;--------------------------------------------------------
   507                          	SECTION IGNORE
   508                          ;--------------------------------------------------------
   509                          ; global & static initialisations
   510                          ;--------------------------------------------------------
   511                          	SECTION code_crt_init
   512                          ;--------------------------------------------------------
   513                          ; Home
   514                          ;--------------------------------------------------------
   515                          	SECTION IGNORE
   516                          ;--------------------------------------------------------
   517                          ; code
   518                          ;--------------------------------------------------------
   519                          	SECTION code_compiler
   520                          ;	---------------------------------
   521                          ; Function initNABULib
   522                          ; ---------------------------------
   523                          _initNABULib:
   524  0000  3e00              	ld	a,0x03
   525  0002  d300              	out	(_IO_CONTROL), a
   526  0004  cd0000            	call	_NABU_DisableInterrupts
   527  0007  f5                	push	af
   528  0008  ed5f              	ld	a, r
   529  000a  320000            	ld	(__randomSeed), a
   530  000d  f1                	pop	af
   531  000e  3a0000            	ld	a, (__randomSeed+0)
   532  0011  6f                	ld	l, a
   533  0012  2600              	ld	h,0x00
   534  0014  cd0000            	call	_srand
   535  0017  ed5e              	IM	2
   536  0019  3e00              	ld	a, 0xff
   537  001b  ed47              	ld	i, a
   538  001d  210000            	ld	hl, _isrKeyboard
   539  0020  220000            	ld	(0xff00 + 4), hl
   540  0023  210000            	ld	hl,__ORIGINAL_INT_MASK + 0
   541  0026  3600              	ld	(hl),0x20
   542  0028  110000            	ld	de,0x200e
   543  002b  d5                	push	de
   544  002c  cd0000            	call	_ayWrite
   545  002f  f1                	pop	af
   546  0030  cd0000            	call	_NABU_EnableInterrupts
   547  0033  c30000            	jp	_initNABULIBAudio
   548                          	SECTION rodata_compiler
   549                          __vdpCursorMaxY:
   550  0000  00                	DEFB +0x17
   551                          __NOTES_COURSE:
   552  0001  00                	DEFB +0x0d
   553  0002  00                	DEFB +0x0c
   554  0003  00                	DEFB +0x0b
   555  0004  00                	DEFB +0x0b
   556  0005  00                	DEFB +0x0a
   557  0006  00                	DEFB +0x0a
   558  0007  00                	DEFB +0x09
   559  0008  00                	DEFB +0x08
   560  0009  00                	DEFB +0x08
   561  000a  00                	DEFB +0x07
   562  000b  00                	DEFB +0x07
   563  000c  00                	DEFB +0x07
   564  000d  00                	DEFB +0x06
   565  000e  00                	DEFB +0x06
   566  000f  00                	DEFB +0x05
   567  0010  00                	DEFB +0x05
   568  0011  00                	DEFB +0x05
   569  0012  00                	DEFB +0x05
   570  0013  00                	DEFB +0x04
   571  0014  00                	DEFB +0x04
   572  0015  00                	DEFB +0x04
   573  0016  00                	DEFB +0x03
   574  0017  00                	DEFB +0x03
   575  0018  00                	DEFB +0x03
   576  0019  00                	DEFB +0x03
   577  001a  00                	DEFB +0x03
   578  001b  00                	DEFB +0x02
   579  001c  00                	DEFB +0x02
   580  001d  00                	DEFB +0x02
   581  001e  00                	DEFB +0x02
   582  001f  00                	DEFB +0x02
   583  0020  00                	DEFB +0x02
   584  0021  00                	DEFB +0x02
   585  0022  00                	DEFB +0x01
   586  0023  00                	DEFB +0x01
   587  0024  00                	DEFB +0x01
   588  0025  00                	DEFB +0x01
   589  0026  01                	DEFB +0x01
   590  0027  01                	DEFB +0x01
   591  0028  01                	DEFB +0x01
   592  0029  01                	DEFB +0x01
   593  002a  01                	DEFB +0x01
   594  002b  01                	DEFB +0x01
   595  002c  01                	DEFB +0x01
   596  002d  01                	DEFB +0x01
   597  002e  00                	DEFB +0x00
   598  002f  00                	DEFB +0x00
   599  0030  00                	DEFB +0x00
   600  0031  00                	DEFB +0x00
   601  0032  00                	DEFB +0x00
   602  0033  00                	DEFB +0x00
   603  0034  00                	DEFB +0x00
   604  0035  00                	DEFB +0x00
   605  0036  00                	DEFB +0x00
   606  0037  00                	DEFB +0x00
   607  0038  00                	DEFB +0x00
   608  0039  00                	DEFB +0x00
   609  003a  00                	DEFB +0x00
   610  003b  00                	DEFB +0x00
   611  003c  00                	DEFB +0x00
   612  003d  00                	DEFB +0x00
   613  003e  00                	DEFB +0x00
   614  003f  00                	DEFB +0x00
   615  0040  00                	DEFB +0x00
   616  0041  00                	DEFB +0x00
   617  0042  00                	DEFB +0x00
   618  0043  00                	DEFB +0x00
   619  0044  00                	DEFB +0x00
   620  0045  00                	DEFB +0x00
   621  0046  00                	DEFB +0x00
   622  0047  00                	DEFB +0x00
   623  0048  00                	DEFB +0x00
   624                          __NOTES_FINE:
   625  0049  00                	DEFB +0x5c
   626  004a  00                	DEFB +0x9c
   627  004b  00                	DEFB +0xe7
   628  004c  00                	DEFB +0x3c
   629  004d  00                	DEFB +0x9b
   630  004e  00                	DEFB +0x02
   631  004f  00                	DEFB +0x72
   632  0050  00                	DEFB +0xeb
   633  0051  00                	DEFB +0x6a
   634  0052  00                	DEFB +0xf2
   635  0053  00                	DEFB +0x7f
   636  0054  00                	DEFB +0x14
   637  0055  00                	DEFB +0xae
   638  0056  00                	DEFB +0x4e
   639  0057  00                	DEFB +0xf3
   640  0058  00                	DEFB +0x9e
   641  0059  00                	DEFB +0x4d
   642  005a  00                	DEFB +0x01
   643  005b  00                	DEFB +0xb9
   644  005c  00                	DEFB +0x75
   645  005d  00                	DEFB +0x35
   646  005e  00                	DEFB +0xf9
   647  005f  00                	DEFB +0xbf
   648  0060  00                	DEFB +0x8a
   649  0061  00                	DEFB +0x57
   650  0062  00                	DEFB +0x27
   651  0063  00                	DEFB +0xf9
   652  0064  00                	DEFB +0xcf
   653  0065  00                	DEFB +0xa6
   654  0066  00                	DEFB +0x80
   655  0067  00                	DEFB +0x5c
   656  0068  00                	DEFB +0x3a
   657  0069  00                	DEFB +0x1a
   658  006a  00                	DEFB +0xfc
   659  006b  00                	DEFB +0xdf
   660  006c  00                	DEFB +0xc5
   661  006d  00                	DEFB +0xab
   662  006e  00                	DEFB +0x93
   663  006f  00                	DEFB +0x7c
   664  0070  00                	DEFB +0x67
   665  0071  00                	DEFB +0x53
   666  0072  00                	DEFB +0x40
   667  0073  00                	DEFB +0x2e
   668  0074  00                	DEFB +0x1d
   669  0075  00                	DEFB +0x0d
   670  0076  00                	DEFB +0xfe
   671  0077  00                	DEFB +0xef
   672  0078  00                	DEFB +0xe2
   673  0079  00                	DEFB +0xd5
   674  007a  00                	DEFB +0xc9
   675  007b  00                	DEFB +0xbe
   676  007c  00                	DEFB +0xb3
   677  007d  00                	DEFB +0xa9
   678  007e  00                	DEFB +0xa0
   679  007f  00                	DEFB +0x97
   680  0080  00                	DEFB +0x8e
   681  0081  00                	DEFB +0x86
   682  0082  00                	DEFB +0x7f
   683  0083  00                	DEFB +0x77
   684  0084  00                	DEFB +0x71
   685  0085  00                	DEFB +0x6a
   686  0086  00                	DEFB +0x64
   687  0087  00                	DEFB +0x5f
   688  0088  00                	DEFB +0x59
   689  0089  00                	DEFB +0x54
   690  008a  00                	DEFB +0x50
   691  008b  00                	DEFB +0x4b
   692  008c  00                	DEFB +0x47
   693  008d  00                	DEFB +0x43
   694  008e  00                	DEFB +0x3f
   695  008f  00                	DEFB +0x3b
   696  0090  00                	DEFB +0x38
   697                          	SECTION code_compiler
   698                          ;	---------------------------------
   699                          ; Function initNABULIBAudio
   700                          ; ---------------------------------
   701                          _initNABULIBAudio:
   702  0036  00                	xor	a, a
   703  0037  00                	ld	d,a
   704  0038  0006              	ld	e,0x06
   705  003a  00                	push	de
   706  003b  007101            	call	_ayWrite
   707  003e  00                	pop	af
   708  003f  000810            	ld	de,0x1008
   709  0042  00                	push	de
   710  0043  007101            	call	_ayWrite
   711  0046  00                	pop	af
   712  0047  000910            	ld	de,0x1009
   713  004a  9c                	push	de
   714  004b  e77101            	call	_ayWrite
   715  004e  02                	pop	af
   716  004f  720a10            	ld	de,0x100a
   717  0052  f2                	push	de
   718  0053  7f7101            	call	_ayWrite
   719  0056  4e                	pop	af
   720  0057  f30778            	ld	de,0x7807
   721  005a  01                	push	de
   722  005b  b97101            	call	_ayWrite
   723  005e  f9                	pop	af
   724  005f  bf                	ret
   725                          	SECTION code_compiler
   726                          ;	---------------------------------
   727                          ; Function nop
   728                          ; ---------------------------------
   729                          _nop:
   730  0060  8a                	NOP
   731  0061  57                	ret
   732                          	SECTION code_compiler
   733                          ;	---------------------------------
   734                          ; Function NABU_DisableInterrupts
   735                          ; ---------------------------------
   736                          _NABU_DisableInterrupts:
   737  0062  27                	di
   738  0063  f9                	ret
   739                          	SECTION code_compiler
   740                          ;	---------------------------------
   741                          ; Function NABU_EnableInterrupts
   742                          ; ---------------------------------
   743                          _NABU_EnableInterrupts:
   744  0064  cf                	ei
   745  0065  a6                	ret
   746                          	SECTION code_compiler
   747                          ;	---------------------------------
   748                          ; Function RightShift
   749                          ; ---------------------------------
   750                          _RightShift:
   751  0066  805c              	push	ix
   752  0068  3a1a0000          	ld	ix,0
   753  006c  c5ab              	add	ix,sp
   754  006e  93                	push	af
   755  006f  7c                	push	af
   756  0070  675306            	ld	c,(ix+6)
   757  0073  2e1d07            	ld	b,(ix+7)
   758  0076  fe                	dec	bc
   759  0077  efe204            	ld	l,(ix+4)
   760  007a  c9be05            	ld	h,(ix+5)
   761  007d  a9                	add	hl, bc
   762  007e  a0                	ex	de, hl
   763  007f  978e08            	ld	c,(ix+8)
   764  0082  7f00              	ld	b,0x00
   765  0084  71                	ld	a, e
   766  0085  6a                	sub	a, c
   767  0086  645ffe            	ld	(ix-2),a
   768  0089  54                	ld	a, d
   769  008a  50                	sbc	a, b
   770  008b  4b47ff            	ld	(ix-1),a
   771  008e  3f3b04            	ld	a,(ix+4)
   772  0091  c600              	add	a,0xff
   773  0093  dd7700            	ld	(ix-4),a
   774  0096  dd7e00            	ld	a,(ix+5)
   775  0099  ce00              	adc	a,0xff
   776  009b  dd7700            	ld	(ix-3),a
   777                          l_RightShift_00101:
   778  009e  dd7e00            	ld	a,(ix-2)
   779  00a1  dd9600            	sub	a,(ix-4)
   780  00a4  2000              	jr	NZ,l_RightShift_00131
   781  00a6  dd7e00            	ld	a,(ix-1)
   782  00a9  dd9600            	sub	a,(ix-3)
   783  00ac  2800              	jr	Z,l_RightShift_00103
   784                          l_RightShift_00131:
   785  00ae  dd6e00            	ld	l,(ix-2)
   786  00b1  dd6600            	ld	h,(ix-1)
   787  00b4  7e                	ld	a, (hl)
   788  00b5  12                	ld	(de), a
   789  00b6  1b                	dec	de
   790  00b7  dd6e00            	ld	l,(ix-2)
   791  00ba  dd6600            	ld	h,(ix-1)
   792  00bd  2b                	dec	hl
   793  00be  dd7500            	ld	(ix-2),l
   794  00c1  dd7400            	ld	(ix-1),h
   795  00c4  1800              	jr	l_RightShift_00101
   796                          l_RightShift_00103:
   797  00c6  0b                	dec	bc
   798  00c7  dd6e00            	ld	l,(ix+4)
   799  00ca  dd6600            	ld	h,(ix+5)
   800  00cd  09                	add	hl, bc
   801                          l_RightShift_00104:
   802  00ce  7d                	ld	a, l
   803  00cf  dd9600            	sub	a,(ix-4)
   804  00d2  2000              	jr	NZ,l_RightShift_00132
   805  00d4  7c                	ld	a, h
   806  00d5  dd9600            	sub	a,(ix-3)
   807  00d8  2800              	jr	Z,l_RightShift_00107
   808                          l_RightShift_00132:
   809  00da  3600              	ld	(hl),0x20
   810  00dc  2b                	dec	hl
   811  00dd  1800              	jr	l_RightShift_00104
   812                          l_RightShift_00107:
   813  00df  ddf9              	ld	sp, ix
   814  00e1  dde1              	pop	ix
   815  00e3  c9                	ret
   816                          	SECTION code_compiler
   817                          ;	---------------------------------
   818                          ; Function isrKeyboard
   819                          ; ---------------------------------
   820                          _isrKeyboard:
   821  00e4  f5                	push	af
   822  00e5  c5                	push	bc
   823  00e6  d5                	push	de
   824  00e7  e5                	push	hl
   825  00e8  fde5              	push	iy
   826  00ea  db00              	in	a, (_IO_KEYBOARD)
   827  00ec  4f                	ld	c,a
   828  00ed  d600              	sub	a,0x80
   829  00ef  3800              	jr	C,l_isrKeyboard_00111
   830  00f1  3e00              	ld	a,0x83
   831  00f3  91                	sub	a, c
   832  00f4  3800              	jr	C,l_isrKeyboard_00111
   833  00f6  fd210000          	ld	iy,__lastKeyboardIntVal
   834  00fa  fd7100            	ld	(iy+0),c
   835  00fd  1800              	jr	l_isrKeyboard_00112
   836                          l_isrKeyboard_00111:
   837  00ff  79                	ld	a, c
   838  0100  d600              	sub	a,0x90
   839  0102  3800              	jr	C,l_isrKeyboard_00107
   840  0104  3e00              	ld	a,0x95
   841  0106  91                	sub	a, c
   842  0107  3000              	jr	NC,l_isrKeyboard_00112
   843                          l_isrKeyboard_00107:
   844  0109  3a0000            	ld	a, (__lastKeyboardIntVal+0)
   845  010c  fe00              	cp	a,0x80
   846  010e  2800              	jr	Z,l_isrKeyboard_00101
   847  0110  fe00              	cp	a,0x81
   848  0112  2800              	jr	Z,l_isrKeyboard_00102
   849  0114  fe00              	cp	a,0x82
   850  0116  2800              	jr	Z,l_isrKeyboard_00103
   851  0118  d600              	sub	a,0x83
   852  011a  2800              	jr	Z,l_isrKeyboard_00104
   853  011c  1800              	jr	l_isrKeyboard_00105
   854                          l_isrKeyboard_00101:
   855  011e  fd210000          	ld	iy,__lastKeyboardIntVal
   856  0122  fd360000          	ld	(iy+0),0x00
   857  0126  210000            	ld	hl,__joyStatus
   858  0129  71                	ld	(hl), c
   859  012a  1800              	jr	l_isrKeyboard_00112
   860                          l_isrKeyboard_00102:
   861  012c  fd210000          	ld	iy,__lastKeyboardIntVal
   862  0130  fd360000          	ld	(iy+0),0x00
   863  0134  210000            	ld	hl, +(__joyStatus + 1)
   864  0137  71                	ld	(hl), c
   865  0138  1800              	jr	l_isrKeyboard_00112
   866                          l_isrKeyboard_00103:
   867  013a  fd210000          	ld	iy,__lastKeyboardIntVal
   868  013e  fd360000          	ld	(iy+0),0x00
   869  0142  210000            	ld	hl, +(__joyStatus + 2)
   870  0145  71                	ld	(hl), c
   871  0146  1800              	jr	l_isrKeyboard_00112
   872                          l_isrKeyboard_00104:
   873  0148  fd210000          	ld	iy,__lastKeyboardIntVal
   874  014c  fd360000          	ld	(iy+0),0x00
   875  0150  210000            	ld	hl, +(__joyStatus + 3)
   876  0153  71                	ld	(hl), c
   877  0154  1800              	jr	l_isrKeyboard_00112
   878                          l_isrKeyboard_00105:
   879  0156  210000            	ld	hl,__kbdBuffer+0
   880  0159  ed5b0000          	ld	de, (__kbdBufferWritePos)
   881  015d  1600              	ld	d,0x00
   882  015f  19                	add	hl, de
   883  0160  71                	ld	(hl), c
   884  0161  3a0000            	ld	a, (__kbdBufferWritePos+0)
   885  0164  3c                	inc	a
   886  0165  320000            	ld	(__kbdBufferWritePos+0), a
   887                          l_isrKeyboard_00112:
   888  0168  fde1              	pop	iy
   889  016a  e1                	pop	hl
   890  016b  d1                	pop	de
   891  016c  c1                	pop	bc
   892  016d  f1                	pop	af
   893  016e  fb                	ei
   894  016f  ed4d              	reti
   895                          ;	---------------------------------
   896                          ; Function ayWrite
   897                          ; ---------------------------------
   898                          _ayWrite:
   899  0171  fd210000          	ld	iy,2
   900  0175  fd39              	add	iy, sp
   901  0177  fd7e00            	ld	a,(iy+0)
   902  017a  d300              	out	(_IO_AYLATCH), a
   903  017c  fd7e00            	ld	a,(iy+0+1)
   904  017f  d300              	out	(_IO_AYDATA), a
   905  0181  c9                	ret
   906                          	SECTION code_compiler
   907                          ;	---------------------------------
   908                          ; Function ayRead
   909                          ; ---------------------------------
   910                          _ayRead:
   911  0182  210000            	ld	hl,2+0
   912  0185  39                	add	hl, sp
   913  0186  7e                	ld	a, (hl)
   914  0187  d300              	out	(_IO_AYLATCH), a
   915  0189  db00              	in	a, (_IO_AYDATA)
   916  018b  6f                	ld	l, a
   917  018c  c9                	ret
   918                          	SECTION code_compiler
   919                          ;	---------------------------------
   920                          ; Function playNoteDelay
   921                          ; ---------------------------------
   922                          _playNoteDelay:
   923  018d  dde5              	push	ix
   924  018f  dd210000          	ld	ix,0
   925  0193  dd39              	add	ix,sp
   926  0195  dd4e00            	ld	c,(ix+7)
   927  0198  3e00              	ld	a,0x0b
   928  019a  d300              	out	(_IO_AYLATCH), a
   929  019c  79                	ld	a, c
   930  019d  d300              	out	(_IO_AYDATA), a
   931  019f  dd4e00            	ld	c,(ix+6)
   932  01a2  3e00              	ld	a,0x0c
   933  01a4  d300              	out	(_IO_AYLATCH), a
   934  01a6  79                	ld	a, c
   935  01a7  d300              	out	(_IO_AYDATA), a
   936  01a9  dd7e00            	ld	a,(ix+4)
   937  01ac  b7                	or	a, a
   938  01ad  2800              	jr	Z,l_playNoteDelay_00101
   939  01af  dd7e00            	ld	a,(ix+4)
   940  01b2  3d                	dec	a
   941  01b3  2800              	jr	Z,l_playNoteDelay_00102
   942  01b5  dd7e00            	ld	a,(ix+4)
   943  01b8  d600              	sub	a,0x02
   944  01ba  ca0000            	jp	Z,l_playNoteDelay_00103
   945  01bd  c30000            	jp	l_playNoteDelay_00125
   946                          l_playNoteDelay_00101:
   947  01c0  3e00              	ld	a,0x08
   948  01c2  d300              	out	(_IO_AYLATCH), a
   949  01c4  3e00              	ld	a,0x10
   950  01c6  d300              	out	(_IO_AYDATA), a
   951  01c8  3e00              	ld	a,0x09
   952  01ca  d300              	out	(_IO_AYLATCH), a
   953  01cc  3e00              	ld	a,0x00
   954  01ce  d300              	out	(_IO_AYDATA), a
   955  01d0  3e00              	ld	a,0x0a
   956  01d2  d300              	out	(_IO_AYLATCH), a
   957  01d4  3e00              	ld	a,0x00
   958  01d6  d300              	out	(_IO_AYDATA), a
   959  01d8  010000            	ld	bc,__NOTES_FINE+0
   960  01db  dd6e00            	ld	l,(ix+5)
   961  01de  2600              	ld	h,0x00
   962  01e0  09                	add	hl, bc
   963  01e1  4e                	ld	c, (hl)
   964  01e2  3e00              	ld	a,0x00
   965  01e4  d300              	out	(_IO_AYLATCH), a
   966  01e6  79                	ld	a, c
   967  01e7  d300              	out	(_IO_AYDATA), a
   968  01e9  010000            	ld	bc,__NOTES_COURSE+0
   969  01ec  dd6e00            	ld	l,(ix+5)
   970  01ef  2600              	ld	h,0x00
   971  01f1  09                	add	hl, bc
   972  01f2  4e                	ld	c, (hl)
   973  01f3  3e00              	ld	a,0x01
   974  01f5  d300              	out	(_IO_AYLATCH), a
   975  01f7  79                	ld	a, c
   976  01f8  d300              	out	(_IO_AYDATA), a
   977  01fa  3e00              	ld	a,0x0d
   978  01fc  d300              	out	(_IO_AYLATCH), a
   979  01fe  3e00              	ld	a,0x00
   980  0200  d300              	out	(_IO_AYDATA), a
   981  0202  c30000            	jp	l_playNoteDelay_00125
   982                          l_playNoteDelay_00102:
   983  0205  3e00              	ld	a,0x08
   984  0207  d300              	out	(_IO_AYLATCH), a
   985  0209  3e00              	ld	a,0x00
   986  020b  d300              	out	(_IO_AYDATA), a
   987  020d  3e00              	ld	a,0x09
   988  020f  d300              	out	(_IO_AYLATCH), a
   989  0211  3e00              	ld	a,0x10
   990  0213  d300              	out	(_IO_AYDATA), a
   991  0215  3e00              	ld	a,0x0a
   992  0217  d300              	out	(_IO_AYLATCH), a
   993  0219  3e00              	ld	a,0x00
   994  021b  d300              	out	(_IO_AYDATA), a
   995  021d  010000            	ld	bc,__NOTES_FINE+0
   996  0220  dd6e00            	ld	l,(ix+5)
   997  0223  2600              	ld	h,0x00
   998  0225  09                	add	hl, bc
   999  0226  4e                	ld	c, (hl)
  1000  0227  3e00              	ld	a,0x02
  1001  0229  d300              	out	(_IO_AYLATCH), a
  1002  022b  79                	ld	a, c
  1003  022c  d300              	out	(_IO_AYDATA), a
  1004  022e  010000            	ld	bc,__NOTES_COURSE+0
  1005  0231  dd6e00            	ld	l,(ix+5)
  1006  0234  2600              	ld	h,0x00
  1007  0236  09                	add	hl, bc
  1008  0237  4e                	ld	c, (hl)
  1009  0238  3e00              	ld	a,0x03
  1010  023a  d300              	out	(_IO_AYLATCH), a
  1011  023c  79                	ld	a, c
  1012  023d  d300              	out	(_IO_AYDATA), a
  1013  023f  3e00              	ld	a,0x0d
  1014  0241  d300              	out	(_IO_AYLATCH), a
  1015  0243  3e00              	ld	a,0x00
  1016  0245  d300              	out	(_IO_AYDATA), a
  1017  0247  1800              	jr	l_playNoteDelay_00125
  1018                          l_playNoteDelay_00103:
  1019  0249  3e00              	ld	a,0x08
  1020  024b  d300              	out	(_IO_AYLATCH), a
  1021  024d  3e00              	ld	a,0x00
  1022  024f  d300              	out	(_IO_AYDATA), a
  1023  0251  3e00              	ld	a,0x09
  1024  0253  d300              	out	(_IO_AYLATCH), a
  1025  0255  3e00              	ld	a,0x00
  1026  0257  d300              	out	(_IO_AYDATA), a
  1027  0259  3e00              	ld	a,0x0a
  1028  025b  d300              	out	(_IO_AYLATCH), a
  1029  025d  3e00              	ld	a,0x10
  1030  025f  d300              	out	(_IO_AYDATA), a
  1031  0261  010000            	ld	bc,__NOTES_FINE+0
  1032  0264  dd6e00            	ld	l,(ix+5)
  1033  0267  2600              	ld	h,0x00
  1034  0269  09                	add	hl, bc
  1035  026a  4e                	ld	c, (hl)
  1036  026b  3e00              	ld	a,0x04
  1037  026d  d300              	out	(_IO_AYLATCH), a
  1038  026f  79                	ld	a, c
  1039  0270  d300              	out	(_IO_AYDATA), a
  1040  0272  010000            	ld	bc,__NOTES_COURSE+0
  1041  0275  dd6e00            	ld	l,(ix+5)
  1042  0278  2600              	ld	h,0x00
  1043  027a  09                	add	hl, bc
  1044  027b  4e                	ld	c, (hl)
  1045  027c  3e00              	ld	a,0x05
  1046  027e  d300              	out	(_IO_AYLATCH), a
  1047  0280  79                	ld	a, c
  1048  0281  d300              	out	(_IO_AYDATA), a
  1049  0283  3e00              	ld	a,0x0d
  1050  0285  d300              	out	(_IO_AYLATCH), a
  1051  0287  3e00              	ld	a,0x00
  1052  0289  d300              	out	(_IO_AYDATA), a
  1053                          l_playNoteDelay_00125:
  1054  028b  dde1              	pop	ix
  1055  028d  c9                	ret
  1056                          	SECTION code_compiler
  1057                          ;	---------------------------------
  1058                          ; Function isKeyPressed
  1059                          ; ---------------------------------
  1060                          _isKeyPressed:
  1061  028e  3a0000            	ld	a, (__kbdBufferWritePos+0)
  1062  0291  fd210000          	ld	iy,__kbdBufferReadPos
  1063  0295  fd9600            	sub	a,(iy+0)
  1064  0298  2000              	jr	NZ,l_isKeyPressed_00103
  1065  029a  3e00              	ld	a,0x01
  1066  029c  1800              	jr	l_isKeyPressed_00104
  1067                          l_isKeyPressed_00103:
  1068  029e  af                	xor	a,a
  1069                          l_isKeyPressed_00104:
  1070  029f  ee00              	xor	a,0x01
  1071  02a1  6f                	ld	l, a
  1072  02a2  c9                	ret
  1073                          	SECTION code_compiler
  1074                          ;	---------------------------------
  1075                          ; Function getChar
  1076                          ; ---------------------------------
  1077                          _getChar:
  1078                          l_getChar_00101:
  1079  02a3  3a0000            	ld	a, (__kbdBufferWritePos+0)
  1080  02a6  fd210000          	ld	iy,__kbdBufferReadPos
  1081  02aa  fd9600            	sub	a,(iy+0)
  1082  02ad  2800              	jr	Z,l_getChar_00101
  1083  02af  010000            	ld	bc,__kbdBuffer+0
  1084  02b2  2a0000            	ld	hl, (__kbdBufferReadPos)
  1085  02b5  2600              	ld	h,0x00
  1086  02b7  09                	add	hl, bc
  1087  02b8  4e                	ld	c, (hl)
  1088  02b9  3a0000            	ld	a, (__kbdBufferReadPos+0)
  1089  02bc  3c                	inc	a
  1090  02bd  320000            	ld	(__kbdBufferReadPos+0), a
  1091  02c0  69                	ld	l, c
  1092  02c1  c9                	ret
  1093                          	SECTION code_compiler
  1094                          ;	---------------------------------
  1095                          ; Function getJoyStatus
  1096                          ; ---------------------------------
  1097                          _getJoyStatus:
  1098  02c2  3e00              	ld	a, +((__joyStatus) & 0xFF)
  1099  02c4  210000            	ld	hl,2
  1100  02c7  39                	add	hl, sp
  1101  02c8  86                	add	a, (hl)
  1102  02c9  6f                	ld	l, a
  1103  02ca  3e00              	ld	a, +((__joyStatus) / 256)
  1104  02cc  ce00              	adc	a,0x00
  1105  02ce  67                	ld	h, a
  1106  02cf  6e                	ld	l, (hl)
  1107  02d0  c9                	ret
  1108                          	SECTION code_compiler
  1109                          ;	---------------------------------
  1110                          ; Function readLine
  1111                          ; ---------------------------------
  1112                          _readLine:
  1113  02d1  dde5              	push	ix
  1114  02d3  dd210000          	ld	ix,0
  1115  02d7  dd39              	add	ix,sp
  1116  02d9  0e00              	ld	c,0x00
  1117                          l_readLine_00120:
  1118  02db  c5                	push	bc
  1119  02dc  cd0000            	call	_getChar
  1120  02df  5d                	ld	e, l
  1121  02e0  c1                	pop	bc
  1122  02e1  7b                	ld	a, e
  1123  02e2  d600              	sub	a,0x0d
  1124  02e4  ca0000            	jp	Z,l_readLine_00121
  1125  02e7  79                	ld	a, c
  1126  02e8  dd9600            	sub	a,(ix+6)
  1127  02eb  3000              	jr	NC,l_readLine_00112
  1128  02ed  7b                	ld	a, e
  1129  02ee  d600              	sub	a,0x20
  1130  02f0  3800              	jr	C,l_readLine_00112
  1131  02f2  3e00              	ld	a,0x7e
  1132  02f4  93                	sub	a, e
  1133  02f5  3800              	jr	C,l_readLine_00112
  1134  02f7  dd6e00            	ld	l,(ix+4)
  1135  02fa  dd6600            	ld	h,(ix+5)
  1136  02fd  0600              	ld	b,0x00
  1137  02ff  09                	add	hl, bc
  1138  0300  73                	ld	(hl), e
  1139  0301  c5                	push	bc
  1140  0302  7b                	ld	a, e
  1141  0303  f5                	push	af
  1142  0304  33                	inc	sp
  1143  0305  cd0000            	call	_vdp_write
  1144  0308  33                	inc	sp
  1145  0309  c1                	pop	bc
  1146  030a  0c                	inc	c
  1147  030b  1800              	jr	l_readLine_00120
  1148                          l_readLine_00112:
  1149  030d  7b                	ld	a, e
  1150  030e  d600              	sub	a,0x7f
  1151  0310  2000              	jr	NZ,l_readLine_00175
  1152  0312  3e00              	ld	a,0x01
  1153  0314  1800              	jr	l_readLine_00176
  1154                          l_readLine_00175:
  1155  0316  af                	xor	a,a
  1156                          l_readLine_00176:
  1157  0317  47                	ld	b, a
  1158  0318  dd7e00            	ld	a,(ix+6)
  1159  031b  91                	sub	a, c
  1160  031c  2000              	jr	NZ,l_readLine_00108
  1161  031e  cb40              	bit	0, b
  1162  0320  2000              	jr	NZ,l_readLine_00108
  1163  0322  c5                	push	bc
  1164  0323  210000            	ld	hl,0x000a
  1165  0326  e5                	push	hl
  1166  0327  3e00              	ld	a,0x3c
  1167  0329  f5                	push	af
  1168  032a  33                	inc	sp
  1169  032b  af                	xor	a, a
  1170  032c  f5                	push	af
  1171  032d  33                	inc	sp
  1172  032e  cd0000            	call	_playNoteDelay
  1173  0331  f1                	pop	af
  1174  0332  f1                	pop	af
  1175  0333  c1                	pop	bc
  1176  0334  1800              	jr	l_readLine_00120
  1177                          l_readLine_00108:
  1178  0336  78                	ld	a, b
  1179  0337  b7                	or	a, a
  1180  0338  2800              	jr	Z,l_readLine_00120
  1181  033a  79                	ld	a, c
  1182  033b  b7                	or	a, a
  1183  033c  2800              	jr	Z,l_readLine_00120
  1184  033e  110000            	ld	de,_vdp_cursor+0
  1185  0341  1a                	ld	a, (de)
  1186  0342  b7                	or	a, a
  1187  0343  2000              	jr	NZ,l_readLine_00102
  1188  0345  3e00              	ld	a,0x27
  1189  0347  12                	ld	(de), a
  1190  0348  3a0000            	ld	a, ((_vdp_cursor + 1) + 0)
  1191  034b  3d                	dec	a
  1192  034c  320000            	ld	((_vdp_cursor + 1)),a
  1193  034f  1800              	jr	l_readLine_00103
  1194                          l_readLine_00102:
  1195  0351  3d                	dec	a
  1196  0352  12                	ld	(de), a
  1197                          l_readLine_00103:
  1198  0353  0d                	dec	c
  1199  0354  3a0000            	ld	a, ((_vdp_cursor + 1) + 0)
  1200  0357  210000            	ld	hl,_vdp_cursor + 0
  1201  035a  46                	ld	b, (hl)
  1202  035b  c5                	push	bc
  1203  035c  2600              	ld	h,0x20
  1204  035e  e5                	push	hl
  1205  035f  33                	inc	sp
  1206  0360  f5                	push	af
  1207  0361  33                	inc	sp
  1208  0362  c5                	push	bc
  1209  0363  33                	inc	sp
  1210  0364  cd0000            	call	_vdp_writeCharAtLocation
  1211  0367  f1                	pop	af
  1212  0368  33                	inc	sp
  1213  0369  c1                	pop	bc
  1214  036a  c30000            	jp	l_readLine_00120
  1215                          l_readLine_00121:
  1216  036d  69                	ld	l, c
  1217  036e  dde1              	pop	ix
  1218  0370  c9                	ret
  1219                          	SECTION code_compiler
  1220                          ;	---------------------------------
  1221                          ; Function vdp_setRegister
  1222                          ; ---------------------------------
  1223                          _vdp_setRegister:
  1224  0371  fd210000          	ld	iy,3
  1225  0375  fd39              	add	iy, sp
  1226  0377  fd7e00            	ld	a,(iy+0)
  1227  037a  d300              	out	(_IO_VDPLATCH), a
  1228  037c  fd2b              	dec	iy
  1229  037e  fd7e00            	ld	a,(iy+0)
  1230  0381  f600              	or	a,0x80
  1231  0383  d300              	out	(_IO_VDPLATCH), a
  1232  0385  c9                	ret
  1233                          	SECTION code_compiler
  1234                          ;	---------------------------------
  1235                          ; Function vdp_setWriteAddress
  1236                          ; ---------------------------------
  1237                          _vdp_setWriteAddress:
  1238  0386  fd210000          	ld	iy,2
  1239  038a  fd39              	add	iy, sp
  1240  038c  fd7e00            	ld	a,(iy+0)
  1241  038f  d300              	out	(_IO_VDPLATCH), a
  1242  0391  fd7e01            	ld	a,(iy+1)
  1243  0394  e63f              	and	a,0x3f
  1244  0396  f640              	or	a,0x40
  1245  0398  d3a1              	out	(_IO_VDPLATCH), a
  1246  039a  c9                	ret
  1247                          	SECTION code_compiler
  1248                          ;	---------------------------------
  1249                          ; Function vdp_setReadAddress
  1250                          ; ---------------------------------
  1251                          _vdp_setReadAddress:
  1252  039b  fd210200          	ld	iy,2
  1253  039f  fd39              	add	iy, sp
  1254  03a1  fd7e00            	ld	a,(iy+0)
  1255  03a4  d3a1              	out	(_IO_VDPLATCH), a
  1256  03a6  fd7e01            	ld	a,(iy+1)
  1257  03a9  e63f              	and	a,0x3f
  1258  03ab  d3a1              	out	(_IO_VDPLATCH), a
  1259  03ad  c9                	ret
  1260                          	SECTION code_compiler
  1261                          ;	---------------------------------
  1262                          ; Function waitVdpISR
  1263                          ; ---------------------------------
  1264                          _waitVdpISR:
  1265  03ae  f5                	push	af
  1266  03af  dba1              	in	a, (_IO_VDPLATCH)
  1267  03b1  322400            	ld	(_vdpStatusRegVal), a
  1268  03b4  3e01              	ld	a, 0x01
  1269  03b6  322500            	ld	(_vdpIsReady), a
  1270  03b9  f1                	pop	af
  1271  03ba  fb                	ei
  1272  03bb  ed4d              	reti
  1273                          ;	---------------------------------
  1274                          ; Function vdp_enableVDPReadyInt
  1275                          ; ---------------------------------
  1276                          _vdp_enableVDPReadyInt:
  1277  03bd  f3                	di
  1278  03be  21ae03            	ld	hl, _waitVdpISR
  1279  03c1  2206ff            	ld	(0xff00 + 6), hl
  1280  03c4  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1281  03c7  f610              	or	a,0x10
  1282  03c9  320800            	ld	(__ORIGINAL_INT_MASK+0), a
  1283  03cc  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1284  03cf  f5                	push	af
  1285  03d0  3e0e              	ld	a,0x0e
  1286  03d2  d341              	out	(_IO_AYLATCH), a
  1287  03d4  f1                	pop	af
  1288  03d5  d340              	out	(_IO_AYDATA), a
  1289  03d7  fb                	ei
  1290  03d8  212300            	ld	hl,__vdpInterruptEnabled + 0
  1291  03db  3601              	ld	(hl),0x01
  1292  03dd  3a2000            	ld	a, (__vdpReg1Val+0)
  1293  03e0  f620              	or	a,0x20
  1294  03e2  d3a1              	out	(_IO_VDPLATCH), a
  1295  03e4  3e81              	ld	a,0x81
  1296  03e6  d3a1              	out	(_IO_VDPLATCH), a
  1297  03e8  c9                	ret
  1298                          	SECTION code_compiler
  1299                          ;	---------------------------------
  1300                          ; Function vdp_waitVDPReadyInt
  1301                          ; ---------------------------------
  1302                          _vdp_waitVDPReadyInt:
  1303                          l_vdp_waitVDPReadyInt_00101:
  1304  03e9  3a2500            	ld	a, (_vdpIsReady+0)
  1305  03ec  b7                	or	a, a
  1306  03ed  28fa              	jr	Z,l_vdp_waitVDPReadyInt_00101
  1307  03ef  212500            	ld	hl,_vdpIsReady + 0
  1308  03f2  3600              	ld	(hl),0x00
  1309  03f4  c9                	ret
  1310                          	SECTION code_compiler
  1311                          ;	---------------------------------
  1312                          ; Function vdp_disableVDPReadyInt
  1313                          ; ---------------------------------
  1314                          _vdp_disableVDPReadyInt:
  1315  03f5  3a2000            	ld	a, (__vdpReg1Val+0)
  1316  03f8  d3a1              	out	(_IO_VDPLATCH), a
  1317  03fa  3e81              	ld	a,0x81
  1318  03fc  d3a1              	out	(_IO_VDPLATCH), a
  1319  03fe  f3                	di
  1320  03ff  fd212300          	ld	iy,__vdpInterruptEnabled
  1321  0403  fd360000          	ld	(iy+0),0x00
  1322  0407  db41              	in	a, (_IO_AYLATCH)
  1323  0409  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1324  040c  cb67              	bit	4, a
  1325  040e  2808              	jr	Z,l_vdp_disableVDPReadyInt_00102
  1326  0410  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1327  0413  ee10              	xor	a,0x10
  1328  0415  320800            	ld	(__ORIGINAL_INT_MASK+0), a
  1329                          l_vdp_disableVDPReadyInt_00102:
  1330  0418  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1331  041b  f5                	push	af
  1332  041c  3e0e              	ld	a,0x0e
  1333  041e  d341              	out	(_IO_AYLATCH), a
  1334  0420  f1                	pop	af
  1335  0421  d340              	out	(_IO_AYDATA), a
  1336  0423  fb                	ei
  1337  0424  c9                	ret
  1338                          	SECTION code_compiler
  1339                          ;	---------------------------------
  1340                          ; Function vdp_addISR
  1341                          ; ---------------------------------
  1342                          _vdp_addISR:
  1343  0425  f3                	di
  1344  0426  fd210200          	ld	iy,2
  1345  042a  fd39              	add	iy, sp
  1346  042c  fd7e00            	ld	a,(iy+0)
  1347  042f  32c004            	ld	(__vdp_ISR+0), a
  1348  0432  fd7e01            	ld	a,(iy+1)
  1349  0435  32c104            	ld	(__vdp_ISR+1), a
  1350  0438  2ac004            	ld	hl, (__vdp_ISR)
  1351  043b  2206ff            	ld	(0xff00 + 6), hl
  1352  043e  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1353  0441  f610              	or	a,0x10
  1354  0443  320800            	ld	(__ORIGINAL_INT_MASK+0), a
  1355  0446  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1356  0449  f5                	push	af
  1357  044a  3e0e              	ld	a,0x0e
  1358  044c  d341              	out	(_IO_AYLATCH), a
  1359  044e  f1                	pop	af
  1360  044f  d340              	out	(_IO_AYDATA), a
  1361  0451  fb                	ei
  1362  0452  212300            	ld	hl,__vdpInterruptEnabled + 0
  1363  0455  3601              	ld	(hl),0x01
  1364  0457  3a2000            	ld	a, (__vdpReg1Val+0)
  1365  045a  f620              	or	a,0x20
  1366  045c  d3a1              	out	(_IO_VDPLATCH), a
  1367  045e  3e81              	ld	a,0x81
  1368  0460  d3a1              	out	(_IO_VDPLATCH), a
  1369  0462  c9                	ret
  1370                          	SECTION code_compiler
  1371                          ;	---------------------------------
  1372                          ; Function vdp_removeISR
  1373                          ; ---------------------------------
  1374                          _vdp_removeISR:
  1375  0463  3a2000            	ld	a, (__vdpReg1Val+0)
  1376  0466  d3a1              	out	(_IO_VDPLATCH), a
  1377  0468  3e81              	ld	a,0x81
  1378  046a  d3a1              	out	(_IO_VDPLATCH), a
  1379  046c  f3                	di
  1380  046d  fd212300          	ld	iy,__vdpInterruptEnabled
  1381  0471  fd360000          	ld	(iy+0),0x00
  1382  0475  db41              	in	a, (_IO_AYLATCH)
  1383  0477  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1384  047a  cb67              	bit	4, a
  1385  047c  2808              	jr	Z,l_vdp_removeISR_00102
  1386  047e  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1387  0481  ee10              	xor	a,0x10
  1388  0483  320800            	ld	(__ORIGINAL_INT_MASK+0), a
  1389                          l_vdp_removeISR_00102:
  1390  0486  3a0800            	ld	a, (__ORIGINAL_INT_MASK+0)
  1391  0489  f5                	push	af
  1392  048a  3e0e              	ld	a,0x0e
  1393  048c  d341              	out	(_IO_AYLATCH), a
  1394  048e  f1                	pop	af
  1395  048f  d340              	out	(_IO_AYDATA), a
  1396  0491  fb                	ei
  1397  0492  c9                	ret
  1398                          	SECTION code_compiler
  1399                          ;	---------------------------------
  1400                          ; Function vdp_init
  1401                          ; ---------------------------------
  1402                          _vdp_init:
  1403  0493  dde5              	push	ix
  1404  0495  dd210000          	ld	ix,0
  1405  0499  dd39              	add	ix,sp
  1406  049b  dd4e04            	ld	c,(ix+4)
  1407  049e  fd21cf04          	ld	iy,__vdpMode
  1408  04a2  fd7100            	ld	(iy+0),c
  1409  04a5  dd7e07            	ld	a,(ix+7)
  1410  04a8  32c604            	ld	(__vdpSpriteSizeSelected+0), a
  1411  04ab  dd7e09            	ld	a,(ix+9)
  1412  04ae  32d004            	ld	(__autoScroll+0), a
  1413  04b1  212300            	ld	hl,__vdpInterruptEnabled + 0
  1414  04b4  3600              	ld	(hl),0x00
  1415  04b6  211e00            	ld	hl,_vdp_cursor
  1416  04b9  3600              	ld	(hl),0x00
  1417  04bb  211f00            	ld	hl, +(_vdp_cursor + 1)
  1418  04be  3600              	ld	(hl),0x00
  1419  04c0  dd7e07            	ld	a,(ix+7)
  1420  04c3  87                	add	a, a
  1421  04c4  47                	ld	b, a
  1422  04c5  79                	ld	a, c
  1423  04c6  3d                	dec	a
  1424  04c7  280b              	jr	Z,l_vdp_init_00101
  1425  04c9  79                	ld	a,c
  1426  04ca  fe02              	cp	a,0x02
  1427  04cc  2852              	jr	Z,l_vdp_init_00103
  1428  04ce  d603              	sub	a,0x03
  1429  04d0  282c              	jr	Z,l_vdp_init_00102
  1430  04d2  1874              	jr	l_vdp_init_00104
  1431                          l_vdp_init_00101:
  1432  04d4  3e02              	ld	a,0x02
  1433  04d6  d3a1              	out	(_IO_VDPLATCH), a
  1434  04d8  3e80              	ld	a,0x80
  1435  04da  d3a1              	out	(_IO_VDPLATCH), a
  1436  04dc  78                	ld	a, b
  1437  04dd  f6c0              	or	a,0xc0
  1438  04df  ddb608            	or	a,(ix+8)
  1439  04e2  322000            	ld	(__vdpReg1Val+0), a
  1440  04e5  3a2000            	ld	a, (__vdpReg1Val+0)
  1441  04e8  d3a1              	out	(_IO_VDPLATCH), a
  1442  04ea  3e81              	ld	a,0x81
  1443  04ec  d3a1              	out	(_IO_VDPLATCH), a
  1444  04ee  dd360500          	ld	(ix+5),0x00
  1445  04f2  21cd04            	ld	hl,__vdpCursorMaxX + 0
  1446  04f5  361f              	ld	(hl),0x1f
  1447  04f7  21ce04            	ld	hl,__vdpCursorMaxXFull + 0
  1448  04fa  3620              	ld	(hl),0x20
  1449  04fc  184a              	jr	l_vdp_init_00104
  1450                          l_vdp_init_00102:
  1451  04fe  3e00              	ld	a,0x00
  1452  0500  d3a1              	out	(_IO_VDPLATCH), a
  1453  0502  3e80              	ld	a,0x80
  1454  0504  d3a1              	out	(_IO_VDPLATCH), a
  1455  0506  212000            	ld	hl,__vdpReg1Val + 0
  1456  0509  36d2              	ld	(hl),0xd2
  1457  050b  3a2000            	ld	a, (__vdpReg1Val+0)
  1458  050e  d3a1              	out	(_IO_VDPLATCH), a
  1459  0510  3e81              	ld	a,0x81
  1460  0512  d3a1              	out	(_IO_VDPLATCH), a
  1461  0514  21cd04            	ld	hl,__vdpCursorMaxX + 0
  1462  0517  3627              	ld	(hl),0x27
  1463  0519  21ce04            	ld	hl,__vdpCursorMaxXFull + 0
  1464  051c  3628              	ld	(hl),0x28
  1465  051e  1828              	jr	l_vdp_init_00104
  1466                          l_vdp_init_00103:
  1467  0520  3e00              	ld	a,0x00
  1468  0522  d3a1              	out	(_IO_VDPLATCH), a
  1469  0524  3e80              	ld	a,0x80
  1470  0526  d3a1              	out	(_IO_VDPLATCH), a
  1471  0528  78                	ld	a, b
  1472  0529  f6c8              	or	a,0xc8
  1473  052b  ddb608            	or	a,(ix+8)
  1474  052e  322000            	ld	(__vdpReg1Val+0), a
  1475  0531  3a2000            	ld	a, (__vdpReg1Val+0)
  1476  0534  d3a1              	out	(_IO_VDPLATCH), a
  1477  0536  3e81              	ld	a,0x81
  1478  0538  d3a1              	out	(_IO_VDPLATCH), a
  1479  053a  dd360500          	ld	(ix+5),0x00
  1480  053e  21cd04            	ld	hl,__vdpCursorMaxX + 0
  1481  0541  361f              	ld	(hl),0x1f
  1482  0543  21ce04            	ld	hl,__vdpCursorMaxXFull + 0
  1483  0546  3620              	ld	(hl),0x20
  1484                          l_vdp_init_00104:
  1485  0548  3e06              	ld	a,0x06
  1486  054a  d3a1              	out	(_IO_VDPLATCH), a
  1487  054c  3e82              	ld	a,0x82
  1488  054e  d3a1              	out	(_IO_VDPLATCH), a
  1489  0550  210018            	ld	hl,0x1800
  1490  0553  22c704            	ld	(__vdpPatternNameTableAddr), hl
  1491  0556  3eff              	ld	a,0xff
  1492  0558  d3a1              	out	(_IO_VDPLATCH), a
  1493  055a  3e83              	ld	a,0x83
  1494  055c  d3a1              	out	(_IO_VDPLATCH), a
  1495  055e  2620              	ld	h,0x20
  1496  0560  22c904            	ld	(__vdpColorTableAddr), hl
  1497  0563  2618              	ld	h,0x18
  1498  0565  222100            	ld	(__vdpColorTableSize), hl
  1499  0568  3e00              	ld	a,0x00
  1500  056a  d3a1              	out	(_IO_VDPLATCH), a
  1501  056c  3e84              	ld	a,0x84
  1502  056e  d3a1              	out	(_IO_VDPLATCH), a
  1503  0570  65                	ld	h, l
  1504  0571  22cb04            	ld	(__vdpPatternGeneratorTableAddr), hl
  1505  0574  3e36              	ld	a,0x36
  1506  0576  d3a1              	out	(_IO_VDPLATCH), a
  1507  0578  3e85              	ld	a,0x85
  1508  057a  d3a1              	out	(_IO_VDPLATCH), a
  1509  057c  261b              	ld	h,0x1b
  1510  057e  22c204            	ld	(__vdpSpriteAttributeTableAddr), hl
  1511  0581  3e07              	ld	a,0x07
  1512  0583  d3a1              	out	(_IO_VDPLATCH), a
  1513  0585  3e86              	ld	a,0x86
  1514  0587  d3a1              	out	(_IO_VDPLATCH), a
  1515  0589  2638              	ld	h,0x38
  1516  058b  22c404            	ld	(__vdpSpriteGeneratorTableAddr), hl
  1517  058e  dd7e05            	ld	a,(ix+5)
  1518  0591  87                	add	a, a
  1519  0592  87                	add	a, a
  1520  0593  87                	add	a, a
  1521  0594  87                	add	a, a
  1522  0595  4f                	ld	c, a
  1523  0596  dd7e06            	ld	a,(ix+6)
  1524  0599  e60f              	and	a,0x0f
  1525  059b  b1                	or	a, c
  1526  059c  d3a1              	out	(_IO_VDPLATCH), a
  1527  059e  3e87              	ld	a,0x87
  1528  05a0  d3a1              	out	(_IO_VDPLATCH), a
  1529  05a2  dde1              	pop	ix
  1530  05a4  c37106            	jp	_vdp_clearScreen
  1531                          	SECTION code_compiler
  1532                          ;	---------------------------------
  1533                          ; Function vdp_clearVRAM
  1534                          ; ---------------------------------
  1535                          _vdp_clearVRAM:
  1536  05a7  3e00              	ld	a,0x00
  1537  05a9  d3a1              	out	(_IO_VDPLATCH), a
  1538  05ab  3e40              	ld	a,0x40
  1539  05ad  d3a1              	out	(_IO_VDPLATCH), a
  1540  05af  010000            	ld	bc,0x0000
  1541                          l_vdp_clearVRAM_00104:
  1542  05b2  79                	ld	a, c
  1543  05b3  d6ff              	sub	a,0xff
  1544  05b5  78                	ld	a, b
  1545  05b6  de3f              	sbc	a,0x3f
  1546  05b8  d0                	ret	NC
  1547  05b9  3e00              	ld	a,0x00
  1548  05bb  d3a0              	out	(_IO_VDPDATA), a
  1549  05bd  03                	inc	bc
  1550  05be  18f2              	jr	l_vdp_clearVRAM_00104
  1551                          	SECTION code_compiler
  1552                          ;	---------------------------------
  1553                          ; Function vdp_initMSXMode
  1554                          ; ---------------------------------
  1555                          _vdp_initMSXMode:
  1556  05c0  3e02              	ld	a,0x02
  1557  05c2  d3a1              	out	(_IO_VDPLATCH), a
  1558  05c4  3e80              	ld	a,0x80
  1559  05c6  d3a1              	out	(_IO_VDPLATCH), a
  1560  05c8  3ec0              	ld	a,0xc0
  1561  05ca  d3a1              	out	(_IO_VDPLATCH), a
  1562  05cc  3e81              	ld	a,0x81
  1563  05ce  d3a1              	out	(_IO_VDPLATCH), a
  1564  05d0  3e06              	ld	a,0x06
  1565  05d2  d3a1              	out	(_IO_VDPLATCH), a
  1566  05d4  3e82              	ld	a,0x82
  1567  05d6  d3a1              	out	(_IO_VDPLATCH), a
  1568  05d8  3eff              	ld	a,0xff
  1569  05da  d3a1              	out	(_IO_VDPLATCH), a
  1570  05dc  3e83              	ld	a,0x83
  1571  05de  d3a1              	out	(_IO_VDPLATCH), a
  1572  05e0  3e03              	ld	a,0x03
  1573  05e2  d3a1              	out	(_IO_VDPLATCH), a
  1574  05e4  3e84              	ld	a,0x84
  1575  05e6  d3a1              	out	(_IO_VDPLATCH), a
  1576  05e8  3e36              	ld	a,0x36
  1577  05ea  d3a1              	out	(_IO_VDPLATCH), a
  1578  05ec  3e85              	ld	a,0x85
  1579  05ee  d3a1              	out	(_IO_VDPLATCH), a
  1580  05f0  3e07              	ld	a,0x07
  1581  05f2  d3a1              	out	(_IO_VDPLATCH), a
  1582  05f4  3e86              	ld	a,0x86
  1583  05f6  d3a1              	out	(_IO_VDPLATCH), a
  1584  05f8  210200            	ld	hl,2+0
  1585  05fb  39                	add	hl, sp
  1586  05fc  7e                	ld	a, (hl)
  1587  05fd  e60f              	and	a,0x0f
  1588  05ff  d3a1              	out	(_IO_VDPLATCH), a
  1589  0601  3e87              	ld	a,0x87
  1590  0603  d3a1              	out	(_IO_VDPLATCH), a
  1591  0605  c9                	ret
  1592                          	SECTION code_compiler
  1593                          ;	---------------------------------
  1594                          ; Function vdp_initTextMode
  1595                          ; ---------------------------------
  1596                          _vdp_initTextMode:
  1597  0606  fd210400          	ld	iy,4
  1598  060a  fd39              	add	iy, sp
  1599  060c  fd7e00            	ld	a,(iy+0)
  1600  060f  f5                	push	af
  1601  0610  33                	inc	sp
  1602  0611  af                	xor	a, a
  1603  0612  f5                	push	af
  1604  0613  33                	inc	sp
  1605  0614  af                	xor	a, a
  1606  0615  f5                	push	af
  1607  0616  33                	inc	sp
  1608  0617  fd2b              	dec	iy
  1609  0619  fd7e00            	ld	a,(iy+0)
  1610  061c  f5                	push	af
  1611  061d  33                	inc	sp
  1612  061e  fd2b              	dec	iy
  1613  0620  fd5600            	ld	d,(iy+0)
  1614  0623  1e03              	ld	e,0x03
  1615  0625  d5                	push	de
  1616  0626  cd9304            	call	_vdp_init
  1617  0629  f1                	pop	af
  1618  062a  f1                	pop	af
  1619  062b  f1                	pop	af
  1620  062c  c9                	ret
  1621                          	SECTION code_compiler
  1622                          ;	---------------------------------
  1623                          ; Function vdp_initG2Mode
  1624                          ; ---------------------------------
  1625                          _vdp_initG2Mode:
  1626  062d  fd210500          	ld	iy,5
  1627  0631  fd39              	add	iy, sp
  1628  0633  fd7e00            	ld	a,(iy+0)
  1629  0636  f5                	push	af
  1630  0637  33                	inc	sp
  1631  0638  fd2b              	dec	iy
  1632  063a  fd7e00            	ld	a,(iy+0)
  1633  063d  f5                	push	af
  1634  063e  33                	inc	sp
  1635  063f  fd2b              	dec	iy
  1636  0641  fd7e00            	ld	a,(iy+0)
  1637  0644  f5                	push	af
  1638  0645  33                	inc	sp
  1639  0646  fd2b              	dec	iy
  1640  0648  fd7e00            	ld	a,(iy+0)
  1641  064b  f5                	push	af
  1642  064c  33                	inc	sp
  1643  064d  af                	xor	a, a
  1644  064e  57                	ld	d,a
  1645  064f  1e01              	ld	e,0x01
  1646  0651  d5                	push	de
  1647  0652  cd9304            	call	_vdp_init
  1648  0655  f1                	pop	af
  1649  0656  f1                	pop	af
  1650  0657  f1                	pop	af
  1651  0658  c9                	ret
  1652                          	SECTION code_compiler
  1653                          ;	---------------------------------
  1654                          ; Function vdp_initMultiColorMode
  1655                          ; ---------------------------------
  1656                          _vdp_initMultiColorMode:
  1657  0659  af                	xor	a, a
  1658  065a  f5                	push	af
  1659  065b  33                	inc	sp
  1660  065c  af                	xor	a, a
  1661  065d  f5                	push	af
  1662  065e  33                	inc	sp
  1663  065f  af                	xor	a, a
  1664  0660  f5                	push	af
  1665  0661  33                	inc	sp
  1666  0662  af                	xor	a, a
  1667  0663  f5                	push	af
  1668  0664  33                	inc	sp
  1669  0665  af                	xor	a, a
  1670  0666  57                	ld	d,a
  1671  0667  1e02              	ld	e,0x02
  1672  0669  d5                	push	de
  1673  066a  cd9304            	call	_vdp_init
  1674  066d  f1                	pop	af
  1675  066e  f1                	pop	af
  1676  066f  f1                	pop	af
  1677  0670  c9                	ret
  1678                          	SECTION code_compiler
  1679                          ;	---------------------------------
  1680                          ; Function vdp_clearScreen
  1681                          ; ---------------------------------
  1682                          _vdp_clearScreen:
  1683  0671  2ac704            	ld	hl, (__vdpPatternNameTableAddr)
  1684  0674  7d                	ld	a, l
  1685  0675  d3a1              	out	(_IO_VDPLATCH), a
  1686  0677  7c                	ld	a, h
  1687  0678  e63f              	and	a,0x3f
  1688  067a  f640              	or	a,0x40
  1689  067c  d3a1              	out	(_IO_VDPLATCH), a
  1690  067e  3ace04            	ld	a, (__vdpCursorMaxXFull+0)
  1691  0681  4f                	ld	c, a
  1692  0682  0600              	ld	b,0x00
  1693  0684  69                	ld	l, c
  1694  0685  60                	ld	h, b
  1695  0686  29                	add	hl, hl
  1696  0687  09                	add	hl, bc
  1697  0688  29                	add	hl, hl
  1698  0689  29                	add	hl, hl
  1699  068a  29                	add	hl, hl
  1700  068b  110001            	ld	de,__vdp_textBuffer
  1701  068e  19                	add	hl, de
  1702  068f  eb                	ex	de, hl
  1703  0690  0e00              	ld	c,0x00
  1704  0692  3acf04            	ld	a, (__vdpMode+0)
  1705  0695  d603              	sub	a,0x03
  1706  0697  2002              	jr	NZ,l_vdp_clearScreen_00110
  1707  0699  0e20              	ld	c,0x20
  1708                          l_vdp_clearScreen_00110:
  1709  069b  210001            	ld	hl,__vdp_textBuffer
  1710                          l_vdp_clearScreen_00103:
  1711  069e  79                	ld	a, c
  1712  069f  d3a0              	out	(_IO_VDPDATA), a
  1713  06a1  3620              	ld	(hl),0x20
  1714  06a3  23                	inc	hl
  1715  06a4  7d                	ld	a, l
  1716  06a5  93                	sub	a, e
  1717  06a6  20f6              	jr	NZ,l_vdp_clearScreen_00103
  1718  06a8  7c                	ld	a, h
  1719  06a9  92                	sub	a, d
  1720  06aa  20f2              	jr	NZ,l_vdp_clearScreen_00103
  1721  06ac  c9                	ret
  1722                          	SECTION code_compiler
  1723                          ;	---------------------------------
  1724                          ; Function vdp_fillScreen
  1725                          ; ---------------------------------
  1726                          _vdp_fillScreen:
  1727  06ad  dde5              	push	ix
  1728  06af  dd210000          	ld	ix,0
  1729  06b3  dd39              	add	ix,sp
  1730  06b5  2ac704            	ld	hl, (__vdpPatternNameTableAddr)
  1731  06b8  7d                	ld	a, l
  1732  06b9  d3a1              	out	(_IO_VDPLATCH), a
  1733  06bb  7c                	ld	a, h
  1734  06bc  e63f              	and	a,0x3f
  1735  06be  f640              	or	a,0x40
  1736  06c0  d3a1              	out	(_IO_VDPLATCH), a
  1737  06c2  010001            	ld	bc,__vdp_textBuffer+0
  1738  06c5  3ace04            	ld	a, (__vdpCursorMaxXFull+0)
  1739  06c8  5f                	ld	e, a
  1740  06c9  1600              	ld	d,0x00
  1741  06cb  6b                	ld	l, e
  1742  06cc  62                	ld	h, d
  1743  06cd  29                	add	hl, hl
  1744  06ce  19                	add	hl, de
  1745  06cf  29                	add	hl, hl
  1746  06d0  29                	add	hl, hl
  1747  06d1  29                	add	hl, hl
  1748  06d2  09                	add	hl, bc
  1749  06d3  eb                	ex	de, hl
  1750                          l_vdp_fillScreen_00101:
  1751  06d4  dd7e04            	ld	a,(ix+4)
  1752  06d7  d3a0              	out	(_IO_VDPDATA), a
  1753  06d9  dd7e04            	ld	a,(ix+4)
  1754  06dc  02                	ld	(bc), a
  1755  06dd  03                	inc	bc
  1756  06de  69                	ld	l, c
  1757  06df  60                	ld	h, b
  1758  06e0  bf                	cp	a, a
  1759  06e1  ed52              	sbc	hl, de
  1760  06e3  20ef              	jr	NZ,l_vdp_fillScreen_00101
  1761  06e5  dde1              	pop	ix
  1762  06e7  c9                	ret
  1763                          	SECTION code_compiler
  1764                          ;	---------------------------------
  1765                          ; Function vdp_clearRows
  1766                          ; ---------------------------------
  1767                          _vdp_clearRows:
  1768  06e8  dde5              	push	ix
  1769  06ea  dd210000          	ld	ix,0
  1770  06ee  dd39              	add	ix,sp
  1771  06f0  21ce04            	ld	hl,__vdpCursorMaxXFull + 0
  1772  06f3  5e                	ld	e, (hl)
  1773  06f4  dd6604            	ld	h,(ix+4)
  1774  06f7  2e00              	ld	l,0x00
  1775  06f9  55                	ld	d, l
  1776  06fa  0608              	ld	b,0x08
  1777                          l_vdp_clearRows_00113:
  1778  06fc  29                	add	hl, hl
  1779  06fd  3001              	jr	NC,l_vdp_clearRows_00114
  1780  06ff  19                	add	hl, de
  1781                          l_vdp_clearRows_00114:
  1782  0700  10fa              	djnz	l_vdp_clearRows_00113
  1783  0702  eb                	ex	de, hl
  1784  0703  4b                	ld	c, e
  1785  0704  42                	ld	b, d
  1786  0705  fd2ac704          	ld	iy, (__vdpPatternNameTableAddr)
  1787  0709  fd09              	add	iy, bc
  1788  070b  fde5              	push	iy
  1789  070d  c1                	pop	bc
  1790  070e  79                	ld	a, c
  1791  070f  d3a1              	out	(_IO_VDPLATCH), a
  1792  0711  78                	ld	a, b
  1793  0712  e63f              	and	a,0x3f
  1794  0714  f640              	or	a,0x40
  1795  0716  d3a1              	out	(_IO_VDPLATCH), a
  1796  0718  210001            	ld	hl,__vdp_textBuffer
  1797  071b  19                	add	hl, de
  1798  071c  eb                	ex	de, hl
  1799  071d  dd4e05            	ld	c,(ix+5)
  1800  0720  0600              	ld	b,0x00
  1801  0722  03                	inc	bc
  1802  0723  3ace04            	ld	a, (__vdpCursorMaxXFull+0)
  1803  0726  2600              	ld	h,0x00
  1804  0728  d5                	push	de
  1805  0729  6f                	ld	l, a
  1806  072a  e5                	push	hl
  1807  072b  c5                	push	bc
  1808  072c  cd0000            	call	__mulint_callee
  1809  072f  d1                	pop	de
  1810  0730  010001            	ld	bc,__vdp_textBuffer
  1811  0733  09                	add	hl, bc
  1812  0734  4d                	ld	c, l
  1813  0735  44                	ld	b, h
  1814                          l_vdp_clearRows_00101:
  1815  0736  3e20              	ld	a,0x20
  1816  0738  d3a0              	out	(_IO_VDPDATA), a
  1817  073a  3e20              	ld	a,0x20
  1818  073c  12                	ld	(de), a
  1819  073d  13                	inc	de
  1820  073e  6b                	ld	l, e
  1821  073f  62                	ld	h, d
  1822  0740  bf                	cp	a, a
  1823  0741  ed42              	sbc	hl, bc
  1824  0743  20f1              	jr	NZ,l_vdp_clearRows_00101
  1825  0745  dde1              	pop	ix
  1826  0747  c9                	ret
  1827                          	SECTION code_compiler
  1828                          ;	---------------------------------
  1829                          ; Function vdp_loadASCIIFont
  1830                          ; ---------------------------------
  1831                          _vdp_loadASCIIFont:
  1832  0748  dde5              	push	ix
  1833  074a  dd210000          	ld	ix,0
  1834  074e  dd39              	add	ix,sp
  1835  0750  2acb04            	ld	hl, (__vdpPatternGeneratorTableAddr)
  1836  0753  110001            	ld	de,0x0100
  1837  0756  19                	add	hl, de
  1838  0757  7d                	ld	a, l
  1839  0758  d3a1              	out	(_IO_VDPLATCH), a
  1840  075a  7c                	ld	a, h
  1841  075b  e63f              	and	a,0x3f
  1842  075d  f640              	or	a,0x40
  1843  075f  d3a1              	out	(_IO_VDPLATCH), a
  1844  0761  dd4e04            	ld	c,(ix+4)
  1845  0764  dd4605            	ld	b,(ix+5)
  1846  0767  210003            	ld	hl,0x0300
  1847  076a  09                	add	hl, bc
  1848  076b  eb                	ex	de, hl
  1849                          l_vdp_loadASCIIFont_00101:
  1850  076c  0a                	ld	a, (bc)
  1851  076d  d3a0              	out	(_IO_VDPDATA), a
  1852  076f  03                	inc	bc
  1853  0770  69                	ld	l, c
  1854  0771  60                	ld	h, b
  1855  0772  bf                	cp	a, a
  1856  0773  ed52              	sbc	hl, de
  1857  0775  20f5              	jr	NZ,l_vdp_loadASCIIFont_00101
  1858  0777  dde1              	pop	ix
  1859  0779  c9                	ret
  1860                          	SECTION code_compiler
  1861                          ;	---------------------------------
  1862                          ; Function vdp_putPattern
  1863                          ; ---------------------------------
  1864                          _vdp_putPattern:
  1865  077a  dde5              	push	ix
  1866  077c  dd210000          	ld	ix,0
  1867  0780  dd39              	add	ix,sp
  1868  0782  21ce04            	ld	hl,__vdpCursorMaxXFull + 0
  1869  0785  5e                	ld	e, (hl)
  1870  0786  dd6605            	ld	h,(ix+5)
  1871  0789  2e00              	ld	l,0x00
  1872  078b  55                	ld	d, l
  1873  078c  0608              	ld	b,0x08
  1874                          l_vdp_putPattern_00104:
  1875  078e  29                	add	hl, hl
  1876  078f  3001              	jr	NC,l_vdp_putPattern_00105
  1877  0791  19                	add	hl, de
  1878                          l_vdp_putPattern_00105:
  1879  0792  10fa              	djnz	l_vdp_putPattern_00104
  1880  0794  dd4e04            	ld	c,(ix+4)
  1881  0797  0600              	ld	b,0x00
  1882  0799  09                	add	hl, bc
  1883  079a  eb                	ex	de, hl
  1884  079b  2ac704            	ld	hl, (__vdpPatternNameTableAddr)
  1885  079e  19                	add	hl, de
  1886  079f  7d                	ld	a, l
  1887  07a0  d3a1              	out	(_IO_VDPLATCH), a
  1888  07a2  7c                	ld	a, h
  1889  07a3  e63f              	and	a,0x3f
  1890  07a5  f640              	or	a,0x40
  1891  07a7  d3a1              	out	(_IO_VDPLATCH), a
  1892  07a9  210001            	ld	hl,__vdp_textBuffer+0
  1893  07ac  19                	add	hl, de
  1894  07ad  dd7e06            	ld	a,(ix+6)
  1895  07b0  77                	ld	(hl), a
  1896  07b1  dd7e06            	ld	a,(ix+6)
  1897  07b4  d3a0              	out	(_IO_VDPDATA), a
  1898  07b6  dde1              	pop	ix
  1899  07b8  c9                	ret
  1900                          	SECTION code_compiler
  1901                          ;	---------------------------------
  1902                          ; Function vdp_loadPatternTable
  1903                          ; ---------------------------------
  1904                          _vdp_loadPatternTable:
  1905  07b9  dde5              	push	ix
  1906  07bb  dd210000          	ld	ix,0
  1907  07bf  dd39              	add	ix,sp
  1908  07c1  f5                	push	af
  1909  07c2  dd4e04            	ld	c,(ix+4)
  1910  07c5  dd4605            	ld	b,(ix+5)
  1911  07c8  dd6e06            	ld	l,(ix+6)
  1912  07cb  dd6607            	ld	h,(ix+7)
  1913  07ce  09                	add	hl, bc
  1914  07cf  e3                	ex	(sp), hl
  1915  07d0  2acb04            	ld	hl, (__vdpPatternGeneratorTableAddr)
  1916  07d3  7d                	ld	a, l
  1917  07d4  d3a1              	out	(_IO_VDPLATCH), a
  1918  07d6  7c                	ld	a, h
  1919  07d7  e63f              	and	a,0x3f
  1920  07d9  f640              	or	a,0x40
  1921  07db  d3a1              	out	(_IO_VDPLATCH), a
  1922  07dd  59                	ld	e, c
  1923  07de  50                	ld	d, b
  1924                          l_vdp_loadPatternTable_00101:
  1925  07df  1a                	ld	a, (de)
  1926  07e0  d3a0              	out	(_IO_VDPDATA), a
  1927  07e2  13                	inc	de
  1928  07e3  e1                	pop	hl
  1929  07e4  e5                	push	hl
  1930  07e5  bf                	cp	a, a
  1931  07e6  ed52              	sbc	hl, de
  1932  07e8  20f5              	jr	NZ,l_vdp_loadPatternTable_00101
  1933  07ea  59                	ld	e, c
  1934  07eb  50                	ld	d, b
  1935                          l_vdp_loadPatternTable_00104:
  1936  07ec  1a                	ld	a, (de)
  1937  07ed  d3a0              	out	(_IO_VDPDATA), a
  1938  07ef  13                	inc	de
  1939  07f0  e1                	pop	hl
  1940  07f1  e5                	push	hl
  1941  07f2  bf                	cp	a, a
  1942  07f3  ed52              	sbc	hl, de
  1943  07f5  20f5              	jr	NZ,l_vdp_loadPatternTable_00104
  1944                          l_vdp_loadPatternTable_00107:
  1945  07f7  0a                	ld	a, (bc)
  1946  07f8  d3a0              	out	(_IO_VDPDATA), a
  1947  07fa  03                	inc	bc
  1948  07fb  e1                	pop	hl
  1949  07fc  e5                	push	hl
  1950  07fd  bf                	cp	a, a
  1951  07fe  ed42              	sbc	hl, bc
  1952  0800  20f5              	jr	NZ,l_vdp_loadPatternTable_00107
  1953  0802  ddf9              	ld	sp, ix
  1954  0804  dde1              	pop	ix
  1955  0806  c9                	ret
  1956                          	SECTION code_compiler
  1957                          ;	---------------------------------
  1958                          ; Function vdp_loadColorTable
  1959                          ; ---------------------------------
  1960                          _vdp_loadColorTable:
  1961  0807  dde5              	push	ix
  1962  0809  dd210000          	ld	ix,0
  1963  080d  dd39              	add	ix,sp
  1964  080f  f5                	push	af
  1965  0810  dd4e04            	ld	c,(ix+4)
  1966  0813  dd4605            	ld	b,(ix+5)
  1967  0816  dd6e06            	ld	l,(ix+6)
  1968  0819  dd6607            	ld	h,(ix+7)
  1969  081c  09                	add	hl, bc
  1970  081d  e3                	ex	(sp), hl
  1971  081e  2ac904            	ld	hl, (__vdpColorTableAddr)
  1972  0821  7d                	ld	a, l
  1973  0822  d3a1              	out	(_IO_VDPLATCH), a
  1974  0824  7c                	ld	a, h
  1975  0825  e63f              	and	a,0x3f
  1976  0827  f640              	or	a,0x40
  1977  0829  d3a1              	out	(_IO_VDPLATCH), a
  1978  082b  59                	ld	e, c
  1979  082c  50                	ld	d, b
  1980                          l_vdp_loadColorTable_00101:
  1981  082d  1a                	ld	a, (de)
  1982  082e  d3a0              	out	(_IO_VDPDATA), a
  1983  0830  13                	inc	de
  1984  0831  e1                	pop	hl
  1985  0832  e5                	push	hl
  1986  0833  bf                	cp	a, a
  1987  0834  ed52              	sbc	hl, de
  1988  0836  20f5              	jr	NZ,l_vdp_loadColorTable_00101
  1989  0838  59                	ld	e, c
  1990  0839  50                	ld	d, b
  1991                          l_vdp_loadColorTable_00104:
  1992  083a  1a                	ld	a, (de)
  1993  083b  d3a0              	out	(_IO_VDPDATA), a
  1994  083d  13                	inc	de
  1995  083e  e1                	pop	hl
  1996  083f  e5                	push	hl
  1997  0840  bf                	cp	a, a
  1998  0841  ed52              	sbc	hl, de
  1999  0843  20f5              	jr	NZ,l_vdp_loadColorTable_00104
  2000                          l_vdp_loadColorTable_00107:
  2001  0845  0a                	ld	a, (bc)
  2002  0846  d3a0              	out	(_IO_VDPDATA), a
  2003  0848  03                	inc	bc
  2004  0849  e1                	pop	hl
  2005  084a  e5                	push	hl
  2006  084b  bf                	cp	a, a
  2007  084c  ed42              	sbc	hl, bc
  2008  084e  20f5              	jr	NZ,l_vdp_loadColorTable_00107
  2009  0850  ddf9              	ld	sp, ix
  2010  0852  dde1              	pop	ix
  2011  0854  c9                	ret
  2012                          	SECTION code_compiler
  2013                          ;	---------------------------------
  2014                          ; Function vdp_colorizePattern
  2015                          ; ---------------------------------
  2016                          _vdp_colorizePattern:
  2017  0855  dde5              	push	ix
  2018  0857  dd210000          	ld	ix,0
  2019  085b  dd39              	add	ix,sp
  2020  085d  3b                	dec	sp
  2021  085e  dd6e04            	ld	l,(ix+4)
  2022  0861  2600              	ld	h,0x00
  2023  0863  29                	add	hl, hl
  2024  0864  29                	add	hl, hl
  2025  0865  29                	add	hl, hl
  2026  0866  4d                	ld	c, l
  2027  0867  44                	ld	b, h
  2028  0868  dd7e05            	ld	a,(ix+5)
  2029  086b  87                	add	a, a
  2030  086c  87                	add	a, a
  2031  086d  87                	add	a, a
  2032  086e  87                	add	a, a
  2033  086f  dd5e06            	ld	e,(ix+6)
  2034  0872  83                	add	a, e
  2035  0873  dd77ff            	ld	(ix-1),a
  2036  0876  2ac904            	ld	hl, (__vdpColorTableAddr)
  2037  0879  09                	add	hl, bc
  2038  087a  7d                	ld	a, l
  2039  087b  d3a1              	out	(_IO_VDPLATCH), a
  2040  087d  7c                	ld	a, h
  2041  087e  e63f              	and	a,0x3f
  2042  0880  f640              	or	a,0x40
  2043  0882  d3a1              	out	(_IO_VDPLATCH), a
  2044  0884  1e00              	ld	e,0x00
  2045                          l_vdp_colorizePattern_00108:
  2046  0886  7b                	ld	a, e
  2047  0887  d608              	sub	a,0x08
  2048  0889  3008              	jr	NC,l_vdp_colorizePattern_00101
  2049  088b  dd7eff            	ld	a,(ix-1)
  2050  088e  d3a0              	out	(_IO_VDPDATA), a
  2051  0890  1c                	inc	e
  2052  0891  18f3              	jr	l_vdp_colorizePattern_00108
  2053                          l_vdp_colorizePattern_00101:
  2054  0893  2ac904            	ld	hl, (__vdpColorTableAddr)
  2055  0896  110008            	ld	de,0x0800
  2056  0899  19                	add	hl, de
  2057  089a  09                	add	hl, bc
  2058  089b  7d                	ld	a, l
  2059  089c  d3a1              	out	(_IO_VDPLATCH), a
  2060  089e  7c                	ld	a, h
  2061  089f  e63f              	and	a,0x3f
  2062  08a1  f640              	or	a,0x40
  2063  08a3  d3a1              	out	(_IO_VDPLATCH), a
  2064  08a5  1e00              	ld	e,0x00
  2065                          l_vdp_colorizePattern_00111:
  2066  08a7  7b                	ld	a, e
  2067  08a8  d608              	sub	a,0x08
  2068  08aa  3008              	jr	NC,l_vdp_colorizePattern_00102
  2069  08ac  dd7eff            	ld	a,(ix-1)
  2070  08af  d3a0              	out	(_IO_VDPDATA), a
  2071  08b1  1c                	inc	e
  2072  08b2  18f3              	jr	l_vdp_colorizePattern_00111
  2073                          l_vdp_colorizePattern_00102:
  2074  08b4  2ac904            	ld	hl, (__vdpColorTableAddr)
  2075  08b7  110010            	ld	de,0x1000
  2076  08ba  19                	add	hl, de
  2077  08bb  09                	add	hl, bc
  2078  08bc  7d                	ld	a, l
  2079  08bd  d3a1              	out	(_IO_VDPLATCH), a
  2080  08bf  7c                	ld	a, h
  2081  08c0  e63f              	and	a,0x3f
  2082  08c2  f640              	or	a,0x40
  2083  08c4  d3a1              	out	(_IO_VDPLATCH), a
  2084  08c6  0e00              	ld	c,0x00
  2085                          l_vdp_colorizePattern_00114:
  2086  08c8  79                	ld	a, c
  2087  08c9  d608              	sub	a,0x08
  2088  08cb  3008              	jr	NC,l_vdp_colorizePattern_00116
  2089  08cd  dd7eff            	ld	a,(ix-1)
  2090  08d0  d3a0              	out	(_IO_VDPDATA), a
  2091  08d2  0c                	inc	c
  2092  08d3  18f3              	jr	l_vdp_colorizePattern_00114
  2093                          l_vdp_colorizePattern_00116:
  2094  08d5  33                	inc	sp
  2095  08d6  dde1              	pop	ix
  2096  08d8  c9                	ret
  2097                          	SECTION code_compiler
  2098                          ;	---------------------------------
  2099                          ; Function vdp_plotHires
  2100                          ; ---------------------------------
  2101                          _vdp_plotHires:
  2102  08d9  dde5              	push	ix
  2103  08db  dd210000          	ld	ix,0
  2104  08df  dd39              	add	ix,sp
  2105  08e1  21fbff            	ld	hl, -5
  2106  08e4  39                	add	hl, sp
  2107  08e5  f9                	ld	sp, hl
  2108  08e6  dd7e04            	ld	a,(ix+4)
  2109  08e9  dd77fb            	ld	(ix-5),a
  2110  08ec  dd36fc00          	ld	(ix-4),0x00
  2111  08f0  e1                	pop	hl
  2112  08f1  e5                	push	hl
  2113  08f2  ddcbfc7e          	bit	7,(ix-4)
  2114  08f6  2806              	jr	Z,l_vdp_plotHires_00110
  2115  08f8  e1                	pop	hl
  2116  08f9  e5                	push	hl
  2117  08fa  110700            	ld	de,0x0007
  2118  08fd  19                	add	hl, de
  2119                          l_vdp_plotHires_00110:
  2120  08fe  cb2c              	sra	h
  2121  0900  cb1d              	rr	l
  2122  0902  cb2c              	sra	h
  2123  0904  cb1d              	rr	l
  2124  0906  cb2c              	sra	h
  2125  0908  cb1d              	rr	l
  2126  090a  29                	add	hl, hl
  2127  090b  29                	add	hl, hl
  2128  090c  29                	add	hl, hl
  2129  090d  dd4e05            	ld	c,(ix+5)
  2130  0910  0600              	ld	b,0x00
  2131  0912  79                	ld	a, c
  2132  0913  e607              	and	a,0x07
  2133  0915  5f                	ld	e, a
  2134  0916  1600              	ld	d,0x00
  2135  0918  19                	add	hl, de
  2136  0919  eb                	ex	de, hl
  2137  091a  69                	ld	l, c
  2138  091b  60                	ld	h, b
  2139  091c  cb78              	bit	7, b
  2140  091e  2804              	jr	Z,l_vdp_plotHires_00111
  2141  0920  210700            	ld	hl,0x0007
  2142  0923  09                	add	hl, bc
  2143                          l_vdp_plotHires_00111:
  2144  0924  cb2c              	sra	h
  2145  0926  cb1d              	rr	l
  2146  0928  cb2c              	sra	h
  2147  092a  cb1d              	rr	l
  2148  092c  cb2c              	sra	h
  2149  092e  cb1d              	rr	l
  2150  0930  65                	ld	h, l
  2151  0931  2e00              	ld	l,0x00
  2152  0933  19                	add	hl, de
  2153  0934  eb                	ex	de, hl
  2154  0935  3acb04            	ld	a, (__vdpPatternGeneratorTableAddr+0)
  2155  0938  83                	add	a, e
  2156  0939  4f                	ld	c, a
  2157  093a  3acc04            	ld	a, (__vdpPatternGeneratorTableAddr+1)
  2158  093d  8a                	adc	a, d
  2159  093e  47                	ld	b, a
  2160  093f  79                	ld	a, c
  2161  0940  68                	ld	l, b
  2162  0941  d3a1              	out	(_IO_VDPLATCH), a
  2163  0943  7d                	ld	a, l
  2164  0944  e63f              	and	a,0x3f
  2165  0946  d3a1              	out	(_IO_VDPLATCH), a
  2166  0948  dba0              	in	a, (_IO_VDPDATA)
  2167  094a  dd77fd            	ld	(ix-3),a
  2168  094d  3ac904            	ld	a, (__vdpColorTableAddr+0)
  2169  0950  83                	add	a, e
  2170  0951  dd77fe            	ld	(ix-2),a
  2171  0954  3aca04            	ld	a, (__vdpColorTableAddr+1)
  2172  0957  8a                	adc	a, d
  2173  0958  dd77ff            	ld	(ix-1),a
  2174  095b  dd7efe            	ld	a,(ix-2)
  2175  095e  dd5eff            	ld	e,(ix-1)
  2176  0961  d3a1              	out	(_IO_VDPLATCH), a
  2177  0963  7b                	ld	a, e
  2178  0964  e63f              	and	a,0x3f
  2179  0966  d3a1              	out	(_IO_VDPLATCH), a
  2180  0968  dba0              	in	a, (_IO_VDPDATA)
  2181  096a  6f                	ld	l, a
  2182  096b  dd7efb            	ld	a,(ix-5)
  2183  096e  e607              	and	a,0x07
  2184  0970  f5                	push	af
  2185  0971  118000            	ld	de,0x0080
  2186  0974  f1                	pop	af
  2187  0975  3c                	inc	a
  2188  0976  1804              	jr	l_vdp_plotHires_00128
  2189                          l_vdp_plotHires_00127:
  2190  0978  cb2a              	sra	d
  2191  097a  cb1b              	rr	e
  2192                          l_vdp_plotHires_00128:
  2193  097c  3d                	dec	a
  2194  097d  20f9              	jr	NZ, l_vdp_plotHires_00127
  2195  097f  dd7e06            	ld	a,(ix+6)
  2196  0982  b7                	or	a, a
  2197  0983  2814              	jr	Z,l_vdp_plotHires_00102
  2198  0985  7b                	ld	a, e
  2199  0986  ddb6fd            	or	a,(ix-3)
  2200  0989  5f                	ld	e, a
  2201  098a  7d                	ld	a, l
  2202  098b  e60f              	and	a,0x0f
  2203  098d  6f                	ld	l, a
  2204  098e  dd7e06            	ld	a,(ix+6)
  2205  0991  87                	add	a, a
  2206  0992  87                	add	a, a
  2207  0993  87                	add	a, a
  2208  0994  87                	add	a, a
  2209  0995  b5                	or	a, l
  2210  0996  6f                	ld	l, a
  2211  0997  1811              	jr	l_vdp_plotHires_00103
  2212                          l_vdp_plotHires_00102:
  2213  0999  7b                	ld	a, e
  2214  099a  2f                	cpl
  2215  099b  dda6fd            	and	a,(ix-3)
  2216  099e  5f                	ld	e, a
  2217  099f  7d                	ld	a, l
  2218  09a0  e6f0              	and	a,0xf0
  2219  09a2  57                	ld	d, a
  2220  09a3  dd7e07            	ld	a,(ix+7)
  2221  09a6  e60f              	and	a,0x0f
  2222  09a8  b2                	or	a, d
  2223  09a9  6f                	ld	l, a
  2224                          l_vdp_plotHires_00103:
  2225  09aa  79                	ld	a, c
  2226  09ab  d3a1              	out	(_IO_VDPLATCH), a
  2227  09ad  78                	ld	a, b
  2228  09ae  e63f              	and	a,0x3f
  2229  09b0  f640              	or	a,0x40
  2230  09b2  d3a1              	out	(_IO_VDPLATCH), a
  2231  09b4  7b                	ld	a, e
  2232  09b5  d3a0              	out	(_IO_VDPDATA), a
  2233  09b7  dd7efe            	ld	a,(ix-2)
  2234  09ba  d3a1              	out	(_IO_VDPLATCH), a
  2235  09bc  dd7eff            	ld	a,(ix-1)
  2236  09bf  e63f              	and	a,0x3f
  2237  09c1  f640              	or	a,0x40
  2238  09c3  d3a1              	out	(_IO_VDPLATCH), a
  2239  09c5  7d                	ld	a, l
  2240  09c6  d3a0              	out	(_IO_VDPDATA), a
  2241  09c8  ddf9              	ld	sp, ix
  2242  09ca  dde1              	pop	ix
  2243  09cc  c9                	ret
  2244                          	SECTION code_compiler
  2245                          ;	---------------------------------
  2246                          ; Function vdp_plotColor
  2247                          ; ---------------------------------
  2248                          _vdp_plotColor:
  2249  09cd  dde5              	push	ix
  2250  09cf  dd210000          	ld	ix,0
  2251  09d3  dd39              	add	ix,sp
  2252  09d5  21f4ff            	ld	hl, -12
  2253  09d8  39                	add	hl, sp
  2254  09d9  f9                	ld	sp, hl
  2255  09da  dd7e04            	ld	a,(ix+4)
  2256  09dd  dd77f4            	ld	(ix-12),a
  2257  09e0  dd36f500          	ld	(ix-11),0x00
  2258  09e4  dd7e05            	ld	a,(ix+5)
  2259  09e7  dd77f6            	ld	(ix-10),a
  2260  09ea  dd36f700          	ld	(ix-9),0x00
  2261  09ee  dd7ef5            	ld	a,(ix-11)
  2262  09f1  07                	rlca
  2263  09f2  e601              	and	a,0x01
  2264  09f4  dd77f8            	ld	(ix-8),a
  2265  09f7  dd7ef4            	ld	a,(ix-12)
  2266  09fa  c601              	add	a,0x01
  2267  09fc  dd77f9            	ld	(ix-7),a
  2268  09ff  dd7ef5            	ld	a,(ix-11)
  2269  0a02  ce00              	adc	a,0x00
  2270  0a04  dd77fa            	ld	(ix-6),a
  2271  0a07  dd7ef6            	ld	a,(ix-10)
  2272  0a0a  e607              	and	a,0x07
  2273  0a0c  dd77fb            	ld	(ix-5),a
  2274  0a0f  dd36fc00          	ld	(ix-4),0x00
  2275  0a13  dd7ef7            	ld	a,(ix-9)
  2276  0a16  07                	rlca
  2277  0a17  e601              	and	a,0x01
  2278  0a19  dd77fd            	ld	(ix-3),a
  2279  0a1c  dd7ef6            	ld	a,(ix-10)
  2280  0a1f  c607              	add	a,0x07
  2281  0a21  dd77fe            	ld	(ix-2),a
  2282  0a24  dd7ef7            	ld	a,(ix-9)
  2283  0a27  ce00              	adc	a,0x00
  2284  0a29  dd77ff            	ld	(ix-1),a
  2285  0a2c  3acf04            	ld	a, (__vdpMode+0)
  2286  0a2f  d602              	sub	a,0x02
  2287  0a31  207c              	jr	NZ,l_vdp_plotColor_00110
  2288  0a33  e1                	pop	hl
  2289  0a34  e5                	push	hl
  2290  0a35  dd7ef8            	ld	a,(ix-8)
  2291  0a38  b7                	or	a, a
  2292  0a39  2806              	jr	Z,l_vdp_plotColor_00119
  2293  0a3b  dd6ef9            	ld	l,(ix-7)
  2294  0a3e  dd66fa            	ld	h,(ix-6)
  2295                          l_vdp_plotColor_00119:
  2296  0a41  cb2c              	sra	h
  2297  0a43  cb1d              	rr	l
  2298  0a45  29                	add	hl, hl
  2299  0a46  29                	add	hl, hl
  2300  0a47  29                	add	hl, hl
  2301  0a48  eb                	ex	de, hl
  2302  0a49  2acb04            	ld	hl, (__vdpPatternGeneratorTableAddr)
  2303  0a4c  19                	add	hl, de
  2304  0a4d  dd4efb            	ld	c,(ix-5)
  2305  0a50  dd46fc            	ld	b,(ix-4)
  2306  0a53  09                	add	hl, bc
  2307  0a54  d1                	pop	de
  2308  0a55  c1                	pop	bc
  2309  0a56  c5                	push	bc
  2310  0a57  d5                	push	de
  2311  0a58  dd7efd            	ld	a,(ix-3)
  2312  0a5b  b7                	or	a, a
  2313  0a5c  2806              	jr	Z,l_vdp_plotColor_00120
  2314  0a5e  dd4efe            	ld	c,(ix-2)
  2315  0a61  dd46ff            	ld	b,(ix-1)
  2316                          l_vdp_plotColor_00120:
  2317  0a64  cb28              	sra	b
  2318  0a66  cb19              	rr	c
  2319  0a68  cb28              	sra	b
  2320  0a6a  cb19              	rr	c
  2321  0a6c  cb28              	sra	b
  2322  0a6e  cb19              	rr	c
  2323  0a70  41                	ld	b, c
  2324  0a71  0e00              	ld	c,0x00
  2325  0a73  09                	add	hl, bc
  2326  0a74  5d                	ld	e, l
  2327  0a75  7b                	ld	a, e
  2328  0a76  d3a1              	out	(_IO_VDPLATCH), a
  2329  0a78  7c                	ld	a, h
  2330  0a79  e63f              	and	a,0x3f
  2331  0a7b  4f                	ld	c,a
  2332  0a7c  d3a1              	out	(_IO_VDPLATCH), a
  2333  0a7e  dba0              	in	a, (_IO_VDPDATA)
  2334  0a80  47                	ld	b, a
  2335  0a81  7b                	ld	a, e
  2336  0a82  d3a1              	out	(_IO_VDPLATCH), a
  2337  0a84  79                	ld	a, c
  2338  0a85  f640              	or	a,0x40
  2339  0a87  d3a1              	out	(_IO_VDPLATCH), a
  2340  0a89  dd4e04            	ld	c,(ix+4)
  2341  0a8c  78                	ld	a, b
  2342  0a8d  cb41              	bit	0, c
  2343  0a8f  280e              	jr	Z,l_vdp_plotColor_00102
  2344  0a91  e6f0              	and	a,0xf0
  2345  0a93  4f                	ld	c, a
  2346  0a94  dd7e06            	ld	a,(ix+6)
  2347  0a97  e60f              	and	a,0x0f
  2348  0a99  81                	add	a, c
  2349  0a9a  d3a0              	out	(_IO_VDPDATA), a
  2350  0a9c  c37f0b            	jp	l_vdp_plotColor_00117
  2351                          l_vdp_plotColor_00102:
  2352  0a9f  e60f              	and	a,0x0f
  2353  0aa1  4f                	ld	c, a
  2354  0aa2  dd7e06            	ld	a,(ix+6)
  2355  0aa5  87                	add	a, a
  2356  0aa6  87                	add	a, a
  2357  0aa7  87                	add	a, a
  2358  0aa8  87                	add	a, a
  2359  0aa9  81                	add	a, c
  2360  0aaa  d3a0              	out	(_IO_VDPDATA), a
  2361  0aac  c37f0b            	jp	l_vdp_plotColor_00117
  2362                          l_vdp_plotColor_00110:
  2363  0aaf  3acf04            	ld	a, (__vdpMode+0)
  2364  0ab2  3d                	dec	a
  2365  0ab3  c27f0b            	jp	NZ,l_vdp_plotColor_00117
  2366  0ab6  e1                	pop	hl
  2367  0ab7  e5                	push	hl
  2368  0ab8  dd7ef8            	ld	a,(ix-8)
  2369  0abb  b7                	or	a, a
  2370  0abc  2806              	jr	Z,l_vdp_plotColor_00121
  2371  0abe  dd6ef9            	ld	l,(ix-7)
  2372  0ac1  dd66fa            	ld	h,(ix-6)
  2373                          l_vdp_plotColor_00121:
  2374  0ac4  cb2c              	sra	h
  2375  0ac6  cb1d              	rr	l
  2376  0ac8  29                	add	hl, hl
  2377  0ac9  29                	add	hl, hl
  2378  0aca  29                	add	hl, hl
  2379  0acb  dd5efb            	ld	e,(ix-5)
  2380  0ace  dd56fc            	ld	d,(ix-4)
  2381  0ad1  19                	add	hl, de
  2382  0ad2  dd5ef6            	ld	e,(ix-10)
  2383  0ad5  dd56f7            	ld	d,(ix-9)
  2384  0ad8  dd7efd            	ld	a,(ix-3)
  2385  0adb  b7                	or	a, a
  2386  0adc  2806              	jr	Z,l_vdp_plotColor_00122
  2387  0ade  dd5efe            	ld	e,(ix-2)
  2388  0ae1  dd56ff            	ld	d,(ix-1)
  2389                          l_vdp_plotColor_00122:
  2390  0ae4  cb2a              	sra	d
  2391  0ae6  cb1b              	rr	e
  2392  0ae8  cb2a              	sra	d
  2393  0aea  cb1b              	rr	e
  2394  0aec  cb2a              	sra	d
  2395  0aee  cb1b              	rr	e
  2396  0af0  43                	ld	b, e
  2397  0af1  0e00              	ld	c,0x00
  2398  0af3  09                	add	hl, bc
  2399  0af4  dd75fa            	ld	(ix-6),l
  2400  0af7  dd74fb            	ld	(ix-5),h
  2401  0afa  3ac904            	ld	a, (__vdpColorTableAddr+0)
  2402  0afd  dd86fa            	add	a,(ix-6)
  2403  0b00  dd77fc            	ld	(ix-4),a
  2404  0b03  3aca04            	ld	a, (__vdpColorTableAddr+1)
  2405  0b06  dd8efb            	adc	a,(ix-5)
  2406  0b09  dd77fd            	ld	(ix-3),a
  2407  0b0c  dd7efc            	ld	a,(ix-4)
  2408  0b0f  dd4efd            	ld	c,(ix-3)
  2409  0b12  d3a1              	out	(_IO_VDPLATCH), a
  2410  0b14  79                	ld	a, c
  2411  0b15  e63f              	and	a,0x3f
  2412  0b17  d3a1              	out	(_IO_VDPLATCH), a
  2413  0b19  dba0              	in	a, (_IO_VDPDATA)
  2414  0b1b  dd77ff            	ld	(ix-1),a
  2415  0b1e  dd7e04            	ld	a,(ix+4)
  2416  0b21  0f                	rrca
  2417  0b22  3813              	jr	C,l_vdp_plotColor_00105
  2418  0b24  dd7eff            	ld	a,(ix-1)
  2419  0b27  e60f              	and	a,0x0f
  2420  0b29  4f                	ld	c, a
  2421  0b2a  dd7e06            	ld	a,(ix+6)
  2422  0b2d  87                	add	a, a
  2423  0b2e  87                	add	a, a
  2424  0b2f  87                	add	a, a
  2425  0b30  87                	add	a, a
  2426  0b31  b1                	or	a, c
  2427  0b32  dd77ff            	ld	(ix-1),a
  2428  0b35  1819              	jr	l_vdp_plotColor_00106
  2429                          l_vdp_plotColor_00105:
  2430  0b37  dd7eff            	ld	a,(ix-1)
  2431  0b3a  e6f0              	and	a,0xf0
  2432  0b3c  dd77fe            	ld	(ix-2),a
  2433  0b3f  dd7e06            	ld	a,(ix+6)
  2434  0b42  dd77ff            	ld	(ix-1),a
  2435  0b45  e60f              	and	a,0x0f
  2436  0b47  dd77ff            	ld	(ix-1),a
  2437  0b4a  ddb6fe            	or	a,(ix-2)
  2438  0b4d  dd77ff            	ld	(ix-1),a
  2439                          l_vdp_plotColor_00106:
  2440  0b50  3acb04            	ld	a, (__vdpPatternGeneratorTableAddr+0)
  2441  0b53  dd86fa            	add	a,(ix-6)
  2442  0b56  47                	ld	b, a
  2443  0b57  3acc04            	ld	a, (__vdpPatternGeneratorTableAddr+1)
  2444  0b5a  dd8efb            	adc	a,(ix-5)
  2445  0b5d  4f                	ld	c, a
  2446  0b5e  78                	ld	a, b
  2447  0b5f  d3a1              	out	(_IO_VDPLATCH), a
  2448  0b61  79                	ld	a, c
  2449  0b62  e63f              	and	a,0x3f
  2450  0b64  f640              	or	a,0x40
  2451  0b66  d3a1              	out	(_IO_VDPLATCH), a
  2452  0b68  3ef0              	ld	a,0xf0
  2453  0b6a  d3a0              	out	(_IO_VDPDATA), a
  2454  0b6c  dd7efc            	ld	a,(ix-4)
  2455  0b6f  d3a1              	out	(_IO_VDPLATCH), a
  2456  0b71  dd7efd            	ld	a,(ix-3)
  2457  0b74  e63f              	and	a,0x3f
  2458  0b76  f640              	or	a,0x40
  2459  0b78  d3a1              	out	(_IO_VDPLATCH), a
  2460  0b7a  dd7eff            	ld	a,(ix-1)
  2461  0b7d  d3a0              	out	(_IO_VDPDATA), a
  2462                          l_vdp_plotColor_00117:
  2463  0b7f  ddf9              	ld	sp, ix
  2464  0b81  dde1              	pop	ix
  2465  0b83  c9                	ret
  2466                          	SECTION code_compiler
  2467                          ;	---------------------------------
  2468                          ; Function vdp_disableSprite
  2469                          ; ---------------------------------
  2470                          _vdp_disableSprite:
  2471  0b84  fd210200          	ld	iy,2
  2472  0b88  fd39              	add	iy, sp
  2473  0b8a  fd6e00            	ld	l,(iy+0)
  2474  0b8d  2600              	ld	h,0x00
  2475  0b8f  29                	add	hl, hl
  2476  0b90  29                	add	hl, hl
  2477  0b91  eb                	ex	de, hl
  2478  0b92  2ac204            	ld	hl, (__vdpSpriteAttributeTableAddr)
  2479  0b95  19                	add	hl, de
  2480  0b96  7d                	ld	a, l
  2481  0b97  d3a1              	out	(_IO_VDPLATCH), a
  2482  0b99  7c                	ld	a, h
  2483  0b9a  e63f              	and	a,0x3f
  2484  0b9c  f640              	or	a,0x40
  2485  0b9e  d3a1              	out	(_IO_VDPLATCH), a
  2486  0ba0  3ec0              	ld	a,0xc0
  2487  0ba2  d3a0              	out	(_IO_VDPDATA), a
  2488  0ba4  3e00              	ld	a,0x00
  2489  0ba6  d3a0              	out	(_IO_VDPDATA), a
  2490  0ba8  3e00              	ld	a,0x00
  2491  0baa  d3a0              	out	(_IO_VDPDATA), a
  2492  0bac  3e80              	ld	a,0x80
  2493  0bae  d3a0              	out	(_IO_VDPDATA), a
  2494  0bb0  c9                	ret
  2495                          	SECTION code_compiler
  2496                          ;	---------------------------------
  2497                          ; Function vdp_loadSpritePatternNameTable
  2498                          ; ---------------------------------
  2499                          _vdp_loadSpritePatternNameTable:
  2500  0bb1  dde5              	push	ix
  2501  0bb3  dd210000          	ld	ix,0
  2502  0bb7  dd39              	add	ix,sp
  2503  0bb9  0600              	ld	b,0x00
  2504                          l_vdp_loadSpritePatternNameTable_00110:
  2505  0bbb  78                	ld	a, b
  2506  0bbc  d620              	sub	a,0x20
  2507  0bbe  300b              	jr	NC,l_vdp_loadSpritePatternNameTable_00101
  2508  0bc0  c5                	push	bc
  2509  0bc1  c5                	push	bc
  2510  0bc2  33                	inc	sp
  2511  0bc3  cd840b            	call	_vdp_disableSprite
  2512  0bc6  33                	inc	sp
  2513  0bc7  c1                	pop	bc
  2514  0bc8  04                	inc	b
  2515  0bc9  18f0              	jr	l_vdp_loadSpritePatternNameTable_00110
  2516                          l_vdp_loadSpritePatternNameTable_00101:
  2517  0bcb  ed4bc404          	ld	bc, (__vdpSpriteGeneratorTableAddr)
  2518  0bcf  59                	ld	e, c
  2519  0bd0  3ac604            	ld	a, (__vdpSpriteSizeSelected+0)
  2520  0bd3  b7                	or	a, a
  2521  0bd4  282c              	jr	Z,l_vdp_loadSpritePatternNameTable_00105
  2522  0bd6  7b                	ld	a, e
  2523  0bd7  d3a1              	out	(_IO_VDPLATCH), a
  2524  0bd9  78                	ld	a, b
  2525  0bda  e63f              	and	a,0x3f
  2526  0bdc  f640              	or	a,0x40
  2527  0bde  d3a1              	out	(_IO_VDPLATCH), a
  2528  0be0  dd6e04            	ld	l,(ix+4)
  2529  0be3  dd6605            	ld	h,(ix+5)
  2530  0be6  29                	add	hl, hl
  2531  0be7  29                	add	hl, hl
  2532  0be8  29                	add	hl, hl
  2533  0be9  29                	add	hl, hl
  2534  0bea  29                	add	hl, hl
  2535  0beb  eb                	ex	de,hl
  2536  0bec  010000            	ld	bc,0x0000
  2537                          l_vdp_loadSpritePatternNameTable_00113:
  2538  0bef  79                	ld	a, c
  2539  0bf0  93                	sub	a, e
  2540  0bf1  78                	ld	a, b
  2541  0bf2  9a                	sbc	a, d
  2542  0bf3  3037              	jr	NC,l_vdp_loadSpritePatternNameTable_00118
  2543  0bf5  dd6e06            	ld	l,(ix+6)
  2544  0bf8  dd6607            	ld	h,(ix+7)
  2545  0bfb  09                	add	hl, bc
  2546  0bfc  7e                	ld	a, (hl)
  2547  0bfd  d3a0              	out	(_IO_VDPDATA), a
  2548  0bff  03                	inc	bc
  2549  0c00  18ed              	jr	l_vdp_loadSpritePatternNameTable_00113
  2550                          l_vdp_loadSpritePatternNameTable_00105:
  2551  0c02  7b                	ld	a, e
  2552  0c03  d3a1              	out	(_IO_VDPLATCH), a
  2553  0c05  78                	ld	a, b
  2554  0c06  e63f              	and	a,0x3f
  2555  0c08  f640              	or	a,0x40
  2556  0c0a  d3a1              	out	(_IO_VDPLATCH), a
  2557  0c0c  dd6e04            	ld	l,(ix+4)
  2558  0c0f  dd6605            	ld	h,(ix+5)
  2559  0c12  29                	add	hl, hl
  2560  0c13  29                	add	hl, hl
  2561  0c14  29                	add	hl, hl
  2562  0c15  eb                	ex	de,hl
  2563  0c16  010000            	ld	bc,0x0000
  2564                          l_vdp_loadSpritePatternNameTable_00116:
  2565  0c19  79                	ld	a, c
  2566  0c1a  93                	sub	a, e
  2567  0c1b  78                	ld	a, b
  2568  0c1c  9a                	sbc	a, d
  2569  0c1d  300d              	jr	NC,l_vdp_loadSpritePatternNameTable_00118
  2570  0c1f  dd6e06            	ld	l,(ix+6)
  2571  0c22  dd6607            	ld	h,(ix+7)
  2572  0c25  09                	add	hl, bc
  2573  0c26  7e                	ld	a, (hl)
  2574  0c27  d3a0              	out	(_IO_VDPDATA), a
  2575  0c29  03                	inc	bc
  2576  0c2a  18ed              	jr	l_vdp_loadSpritePatternNameTable_00116
  2577                          l_vdp_loadSpritePatternNameTable_00118:
  2578  0c2c  dde1              	pop	ix
  2579  0c2e  c9                	ret
  2580                          	SECTION code_compiler
  2581                          ;	---------------------------------
  2582                          ; Function vdp_spriteInit
  2583                          ; ---------------------------------
  2584                          _vdp_spriteInit:
  2585  0c2f  dde5              	push	ix
  2586  0c31  dd210000          	ld	ix,0
  2587  0c35  dd39              	add	ix,sp
  2588  0c37  dd6e04            	ld	l,(ix+4)
  2589  0c3a  2600              	ld	h,0x00
  2590  0c3c  29                	add	hl, hl
  2591  0c3d  29                	add	hl, hl
  2592  0c3e  eb                	ex	de, hl
  2593  0c3f  2ac204            	ld	hl, (__vdpSpriteAttributeTableAddr)
  2594  0c42  19                	add	hl, de
  2595  0c43  7d                	ld	a, l
  2596  0c44  d3a1              	out	(_IO_VDPLATCH), a
  2597  0c46  7c                	ld	a, h
  2598  0c47  e63f              	and	a,0x3f
  2599  0c49  f640              	or	a,0x40
  2600  0c4b  d3a1              	out	(_IO_VDPLATCH), a
  2601  0c4d  dd7e07            	ld	a,(ix+7)
  2602  0c50  d3a0              	out	(_IO_VDPDATA), a
  2603  0c52  dd7e06            	ld	a,(ix+6)
  2604  0c55  d3a0              	out	(_IO_VDPDATA), a
  2605  0c57  dd4e05            	ld	c,(ix+5)
  2606  0c5a  3ac604            	ld	a, (__vdpSpriteSizeSelected+0)
  2607  0c5d  b7                	or	a, a
  2608  0c5e  2807              	jr	Z,l_vdp_spriteInit_00102
  2609  0c60  79                	ld	a, c
  2610  0c61  87                	add	a, a
  2611  0c62  87                	add	a, a
  2612  0c63  d3a0              	out	(_IO_VDPDATA), a
  2613  0c65  1803              	jr	l_vdp_spriteInit_00103
  2614                          l_vdp_spriteInit_00102:
  2615  0c67  79                	ld	a, c
  2616  0c68  d3a0              	out	(_IO_VDPDATA), a
  2617                          l_vdp_spriteInit_00103:
  2618  0c6a  dd7e08            	ld	a,(ix+8)
  2619  0c6d  e60f              	and	a,0x0f
  2620  0c6f  d3a0              	out	(_IO_VDPDATA), a
  2621  0c71  dd6e04            	ld	l,(ix+4)
  2622  0c74  dde1              	pop	ix
  2623  0c76  c9                	ret
  2624                          	SECTION code_compiler
  2625                          ;	---------------------------------
  2626                          ; Function vdp_setSpriteColor
  2627                          ; ---------------------------------
  2628                          _vdp_setSpriteColor:
  2629  0c77  fd210200          	ld	iy,2
  2630  0c7b  fd39              	add	iy, sp
  2631  0c7d  fd6e00            	ld	l,(iy+0)
  2632  0c80  2600              	ld	h,0x00
  2633  0c82  29                	add	hl, hl
  2634  0c83  29                	add	hl, hl
  2635  0c84  eb                	ex	de, hl
  2636  0c85  2ac204            	ld	hl, (__vdpSpriteAttributeTableAddr)
  2637  0c88  19                	add	hl, de
  2638  0c89  23                	inc	hl
  2639  0c8a  23                	inc	hl
  2640  0c8b  23                	inc	hl
  2641  0c8c  7d                	ld	a, l
  2642  0c8d  d3a1              	out	(_IO_VDPLATCH), a
  2643  0c8f  7c                	ld	a, h
  2644  0c90  e63f              	and	a,0x3f
  2645  0c92  f640              	or	a,0x40
  2646  0c94  d3a1              	out	(_IO_VDPLATCH), a
  2647  0c96  fd7e01            	ld	a,(iy+0+1)
  2648  0c99  e60f              	and	a,0x0f
  2649  0c9b  d3a0              	out	(_IO_VDPDATA), a
  2650  0c9d  c9                	ret
  2651                          	SECTION code_compiler
  2652                          ;	---------------------------------
  2653                          ; Function vdp_setSpritePosition
  2654                          ; ---------------------------------
  2655                          _vdp_setSpritePosition:
  2656  0c9e  fd210200          	ld	iy,2
  2657  0ca2  fd39              	add	iy, sp
  2658  0ca4  fd6e00            	ld	l,(iy+0)
  2659  0ca7  2600              	ld	h,0x00
  2660  0ca9  29                	add	hl, hl
  2661  0caa  29                	add	hl, hl
  2662  0cab  eb                	ex	de, hl
  2663  0cac  2ac204            	ld	hl, (__vdpSpriteAttributeTableAddr)
  2664  0caf  19                	add	hl, de
  2665  0cb0  7d                	ld	a, l
  2666  0cb1  d3a1              	out	(_IO_VDPLATCH), a
  2667  0cb3  7c                	ld	a, h
  2668  0cb4  e63f              	and	a,0x3f
  2669  0cb6  f640              	or	a,0x40
  2670  0cb8  d3a1              	out	(_IO_VDPLATCH), a
  2671  0cba  fd23              	inc	iy
  2672  0cbc  fd23              	inc	iy
  2673  0cbe  fd7e00            	ld	a,(iy+0)
  2674  0cc1  d3a0              	out	(_IO_VDPDATA), a
  2675  0cc3  fd2b              	dec	iy
  2676  0cc5  fd7e00            	ld	a,(iy+0)
  2677  0cc8  d3a0              	out	(_IO_VDPDATA), a
  2678  0cca  c9                	ret
  2679                          	SECTION code_compiler
  2680                          ;	---------------------------------
  2681                          ; Function vdp_setSpritePositionAndColor
  2682                          ; ---------------------------------
  2683                          _vdp_setSpritePositionAndColor:
  2684  0ccb  fd210200          	ld	iy,2
  2685  0ccf  fd39              	add	iy, sp
  2686  0cd1  fd6e00            	ld	l,(iy+0)
  2687  0cd4  2600              	ld	h,0x00
  2688  0cd6  29                	add	hl, hl
  2689  0cd7  29                	add	hl, hl
  2690  0cd8  eb                	ex	de, hl
  2691  0cd9  2ac204            	ld	hl, (__vdpSpriteAttributeTableAddr)
  2692  0cdc  19                	add	hl, de
  2693  0cdd  7d                	ld	a, l
  2694  0cde  d3a1              	out	(_IO_VDPLATCH), a
  2695  0ce0  7c                	ld	a, h
  2696  0ce1  e63f              	and	a,0x3f
  2697  0ce3  f640              	or	a,0x40
  2698  0ce5  d3a1              	out	(_IO_VDPLATCH), a
  2699  0ce7  fd23              	inc	iy
  2700  0ce9  fd23              	inc	iy
  2701  0ceb  fd7e00            	ld	a,(iy+0)
  2702  0cee  d3a0              	out	(_IO_VDPDATA), a
  2703  0cf0  fd2b              	dec	iy
  2704  0cf2  fd7e00            	ld	a,(iy+0)
  2705  0cf5  d3a0              	out	(_IO_VDPDATA), a
  2706  0cf7  fd2b              	dec	iy
  2707  0cf9  fd7e00            	ld	a,(iy+0)
  2708  0cfc  d3a0              	out	(_IO_VDPDATA), a
  2709  0cfe  fd7e03            	ld	a,(iy+0+1+1+1)
  2710  0d01  e60f              	and	a,0x0f
  2711  0d03  d3a0              	out	(_IO_VDPDATA), a
  2712  0d05  c9                	ret
  2713                          	SECTION code_compiler
  2714                          ;	---------------------------------
  2715                          ; Function vdp_getSpritePosition
  2716                          ; ---------------------------------
  2717                          _vdp_getSpritePosition:
  2718  0d06  fd210200          	ld	iy,2
  2719  0d0a  fd39              	add	iy, sp
  2720  0d0c  fd6e00            	ld	l,(iy+0)
  2721  0d0f  2600              	ld	h,0x00
  2722  0d11  29                	add	hl, hl
  2723  0d12  29                	add	hl, hl
  2724  0d13  eb                	ex	de, hl
  2725  0d14  2ac204            	ld	hl, (__vdpSpriteAttributeTableAddr)
  2726  0d17  19                	add	hl, de
  2727  0d18  7d                	ld	a, l
  2728  0d19  d3a1              	out	(_IO_VDPLATCH), a
  2729  0d1b  7c                	ld	a, h
  2730  0d1c  e63f              	and	a,0x3f
  2731  0d1e  d3a1              	out	(_IO_VDPLATCH), a
  2732  0d20  fd23              	inc	iy
  2733  0d22  fd23              	inc	iy
  2734  0d24  fd23              	inc	iy
  2735  0d26  fd4e00            	ld	c,(iy+0)
  2736  0d29  fd4601            	ld	b,(iy+1)
  2737  0d2c  dba0              	in	a, (_IO_VDPDATA)
  2738  0d2e  02                	ld	(bc), a
  2739  0d2f  fd2b              	dec	iy
  2740  0d31  fd2b              	dec	iy
  2741  0d33  fd4e00            	ld	c,(iy+0)
  2742  0d36  fd4601            	ld	b,(iy+1)
  2743  0d39  dba0              	in	a, (_IO_VDPDATA)
  2744  0d3b  02                	ld	(bc), a
  2745  0d3c  c9                	ret
  2746                          	SECTION code_compiler
  2747                          ;	---------------------------------
  2748                          ; Function vdp_print
  2749                          ; ---------------------------------
  2750                          _vdp_print:
  2751  0d3d  010000            	ld	bc,0x0000
  2752                          l_vdp_print_00103:
  2753  0d40  210200            	ld	hl,2
  2754  0d43  39                	add	hl, sp
  2755  0d44  7e                	ld	a, (hl)
  2756  0d45  23                	inc	hl
  2757  0d46  66                	ld	h, (hl)
  2758  0d47  6f                	ld	l, a
  2759  0d48  09                	add	hl, bc
  2760  0d49  7e                	ld	a, (hl)
  2761  0d4a  b7                	or	a, a
  2762  0d4b  c8                	ret	Z
  2763  0d4c  c5                	push	bc
  2764  0d4d  f5                	push	af
  2765  0d4e  33                	inc	sp
  2766  0d4f  cdaf0e            	call	_vdp_write
  2767  0d52  33                	inc	sp
  2768  0d53  c1                	pop	bc
  2769  0d54  03                	inc	bc
  2770  0d55  18e9              	jr	l_vdp_print_00103
  2771                          	SECTION code_compiler
  2772                          ;	---------------------------------
  2773                          ; Function vdp_printColorized
  2774                          ; ---------------------------------
  2775                          _vdp_printColorized:
  2776  0d57  010000            	ld	bc,0x0000
  2777                          l_vdp_printColorized_00103:
  2778  0d5a  fd210200          	ld	iy,2
  2779  0d5e  fd39              	add	iy, sp
  2780  0d60  fd6e00            	ld	l,(iy+0)
  2781  0d63  fd6601            	ld	h,(iy+1)
  2782  0d66  09                	add	hl, bc
  2783  0d67  7e                	ld	a, (hl)
  2784  0d68  b7                	or	a, a
  2785  0d69  c8                	ret	Z
  2786  0d6a  e5                	push	hl
  2787  0d6b  c5                	push	bc
  2788  0d6c  fd23              	inc	iy
  2789  0d6e  fd23              	inc	iy
  2790  0d70  fd23              	inc	iy
  2791  0d72  fd5600            	ld	d,(iy+0)
  2792  0d75  d5                	push	de
  2793  0d76  33                	inc	sp
  2794  0d77  fd2b              	dec	iy
  2795  0d79  fd5600            	ld	d,(iy+0)
  2796  0d7c  d5                	push	de
  2797  0d7d  33                	inc	sp
  2798  0d7e  f5                	push	af
  2799  0d7f  33                	inc	sp
  2800  0d80  cd5508            	call	_vdp_colorizePattern
  2801  0d83  f1                	pop	af
  2802  0d84  33                	inc	sp
  2803  0d85  c1                	pop	bc
  2804  0d86  e1                	pop	hl
  2805  0d87  7e                	ld	a, (hl)
  2806  0d88  c5                	push	bc
  2807  0d89  f5                	push	af
  2808  0d8a  33                	inc	sp
  2809  0d8b  cdaf0e            	call	_vdp_write
  2810  0d8e  33                	inc	sp
  2811  0d8f  c1                	pop	bc
  2812  0d90  03                	inc	bc
  2813  0d91  18c7              	jr	l_vdp_printColorized_00103
  2814                          	SECTION code_compiler
  2815                          ;	---------------------------------
  2816                          ; Function vdp_printPart
  2817                          ; ---------------------------------
  2818                          _vdp_printPart:
  2819  0d93  dde5              	push	ix
  2820  0d95  dd210000          	ld	ix,0
  2821  0d99  dd39              	add	ix,sp
  2822  0d9b  010000            	ld	bc,0x0000
  2823                          l_vdp_printPart_00103:
  2824  0d9e  79                	ld	a, c
  2825  0d9f  dd9606            	sub	a,(ix+6)
  2826  0da2  78                	ld	a, b
  2827  0da3  dd9e07            	sbc	a,(ix+7)
  2828  0da6  301d              	jr	NC,l_vdp_printPart_00105
  2829  0da8  dd7e04            	ld	a,(ix+4)
  2830  0dab  81                	add	a, c
  2831  0dac  5f                	ld	e, a
  2832  0dad  dd7e05            	ld	a,(ix+5)
  2833  0db0  88                	adc	a, b
  2834  0db1  57                	ld	d, a
  2835  0db2  dd6e08            	ld	l,(ix+8)
  2836  0db5  dd6609            	ld	h,(ix+9)
  2837  0db8  19                	add	hl, de
  2838  0db9  7e                	ld	a, (hl)
  2839  0dba  c5                	push	bc
  2840  0dbb  f5                	push	af
  2841  0dbc  33                	inc	sp
  2842  0dbd  cdaf0e            	call	_vdp_write
  2843  0dc0  33                	inc	sp
  2844  0dc1  c1                	pop	bc
  2845  0dc2  03                	inc	bc
  2846  0dc3  18d9              	jr	l_vdp_printPart_00103
  2847                          l_vdp_printPart_00105:
  2848  0dc5  dde1              	pop	ix
  2849  0dc7  c9                	ret
  2850                          	SECTION code_compiler
  2851                          ;	---------------------------------
  2852                          ; Function vdp_newLine
  2853                          ; ---------------------------------
  2854                          _vdp_newLine:
  2855  0dc8  011f00            	ld	bc,_vdp_cursor + 1
  2856  0dcb  0a                	ld	a, (bc)
  2857  0dcc  fe17              	cp	a,0x17
  2858  0dce  2012              	jr	NZ,l_vdp_newLine_00102
  2859  0dd0  3e17              	ld	a,0x17
  2860  0dd2  f5                	push	af
  2861  0dd3  33                	inc	sp
  2862  0dd4  af                	xor	a, a
  2863  0dd5  f5                	push	af
  2864  0dd6  33                	inc	sp
  2865  0dd7  cde90f            	call	_vdp_scrollTextUp
  2866  0dda  f1                	pop	af
  2867  0ddb  211e00            	ld	hl,_vdp_cursor
  2868  0dde  3600              	ld	(hl),0x00
  2869  0de0  180b              	jr	l_vdp_newLine_00104
  2870                          l_vdp_newLine_00102:
  2871  0de2  3c                	inc	a
  2872  0de3  02                	ld	(bc), a
  2873  0de4  f5                	push	af
  2874  0de5  33                	inc	sp
  2875  0de6  af                	xor	a, a
  2876  0de7  f5                	push	af
  2877  0de8  33                	inc	sp
  2878  0de9  cdfa0d            	call	_vdp_setCursor2
  2879  0dec  f1                	pop	af
  2880                          l_vdp_newLine_00104:
  2881  0ded  c9                	ret
  2882                          	SECTION code_compiler
  2883                          ;	---------------------------------
  2884                          ; Function vdp_setBackDropColor
  2885                          ; ---------------------------------
  2886                          _vdp_setBackDropColor:
  2887  0dee  210200            	ld	hl,2+0
  2888  0df1  39                	add	hl, sp
  2889  0df2  7e                	ld	a, (hl)
  2890  0df3  d3a1              	out	(_IO_VDPLATCH), a
  2891  0df5  3e87              	ld	a,0x87
  2892  0df7  d3a1              	out	(_IO_VDPLATCH), a
  2893  0df9  c9                	ret
  2894                          	SECTION code_compiler
  2895                          ;	---------------------------------
  2896                          ; Function vdp_setCursor2
  2897                          ; ---------------------------------
  2898                          _vdp_setCursor2:
  2899  0dfa  dde5              	push	ix
  2900  0dfc  dd210000          	ld	ix,0
  2901  0e00  dd39              	add	ix,sp
  2902  0e02  3acd04            	ld	a,(__vdpCursorMaxX)
  2903  0e05  dd9604            	sub	a,(ix+4)
  2904  0e08  3007              	jr	NC,l_vdp_setCursor2_00102
  2905  0e0a  dd360400          	ld	(ix+4),0x00
  2906  0e0e  dd3405            	inc	(ix+5)
  2907                          l_vdp_setCursor2_00102:
  2908  0e11  3a0000            	ld	a, (__vdpCursorMaxY+0)
  2909  0e14  dd9605            	sub	a,(ix+5)
  2910  0e17  3004              	jr	NC,l_vdp_setCursor2_00104
  2911  0e19  dd360500          	ld	(ix+5),0x00
  2912                          l_vdp_setCursor2_00104:
  2913  0e1d  211e00            	ld	hl,_vdp_cursor
  2914  0e20  dd7e04            	ld	a,(ix+4)
  2915  0e23  77                	ld	(hl), a
  2916  0e24  211f00            	ld	hl, +(_vdp_cursor + 1)
  2917  0e27  dd7e05            	ld	a,(ix+5)
  2918  0e2a  77                	ld	(hl), a
  2919  0e2b  dde1              	pop	ix
  2920  0e2d  c9                	ret
  2921                          	SECTION code_compiler
  2922                          ;	---------------------------------
  2923                          ; Function vdp_setCursor
  2924                          ; ---------------------------------
  2925                          _vdp_setCursor:
  2926  0e2e  fd210200          	ld	iy,2
  2927  0e32  fd39              	add	iy, sp
  2928  0e34  fd7e00            	ld	a,(iy+0)
  2929  0e37  b7                	or	a, a
  2930  0e38  2816              	jr	Z,l_vdp_setCursor_00101
  2931  0e3a  fd7e00            	ld	a,(iy+0)
  2932  0e3d  3d                	dec	a
  2933  0e3e  2822              	jr	Z,l_vdp_setCursor_00102
  2934  0e40  fd7e00            	ld	a,(iy+0)
  2935  0e43  d602              	sub	a,0x02
  2936  0e45  282d              	jr	Z,l_vdp_setCursor_00103
  2937  0e47  fd7e00            	ld	a,(iy+0)
  2938  0e4a  d603              	sub	a,0x03
  2939  0e4c  2838              	jr	Z,l_vdp_setCursor_00104
  2940  0e4e  1846              	jr	l_vdp_setCursor_00106
  2941                          l_vdp_setCursor_00101:
  2942  0e50  3a1f00            	ld	a, (_vdp_cursor + 1)
  2943  0e53  3d                	dec	a
  2944  0e54  211e00            	ld	hl,_vdp_cursor + 0
  2945  0e57  46                	ld	b, (hl)
  2946  0e58  f5                	push	af
  2947  0e59  33                	inc	sp
  2948  0e5a  c5                	push	bc
  2949  0e5b  33                	inc	sp
  2950  0e5c  cdfa0d            	call	_vdp_setCursor2
  2951  0e5f  f1                	pop	af
  2952  0e60  1834              	jr	l_vdp_setCursor_00106
  2953                          l_vdp_setCursor_00102:
  2954  0e62  3a1f00            	ld	a, (_vdp_cursor + 1)
  2955  0e65  3c                	inc	a
  2956  0e66  211e00            	ld	hl,_vdp_cursor + 0
  2957  0e69  46                	ld	b, (hl)
  2958  0e6a  f5                	push	af
  2959  0e6b  33                	inc	sp
  2960  0e6c  c5                	push	bc
  2961  0e6d  33                	inc	sp
  2962  0e6e  cdfa0d            	call	_vdp_setCursor2
  2963  0e71  f1                	pop	af
  2964  0e72  1822              	jr	l_vdp_setCursor_00106
  2965                          l_vdp_setCursor_00103:
  2966  0e74  211f00            	ld	hl,_vdp_cursor + 1
  2967  0e77  46                	ld	b, (hl)
  2968  0e78  3a1e00            	ld	a, (_vdp_cursor + 0)
  2969  0e7b  3d                	dec	a
  2970  0e7c  c5                	push	bc
  2971  0e7d  33                	inc	sp
  2972  0e7e  f5                	push	af
  2973  0e7f  33                	inc	sp
  2974  0e80  cdfa0d            	call	_vdp_setCursor2
  2975  0e83  f1                	pop	af
  2976  0e84  1810              	jr	l_vdp_setCursor_00106
  2977                          l_vdp_setCursor_00104:
  2978  0e86  211f00            	ld	hl,_vdp_cursor + 1
  2979  0e89  46                	ld	b, (hl)
  2980  0e8a  3a1e00            	ld	a, (_vdp_cursor + 0)
  2981  0e8d  3c                	inc	a
  2982  0e8e  c5                	push	bc
  2983  0e8f  33                	inc	sp
  2984  0e90  f5                	push	af
  2985  0e91  33                	inc	sp
  2986  0e92  cdfa0d            	call	_vdp_setCursor2
  2987  0e95  f1                	pop	af
  2988                          l_vdp_setCursor_00106:
  2989  0e96  c9                	ret
  2990                          	SECTION code_compiler
  2991                          ;	---------------------------------
  2992                          ; Function vdp_setTextColor
  2993                          ; ---------------------------------
  2994                          _vdp_setTextColor:
  2995  0e97  fd210200          	ld	iy,2
  2996  0e9b  fd39              	add	iy, sp
  2997  0e9d  fd7e00            	ld	a,(iy+0)
  2998  0ea0  87                	add	a, a
  2999  0ea1  87                	add	a, a
  3000  0ea2  87                	add	a, a
  3001  0ea3  87                	add	a, a
  3002  0ea4  fd4e01            	ld	c,(iy+0+1)
  3003  0ea7  81                	add	a, c
  3004  0ea8  d3a1              	out	(_IO_VDPLATCH), a
  3005  0eaa  3e87              	ld	a,0x87
  3006  0eac  d3a1              	out	(_IO_VDPLATCH), a
  3007  0eae  c9                	ret
  3008                          	SECTION code_compiler
  3009                          ;	---------------------------------
  3010                          ; Function vdp_write
  3011                          ; ---------------------------------
  3012                          _vdp_write:
  3013  0eaf  dde5              	push	ix
  3014  0eb1  dd210000          	ld	ix,0
  3015  0eb5  dd39              	add	ix,sp
  3016  0eb7  211f00            	ld	hl, +(_vdp_cursor + 1) + 0
  3017  0eba  5e                	ld	e, (hl)
  3018  0ebb  21ce04            	ld	hl,__vdpCursorMaxXFull + 0
  3019  0ebe  66                	ld	h, (hl)
  3020  0ebf  2e00              	ld	l,0x00
  3021  0ec1  55                	ld	d, l
  3022  0ec2  0608              	ld	b,0x08
  3023                          l_vdp_write_00123:
  3024  0ec4  29                	add	hl, hl
  3025  0ec5  3001              	jr	NC,l_vdp_write_00124
  3026  0ec7  19                	add	hl, de
  3027                          l_vdp_write_00124:
  3028  0ec8  10fa              	djnz	l_vdp_write_00123
  3029  0eca  eb                	ex	de, hl
  3030  0ecb  3a1e00            	ld	a, (_vdp_cursor + 0)
  3031  0ece  6f                	ld	l, a
  3032  0ecf  2600              	ld	h,0x00
  3033  0ed1  19                	add	hl, de
  3034  0ed2  eb                	ex	de, hl
  3035  0ed3  2ac704            	ld	hl, (__vdpPatternNameTableAddr)
  3036  0ed6  19                	add	hl, de
  3037  0ed7  7d                	ld	a, l
  3038  0ed8  d3a1              	out	(_IO_VDPLATCH), a
  3039  0eda  7c                	ld	a, h
  3040  0edb  e63f              	and	a,0x3f
  3041  0edd  f640              	or	a,0x40
  3042  0edf  d3a1              	out	(_IO_VDPLATCH), a
  3043  0ee1  dd7e04            	ld	a,(ix+4)
  3044  0ee4  d3a0              	out	(_IO_VDPDATA), a
  3045  0ee6  210001            	ld	hl,__vdp_textBuffer+0
  3046  0ee9  19                	add	hl, de
  3047  0eea  dd7e04            	ld	a,(ix+4)
  3048  0eed  77                	ld	(hl), a
  3049  0eee  3ad004            	ld	a, (__autoScroll+0)
  3050  0ef1  b7                	or	a, a
  3051  0ef2  2821              	jr	Z,l_vdp_write_00102
  3052  0ef4  211e00            	ld	hl,_vdp_cursor + 0
  3053  0ef7  46                	ld	b, (hl)
  3054  0ef8  3acd04            	ld	a, (__vdpCursorMaxX+0)
  3055  0efb  90                	sub	a, b
  3056  0efc  2017              	jr	NZ,l_vdp_write_00102
  3057  0efe  3a1f00            	ld	a, ((_vdp_cursor + 1) + 0)
  3058  0f01  d617              	sub	a,0x17
  3059  0f03  2010              	jr	NZ,l_vdp_write_00102
  3060  0f05  3e17              	ld	a,0x17
  3061  0f07  f5                	push	af
  3062  0f08  33                	inc	sp
  3063  0f09  af                	xor	a, a
  3064  0f0a  f5                	push	af
  3065  0f0b  33                	inc	sp
  3066  0f0c  cde90f            	call	_vdp_scrollTextUp
  3067  0f0f  f1                	pop	af
  3068  0f10  211e00            	ld	hl,_vdp_cursor
  3069  0f13  3600              	ld	(hl),0x00
  3070                          l_vdp_write_00102:
  3071  0f15  3e03              	ld	a,0x03
  3072  0f17  f5                	push	af
  3073  0f18  33                	inc	sp
  3074  0f19  cd2e0e            	call	_vdp_setCursor
  3075  0f1c  33                	inc	sp
  3076  0f1d  dde1              	pop	ix
  3077  0f1f  c9                	ret
  3078                          	SECTION code_compiler
  3079                          ;	---------------------------------
  3080                          ; Function vdp_writeCharAtLocation
  3081                          ; ---------------------------------
  3082                          _vdp_writeCharAtLocation:
  3083  0f20  dde5              	push	ix
  3084  0f22  dd210000          	ld	ix,0
  3085  0f26  dd39              	add	ix,sp
  3086  0f28  21ce04            	ld	hl,__vdpCursorMaxXFull + 0
  3087  0f2b  5e                	ld	e, (hl)
  3088  0f2c  dd6605            	ld	h,(ix+5)
  3089  0f2f  2e00              	ld	l,0x00
  3090  0f31  55                	ld	d, l
  3091  0f32  0608              	ld	b,0x08
  3092                          l_vdp_writeCharAtLocation_00104:
  3093  0f34  29                	add	hl, hl
  3094  0f35  3001              	jr	NC,l_vdp_writeCharAtLocation_00105
  3095  0f37  19                	add	hl, de
  3096                          l_vdp_writeCharAtLocation_00105:
  3097  0f38  10fa              	djnz	l_vdp_writeCharAtLocation_00104
  3098  0f3a  dd4e04            	ld	c,(ix+4)
  3099  0f3d  0600              	ld	b,0x00
  3100  0f3f  09                	add	hl, bc
  3101  0f40  eb                	ex	de, hl
  3102  0f41  210001            	ld	hl,__vdp_textBuffer
  3103  0f44  19                	add	hl, de
  3104  0f45  dd7e06            	ld	a,(ix+6)
  3105  0f48  77                	ld	(hl), a
  3106  0f49  2ac704            	ld	hl, (__vdpPatternNameTableAddr)
  3107  0f4c  19                	add	hl, de
  3108  0f4d  7d                	ld	a, l
  3109  0f4e  d3a1              	out	(_IO_VDPLATCH), a
  3110  0f50  7c                	ld	a, h
  3111  0f51  e63f              	and	a,0x3f
  3112  0f53  f640              	or	a,0x40
  3113  0f55  d3a1              	out	(_IO_VDPLATCH), a
  3114  0f57  dd7e06            	ld	a,(ix+6)
  3115  0f5a  d3a0              	out	(_IO_VDPDATA), a
  3116  0f5c  dde1              	pop	ix
  3117  0f5e  c9                	ret
  3118                          	SECTION code_compiler
  3119                          ;	---------------------------------
  3120                          ; Function vdp_getCharAtLocationVRAM
  3121                          ; ---------------------------------
  3122                          _vdp_getCharAtLocationVRAM:
  3123  0f5f  dde5              	push	ix
  3124  0f61  dd210000          	ld	ix,0
  3125  0f65  dd39              	add	ix,sp
  3126  0f67  21ce04            	ld	hl,__vdpCursorMaxXFull + 0
  3127  0f6a  5e                	ld	e, (hl)
  3128  0f6b  dd6605            	ld	h,(ix+5)
  3129  0f6e  2e00              	ld	l,0x00
  3130  0f70  55                	ld	d, l
  3131  0f71  0608              	ld	b,0x08
  3132                          l_vdp_getCharAtLocationVRAM_00104:
  3133  0f73  29                	add	hl, hl
  3134  0f74  3001              	jr	NC,l_vdp_getCharAtLocationVRAM_00105
  3135  0f76  19                	add	hl, de
  3136                          l_vdp_getCharAtLocationVRAM_00105:
  3137  0f77  10fa              	djnz	l_vdp_getCharAtLocationVRAM_00104
  3138  0f79  dd4e04            	ld	c,(ix+4)
  3139  0f7c  0600              	ld	b,0x00
  3140  0f7e  09                	add	hl, bc
  3141  0f7f  eb                	ex	de, hl
  3142  0f80  2ac704            	ld	hl, (__vdpPatternNameTableAddr)
  3143  0f83  19                	add	hl, de
  3144  0f84  7d                	ld	a, l
  3145  0f85  d3a1              	out	(_IO_VDPLATCH), a
  3146  0f87  7c                	ld	a, h
  3147  0f88  e63f              	and	a,0x3f
  3148  0f8a  d3a1              	out	(_IO_VDPLATCH), a
  3149  0f8c  dba0              	in	a, (_IO_VDPDATA)
  3150  0f8e  6f                	ld	l, a
  3151  0f8f  dde1              	pop	ix
  3152  0f91  c9                	ret
  3153                          	SECTION code_compiler
  3154                          ;	---------------------------------
  3155                          ; Function vdp_getCharAtLocationBuf
  3156                          ; ---------------------------------
  3157                          _vdp_getCharAtLocationBuf:
  3158  0f92  dde5              	push	ix
  3159  0f94  dd210000          	ld	ix,0
  3160  0f98  dd39              	add	ix,sp
  3161  0f9a  21ce04            	ld	hl,__vdpCursorMaxXFull + 0
  3162  0f9d  5e                	ld	e, (hl)
  3163  0f9e  dd6605            	ld	h,(ix+5)
  3164  0fa1  2e00              	ld	l,0x00
  3165  0fa3  55                	ld	d, l
  3166  0fa4  0608              	ld	b,0x08
  3167                          l_vdp_getCharAtLocationBuf_00103:
  3168  0fa6  29                	add	hl, hl
  3169  0fa7  3001              	jr	NC,l_vdp_getCharAtLocationBuf_00104
  3170  0fa9  19                	add	hl, de
  3171                          l_vdp_getCharAtLocationBuf_00104:
  3172  0faa  10fa              	djnz	l_vdp_getCharAtLocationBuf_00103
  3173  0fac  eb                	ex	de, hl
  3174  0fad  210001            	ld	hl,__vdp_textBuffer
  3175  0fb0  19                	add	hl, de
  3176  0fb1  eb                	ex	de, hl
  3177  0fb2  dd6e04            	ld	l,(ix+4)
  3178  0fb5  2600              	ld	h,0x00
  3179  0fb7  19                	add	hl, de
  3180  0fb8  6e                	ld	l, (hl)
  3181  0fb9  dde1              	pop	ix
  3182  0fbb  c9                	ret
  3183                          	SECTION code_compiler
  3184                          ;	---------------------------------
  3185                          ; Function vdp_setCharAtLocationBuf
  3186                          ; ---------------------------------
  3187                          _vdp_setCharAtLocationBuf:
  3188  0fbc  dde5              	push	ix
  3189  0fbe  dd210000          	ld	ix,0
  3190  0fc2  dd39              	add	ix,sp
  3191  0fc4  21ce04            	ld	hl,__vdpCursorMaxXFull + 0
  3192  0fc7  5e                	ld	e, (hl)
  3193  0fc8  dd6605            	ld	h,(ix+5)
  3194  0fcb  2e00              	ld	l,0x00
  3195  0fcd  55                	ld	d, l
  3196  0fce  0608              	ld	b,0x08
  3197                          l_vdp_setCharAtLocationBuf_00103:
  3198  0fd0  29                	add	hl, hl
  3199  0fd1  3001              	jr	NC,l_vdp_setCharAtLocationBuf_00104
  3200  0fd3  19                	add	hl, de
  3201                          l_vdp_setCharAtLocationBuf_00104:
  3202  0fd4  10fa              	djnz	l_vdp_setCharAtLocationBuf_00103
  3203  0fd6  eb                	ex	de, hl
  3204  0fd7  210001            	ld	hl,__vdp_textBuffer
  3205  0fda  19                	add	hl, de
  3206  0fdb  eb                	ex	de, hl
  3207  0fdc  dd6e04            	ld	l,(ix+4)
  3208  0fdf  2600              	ld	h,0x00
  3209  0fe1  19                	add	hl, de
  3210  0fe2  dd7e06            	ld	a,(ix+6)
  3211  0fe5  77                	ld	(hl), a
  3212  0fe6  dde1              	pop	ix
  3213  0fe8  c9                	ret
  3214                          	SECTION code_compiler
  3215                          ;	---------------------------------
  3216                          ; Function vdp_scrollTextUp
  3217                          ; ---------------------------------
  3218                          _vdp_scrollTextUp:
  3219  0fe9  dde5              	push	ix
  3220  0feb  dd210000          	ld	ix,0
  3221  0fef  dd39              	add	ix,sp
  3222  0ff1  21ce04            	ld	hl,__vdpCursorMaxXFull + 0
  3223  0ff4  5e                	ld	e, (hl)
  3224  0ff5  dd6604            	ld	h,(ix+4)
  3225  0ff8  2e00              	ld	l,0x00
  3226  0ffa  55                	ld	d, l
  3227  0ffb  0608              	ld	b,0x08
  3228                          l_vdp_scrollTextUp_00126:
  3229  0ffd  29                	add	hl, hl
  3230  0ffe  3001              	jr	NC,l_vdp_scrollTextUp_00127
  3231  1000  19                	add	hl, de
  3232                          l_vdp_scrollTextUp_00127:
  3233  1001  10fa              	djnz	l_vdp_scrollTextUp_00126
  3234  1003  eb                	ex	de, hl
  3235  1004  4b                	ld	c, e
  3236  1005  42                	ld	b, d
  3237  1006  fd2ac704          	ld	iy, (__vdpPatternNameTableAddr)
  3238  100a  fd09              	add	iy, bc
  3239  100c  fde5              	push	iy
  3240  100e  c1                	pop	bc
  3241  100f  79                	ld	a, c
  3242  1010  d3a1              	out	(_IO_VDPLATCH), a
  3243  1012  78                	ld	a, b
  3244  1013  e63f              	and	a,0x3f
  3245  1015  f640              	or	a,0x40
  3246  1017  d3a1              	out	(_IO_VDPLATCH), a
  3247  1019  210001            	ld	hl,__vdp_textBuffer
  3248  101c  19                	add	hl, de
  3249  101d  eb                	ex	de, hl
  3250  101e  2ace04            	ld	hl, (__vdpCursorMaxXFull)
  3251  1021  2600              	ld	h,0x00
  3252  1023  19                	add	hl, de
  3253  1024  e5                	push	hl
  3254  1025  fde1              	pop	iy
  3255  1027  dd4e05            	ld	c,(ix+5)
  3256  102a  0600              	ld	b,0x00
  3257  102c  03                	inc	bc
  3258  102d  3ace04            	ld	a, (__vdpCursorMaxXFull+0)
  3259  1030  2600              	ld	h,0x00
  3260  1032  d5                	push	de
  3261  1033  fde5              	push	iy
  3262  1035  6f                	ld	l, a
  3263  1036  e5                	push	hl
  3264  1037  c5                	push	bc
  3265  1038  cd0000            	call	__mulint_callee
  3266  103b  fde1              	pop	iy
  3267  103d  d1                	pop	de
  3268  103e  010001            	ld	bc,__vdp_textBuffer
  3269  1041  09                	add	hl, bc
  3270  1042  4d                	ld	c, l
  3271  1043  44                	ld	b, h
  3272  1044  eb                	ex	de, hl
  3273  1045  fde5              	push	iy
  3274  1047  d1                	pop	de
  3275                          l_vdp_scrollTextUp_00101:
  3276  1048  1a                	ld	a, (de)
  3277  1049  77                	ld	(hl), a
  3278  104a  d3a0              	out	(_IO_VDPDATA), a
  3279  104c  23                	inc	hl
  3280  104d  13                	inc	de
  3281  104e  7b                	ld	a, e
  3282  104f  91                	sub	a, c
  3283  1050  20f6              	jr	NZ,l_vdp_scrollTextUp_00101
  3284  1052  7a                	ld	a, d
  3285  1053  90                	sub	a, b
  3286  1054  20f2              	jr	NZ,l_vdp_scrollTextUp_00101
  3287  1056  eb                	ex	de, hl
  3288                          l_vdp_scrollTextUp_00104:
  3289  1057  3e20              	ld	a,0x20
  3290  1059  12                	ld	(de),a
  3291  105a  d3a0              	out	(_IO_VDPDATA), a
  3292  105c  13                	inc	de
  3293  105d  6b                	ld	l, e
  3294  105e  62                	ld	h, d
  3295  105f  bf                	cp	a, a
  3296  1060  ed42              	sbc	hl, bc
  3297  1062  20f3              	jr	NZ,l_vdp_scrollTextUp_00104
  3298  1064  dde1              	pop	ix
  3299  1066  c9                	ret
  3300                          	SECTION code_compiler
  3301                          ;	---------------------------------
  3302                          ; Function vdp_scrollTextDown
  3303                          ; ---------------------------------
  3304                          _vdp_scrollTextDown:
  3305  1067  dde5              	push	ix
  3306  1069  dd210000          	ld	ix,0
  3307  106d  dd39              	add	ix,sp
  3308  106f  f5                	push	af
  3309  1070  fd21ce04          	ld	iy,__vdpCursorMaxXFull
  3310  1074  fd5e00            	ld	e,(iy+0)
  3311  1077  dd6605            	ld	h,(ix+5)
  3312  107a  2e00              	ld	l,0x00
  3313  107c  55                	ld	d, l
  3314  107d  0608              	ld	b,0x08
  3315                          l_vdp_scrollTextDown_00140:
  3316  107f  29                	add	hl, hl
  3317  1080  3001              	jr	NC,l_vdp_scrollTextDown_00141
  3318  1082  19                	add	hl, de
  3319                          l_vdp_scrollTextDown_00141:
  3320  1083  10fa              	djnz	l_vdp_scrollTextDown_00140
  3321  1085  110001            	ld	de,__vdp_textBuffer
  3322  1088  19                	add	hl, de
  3323  1089  2b                	dec	hl
  3324  108a  eb                	ex	de, hl
  3325  108b  3ace04            	ld	a, (__vdpCursorMaxXFull+0)
  3326  108e  83                	add	a, e
  3327  108f  4f                	ld	c, a
  3328  1090  3e00              	ld	a,0x00
  3329  1092  8a                	adc	a, d
  3330  1093  47                	ld	b, a
  3331  1094  d5                	push	de
  3332  1095  c5                	push	bc
  3333  1096  fd5e00            	ld	e,(iy+0)
  3334  1099  dd6604            	ld	h,(ix+4)
  3335  109c  2e00              	ld	l,0x00
  3336  109e  55                	ld	d, l
  3337  109f  0608              	ld	b,0x08
  3338                          l_vdp_scrollTextDown_00142:
  3339  10a1  29                	add	hl, hl
  3340  10a2  3001              	jr	NC,l_vdp_scrollTextDown_00143
  3341  10a4  19                	add	hl, de
  3342                          l_vdp_scrollTextDown_00143:
  3343  10a5  10fa              	djnz	l_vdp_scrollTextDown_00142
  3344  10a7  c1                	pop	bc
  3345  10a8  d1                	pop	de
  3346  10a9  3eff              	ld	a, +((__vdp_textBuffer - 1) & 0xFF)
  3347  10ab  85                	add	a, l
  3348  10ac  6f                	ld	l, a
  3349  10ad  3e00              	ld	a, +((__vdp_textBuffer - 1) / 256)
  3350  10af  8c                	adc	a, h
  3351  10b0  67                	ld	h, a
  3352  10b1  e3                	ex	(sp), hl
  3353                          l_vdp_scrollTextDown_00101:
  3354  10b2  1a                	ld	a, (de)
  3355  10b3  02                	ld	(bc), a
  3356  10b4  0b                	dec	bc
  3357  10b5  1b                	dec	de
  3358  10b6  e1                	pop	hl
  3359  10b7  e5                	push	hl
  3360  10b8  bf                	cp	a, a
  3361  10b9  ed52              	sbc	hl, de
  3362  10bb  20f5              	jr	NZ,l_vdp_scrollTextDown_00101
  3363                          l_vdp_scrollTextDown_00104:
  3364  10bd  3e20              	ld	a,0x20
  3365  10bf  02                	ld	(bc), a
  3366  10c0  0b                	dec	bc
  3367  10c1  e1                	pop	hl
  3368  10c2  e5                	push	hl
  3369  10c3  bf                	cp	a, a
  3370  10c4  ed42              	sbc	hl, bc
  3371  10c6  20f5              	jr	NZ,l_vdp_scrollTextDown_00104
  3372  10c8  21ce04            	ld	hl,__vdpCursorMaxXFull + 0
  3373  10cb  5e                	ld	e, (hl)
  3374  10cc  dd6604            	ld	h,(ix+4)
  3375  10cf  2e00              	ld	l,0x00
  3376  10d1  55                	ld	d, l
  3377  10d2  0608              	ld	b,0x08
  3378                          l_vdp_scrollTextDown_00148:
  3379  10d4  29                	add	hl, hl
  3380  10d5  3001              	jr	NC,l_vdp_scrollTextDown_00149
  3381  10d7  19                	add	hl, de
  3382                          l_vdp_scrollTextDown_00149:
  3383  10d8  10fa              	djnz	l_vdp_scrollTextDown_00148
  3384  10da  4d                	ld	c, l
  3385  10db  44                	ld	b, h
  3386  10dc  fd2ac704          	ld	iy, (__vdpPatternNameTableAddr)
  3387  10e0  fd09              	add	iy, bc
  3388  10e2  fde5              	push	iy
  3389  10e4  c1                	pop	bc
  3390  10e5  79                	ld	a, c
  3391  10e6  d3a1              	out	(_IO_VDPLATCH), a
  3392  10e8  78                	ld	a, b
  3393  10e9  e63f              	and	a,0x3f
  3394  10eb  f640              	or	a,0x40
  3395  10ed  d3a1              	out	(_IO_VDPLATCH), a
  3396  10ef  110001            	ld	de,__vdp_textBuffer
  3397  10f2  19                	add	hl, de
  3398  10f3  eb                	ex	de, hl
  3399  10f4  dd4e05            	ld	c,(ix+5)
  3400  10f7  0600              	ld	b,0x00
  3401  10f9  03                	inc	bc
  3402  10fa  3ace04            	ld	a, (__vdpCursorMaxXFull+0)
  3403  10fd  2600              	ld	h,0x00
  3404  10ff  d5                	push	de
  3405  1100  6f                	ld	l, a
  3406  1101  e5                	push	hl
  3407  1102  c5                	push	bc
  3408  1103  cd0000            	call	__mulint_callee
  3409  1106  d1                	pop	de
  3410  1107  010001            	ld	bc,__vdp_textBuffer
  3411  110a  09                	add	hl, bc
  3412  110b  4d                	ld	c, l
  3413  110c  44                	ld	b, h
  3414                          l_vdp_scrollTextDown_00107:
  3415  110d  1a                	ld	a, (de)
  3416  110e  d3a0              	out	(_IO_VDPDATA), a
  3417  1110  13                	inc	de
  3418  1111  6b                	ld	l, e
  3419  1112  62                	ld	h, d
  3420  1113  bf                	cp	a, a
  3421  1114  ed42              	sbc	hl, bc
  3422  1116  20f5              	jr	NZ,l_vdp_scrollTextDown_00107
  3423  1118  ddf9              	ld	sp, ix
  3424  111a  dde1              	pop	ix
  3425  111c  c9                	ret
  3426                          	SECTION code_compiler
  3427                          ;	---------------------------------
  3428                          ; Function vdp_writeUInt32
  3429                          ; ---------------------------------
  3430                          _vdp_writeUInt32:
  3431  111d  dde5              	push	ix
  3432  111f  dd210000          	ld	ix,0
  3433  1123  dd39              	add	ix,sp
  3434  1125  21dfff            	ld	hl, -33
  3435  1128  39                	add	hl, sp
  3436  1129  f9                	ld	sp, hl
  3437  112a  dd4e04            	ld	c,(ix+4)
  3438  112d  dd4605            	ld	b,(ix+5)
  3439  1130  c5                	push	bc
  3440  1131  210200            	ld	hl,2
  3441  1134  39                	add	hl, sp
  3442  1135  e5                	push	hl
  3443  1136  210a00            	ld	hl,0x000a
  3444  1139  e5                	push	hl
  3445  113a  cd0000            	call	_utoa_callee
  3446  113d  dd36e900          	ld	(ix-23),0x00
  3447  1141  210000            	ld	hl,0
  3448  1144  39                	add	hl, sp
  3449  1145  e5                	push	hl
  3450  1146  cd3d0d            	call	_vdp_print
  3451  1149  ddf9              	ld	sp,ix
  3452  114b  dde1              	pop	ix
  3453  114d  c9                	ret
  3454                          	SECTION code_compiler
  3455                          ;	---------------------------------
  3456                          ; Function vdp_writeInt32
  3457                          ; ---------------------------------
  3458                          _vdp_writeInt32:
  3459  114e  dde5              	push	ix
  3460  1150  dd210000          	ld	ix,0
  3461  1154  dd39              	add	ix,sp
  3462  1156  21dfff            	ld	hl, -33
  3463  1159  39                	add	hl, sp
  3464  115a  f9                	ld	sp, hl
  3465  115b  dd4e04            	ld	c,(ix+4)
  3466  115e  dd4605            	ld	b,(ix+5)
  3467  1161  c5                	push	bc
  3468  1162  210200            	ld	hl,2
  3469  1165  39                	add	hl, sp
  3470  1166  e5                	push	hl
  3471  1167  210a00            	ld	hl,0x000a
  3472  116a  e5                	push	hl
  3473  116b  cd0000            	call	_itoa_callee
  3474  116e  dd36ea00          	ld	(ix-22),0x00
  3475  1172  210000            	ld	hl,0
  3476  1175  39                	add	hl, sp
  3477  1176  e5                	push	hl
  3478  1177  cd3d0d            	call	_vdp_print
  3479  117a  ddf9              	ld	sp,ix
  3480  117c  dde1              	pop	ix
  3481  117e  c9                	ret
  3482                          	SECTION code_compiler
  3483                          ;	---------------------------------
  3484                          ; Function vdp_writeUInt16
  3485                          ; ---------------------------------
  3486                          _vdp_writeUInt16:
  3487  117f  21efff            	ld	hl, -17
  3488  1182  39                	add	hl, sp
  3489  1183  f9                	ld	sp, hl
  3490  1184  211300            	ld	hl,19
  3491  1187  39                	add	hl, sp
  3492  1188  4e                	ld	c, (hl)
  3493  1189  23                	inc	hl
  3494  118a  46                	ld	b, (hl)
  3495  118b  c5                	push	bc
  3496  118c  210200            	ld	hl,2
  3497  118f  39                	add	hl, sp
  3498  1190  e5                	push	hl
  3499  1191  210a00            	ld	hl,0x000a
  3500  1194  e5                	push	hl
  3501  1195  cd0000            	call	_utoa_callee
  3502  1198  210500            	ld	hl,5
  3503  119b  39                	add	hl, sp
  3504  119c  eb                	ex	de, hl
  3505  119d  af                	xor	a, a
  3506  119e  12                	ld	(de), a
  3507  119f  210000            	ld	hl,0
  3508  11a2  39                	add	hl, sp
  3509  11a3  e5                	push	hl
  3510  11a4  cd3d0d            	call	_vdp_print
  3511  11a7  f1                	pop	af
  3512  11a8  211100            	ld	hl,17
  3513  11ab  39                	add	hl, sp
  3514  11ac  f9                	ld	sp, hl
  3515  11ad  c9                	ret
  3516                          	SECTION code_compiler
  3517                          ;	---------------------------------
  3518                          ; Function vdp_writeInt16
  3519                          ; ---------------------------------
  3520                          _vdp_writeInt16:
  3521  11ae  21efff            	ld	hl, -17
  3522  11b1  39                	add	hl, sp
  3523  11b2  f9                	ld	sp, hl
  3524  11b3  211300            	ld	hl,19
  3525  11b6  39                	add	hl, sp
  3526  11b7  4e                	ld	c, (hl)
  3527  11b8  23                	inc	hl
  3528  11b9  46                	ld	b, (hl)
  3529  11ba  c5                	push	bc
  3530  11bb  210200            	ld	hl,2
  3531  11be  39                	add	hl, sp
  3532  11bf  e5                	push	hl
  3533  11c0  210a00            	ld	hl,0x000a
  3534  11c3  e5                	push	hl
  3535  11c4  cd0000            	call	_itoa_callee
  3536  11c7  210600            	ld	hl,6
  3537  11ca  39                	add	hl, sp
  3538  11cb  eb                	ex	de, hl
  3539  11cc  af                	xor	a, a
  3540  11cd  12                	ld	(de), a
  3541  11ce  210000            	ld	hl,0
  3542  11d1  39                	add	hl, sp
  3543  11d2  e5                	push	hl
  3544  11d3  cd3d0d            	call	_vdp_print
  3545  11d6  f1                	pop	af
  3546  11d7  211100            	ld	hl,17
  3547  11da  39                	add	hl, sp
  3548  11db  f9                	ld	sp, hl
  3549  11dc  c9                	ret
  3550                          	SECTION code_compiler
  3551                          ;	---------------------------------
  3552                          ; Function vdp_writeUInt8
  3553                          ; ---------------------------------
  3554                          _vdp_writeUInt8:
  3555  11dd  dde5              	push	ix
  3556  11df  dd210000          	ld	ix,0
  3557  11e3  dd39              	add	ix,sp
  3558  11e5  21f7ff            	ld	hl, -9
  3559  11e8  39                	add	hl, sp
  3560  11e9  f9                	ld	sp, hl
  3561  11ea  210000            	ld	hl,0
  3562  11ed  39                	add	hl, sp
  3563  11ee  eb                	ex	de, hl
  3564  11ef  af                	xor	a, a
  3565  11f0  12                	ld	(de), a
  3566  11f1  dd36f800          	ld	(ix-8),0x00
  3567  11f5  dd36f900          	ld	(ix-7),0x00
  3568  11f9  dd36fa00          	ld	(ix-6),0x00
  3569  11fd  dd36fb00          	ld	(ix-5),0x00
  3570  1201  dd36fc00          	ld	(ix-4),0x00
  3571  1205  dd36fd00          	ld	(ix-3),0x00
  3572  1209  dd36fe00          	ld	(ix-2),0x00
  3573  120d  dd36ff00          	ld	(ix-1),0x00
  3574  1211  4b                	ld	c, e
  3575  1212  42                	ld	b, d
  3576  1213  dd6e04            	ld	l,(ix+4)
  3577  1216  2600              	ld	h,0x00
  3578  1218  d5                	push	de
  3579  1219  e5                	push	hl
  3580  121a  c5                	push	bc
  3581  121b  210a00            	ld	hl,0x000a
  3582  121e  e5                	push	hl
  3583  121f  cd0000            	call	_utoa_callee
  3584  1222  cd3d0d            	call	_vdp_print
  3585  1225  ddf9              	ld	sp,ix
  3586  1227  dde1              	pop	ix
  3587  1229  c9                	ret
  3588                          	SECTION code_compiler
  3589                          ;	---------------------------------
  3590                          ; Function vdp_writeInt8
  3591                          ; ---------------------------------
  3592                          _vdp_writeInt8:
  3593  122a  dde5              	push	ix
  3594  122c  dd210000          	ld	ix,0
  3595  1230  dd39              	add	ix,sp
  3596  1232  21f7ff            	ld	hl, -9
  3597  1235  39                	add	hl, sp
  3598  1236  f9                	ld	sp, hl
  3599  1237  dd7e04            	ld	a,(ix+4)
  3600  123a  4f                	ld	c, a
  3601  123b  07                	rlca
  3602  123c  9f                	sbc	a, a
  3603  123d  47                	ld	b, a
  3604  123e  c5                	push	bc
  3605  123f  210200            	ld	hl,2
  3606  1242  39                	add	hl, sp
  3607  1243  e5                	push	hl
  3608  1244  210a00            	ld	hl,0x000a
  3609  1247  e5                	push	hl
  3610  1248  cd0000            	call	_itoa_callee
  3611  124b  dd36fb00          	ld	(ix-5),0x00
  3612  124f  210000            	ld	hl,0
  3613  1252  39                	add	hl, sp
  3614  1253  e5                	push	hl
  3615  1254  cd3d0d            	call	_vdp_print
  3616  1257  ddf9              	ld	sp,ix
  3617  1259  dde1              	pop	ix
  3618  125b  c9                	ret
  3619                          	SECTION code_compiler
  3620                          ;	---------------------------------
  3621                          ; Function vdp_writeUInt8ToBinary
  3622                          ; ---------------------------------
  3623                          _vdp_writeUInt8ToBinary:
  3624  125c  dde5              	push	ix
  3625  125e  dd210000          	ld	ix,0
  3626  1262  dd39              	add	ix,sp
  3627  1264  21f7ff            	ld	hl, -9
  3628  1267  39                	add	hl, sp
  3629  1268  f9                	ld	sp, hl
  3630  1269  0e00              	ld	c,0x00
  3631                          l_vdp_writeUInt8ToBinary_00106:
  3632  126b  79                	ld	a, c
  3633  126c  d608              	sub	a,0x08
  3634  126e  302a              	jr	NC,l_vdp_writeUInt8ToBinary_00104
  3635  1270  41                	ld	b, c
  3636  1271  dd6e04            	ld	l,(ix+4)
  3637  1274  04                	inc	b
  3638  1275  1802              	jr	l_vdp_writeUInt8ToBinary_00127
  3639                          l_vdp_writeUInt8ToBinary_00126:
  3640  1277  cb3d              	srl	l
  3641                          l_vdp_writeUInt8ToBinary_00127:
  3642  1279  10fc              	djnz	l_vdp_writeUInt8ToBinary_00126
  3643  127b  59                	ld	e, c
  3644  127c  3e07              	ld	a,0x07
  3645  127e  93                	sub	a, e
  3646  127f  5f                	ld	e, a
  3647  1280  07                	rlca
  3648  1281  9f                	sbc	a, a
  3649  1282  57                	ld	d, a
  3650  1283  cb45              	bit	0, l
  3651  1285  2809              	jr	Z,l_vdp_writeUInt8ToBinary_00102
  3652  1287  210000            	ld	hl,0
  3653  128a  39                	add	hl, sp
  3654  128b  19                	add	hl, de
  3655  128c  3631              	ld	(hl),0x31
  3656  128e  1807              	jr	l_vdp_writeUInt8ToBinary_00107
  3657                          l_vdp_writeUInt8ToBinary_00102:
  3658  1290  210000            	ld	hl,0
  3659  1293  39                	add	hl, sp
  3660  1294  19                	add	hl, de
  3661  1295  3630              	ld	(hl),0x30
  3662                          l_vdp_writeUInt8ToBinary_00107:
  3663  1297  0c                	inc	c
  3664  1298  18d1              	jr	l_vdp_writeUInt8ToBinary_00106
  3665                          l_vdp_writeUInt8ToBinary_00104:
  3666  129a  dd36ff00          	ld	(ix-1),0x00
  3667  129e  210000            	ld	hl,0
  3668  12a1  39                	add	hl, sp
  3669  12a2  e5                	push	hl
  3670  12a3  cd3d0d            	call	_vdp_print
  3671  12a6  ddf9              	ld	sp,ix
  3672  12a8  dde1              	pop	ix
  3673  12aa  c9                	ret
  3674                          	SECTION code_compiler
  3675                          ;	---------------------------------
  3676                          ; Function vdp_writeUInt16ToBinary
  3677                          ; ---------------------------------
  3678                          _vdp_writeUInt16ToBinary:
  3679  12ab  dde5              	push	ix
  3680  12ad  dd210000          	ld	ix,0
  3681  12b1  dd39              	add	ix,sp
  3682  12b3  21edff            	ld	hl, -19
  3683  12b6  39                	add	hl, sp
  3684  12b7  f9                	ld	sp, hl
  3685  12b8  0e00              	ld	c,0x00
  3686                          l_vdp_writeUInt16ToBinary_00106:
  3687  12ba  79                	ld	a, c
  3688  12bb  d610              	sub	a,0x10
  3689  12bd  303f              	jr	NC,l_vdp_writeUInt16ToBinary_00104
  3690  12bf  41                	ld	b, c
  3691  12c0  dd5e04            	ld	e,(ix+4)
  3692  12c3  dd5605            	ld	d,(ix+5)
  3693  12c6  04                	inc	b
  3694  12c7  1804              	jr	l_vdp_writeUInt16ToBinary_00127
  3695                          l_vdp_writeUInt16ToBinary_00126:
  3696  12c9  cb3a              	srl	d
  3697  12cb  cb1b              	rr	e
  3698                          l_vdp_writeUInt16ToBinary_00127:
  3699  12cd  10fa              	djnz	l_vdp_writeUInt16ToBinary_00126
  3700  12cf  41                	ld	b, c
  3701  12d0  3e0f              	ld	a,0x0f
  3702  12d2  90                	sub	a, b
  3703  12d3  dd77fe            	ld	(ix-2),a
  3704  12d6  07                	rlca
  3705  12d7  9f                	sbc	a, a
  3706  12d8  dd77ff            	ld	(ix-1),a
  3707  12db  cb43              	bit	0, e
  3708  12dd  280f              	jr	Z,l_vdp_writeUInt16ToBinary_00102
  3709  12df  dd5efe            	ld	e,(ix-2)
  3710  12e2  dd56ff            	ld	d,(ix-1)
  3711  12e5  210000            	ld	hl,0
  3712  12e8  39                	add	hl, sp
  3713  12e9  19                	add	hl, de
  3714  12ea  3631              	ld	(hl),0x31
  3715  12ec  180d              	jr	l_vdp_writeUInt16ToBinary_00107
  3716                          l_vdp_writeUInt16ToBinary_00102:
  3717  12ee  dd5efe            	ld	e,(ix-2)
  3718  12f1  dd56ff            	ld	d,(ix-1)
  3719  12f4  210000            	ld	hl,0
  3720  12f7  39                	add	hl, sp
  3721  12f8  19                	add	hl, de
  3722  12f9  3630              	ld	(hl),0x30
  3723                          l_vdp_writeUInt16ToBinary_00107:
  3724  12fb  0c                	inc	c
  3725  12fc  18bc              	jr	l_vdp_writeUInt16ToBinary_00106
  3726                          l_vdp_writeUInt16ToBinary_00104:
  3727  12fe  dd36fd00          	ld	(ix-3),0x00
  3728  1302  210000            	ld	hl,0
  3729  1305  39                	add	hl, sp
  3730  1306  e5                	push	hl
  3731  1307  cd3d0d            	call	_vdp_print
  3732  130a  ddf9              	ld	sp,ix
  3733  130c  dde1              	pop	ix
  3734  130e  c9                	ret
  3735                          	SECTION code_compiler
  3736                          ;	---------------------------------
  3737                          ; Function main
  3738                          ; ---------------------------------
  3739                          _main:
  3740  130f  cd0000            	call	_initNABULib
  3741  1312  af                	xor	a, a
  3742  1313  f5                	push	af
  3743  1314  33                	inc	sp
  3744  1315  af                	xor	a, a
  3745  1316  57                	ld	d,a
  3746  1317  1e0f              	ld	e,0x0f
  3747  1319  d5                	push	de
  3748  131a  cd0606            	call	_vdp_initTextMode
  3749  131d  33                	inc	sp
  3750  131e  219100            	ld	hl,_ASCII
  3751  1321  e3                	ex	(sp),hl
  3752  1322  cd4807            	call	_vdp_loadASCIIFont
  3753  1325  f1                	pop	af
  3754                          l_main_00106:
  3755  1326  3e41              	ld	a,0x41
  3756  1328  f5                	push	af
  3757  1329  33                	inc	sp
  3758  132a  cdad06            	call	_vdp_fillScreen
  3759  132d  33                	inc	sp
  3760  132e  cd7106            	call	_vdp_clearScreen
  3761  1331  3e42              	ld	a,0x42
  3762  1333  f5                	push	af
  3763  1334  33                	inc	sp
  3764  1335  cdad06            	call	_vdp_fillScreen
  3765  1338  33                	inc	sp
  3766  1339  110a0f            	ld	de,0x0f0a
  3767  133c  d5                	push	de
  3768  133d  cde806            	call	_vdp_clearRows
  3769  1340  f1                	pop	af
  3770  1341  af                	xor	a, a
  3771  1342  f5                	push	af
  3772  1343  33                	inc	sp
  3773  1344  af                	xor	a, a
  3774  1345  f5                	push	af
  3775  1346  33                	inc	sp
  3776  1347  cdfa0d            	call	_vdp_setCursor2
  3777  134a  f1                	pop	af
  3778  134b  010000            	ld	bc,0x0000
  3779                          l_main_00109:
  3780  134e  79                	ld	a, c
  3781  134f  d6c0              	sub	a,0xc0
  3782  1351  78                	ld	a, b
  3783  1352  de03              	sbc	a,0x03
  3784  1354  3018              	jr	NC,l_main_00101
  3785  1356  c5                	push	bc
  3786  1357  211e00            	ld	hl,0x001e
  3787  135a  e5                	push	hl
  3788  135b  c5                	push	bc
  3789  135c  cd0000            	call	__moduint_callee
  3790  135f  c1                	pop	bc
  3791  1360  7d                	ld	a, l
  3792  1361  c641              	add	a,0x41
  3793  1363  c5                	push	bc
  3794  1364  f5                	push	af
  3795  1365  33                	inc	sp
  3796  1366  cdaf0e            	call	_vdp_write
  3797  1369  33                	inc	sp
  3798  136a  c1                	pop	bc
  3799  136b  03                	inc	bc
  3800  136c  18e0              	jr	l_main_00109
  3801                          l_main_00101:
  3802  136e  216400            	ld	hl,0x0064
  3803  1371  e5                	push	hl
  3804  1372  3e0a              	ld	a,0x0a
  3805  1374  f5                	push	af
  3806  1375  33                	inc	sp
  3807  1376  af                	xor	a, a
  3808  1377  f5                	push	af
  3809  1378  33                	inc	sp
  3810  1379  cd8d01            	call	_playNoteDelay
  3811  137c  f1                	pop	af
  3812  137d  f1                	pop	af
  3813  137e  010000            	ld	bc,0x0000
  3814                          l_main_00112:
  3815  1381  79                	ld	a, c
  3816  1382  d618              	sub	a,0x18
  3817  1384  78                	ld	a, b
  3818  1385  17                	rla
  3819  1386  3f                	ccf
  3820  1387  1f                	rra
  3821  1388  de80              	sbc	a,0x80
  3822  138a  3010              	jr	NC,l_main_00102
  3823  138c  c5                	push	bc
  3824  138d  3e17              	ld	a,0x17
  3825  138f  f5                	push	af
  3826  1390  33                	inc	sp
  3827  1391  af                	xor	a, a
  3828  1392  f5                	push	af
  3829  1393  33                	inc	sp
  3830  1394  cde90f            	call	_vdp_scrollTextUp
  3831  1397  f1                	pop	af
  3832  1398  c1                	pop	bc
  3833  1399  03                	inc	bc
  3834  139a  18e5              	jr	l_main_00112
  3835                          l_main_00102:
  3836  139c  010000            	ld	bc,0x0000
  3837                          l_main_00115:
  3838  139f  79                	ld	a, c
  3839  13a0  d6c0              	sub	a,0xc0
  3840  13a2  78                	ld	a, b
  3841  13a3  de03              	sbc	a,0x03
  3842  13a5  3018              	jr	NC,l_main_00103
  3843  13a7  c5                	push	bc
  3844  13a8  211e00            	ld	hl,0x001e
  3845  13ab  e5                	push	hl
  3846  13ac  c5                	push	bc
  3847  13ad  cd0000            	call	__moduint_callee
  3848  13b0  c1                	pop	bc
  3849  13b1  7d                	ld	a, l
  3850  13b2  c641              	add	a,0x41
  3851  13b4  c5                	push	bc
  3852  13b5  f5                	push	af
  3853  13b6  33                	inc	sp
  3854  13b7  cdaf0e            	call	_vdp_write
  3855  13ba  33                	inc	sp
  3856  13bb  c1                	pop	bc
  3857  13bc  03                	inc	bc
  3858  13bd  18e0              	jr	l_main_00115
  3859                          l_main_00103:
  3860  13bf  216400            	ld	hl,0x0064
  3861  13c2  e5                	push	hl
  3862  13c3  3e0a              	ld	a,0x0a
  3863  13c5  f5                	push	af
  3864  13c6  33                	inc	sp
  3865  13c7  af                	xor	a, a
  3866  13c8  f5                	push	af
  3867  13c9  33                	inc	sp
  3868  13ca  cd8d01            	call	_playNoteDelay
  3869  13cd  f1                	pop	af
  3870  13ce  f1                	pop	af
  3871  13cf  010000            	ld	bc,0x0000
  3872                          l_main_00118:
  3873  13d2  79                	ld	a, c
  3874  13d3  d618              	sub	a,0x18
  3875  13d5  78                	ld	a, b
  3876  13d6  17                	rla
  3877  13d7  3f                	ccf
  3878  13d8  1f                	rra
  3879  13d9  de80              	sbc	a,0x80
  3880  13db  d22613            	jp	NC, l_main_00106
  3881  13de  c5                	push	bc
  3882  13df  3e17              	ld	a,0x17
  3883  13e1  f5                	push	af
  3884  13e2  33                	inc	sp
  3885  13e3  af                	xor	a, a
  3886  13e4  f5                	push	af
  3887  13e5  33                	inc	sp
  3888  13e6  cd6710            	call	_vdp_scrollTextDown
  3889  13e9  f1                	pop	af
  3890  13ea  c1                	pop	bc
  3891  13eb  03                	inc	bc
  3892  13ec  18e4              	jr	l_main_00118
  3893                          	SECTION rodata_compiler
  3894                          _ASCII:
  3895  0091  00                	DEFB +0x00
  3896  0092  00                	DEFB +0x00
  3897  0093  00                	DEFB +0x00
  3898  0094  00                	DEFB +0x00
  3899  0095  00                	DEFB +0x00
  3900  0096  00                	DEFB +0x00
  3901  0097  00                	DEFB +0x00
  3902  0098  00                	DEFB +0x00
  3903  0099  20                	DEFB +0x20
  3904  009a  20                	DEFB +0x20
  3905  009b  20                	DEFB +0x20
  3906  009c  20                	DEFB +0x20
  3907  009d  20                	DEFB +0x20
  3908  009e  00                	DEFB +0x00
  3909  009f  20                	DEFB +0x20
  3910  00a0  00                	DEFB +0x00
  3911  00a1  50                	DEFB +0x50
  3912  00a2  50                	DEFB +0x50
  3913  00a3  50                	DEFB +0x50
  3914  00a4  00                	DEFB +0x00
  3915  00a5  00                	DEFB +0x00
  3916  00a6  00                	DEFB +0x00
  3917  00a7  00                	DEFB +0x00
  3918  00a8  00                	DEFB +0x00
  3919  00a9  50                	DEFB +0x50
  3920  00aa  50                	DEFB +0x50
  3921  00ab  f8                	DEFB +0xf8
  3922  00ac  50                	DEFB +0x50
  3923  00ad  f8                	DEFB +0xf8
  3924  00ae  50                	DEFB +0x50
  3925  00af  50                	DEFB +0x50
  3926  00b0  00                	DEFB +0x00
  3927  00b1  20                	DEFB +0x20
  3928  00b2  78                	DEFB +0x78
  3929  00b3  a0                	DEFB +0xa0
  3930  00b4  70                	DEFB +0x70
  3931  00b5  28                	DEFB +0x28
  3932  00b6  f0                	DEFB +0xf0
  3933  00b7  20                	DEFB +0x20
  3934  00b8  00                	DEFB +0x00
  3935  00b9  c0                	DEFB +0xc0
  3936  00ba  c8                	DEFB +0xc8
  3937  00bb  10                	DEFB +0x10
  3938  00bc  20                	DEFB +0x20
  3939  00bd  40                	DEFB +0x40
  3940  00be  98                	DEFB +0x98
  3941  00bf  18                	DEFB +0x18
  3942  00c0  00                	DEFB +0x00
  3943  00c1  40                	DEFB +0x40
  3944  00c2  a0                	DEFB +0xa0
  3945  00c3  a0                	DEFB +0xa0
  3946  00c4  40                	DEFB +0x40
  3947  00c5  a8                	DEFB +0xa8
  3948  00c6  90                	DEFB +0x90
  3949  00c7  68                	DEFB +0x68
  3950  00c8  00                	DEFB +0x00
  3951  00c9  20                	DEFB +0x20
  3952  00ca  20                	DEFB +0x20
  3953  00cb  20                	DEFB +0x20
  3954  00cc  00                	DEFB +0x00
  3955  00cd  00                	DEFB +0x00
  3956  00ce  00                	DEFB +0x00
  3957  00cf  00                	DEFB +0x00
  3958  00d0  00                	DEFB +0x00
  3959  00d1  20                	DEFB +0x20
  3960  00d2  40                	DEFB +0x40
  3961  00d3  80                	DEFB +0x80
  3962  00d4  80                	DEFB +0x80
  3963  00d5  80                	DEFB +0x80
  3964  00d6  40                	DEFB +0x40
  3965  00d7  20                	DEFB +0x20
  3966  00d8  00                	DEFB +0x00
  3967  00d9  20                	DEFB +0x20
  3968  00da  10                	DEFB +0x10
  3969  00db  08                	DEFB +0x08
  3970  00dc  08                	DEFB +0x08
  3971  00dd  08                	DEFB +0x08
  3972  00de  10                	DEFB +0x10
  3973  00df  20                	DEFB +0x20
  3974  00e0  00                	DEFB +0x00
  3975  00e1  20                	DEFB +0x20
  3976  00e2  a8                	DEFB +0xa8
  3977  00e3  70                	DEFB +0x70
  3978  00e4  20                	DEFB +0x20
  3979  00e5  70                	DEFB +0x70
  3980  00e6  a8                	DEFB +0xa8
  3981  00e7  20                	DEFB +0x20
  3982  00e8  00                	DEFB +0x00
  3983  00e9  00                	DEFB +0x00
  3984  00ea  20                	DEFB +0x20
  3985  00eb  20                	DEFB +0x20
  3986  00ec  f8                	DEFB +0xf8
  3987  00ed  20                	DEFB +0x20
  3988  00ee  20                	DEFB +0x20
  3989  00ef  00                	DEFB +0x00
  3990  00f0  00                	DEFB +0x00
  3991  00f1  00                	DEFB +0x00
  3992  00f2  00                	DEFB +0x00
  3993  00f3  00                	DEFB +0x00
  3994  00f4  00                	DEFB +0x00
  3995  00f5  20                	DEFB +0x20
  3996  00f6  20                	DEFB +0x20
  3997  00f7  40                	DEFB +0x40
  3998  00f8  00                	DEFB +0x00
  3999  00f9  00                	DEFB +0x00
  4000  00fa  00                	DEFB +0x00
  4001  00fb  00                	DEFB +0x00
  4002  00fc  f8                	DEFB +0xf8
  4003  00fd  00                	DEFB +0x00
  4004  00fe  00                	DEFB +0x00
  4005  00ff  00                	DEFB +0x00
  4006  0100  00                	DEFB +0x00
  4007  0101  00                	DEFB +0x00
  4008  0102  00                	DEFB +0x00
  4009  0103  00                	DEFB +0x00
  4010  0104  00                	DEFB +0x00
  4011  0105  00                	DEFB +0x00
  4012  0106  00                	DEFB +0x00
  4013  0107  20                	DEFB +0x20
  4014  0108  00                	DEFB +0x00
  4015  0109  00                	DEFB +0x00
  4016  010a  08                	DEFB +0x08
  4017  010b  10                	DEFB +0x10
  4018  010c  20                	DEFB +0x20
  4019  010d  40                	DEFB +0x40
  4020  010e  80                	DEFB +0x80
  4021  010f  00                	DEFB +0x00
  4022  0110  00                	DEFB +0x00
  4023  0111  70                	DEFB +0x70
  4024  0112  88                	DEFB +0x88
  4025  0113  98                	DEFB +0x98
  4026  0114  a8                	DEFB +0xa8
  4027  0115  c8                	DEFB +0xc8
  4028  0116  88                	DEFB +0x88
  4029  0117  70                	DEFB +0x70
  4030  0118  00                	DEFB +0x00
  4031  0119  20                	DEFB +0x20
  4032  011a  60                	DEFB +0x60
  4033  011b  20                	DEFB +0x20
  4034  011c  20                	DEFB +0x20
  4035  011d  20                	DEFB +0x20
  4036  011e  20                	DEFB +0x20
  4037  011f  70                	DEFB +0x70
  4038  0120  00                	DEFB +0x00
  4039  0121  70                	DEFB +0x70
  4040  0122  88                	DEFB +0x88
  4041  0123  08                	DEFB +0x08
  4042  0124  30                	DEFB +0x30
  4043  0125  40                	DEFB +0x40
  4044  0126  80                	DEFB +0x80
  4045  0127  f8                	DEFB +0xf8
  4046  0128  00                	DEFB +0x00
  4047  0129  f8                	DEFB +0xf8
  4048  012a  08                	DEFB +0x08
  4049  012b  10                	DEFB +0x10
  4050  012c  30                	DEFB +0x30
  4051  012d  08                	DEFB +0x08
  4052  012e  88                	DEFB +0x88
  4053  012f  70                	DEFB +0x70
  4054  0130  00                	DEFB +0x00
  4055  0131  10                	DEFB +0x10
  4056  0132  30                	DEFB +0x30
  4057  0133  50                	DEFB +0x50
  4058  0134  90                	DEFB +0x90
  4059  0135  f8                	DEFB +0xf8
  4060  0136  10                	DEFB +0x10
  4061  0137  10                	DEFB +0x10
  4062  0138  00                	DEFB +0x00
  4063  0139  f8                	DEFB +0xf8
  4064  013a  80                	DEFB +0x80
  4065  013b  f0                	DEFB +0xf0
  4066  013c  08                	DEFB +0x08
  4067  013d  08                	DEFB +0x08
  4068  013e  88                	DEFB +0x88
  4069  013f  70                	DEFB +0x70
  4070  0140  00                	DEFB +0x00
  4071  0141  38                	DEFB +0x38
  4072  0142  40                	DEFB +0x40
  4073  0143  80                	DEFB +0x80
  4074  0144  f0                	DEFB +0xf0
  4075  0145  88                	DEFB +0x88
  4076  0146  88                	DEFB +0x88
  4077  0147  70                	DEFB +0x70
  4078  0148  00                	DEFB +0x00
  4079  0149  f8                	DEFB +0xf8
  4080  014a  08                	DEFB +0x08
  4081  014b  10                	DEFB +0x10
  4082  014c  20                	DEFB +0x20
  4083  014d  40                	DEFB +0x40
  4084  014e  40                	DEFB +0x40
  4085  014f  40                	DEFB +0x40
  4086  0150  00                	DEFB +0x00
  4087  0151  70                	DEFB +0x70
  4088  0152  88                	DEFB +0x88
  4089  0153  88                	DEFB +0x88
  4090  0154  70                	DEFB +0x70
  4091  0155  88                	DEFB +0x88
  4092  0156  88                	DEFB +0x88
  4093  0157  70                	DEFB +0x70
  4094  0158  00                	DEFB +0x00
  4095  0159  70                	DEFB +0x70
  4096  015a  88                	DEFB +0x88
  4097  015b  88                	DEFB +0x88
  4098  015c  78                	DEFB +0x78
  4099  015d  08                	DEFB +0x08
  4100  015e  10                	DEFB +0x10
  4101  015f  e0                	DEFB +0xe0
  4102  0160  00                	DEFB +0x00
  4103  0161  00                	DEFB +0x00
  4104  0162  00                	DEFB +0x00
  4105  0163  20                	DEFB +0x20
  4106  0164  00                	DEFB +0x00
  4107  0165  20                	DEFB +0x20
  4108  0166  00                	DEFB +0x00
  4109  0167  00                	DEFB +0x00
  4110  0168  00                	DEFB +0x00
  4111  0169  00                	DEFB +0x00
  4112  016a  00                	DEFB +0x00
  4113  016b  20                	DEFB +0x20
  4114  016c  00                	DEFB +0x00
  4115  016d  20                	DEFB +0x20
  4116  016e  20                	DEFB +0x20
  4117  016f  40                	DEFB +0x40
  4118  0170  00                	DEFB +0x00
  4119  0171  10                	DEFB +0x10
  4120  0172  20                	DEFB +0x20
  4121  0173  40                	DEFB +0x40
  4122  0174  80                	DEFB +0x80
  4123  0175  40                	DEFB +0x40
  4124  0176  20                	DEFB +0x20
  4125  0177  10                	DEFB +0x10
  4126  0178  00                	DEFB +0x00
  4127  0179  00                	DEFB +0x00
  4128  017a  00                	DEFB +0x00
  4129  017b  f8                	DEFB +0xf8
  4130  017c  00                	DEFB +0x00
  4131  017d  f8                	DEFB +0xf8
  4132  017e  00                	DEFB +0x00
  4133  017f  00                	DEFB +0x00
  4134  0180  00                	DEFB +0x00
  4135  0181  40                	DEFB +0x40
  4136  0182  20                	DEFB +0x20
  4137  0183  10                	DEFB +0x10
  4138  0184  08                	DEFB +0x08
  4139  0185  10                	DEFB +0x10
  4140  0186  20                	DEFB +0x20
  4141  0187  40                	DEFB +0x40
  4142  0188  00                	DEFB +0x00
  4143  0189  70                	DEFB +0x70
  4144  018a  88                	DEFB +0x88
  4145  018b  10                	DEFB +0x10
  4146  018c  20                	DEFB +0x20
  4147  018d  20                	DEFB +0x20
  4148  018e  00                	DEFB +0x00
  4149  018f  20                	DEFB +0x20
  4150  0190  00                	DEFB +0x00
  4151  0191  70                	DEFB +0x70
  4152  0192  88                	DEFB +0x88
  4153  0193  a8                	DEFB +0xa8
  4154  0194  b8                	DEFB +0xb8
  4155  0195  b0                	DEFB +0xb0
  4156  0196  80                	DEFB +0x80
  4157  0197  78                	DEFB +0x78
  4158  0198  00                	DEFB +0x00
  4159  0199  20                	DEFB +0x20
  4160  019a  50                	DEFB +0x50
  4161  019b  88                	DEFB +0x88
  4162  019c  88                	DEFB +0x88
  4163  019d  f8                	DEFB +0xf8
  4164  019e  88                	DEFB +0x88
  4165  019f  88                	DEFB +0x88
  4166  01a0  00                	DEFB +0x00
  4167  01a1  f0                	DEFB +0xf0
  4168  01a2  88                	DEFB +0x88
  4169  01a3  88                	DEFB +0x88
  4170  01a4  f0                	DEFB +0xf0
  4171  01a5  88                	DEFB +0x88
  4172  01a6  88                	DEFB +0x88
  4173  01a7  f0                	DEFB +0xf0
  4174  01a8  00                	DEFB +0x00
  4175  01a9  70                	DEFB +0x70
  4176  01aa  88                	DEFB +0x88
  4177  01ab  80                	DEFB +0x80
  4178  01ac  80                	DEFB +0x80
  4179  01ad  80                	DEFB +0x80
  4180  01ae  88                	DEFB +0x88
  4181  01af  70                	DEFB +0x70
  4182  01b0  00                	DEFB +0x00
  4183  01b1  f0                	DEFB +0xf0
  4184  01b2  88                	DEFB +0x88
  4185  01b3  88                	DEFB +0x88
  4186  01b4  88                	DEFB +0x88
  4187  01b5  88                	DEFB +0x88
  4188  01b6  88                	DEFB +0x88
  4189  01b7  f0                	DEFB +0xf0
  4190  01b8  00                	DEFB +0x00
  4191  01b9  f8                	DEFB +0xf8
  4192  01ba  80                	DEFB +0x80
  4193  01bb  80                	DEFB +0x80
  4194  01bc  f0                	DEFB +0xf0
  4195  01bd  80                	DEFB +0x80
  4196  01be  80                	DEFB +0x80
  4197  01bf  f8                	DEFB +0xf8
  4198  01c0  00                	DEFB +0x00
  4199  01c1  f8                	DEFB +0xf8
  4200  01c2  80                	DEFB +0x80
  4201  01c3  80                	DEFB +0x80
  4202  01c4  f0                	DEFB +0xf0
  4203  01c5  80                	DEFB +0x80
  4204  01c6  80                	DEFB +0x80
  4205  01c7  80                	DEFB +0x80
  4206  01c8  00                	DEFB +0x00
  4207  01c9  78                	DEFB +0x78
  4208  01ca  80                	DEFB +0x80
  4209  01cb  80                	DEFB +0x80
  4210  01cc  80                	DEFB +0x80
  4211  01cd  98                	DEFB +0x98
  4212  01ce  88                	DEFB +0x88
  4213  01cf  78                	DEFB +0x78
  4214  01d0  00                	DEFB +0x00
  4215  01d1  88                	DEFB +0x88
  4216  01d2  88                	DEFB +0x88
  4217  01d3  88                	DEFB +0x88
  4218  01d4  f8                	DEFB +0xf8
  4219  01d5  88                	DEFB +0x88
  4220  01d6  88                	DEFB +0x88
  4221  01d7  88                	DEFB +0x88
  4222  01d8  00                	DEFB +0x00
  4223  01d9  70                	DEFB +0x70
  4224  01da  20                	DEFB +0x20
  4225  01db  20                	DEFB +0x20
  4226  01dc  20                	DEFB +0x20
  4227  01dd  20                	DEFB +0x20
  4228  01de  20                	DEFB +0x20
  4229  01df  70                	DEFB +0x70
  4230  01e0  00                	DEFB +0x00
  4231  01e1  08                	DEFB +0x08
  4232  01e2  08                	DEFB +0x08
  4233  01e3  08                	DEFB +0x08
  4234  01e4  08                	DEFB +0x08
  4235  01e5  08                	DEFB +0x08
  4236  01e6  88                	DEFB +0x88
  4237  01e7  70                	DEFB +0x70
  4238  01e8  00                	DEFB +0x00
  4239  01e9  88                	DEFB +0x88
  4240  01ea  90                	DEFB +0x90
  4241  01eb  a0                	DEFB +0xa0
  4242  01ec  c0                	DEFB +0xc0
  4243  01ed  a0                	DEFB +0xa0
  4244  01ee  90                	DEFB +0x90
  4245  01ef  88                	DEFB +0x88
  4246  01f0  00                	DEFB +0x00
  4247  01f1  80                	DEFB +0x80
  4248  01f2  80                	DEFB +0x80
  4249  01f3  80                	DEFB +0x80
  4250  01f4  80                	DEFB +0x80
  4251  01f5  80                	DEFB +0x80
  4252  01f6  80                	DEFB +0x80
  4253  01f7  f8                	DEFB +0xf8
  4254  01f8  00                	DEFB +0x00
  4255  01f9  88                	DEFB +0x88
  4256  01fa  d8                	DEFB +0xd8
  4257  01fb  a8                	DEFB +0xa8
  4258  01fc  a8                	DEFB +0xa8
  4259  01fd  88                	DEFB +0x88
  4260  01fe  88                	DEFB +0x88
  4261  01ff  88                	DEFB +0x88
  4262  0200  00                	DEFB +0x00
  4263  0201  88                	DEFB +0x88
  4264  0202  88                	DEFB +0x88
  4265  0203  c8                	DEFB +0xc8
  4266  0204  a8                	DEFB +0xa8
  4267  0205  98                	DEFB +0x98
  4268  0206  88                	DEFB +0x88
  4269  0207  88                	DEFB +0x88
  4270  0208  00                	DEFB +0x00
  4271  0209  70                	DEFB +0x70
  4272  020a  88                	DEFB +0x88
  4273  020b  88                	DEFB +0x88
  4274  020c  88                	DEFB +0x88
  4275  020d  88                	DEFB +0x88
  4276  020e  88                	DEFB +0x88
  4277  020f  70                	DEFB +0x70
  4278  0210  00                	DEFB +0x00
  4279  0211  f0                	DEFB +0xf0
  4280  0212  88                	DEFB +0x88
  4281  0213  88                	DEFB +0x88
  4282  0214  f0                	DEFB +0xf0
  4283  0215  80                	DEFB +0x80
  4284  0216  80                	DEFB +0x80
  4285  0217  80                	DEFB +0x80
  4286  0218  00                	DEFB +0x00
  4287  0219  70                	DEFB +0x70
  4288  021a  88                	DEFB +0x88
  4289  021b  88                	DEFB +0x88
  4290  021c  88                	DEFB +0x88
  4291  021d  a8                	DEFB +0xa8
  4292  021e  90                	DEFB +0x90
  4293  021f  68                	DEFB +0x68
  4294  0220  00                	DEFB +0x00
  4295  0221  f0                	DEFB +0xf0
  4296  0222  88                	DEFB +0x88
  4297  0223  88                	DEFB +0x88
  4298  0224  f0                	DEFB +0xf0
  4299  0225  a0                	DEFB +0xa0
  4300  0226  90                	DEFB +0x90
  4301  0227  88                	DEFB +0x88
  4302  0228  00                	DEFB +0x00
  4303  0229  70                	DEFB +0x70
  4304  022a  88                	DEFB +0x88
  4305  022b  80                	DEFB +0x80
  4306  022c  70                	DEFB +0x70
  4307  022d  08                	DEFB +0x08
  4308  022e  88                	DEFB +0x88
  4309  022f  70                	DEFB +0x70
  4310  0230  00                	DEFB +0x00
  4311  0231  f8                	DEFB +0xf8
  4312  0232  20                	DEFB +0x20
  4313  0233  20                	DEFB +0x20
  4314  0234  20                	DEFB +0x20
  4315  0235  20                	DEFB +0x20
  4316  0236  20                	DEFB +0x20
  4317  0237  20                	DEFB +0x20
  4318  0238  00                	DEFB +0x00
  4319  0239  88                	DEFB +0x88
  4320  023a  88                	DEFB +0x88
  4321  023b  88                	DEFB +0x88
  4322  023c  88                	DEFB +0x88
  4323  023d  88                	DEFB +0x88
  4324  023e  88                	DEFB +0x88
  4325  023f  70                	DEFB +0x70
  4326  0240  00                	DEFB +0x00
  4327  0241  88                	DEFB +0x88
  4328  0242  88                	DEFB +0x88
  4329  0243  88                	DEFB +0x88
  4330  0244  88                	DEFB +0x88
  4331  0245  88                	DEFB +0x88
  4332  0246  50                	DEFB +0x50
  4333  0247  20                	DEFB +0x20
  4334  0248  00                	DEFB +0x00
  4335  0249  88                	DEFB +0x88
  4336  024a  88                	DEFB +0x88
  4337  024b  88                	DEFB +0x88
  4338  024c  a8                	DEFB +0xa8
  4339  024d  a8                	DEFB +0xa8
  4340  024e  d8                	DEFB +0xd8
  4341  024f  88                	DEFB +0x88
  4342  0250  00                	DEFB +0x00
  4343  0251  88                	DEFB +0x88
  4344  0252  88                	DEFB +0x88
  4345  0253  50                	DEFB +0x50
  4346  0254  20                	DEFB +0x20
  4347  0255  50                	DEFB +0x50
  4348  0256  88                	DEFB +0x88
  4349  0257  88                	DEFB +0x88
  4350  0258  00                	DEFB +0x00
  4351  0259  88                	DEFB +0x88
  4352  025a  88                	DEFB +0x88
  4353  025b  50                	DEFB +0x50
  4354  025c  20                	DEFB +0x20
  4355  025d  20                	DEFB +0x20
  4356  025e  20                	DEFB +0x20
  4357  025f  20                	DEFB +0x20
  4358  0260  00                	DEFB +0x00
  4359  0261  f8                	DEFB +0xf8
  4360  0262  08                	DEFB +0x08
  4361  0263  10                	DEFB +0x10
  4362  0264  20                	DEFB +0x20
  4363  0265  40                	DEFB +0x40
  4364  0266  80                	DEFB +0x80
  4365  0267  f8                	DEFB +0xf8
  4366  0268  00                	DEFB +0x00
  4367  0269  78                	DEFB +0x78
  4368  026a  40                	DEFB +0x40
  4369  026b  40                	DEFB +0x40
  4370  026c  40                	DEFB +0x40
  4371  026d  40                	DEFB +0x40
  4372  026e  40                	DEFB +0x40
  4373  026f  78                	DEFB +0x78
  4374  0270  00                	DEFB +0x00
  4375  0271  00                	DEFB +0x00
  4376  0272  80                	DEFB +0x80
  4377  0273  40                	DEFB +0x40
  4378  0274  20                	DEFB +0x20
  4379  0275  10                	DEFB +0x10
  4380  0276  08                	DEFB +0x08
  4381  0277  00                	DEFB +0x00
  4382  0278  00                	DEFB +0x00
  4383  0279  f0                	DEFB +0xf0
  4384  027a  10                	DEFB +0x10
  4385  027b  10                	DEFB +0x10
  4386  027c  10                	DEFB +0x10
  4387  027d  10                	DEFB +0x10
  4388  027e  10                	DEFB +0x10
  4389  027f  f0                	DEFB +0xf0
  4390  0280  00                	DEFB +0x00
  4391  0281  00                	DEFB +0x00
  4392  0282  00                	DEFB +0x00
  4393  0283  20                	DEFB +0x20
  4394  0284  50                	DEFB +0x50
  4395  0285  88                	DEFB +0x88
  4396  0286  00                	DEFB +0x00
  4397  0287  00                	DEFB +0x00
  4398  0288  00                	DEFB +0x00
  4399  0289  00                	DEFB +0x00
  4400  028a  00                	DEFB +0x00
  4401  028b  00                	DEFB +0x00
  4402  028c  00                	DEFB +0x00
  4403  028d  00                	DEFB +0x00
  4404  028e  00                	DEFB +0x00
  4405  028f  00                	DEFB +0x00
  4406  0290  f8                	DEFB +0xf8
  4407  0291  40                	DEFB +0x40
  4408  0292  20                	DEFB +0x20
  4409  0293  10                	DEFB +0x10
  4410  0294  00                	DEFB +0x00
  4411  0295  00                	DEFB +0x00
  4412  0296  00                	DEFB +0x00
  4413  0297  00                	DEFB +0x00
  4414  0298  00                	DEFB +0x00
  4415  0299  00                	DEFB +0x00
  4416  029a  00                	DEFB +0x00
  4417  029b  70                	DEFB +0x70
  4418  029c  88                	DEFB +0x88
  4419  029d  f8                	DEFB +0xf8
  4420  029e  88                	DEFB +0x88
  4421  029f  88                	DEFB +0x88
  4422  02a0  00                	DEFB +0x00
  4423  02a1  00                	DEFB +0x00
  4424  02a2  00                	DEFB +0x00
  4425  02a3  f0                	DEFB +0xf0
  4426  02a4  48                	DEFB +0x48
  4427  02a5  70                	DEFB +0x70
  4428  02a6  48                	DEFB +0x48
  4429  02a7  f0                	DEFB +0xf0
  4430  02a8  00                	DEFB +0x00
  4431  02a9  00                	DEFB +0x00
  4432  02aa  00                	DEFB +0x00
  4433  02ab  78                	DEFB +0x78
  4434  02ac  80                	DEFB +0x80
  4435  02ad  80                	DEFB +0x80
  4436  02ae  80                	DEFB +0x80
  4437  02af  78                	DEFB +0x78
  4438  02b0  00                	DEFB +0x00
  4439  02b1  00                	DEFB +0x00
  4440  02b2  00                	DEFB +0x00
  4441  02b3  f0                	DEFB +0xf0
  4442  02b4  48                	DEFB +0x48
  4443  02b5  48                	DEFB +0x48
  4444  02b6  48                	DEFB +0x48
  4445  02b7  f0                	DEFB +0xf0
  4446  02b8  00                	DEFB +0x00
  4447  02b9  00                	DEFB +0x00
  4448  02ba  00                	DEFB +0x00
  4449  02bb  f0                	DEFB +0xf0
  4450  02bc  80                	DEFB +0x80
  4451  02bd  e0                	DEFB +0xe0
  4452  02be  80                	DEFB +0x80
  4453  02bf  f0                	DEFB +0xf0
  4454  02c0  00                	DEFB +0x00
  4455  02c1  00                	DEFB +0x00
  4456  02c2  00                	DEFB +0x00
  4457  02c3  f0                	DEFB +0xf0
  4458  02c4  80                	DEFB +0x80
  4459  02c5  e0                	DEFB +0xe0
  4460  02c6  80                	DEFB +0x80
  4461  02c7  80                	DEFB +0x80
  4462  02c8  00                	DEFB +0x00
  4463  02c9  00                	DEFB +0x00
  4464  02ca  00                	DEFB +0x00
  4465  02cb  78                	DEFB +0x78
  4466  02cc  80                	DEFB +0x80
  4467  02cd  b8                	DEFB +0xb8
  4468  02ce  88                	DEFB +0x88
  4469  02cf  70                	DEFB +0x70
  4470  02d0  00                	DEFB +0x00
  4471  02d1  00                	DEFB +0x00
  4472  02d2  00                	DEFB +0x00
  4473  02d3  88                	DEFB +0x88
  4474  02d4  88                	DEFB +0x88
  4475  02d5  f8                	DEFB +0xf8
  4476  02d6  88                	DEFB +0x88
  4477  02d7  88                	DEFB +0x88
  4478  02d8  00                	DEFB +0x00
  4479  02d9  00                	DEFB +0x00
  4480  02da  00                	DEFB +0x00
  4481  02db  70                	DEFB +0x70
  4482  02dc  20                	DEFB +0x20
  4483  02dd  20                	DEFB +0x20
  4484  02de  20                	DEFB +0x20
  4485  02df  f8                	DEFB +0xf8
  4486  02e0  00                	DEFB +0x00
  4487  02e1  00                	DEFB +0x00
  4488  02e2  00                	DEFB +0x00
  4489  02e3  70                	DEFB +0x70
  4490  02e4  20                	DEFB +0x20
  4491  02e5  20                	DEFB +0x20
  4492  02e6  a0                	DEFB +0xa0
  4493  02e7  e0                	DEFB +0xe0
  4494  02e8  00                	DEFB +0x00
  4495  02e9  00                	DEFB +0x00
  4496  02ea  00                	DEFB +0x00
  4497  02eb  90                	DEFB +0x90
  4498  02ec  a0                	DEFB +0xa0
  4499  02ed  c0                	DEFB +0xc0
  4500  02ee  a0                	DEFB +0xa0
  4501  02ef  90                	DEFB +0x90
  4502  02f0  00                	DEFB +0x00
  4503  02f1  00                	DEFB +0x00
  4504  02f2  00                	DEFB +0x00
  4505  02f3  80                	DEFB +0x80
  4506  02f4  80                	DEFB +0x80
  4507  02f5  80                	DEFB +0x80
  4508  02f6  80                	DEFB +0x80
  4509  02f7  f8                	DEFB +0xf8
  4510  02f8  00                	DEFB +0x00
  4511  02f9  00                	DEFB +0x00
  4512  02fa  00                	DEFB +0x00
  4513  02fb  88                	DEFB +0x88
  4514  02fc  d8                	DEFB +0xd8
  4515  02fd  a8                	DEFB +0xa8
  4516  02fe  88                	DEFB +0x88
  4517  02ff  88                	DEFB +0x88
  4518  0300  00                	DEFB +0x00
  4519  0301  00                	DEFB +0x00
  4520  0302  00                	DEFB +0x00
  4521  0303  88                	DEFB +0x88
  4522  0304  c8                	DEFB +0xc8
  4523  0305  a8                	DEFB +0xa8
  4524  0306  98                	DEFB +0x98
  4525  0307  88                	DEFB +0x88
  4526  0308  00                	DEFB +0x00
  4527  0309  00                	DEFB +0x00
  4528  030a  00                	DEFB +0x00
  4529  030b  70                	DEFB +0x70
  4530  030c  88                	DEFB +0x88
  4531  030d  88                	DEFB +0x88
  4532  030e  88                	DEFB +0x88
  4533  030f  70                	DEFB +0x70
  4534  0310  00                	DEFB +0x00
  4535  0311  00                	DEFB +0x00
  4536  0312  00                	DEFB +0x00
  4537  0313  f0                	DEFB +0xf0
  4538  0314  88                	DEFB +0x88
  4539  0315  f0                	DEFB +0xf0
  4540  0316  80                	DEFB +0x80
  4541  0317  80                	DEFB +0x80
  4542  0318  00                	DEFB +0x00
  4543  0319  00                	DEFB +0x00
  4544  031a  00                	DEFB +0x00
  4545  031b  f8                	DEFB +0xf8
  4546  031c  88                	DEFB +0x88
  4547  031d  a8                	DEFB +0xa8
  4548  031e  90                	DEFB +0x90
  4549  031f  e8                	DEFB +0xe8
  4550  0320  00                	DEFB +0x00
  4551  0321  00                	DEFB +0x00
  4552  0322  00                	DEFB +0x00
  4553  0323  f8                	DEFB +0xf8
  4554  0324  88                	DEFB +0x88
  4555  0325  f8                	DEFB +0xf8
  4556  0326  a0                	DEFB +0xa0
  4557  0327  90                	DEFB +0x90
  4558  0328  00                	DEFB +0x00
  4559  0329  00                	DEFB +0x00
  4560  032a  00                	DEFB +0x00
  4561  032b  78                	DEFB +0x78
  4562  032c  80                	DEFB +0x80
  4563  032d  70                	DEFB +0x70
  4564  032e  08                	DEFB +0x08
  4565  032f  f0                	DEFB +0xf0
  4566  0330  00                	DEFB +0x00
  4567  0331  00                	DEFB +0x00
  4568  0332  00                	DEFB +0x00
  4569  0333  f8                	DEFB +0xf8
  4570  0334  20                	DEFB +0x20
  4571  0335  20                	DEFB +0x20
  4572  0336  20                	DEFB +0x20
  4573  0337  20                	DEFB +0x20
  4574  0338  00                	DEFB +0x00
  4575  0339  00                	DEFB +0x00
  4576  033a  00                	DEFB +0x00
  4577  033b  88                	DEFB +0x88
  4578  033c  88                	DEFB +0x88
  4579  033d  88                	DEFB +0x88
  4580  033e  88                	DEFB +0x88
  4581  033f  70                	DEFB +0x70
  4582  0340  00                	DEFB +0x00
  4583  0341  00                	DEFB +0x00
  4584  0342  00                	DEFB +0x00
  4585  0343  88                	DEFB +0x88
  4586  0344  88                	DEFB +0x88
  4587  0345  90                	DEFB +0x90
  4588  0346  a0                	DEFB +0xa0
  4589  0347  40                	DEFB +0x40
  4590  0348  00                	DEFB +0x00
  4591  0349  00                	DEFB +0x00
  4592  034a  00                	DEFB +0x00
  4593  034b  88                	DEFB +0x88
  4594  034c  88                	DEFB +0x88
  4595  034d  a8                	DEFB +0xa8
  4596  034e  d8                	DEFB +0xd8
  4597  034f  88                	DEFB +0x88
  4598  0350  00                	DEFB +0x00
  4599  0351  00                	DEFB +0x00
  4600  0352  00                	DEFB +0x00
  4601  0353  88                	DEFB +0x88
  4602  0354  70                	DEFB +0x70
  4603  0355  20                	DEFB +0x20
  4604  0356  70                	DEFB +0x70
  4605  0357  88                	DEFB +0x88
  4606  0358  00                	DEFB +0x00
  4607  0359  00                	DEFB +0x00
  4608  035a  00                	DEFB +0x00
  4609  035b  88                	DEFB +0x88
  4610  035c  50                	DEFB +0x50
  4611  035d  20                	DEFB +0x20
  4612  035e  20                	DEFB +0x20
  4613  035f  20                	DEFB +0x20
  4614  0360  00                	DEFB +0x00
  4615  0361  00                	DEFB +0x00
  4616  0362  00                	DEFB +0x00
  4617  0363  f8                	DEFB +0xf8
  4618  0364  10                	DEFB +0x10
  4619  0365  20                	DEFB +0x20
  4620  0366  40                	DEFB +0x40
  4621  0367  f8                	DEFB +0xf8
  4622  0368  00                	DEFB +0x00
  4623  0369  38                	DEFB +0x38
  4624  036a  40                	DEFB +0x40
  4625  036b  20                	DEFB +0x20
  4626  036c  c0                	DEFB +0xc0
  4627  036d  20                	DEFB +0x20
  4628  036e  40                	DEFB +0x40
  4629  036f  38                	DEFB +0x38
  4630  0370  00                	DEFB +0x00
  4631  0371  40                	DEFB +0x40
  4632  0372  20                	DEFB +0x20
  4633  0373  10                	DEFB +0x10
  4634  0374  08                	DEFB +0x08
  4635  0375  10                	DEFB +0x10
  4636  0376  20                	DEFB +0x20
  4637  0377  40                	DEFB +0x40
  4638  0378  00                	DEFB +0x00
  4639  0379  e0                	DEFB +0xe0
  4640  037a  10                	DEFB +0x10
  4641  037b  20                	DEFB +0x20
  4642  037c  18                	DEFB +0x18
  4643  037d  20                	DEFB +0x20
  4644  037e  10                	DEFB +0x10
  4645  037f  e0                	DEFB +0xe0
  4646  0380  00                	DEFB +0x00
  4647  0381  40                	DEFB +0x40
  4648  0382  a8                	DEFB +0xa8
  4649  0383  10                	DEFB +0x10
  4650  0384  00                	DEFB +0x00
  4651  0385  00                	DEFB +0x00
  4652  0386  00                	DEFB +0x00
  4653  0387  00                	DEFB +0x00
  4654  0388  00                	DEFB +0x00
  4655  0389  a8                	DEFB +0xa8
  4656  038a  50                	DEFB +0x50
  4657  038b  a8                	DEFB +0xa8
  4658  038c  50                	DEFB +0x50
  4659  038d  a8                	DEFB +0xa8
  4660  038e  50                	DEFB +0x50
  4661  038f  a8                	DEFB +0xa8
  4662  0390  00                	DEFB +0x00
  4663                          	SECTION data_compiler
  4664                          __randomSeed:
  4665  0000  00                	DEFB +0x00
  4666                          __kbdBufferReadPos:
  4667  0001  00                	DEFB +0x00
  4668                          __kbdBufferWritePos:
  4669  0002  00                	DEFB +0x00
  4670                          __lastKeyboardIntVal:
  4671  0003  00                	DEFB +0x00
  4672                          __joyStatus:
  4673  0004  00                	DEFB +0x00
  4674  0005  00                	DEFB 0x00
  4675  0006  00                	DEFB 0x00
  4676  0007  00                	DEFB 0x00
  4677                          __ORIGINAL_INT_MASK:
  4678  0008  00                	DEFB +0x00
  4679                          _RETRONET_BRIDGE_EXIT_CODE:
  4680  0009  0f                	DEFB +0x0f
  4681  000a  b7                	DEFB +0xb7
  4682  000b  b8                	DEFB +0xb8
  4683  000c  b9                	DEFB +0xb9
  4684  000d  0f                	DEFB +0x0f
  4685  000e  b9                	DEFB +0xb9
  4686  000f  b8                	DEFB +0xb8
  4687  0010  b7                	DEFB +0xb7
  4688  0011  b8                	DEFB +0xb8
  4689  0012  b9                	DEFB +0xb9
  4690  0013  b7                	DEFB +0xb7
  4691  0014  b7                	DEFB +0xb7
  4692  0015  b8                	DEFB +0xb8
  4693  0016  b9                	DEFB +0xb9
  4694  0017  b9                	DEFB +0xb9
  4695  0018  b8                	DEFB +0xb8
  4696  0019  b7                	DEFB +0xb7
  4697  001a  b8                	DEFB +0xb8
  4698  001b  0f                	DEFB +0x0f
  4699  001c  b9                	DEFB +0xb9
  4700  001d  b7                	DEFB +0xb7
  4701                          _vdp_cursor:
  4702  001e  00                	DEFB +0x00
  4703  001f  00                	DEFB +0x00
  4704                          __vdpReg1Val:
  4705  0020  00                	DEFB +0x00
  4706                          __vdpColorTableSize:
  4707  0021  0000              	DEFW +0x0000
  4708                          __vdpInterruptEnabled:
  4709  0023  00                	DEFB +0x00
  4710                          _vdpStatusRegVal:
  4711  0024  00                	DEFB +0x00
  4712                          _vdpIsReady:
  4713  0025  00                	DEFB +0x00
  4714                          	SECTION IGNORE
  4715                          
